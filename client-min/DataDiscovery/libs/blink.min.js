(function(){var b;if(window){andrea=window.andrea||{}}else{andrea=andrea||{}}if(window.andrea){andrea.blink=window.andrea.blink||{}}else{andrea.blink=andrea.blink||{}}var a=andrea.blink;a.VERSION=function(){return"1.0.0"};a.BUILD=function(){return 1};a.declare=function(d){if(!d){throw new Error("name required")}if(typeof(d)!="string"){throw new Error("name has to be a string")}if(d.charAt(0)=="."||d.charAt(d.length-1)=="."||d.indexOf("..")!=-1){throw new Error("illegal name: "+d)}d=d.split(".");var e=window;for(var c=0;c<d.length;c++){e[d[c]]=e[d[c]]||{};e=e[d[c]]}return e};a.require=function(c){};a.extend=function(g,c){var d=g.prototype;if(c){g.superclass=c.prototype}else{console.log(g)}var e=function(){};e.prototype=c.prototype;g.prototype=new e();for(var f in d){if(d.hasOwnProperty(f)){g.prototype[f]=d[f]}}g.prototype.constructor=g;if(c.prototype.constructor==Object.prototype.constructor){c.prototype.constructor=c}return g}})();(function(){var b=andrea.blink;b.declare("andrea.blink.utils");var c=andrea.blink.utils;var a=0;c.genUID=function(){if(!a){a=0}return"vcgen_"+(a++)};var d={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"};c.applyObjectProperty=function(h,g,f){try{if(c.isFunction(h[g])){h[g](f)}else{h[g]=f}}catch(i){console.log(i)}};c.applyProperties=function(h,g){if(g!=null){var e=g.length;for(var f=0;f<e;f++){var j=g[f];if(j&&j!=null){c.applyObjectProperty(h,j.name,j.value)}}}};c.getObjectProperty=function(g,f){try{if(c.isFunction(g[f])){return g[f]()}else{if(g.hasOwnProperty(f)){return g[f]}}}catch(h){console.log(h)}};c.type=function(e){return e==null?String(e):d[Object.prototype.toString.call(e)]||"object"};c.isFunction=function(e){return c.type(e)==="function"};c.isBoolean=function(e){return c.type(e)==="boolean"};c.isString=function(e){return c.type(e)==="string"};c.isArray=function(e){return c.type(e)==="array"};c.isNumber=function(e){return c.type(e)==="number"};c.isRegExp=function(e){return c.type(e)==="regexp"};c.sortArrayOn=function(e,g,f){if(c.isArray(e)&&c.isString(g)){e.sort(function(i,h){return f?(i[g]<h[g])-(i[g]>h[g]):(i[g]>h[g])-(i[g]<h[g])})}};c.noop=function(){}})();(function(){var a=andrea.blink;a.declare("andrea.blink.events.Event");var b=andrea.blink.events.Event=function(c,e,d){this.__className="andrea.blink.events.Event";this._type=c;this._target=e;this.data=d};b.prototype.type=function(){return this._type};b.prototype.target=function(){return this._target}})();(function(){var a=andrea.blink;a.declare("andrea.blink.events.EventDispatcher");var b=andrea.blink.utils;var c=andrea.blink.events.EventDispatcher=function(){this.__className="andrea.blink.events.EventDispatcher";this._enableDispatchEvent=true};c.prototype.addEventListener=function(h,f,l,j){if(!j){j=0}var d=this._findEventListener(h,f,l);if(d){return}d={type:h,scope:l,listener:f,priority:j};var i=this.listeners()[h];if(!i){this.listeners()[h]=i=[d]}else{var g=false;for(var e=0;e<i.length;++e){var k=i[e];if(j>k.priority){i.splice(e,0,d);g=true;break}}if(g==false){i.push(d)}}};c.prototype.removeEventListener=function(g,h,f){var d=this._findEventListener(g,h,f);if(d){var e=this.listeners()[g];e.splice(e.indexOf(d),1)}};c.prototype.removeEventListeners=function(d){this.listeners()[d]=[]};c.prototype.removeAllEventListeners=function(){this._listeners={}};c.prototype.hasEventListener=function(f,g,e){var d=this._findEventListener(f,g,e);return d!=null};c.prototype.hasEventListeners=function(e){var d=this.listeners()[e];if(d){return d.length>0}return false};c.prototype.dispatchEvent=function(f){if(this._enableDispatchEvent===undefined){this._enableDispatchEvent=true}if(this._enableDispatchEvent){var e=f.type();var d=this.listeners()[e];if(d){var h=d.slice(0);for(var i=0;i<h.length;++i){var g=h[i];g.listener.call(g.scope,f)}}}};c.prototype.enableDispatchEvent=function(d){if(this._enableDispatchEvent===undefined){this._enableDispatchEvent=true}if(arguments.length>=1){if(b.isBoolean(d)){this._enableDispatchEvent=d}return this}else{return this._enableDispatchEvent}};c.prototype._findEventListener=function(g,h,f){var e=this.listeners()[g];if(!e){return null}for(var i=0;i<e.length;++i){var d=e[i];if(d.listener===h&&d.scope===f){return d}}return null};c.prototype.listeners=function(){if(this._listeners===undefined){this._listeners={}}return this._listeners}})();(function(){var a=andrea.blink;a.declare("andrea.blink.mvc.Action");var b=andrea.blink.mvc.Action=function(){this.__className="andrea.blink.mvc.Action"};b.prototype.execute=function(c){return null};b.prototype._getModel=function(c){return null}})();(function(){var a=andrea.blink;a.declare("andrea.blink.mvc.Model");var b=andrea.blink.mvc.Model=function(){this.__className="andrea.blink.mvc.Model";this._notifyRequested=null};b.prototype._notify=function(c,d){};b.prototype._deferNotify=function(c){if(this._notifyRequested){this._notifyRequested.names.push(c)}else{this._notifyRequested={names:[c]};var d=this;_.defer(function(){var f=_.uniq(d._notifyRequested.names);d._notifyRequested=null;for(var e=0;e<f.length;e++){d._notify.call(d,f[e])}})}}})();(function(){var a=andrea.blink;a.declare("andrea.blink.mvc.Notification");var b=andrea.blink.mvc.Notification=function(c,e,d){b.superclass.constructor.apply(this,arguments);this.__className="andrea.blink.mvc.Notification";this._type=c;this._target=null;this._source=e;this.data=d};a.extend(andrea.blink.mvc.Notification,andrea.blink.events.Event);b.prototype.source=function(){return this._source}})();(function(){var a=andrea.blink;a.declare("andrea.blink.mvc.View");var b=andrea.blink.mvc.View=function(c){b.superclass.constructor.apply(this,arguments);this.__className="andrea.blink.mvc.View";this._dom=c;this._$dom=$(c);this._animationActivated=true;this._explicitWidth=null;this._explicitHeight=null;this._measuredWidth=0;this._measuredHeight=0};a.extend(andrea.blink.mvc.View,andrea.blink.events.EventDispatcher);b.prototype.dom=function(){return this._dom};b.prototype.$dom=function(){return this._$dom};b.prototype.activateAnimation=function(){this._animationActivated=true};b.prototype.deactivateAnimation=function(){this._animationActivated=false};b.prototype.size=function(c){if(arguments.length>0){var d=false;if(c.width!=null&&this._explicitWidth!==c.width){this._explicitWidth=c.width;d=true}if(c.height!=null&&this._explicitHeight!==c.height){this._explicitHeight=c.height;d=true}if(d){this.invalidateSize()}return this}else{if(this._explicitWidth==null||this._explicitHeight==null){this._measuredWidth=$(this._dom).outerWidth();this._measuredHeight=$(this._dom).outerHeight()}return{width:this._explicitWidth!=null?this._explicitWidth:this._measuredWidth,height:this._explicitHeight!=null?this._explicitHeight:this._measuredHeight,}}};b.prototype.invalidateSize=function(){this._validateSize()};b.prototype._validateSize=function(){}})();(function(){var a=andrea.blink;a.declare("andrea.blink.mvc.ViewMediator");var b=andrea.blink.mvc.ViewMediator=function(){this.__className="andrea.blink.mvc.ViewMediator"};b.prototype.init=function(){};b.prototype._getModel=function(c){return null};b.prototype._subscribe=function(c,d){};b.prototype._unsubscribe=function(c,d){};b.prototype._action=function(c,d){return null}})();(function(){var a=andrea.blink;a.declare("andrea.blink.mvc.App");var e=andrea.blink.mvc;var b=andrea.blink.utils;var d=andrea.blink.events.EventDispatcher;var c=andrea.blink.mvc.App=function(){this.__className="andrea.blink.mvc.App";var l={};var h={};var o={};var i=new d();var j=function(p,q){if(b.isString(p)&&i.hasEventListeners(p)){var r=new e.Notification(p,this,q);i.dispatchEvent(r)}};var n=function(p){if(b.isString(p)){return h[p]}return null};var k=function(p){if(b.isString(p)){return h[p]}return null};var m=function(p,q){if(b.isString(p)&&b.isFunction(q)){i.addEventListener(p,q)}};var f=function(p,q){if(b.isString(p)&&b.isFunction(q)){i.removeEventListener(p,q)}};var g=function(r,s){if(b.isString(r)){var t=l[r];if(b.isFunction(t)){var p=null;var q=new t();if(q instanceof e.Action){q._getModel=n;p=q.execute.call(q,s)}q=null;return p}}return null};this.registerAction=function(p,q){if(b.isString(p)&&b.isFunction(q)){l[p]=q}};this.unregisterAction=function(p){if(b.isString(p)){var q=l[p];if(b.isFunction(q)){delete l[p]}}};this.registerModel=function(q,p){if(b.isString(q)&&p instanceof e.Model){p._notify=j;h[q]=p}};this.unregisterModel=function(p){if(b.isString(p)){delete h[p]}};this.registerViewMediator=function(p,q){if(b.isString(p)&&q instanceof e.ViewMediator){o[p]=q;q._getModel=k;q._subscribe=m;q._unsubscribe=f;q._action=g;q.init()}};this.unregisterViewMediator=function(p){if(b.isString(p)){var q=o[p];if(q instanceof e.ViewMediator){delete o[p];delete q._getModel;delete q._subscribe;delete q._unsubscribe;delete q._action}}}}})();