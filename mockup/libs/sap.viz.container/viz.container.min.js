(function(){if(!Date.now){Date.now=function(){return +(new Date)}}try{document.createElement("div").style.setProperty("opacity",0,"")}catch(gm){var k3=CSSStyleDeclaration.prototype,fQ=k3.setProperty;k3.setProperty=function(c,a,b){fQ.call(this,c,a+"",b)}}d3={version:"2.10.0"};function fA(b,c){try{for(var d in c){Object.defineProperty(b.prototype,d,{value:c[d],enumerable:false})}}catch(a){b.prototype=c}}var id=kW;function fD(c){var d=-1,a=c.length,b=[];while(++d<a){b.push(c[d])}return b}function kW(a){return Array.prototype.slice.call(a)}try{id(document.documentElement.childNodes)[0].nodeType}catch(gA){id=fD}var iS=[].__proto__?function(a,b){a.__proto__=b}:function(a,c){for(var b in c){a[b]=c[b]}};d3.map=function(c){var a=new kG;for(var b in c){a.set(b,c[b])}return a};function kG(){}fA(kG,{has:function(a){return fy+a in this},get:function(a){return this[fy+a]},set:function(b,a){return this[fy+b]=a},remove:function(a){a=fy+a;return a in this&&delete this[a]},keys:function(){var a=[];this.forEach(function(b){a.push(b)});return a},values:function(){var a=[];this.forEach(function(c,b){a.push(b)});return a},entries:function(){var a=[];this.forEach(function(c,b){a.push({key:c,value:b})});return a},forEach:function(a){for(var b in this){if(b.charCodeAt(0)===kX){a.call(this,b.substring(1),this[b])}}}});var fy="\0",kX=fy.charCodeAt(0);function iK(a){return a}function i9(){return this}function iX(){return true}function ju(a){return typeof a==="function"?a:function(){return a}}d3.functor=ju;d3.rebind=function(c,d){var f=1,a=arguments.length,b;while(++f<a){c[b=arguments[f]]=jK(c,d,d[b])}return c};function jK(b,c,a){return function(){var d=a.apply(c,arguments);return arguments.length?b:d}}d3.ascending=function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN};d3.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN};d3.mean=function(a,c){var b=a.length,g,h=0,d=-1,f=0;if(arguments.length===1){while(++d<b){if(gn(g=a[d])){h+=(g-h)/++f}}}else{while(++d<b){if(gn(g=c.call(a,a[d],d))){h+=(g-h)/++f}}}return f?h:undefined};d3.median=function(a,b){if(arguments.length>1){a=a.map(b)}a=a.filter(gn);return a.length?d3.quantile(a.sort(d3.ascending),0.5):undefined};d3.min=function(a,c){var d=-1,b=a.length,f,g;if(arguments.length===1){while(++d<b&&((f=a[d])==null||f!=f)){f=undefined}while(++d<b){if((g=a[d])!=null&&f>g){f=g}}}else{while(++d<b&&((f=c.call(a,a[d],d))==null||f!=f)){f=undefined}while(++d<b){if((g=c.call(a,a[d],d))!=null&&f>g){f=g}}}return f};d3.max=function(a,c){var d=-1,b=a.length,f,g;if(arguments.length===1){while(++d<b&&((f=a[d])==null||f!=f)){f=undefined}while(++d<b){if((g=a[d])!=null&&g>f){f=g}}}else{while(++d<b&&((f=c.call(a,a[d],d))==null||f!=f)){f=undefined}while(++d<b){if((g=c.call(a,a[d],d))!=null&&g>f){f=g}}}return f};d3.extent=function(a,d){var f=-1,b=a.length,g,h,c;if(arguments.length===1){while(++f<b&&((g=c=a[f])==null||g!=g)){g=c=undefined}while(++f<b){if((h=a[f])!=null){if(g>h){g=h}if(c<h){c=h}}}}else{while(++f<b&&((g=c=d.call(a,a[f],f))==null||g!=g)){g=undefined}while(++f<b){if((h=d.call(a,a[f],f))!=null){if(g>h){g=h}if(c<h){c=h}}}}return[g,c]};d3.random={normal:function(b,c){var a=arguments.length;if(a<2){c=1}if(a<1){b=0}return function(){var g,d,f;do{g=Math.random()*2-1;d=Math.random()*2-1;f=g*g+d*d}while(!f||f>1);returnµ+c*g*Math.sqrt(-2*Math.log(f)/f)}},logNormal:function(c,d){var a=arguments.length;if(a<2){d=1}if(a<1){c=0}var b=d3.random.normal();return function(){return Math.exp(c+d*b())}},irwinHall:function(a){return function(){for(var b=0,c=0;c<a;c++){b+=Math.random()}return b/a}}};function gn(a){return a!=null&&!isNaN(a)}d3.sum=function(a,c){var d=0,b=a.length,g,f=-1;if(arguments.length===1){while(++f<b){if(!isNaN(g=+a[f])){d+=g}}}else{while(++f<b){if(!isNaN(g=+c.call(a,a[f],f))){d+=g}}}return d};d3.quantile=function(f,a){var d=(f.length-1)*a+1,c=Math.floor(d),g=f[c-1],b=d-c;return b?g+b*(f[c]-g):g};d3.transpose=function(a){return d3.zip.apply(d3,a)};d3.zip=function(){if(!(a=arguments.length)){return[]}for(var c=-1,g=d3.min(arguments,gT),d=new Array(g);++c<g;){for(var f=-1,a,b=d[c]=new Array(a);++f<a;){b[f]=arguments[f][c]}}return d};function gT(a){return a.length}d3.bisector=function(a){return{left:function(f,g,b,c){if(arguments.length<3){b=0}if(arguments.length<4){c=f.length}while(b<c){var d=b+c>>>1;if(a.call(f,f[d],d)<g){b=d+1}else{c=d}}return b},right:function(f,g,b,c){if(arguments.length<3){b=0}if(arguments.length<4){c=f.length}while(b<c){var d=b+c>>>1;if(g<a.call(f,f[d],d)){c=d}else{b=d+1}}return b}}};var iD=d3.bisector(function(a){return a});d3.bisectLeft=iD.left;d3.bisect=d3.bisectRight=iD.right;d3.first=function(a,c){var d=0,b=a.length,f=a[0],g;if(arguments.length===1){c=d3.ascending}while(++d<b){if(c.call(a,f,g=a[d])>0){f=g}}return f};d3.last=function(a,c){var d=0,b=a.length,f=a[0],g;if(arguments.length===1){c=d3.ascending}while(++d<b){if(c.call(a,f,g=a[d])<=0){f=g}}return f};d3.nest=function(){var d={},f=[],a=[],g,c;function b(s,k){if(k>=f.length){return c?c.call(d,s):g?s.sort(g):s}var j=-1,o=s.length,q=f[k++],l,m,n=new kG,r,p={};while(++j<o){if(r=n.get(l=q(m=s[j]))){r.push(m)}else{n.set(l,[m])}}n.forEach(function(t){p[t]=b(n.get(t),k)});return p}function h(k,j){if(j>=f.length){return k}var n=[],m=a[j++],l;for(l in k){n.push({key:l,values:h(k[l],j)})}if(m){n.sort(function(o,p){return m(o.key,p.key)})}return n}d.map=function(j){return b(j,0)};d.entries=function(j){return h(b(j,0),0)};d.key=function(j){f.push(j);return d};d.sortKeys=function(j){a[f.length-1]=j;return d};d.sortValues=function(j){g=j;return d};d.rollup=function(j){c=j;return d};return d};d3.keys=function(a){var b=[];for(var c in a){b.push(c)}return b};d3.values=function(a){var c=[];for(var b in a){c.push(a[b])}return c};d3.entries=function(a){var c=[];for(var b in a){c.push({key:b,value:a[b]})}return c};d3.permute=function(a,d){var f=[],c=-1,b=d.length;while(++c<b){f[c]=a[d[c]]}return f};d3.merge=function(a){return Array.prototype.concat.apply([],a)};d3.split=function(a,c){var d=[],h=[],f,g=-1,b=a.length;if(arguments.length<2){c=iZ}while(++g<b){if(c.call(h,f=a[g],g)){h=[]}else{if(!h.length){d.push(h)}h.push(f)}}return d};function iZ(a){return a==null}function iz(a){return a.trim().replace(/\s+/g," ")}d3.range=function(a,c,b){if(arguments.length<3){b=1;if(arguments.length<2){c=a;a=0}}if((c-a)/b===Infinity){throw new Error("infinite range")}var g=[],h=iO(Math.abs(b)),d=-1,f;a*=h,c*=h,b*=h;if(b<0){while((f=a+b*++d)>c){g.push(f/h)}}else{while((f=a+b*++d)<c){g.push(f/h)}}return g};function iO(b){var a=1;while(b*a%1){a*=10}return a}d3.requote=function(a){return a.replace(kf,"\\$&")};var kf=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(b,a){return a?Math.round(b*(a=Math.pow(10,a)))/a:Math.round(b)};d3.xhr=function(d,b,a){var c=new XMLHttpRequest;if(arguments.length<3){a=b,b=null}else{if(b&&c.overrideMimeType){c.overrideMimeType(b)}}c.open("GET",d,true);if(b){c.setRequestHeader("Accept",b)}c.onreadystatechange=function(){if(c.readyState===4){var f=c.status;a(!f&&c.response||f>=200&&f<300||f===304?c:null)}};c.send(null)};d3.text=function(d,b,a){function c(f){a(f&&f.responseText)}if(arguments.length<3){a=b;b=null}d3.xhr(d,b,c)};d3.json=function(b,a){d3.text(b,"application/json",function(c){a(c?JSON.parse(c):null)})};d3.html=function(b,a){d3.text(b,"text/html",function(c){if(c!=null){var d=document.createRange();d.selectNode(document.body);c=d.createContextualFragment(c)}a(c)})};d3.xml=function(d,b,a){function c(f){a(f&&f.responseXML)}if(arguments.length<3){a=b;b=null}d3.xhr(d,b,c)};var hm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:hm,qualify:function(c){var b=c.indexOf(":"),a=c;if(b>=0){a=c.substring(0,b);c=c.substring(b+1)}return hm.hasOwnProperty(a)?{space:hm[a],local:c}:c}};d3.dispatch=function(){var c=new jb,b=-1,a=arguments.length;while(++b<a){c[arguments[b]]=gN(c)}return c};function jb(){}jb.prototype.on=function(b,a){var c=b.indexOf("."),d="";if(c>0){d=b.substring(c+1);b=b.substring(0,c)}return arguments.length<2?this[b].on(d):this[b].on(d,a)};function gN(d){var b=[],c=new kG;function a(){var f=b,g=-1,j=f.length,h;while(++g<j){if(h=f[g].on){h.apply(this,arguments)}}return d}a.on=function(g,j){var h=c.get(g),f;if(arguments.length<2){return h&&h.on}if(h){h.on=null;b=b.slice(0,f=b.indexOf(h)).concat(b.slice(f+1));c.remove(g)}if(j){b.push(c.set(g,{on:j}))}return d};return a}d3.format=function(d){var h=iY.exec(d),b=h[1]||" ",n=h[3]||"",l=h[5],k=+h[6],a=h[7],g=h[8],f=h[9],m=1,c="",j=false;if(g){g=+g.substring(1)}if(l){b="0";if(a){k-=Math.floor((k-1)/4)}}switch(f){case"n":a=true;f="g";break;case"%":m=100;c="%";f="f";break;case"p":m=100;c="%";f="r";break;case"d":j=true;g=0;break;case"s":m=-1;f="r";break}if(f=="r"&&!g){f="g"}f=ho.get(f)||lk;return function(q){if(j&&q%1){return""}var p=q<0&&(q=-q)?"-":n;if(m<0){var r=d3.formatPrefix(q,g);q=r.scale(q);c=r.symbol}else{q*=m}q=f(q,g);if(l){var o=q.length+p.length;if(o<k){q=(new Array(k-o+1)).join(b)+q}if(a){q=j3(q)}q=p+q}else{if(a){q=j3(q)}q=p+q;var o=q.length;if(o<k){q=(new Array(k-o+1)).join(b)+q}}return q+c}};var iY=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/;var ho=d3.map({g:function(b,a){return b.toPrecision(a)},e:function(b,a){return b.toExponential(a)},f:function(b,a){return b.toFixed(a)},r:function(b,a){return d3.round(b,a=hh(b,a)).toFixed(Math.max(0,Math.min(20,a)))}});function hh(b,a){return a-(b?1+Math.floor(Math.log(b+Math.pow(10,1+Math.floor(Math.log(b)/Math.LN10)-a))/Math.LN10):1)}function lk(a){return a+""}function j3(a){var c=a.lastIndexOf("."),b=c>=0?a.substring(c):(c=a.length,""),d=[];while(c>0){d.push(a.substring(c-=3,c+3))}return d.reverse().join(",")+b}var ja=["y","z","a","f","p","n","μ","m","","k","M","G","T","P","E","Z","Y"].map(ih);d3.formatPrefix=function(a,c){var b=0;if(a){if(a<0){a*=-1}if(c){a=d3.round(a,hh(a,c))}b=1+Math.floor(1e-12+Math.log(a)/Math.LN10);b=Math.max(-24,Math.min(24,Math.floor((b<=0?b+1:b-1)/3)*3))}return ja[8+b/3]};function ih(a,b){var c=Math.pow(10,Math.abs(8-b)*3);return{scale:b>8?function(d){return d/c}:function(d){return d*c},symbol:a}}var fr=ks(2),gY=ks(3),gw=function(){return j6};var jc=d3.map({linear:gw,poly:ks,quad:function(){return fr},cubic:function(){return gY},sin:function(){return g9},exp:function(){return gs},circle:function(){return hu},elastic:ji,back:gU,bounce:function(){return jC}});var hY=d3.map({"in":j6,out:hc,"in-out":ka,"out-in":function(a){return ka(hc(a))}});d3.ease=function(c){var a=c.indexOf("-"),b=a>=0?c.substring(0,a):c,d=a>=0?c.substring(a+1):"in";b=jc.get(b)||gw;d=hY.get(d)||j6;return gd(d(b.apply(null,Array.prototype.slice.call(arguments,1))))};function gd(a){return function(b){return b<=0?0:b>=1?1:a(b)}}function hc(a){return function(b){return 1-a(1-b)}}function ka(a){return function(b){return 0.5*(b<0.5?a(2*b):2-a(2-2*b))}}function j6(a){return a}function ks(a){return function(b){return Math.pow(b,a)}}function g9(a){return 1-Math.cos(a*Math.PI/2)}function gs(a){return Math.pow(2,10*(a-1))}function hu(a){return 1-Math.sqrt(1-a*a)}function ji(c,a){var b;if(arguments.length<2){a=0.45}if(arguments.length<1){c=1;b=a/4}else{b=a/(2*Math.PI)*Math.asin(1/c)}return function(d){return 1+c*Math.pow(2,10*-d)*Math.sin((d-b)*2*Math.PI/a)}}function gU(a){if(!a){a=1.70158}return function(b){return b*b*((a+1)*b-a)}}function jC(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375}d3.event=null;function hn(){d3.event.stopPropagation();d3.event.preventDefault()}function i7(){var a=d3.event,b;while(b=a.sourceEvent){a=b}return a}function gy(b){var d=new jb,c=0,a=arguments.length;while(++c<a){d[arguments[c]]=gN(d)}d.of=function(f,g){return function(h){try{var j=h.sourceEvent=d3.event;h.target=b;d3.event=h;d[h.type].apply(f,g)}finally{d3.event=j}}};return d}d3.transform=function(b){var a=document.createElementNS(d3.ns.prefix.svg,"g");return(d3.transform=function(d){a.setAttribute("transform",d);var c=a.transform.baseVal.consolidate();return new hG(c?c.matrix:hp)})(b)};function hG(g){var c=[g.a,g.b],f=[g.c,g.d],a=gx(c),d=iP(c,f),b=gx(kQ(f,c,-d))||0;if(c[0]*f[1]<f[0]*c[1]){c[0]*=-1;c[1]*=-1;a*=-1;d*=-1}this.rotate=(a?Math.atan2(c[1],c[0]):Math.atan2(-f[0],f[1]))*jt;this.translate=[g.e,g.f];this.scale=[a,b];this.skew=b?Math.atan2(d,b)*jt:0}hG.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function iP(a,b){return a[0]*b[0]+a[1]*b[1]}function gx(b){var a=Math.sqrt(iP(b,b));if(a){b[0]/=a;b[1]/=a}return a}function kQ(b,c,a){b[0]+=a*c[0];b[1]+=a*c[1];return b}var jt=180/Math.PI,hp={a:1,b:0,c:0,d:1,e:0,f:0};d3.interpolate=function(c,d){var b=d3.interpolators.length,a;while(--b>=0&&!(a=d3.interpolators[b](c,d))){}return a};d3.interpolateNumber=function(a,b){b-=a;return function(c){return a+b*c}};d3.interpolateRound=function(a,b){b-=a;return function(c){return Math.round(a+b*c)}};d3.interpolateString=function(d,f){var k,g,j,b=0,c=0,a=[],h=[],l,m;h2.lastIndex=0;for(g=0;k=h2.exec(f);++g){if(k.index){a.push(f.substring(b,c=k.index))}h.push({i:a.length,x:k[0]});a.push(null);b=h2.lastIndex}if(b<f.length){a.push(f.substring(b))}for(g=0,l=h.length;(k=h2.exec(d))&&g<l;++g){m=h[g];if(m.x==k[0]){if(m.i){if(a[m.i+1]==null){a[m.i-1]+=m.x;a.splice(m.i,1);for(j=g+1;j<l;++j){h[j].i--}}else{a[m.i-1]+=m.x+a[m.i+1];a.splice(m.i,2);for(j=g+1;j<l;++j){h[j].i-=2}}}else{if(a[m.i+1]==null){a[m.i]=m.x}else{a[m.i]=m.x+a[m.i+1];a.splice(m.i+1,1);for(j=g+1;j<l;++j){h[j].i--}}}h.splice(g,1);l--;g--}else{m.x=d3.interpolateNumber(parseFloat(k[0]),parseFloat(m.x))}}while(g<l){m=h.pop();if(a[m.i+1]==null){a[m.i]=m.x}else{a[m.i]=m.x+a[m.i+1];a.splice(m.i+1,1)}l--}if(a.length===1){return a[0]==null?h[0].x:function(){return f}}return function(n){for(g=0;g<l;++g){a[(m=h[g]).i]=m.x(n)}return a.join("")}};d3.interpolateTransform=function(a,b){var p=[],q=[],k,m=d3.transform(a),n=d3.transform(b),f=m.translate,g=n.translate,o=m.rotate,l=n.rotate,h=m.skew,j=n.skew,c=m.scale,d=n.scale;if(f[0]!=g[0]||f[1]!=g[1]){p.push("translate(",null,",",null,")");q.push({i:1,x:d3.interpolateNumber(f[0],g[0])},{i:3,x:d3.interpolateNumber(f[1],g[1])})}else{if(g[0]||g[1]){p.push("translate("+g+")")}else{p.push("")}}if(o!=l){if(o-l>180){l+=360}else{if(l-o>180){o+=360}}q.push({i:p.push(p.pop()+"rotate(",null,")")-2,x:d3.interpolateNumber(o,l)})}else{if(l){p.push(p.pop()+"rotate("+l+")")}}if(h!=j){q.push({i:p.push(p.pop()+"skewX(",null,")")-2,x:d3.interpolateNumber(h,j)})}else{if(j){p.push(p.pop()+"skewX("+j+")")}}if(c[0]!=d[0]||c[1]!=d[1]){k=p.push(p.pop()+"scale(",null,",",null,")");q.push({i:k-4,x:d3.interpolateNumber(c[0],d[0])},{i:k-2,x:d3.interpolateNumber(c[1],d[1])})}else{if(d[0]!=1||d[1]!=1){p.push(p.pop()+"scale("+d+")")}}k=q.length;return function(s){var t=-1,r;while(++t<k){p[(r=q[t]).i]=r.x(s)}return p.join("")}};d3.interpolateRgb=function(g,h){g=d3.rgb(g);h=d3.rgb(h);var d=g.r,f=g.g,a=g.b,b=h.r-d,c=h.g-f,j=h.b-a;return function(k){return"#"+i8(Math.round(d+b*k))+i8(Math.round(f+c*k))+i8(Math.round(a+j*k))}};d3.interpolateHsl=function(f,h){f=d3.hsl(f);h=d3.hsl(h);var j=f.h,a=f.s,d=f.l,b=h.h-j,c=h.s-a,g=h.l-d;if(b>180){b-=360}else{if(b<-180){b+=360}}return function(k){return lp(j+b*k,a+c*k,d+g*k)+""}};d3.interpolateLab=function(g,h){g=d3.lab(g);h=d3.lab(h);var c=g.l,d=g.a,f=g.b,j=h.l-c,a=h.a-d,b=h.b-f;return function(k){return kL(c+j*k,d+a*k,f+b*k)+""}};d3.interpolateHcl=function(f,h){f=d3.hcl(f);h=d3.hcl(h);var g=f.h,c=f.c,a=f.l,d=h.h-g,b=h.c-c,j=h.l-a;if(d>180){d-=360}else{if(d<-180){d+=360}}return function(k){return lb(g+d*k,c+b*k,a+j*k)+""}};d3.interpolateArray=function(c,f){var g=[],j=[],d=c.length,h=f.length,a=Math.min(c.length,f.length),b;for(b=0;b<a;++b){g.push(d3.interpolate(c[b],f[b]))}for(;b<d;++b){j[b]=c[b]}for(;b<h;++b){j[b]=f[b]}return function(k){for(b=0;b<a;++b){j[b]=g[b](k)}return j}};d3.interpolateObject=function(d,f){var b={},a={},c;for(c in d){if(c in f){b[c]=gp(c)(d[c],f[c])}else{a[c]=d[c]}}for(c in f){if(!(c in d)){a[c]=f[c]}}return function(g){for(c in b){a[c]=b[c](g)}return a}};var h2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;function gp(a){return a=="transform"?d3.interpolateTransform:d3.interpolate}d3.interpolators=[d3.interpolateObject,function(a,b){return b instanceof Array&&d3.interpolateArray(a,b)},function(a,b){return(typeof a==="string"||typeof b==="string")&&d3.interpolateString(a+"",b+"")},function(a,b){return(typeof b==="string"?iV.has(b)||/^(#|rgb\(|hsl\()/.test(b):b instanceof j7||b instanceof gu)&&d3.interpolateRgb(a,b)},function(a,b){return !isNaN(a=+a)&&!isNaN(b=+b)&&d3.interpolateNumber(a,b)}];function gi(a,b){b=b-(a=+a)?1/(b-a):0;return function(c){return(c-a)*b}}function it(a,b){b=b-(a=+a)?1/(b-a):0;return function(c){return Math.max(0,Math.min(1,(c-a)*b))}}d3.rgb=function(a,b,c){return arguments.length===1?a instanceof j7?g5(a.r,a.g,a.b):ko(""+a,g5,lp):g5(~~a,~~b,~~c)};function g5(a,b,c){return new j7(a,b,c)}function j7(a,b,c){this.r=a;this.g=b;this.b=c}j7.prototype.brighter=function(d){d=Math.pow(0.7,arguments.length?d:1);var a=this.r,b=this.g,f=this.b,c=30;if(!a&&!b&&!f){return g5(c,c,c)}if(a&&a<c){a=c}if(b&&b<c){b=c}if(f&&f<c){f=c}return g5(Math.min(255,Math.floor(a/d)),Math.min(255,Math.floor(b/d)),Math.min(255,Math.floor(f/d)))};j7.prototype.darker=function(a){a=Math.pow(0.7,arguments.length?a:1);return g5(Math.floor(a*this.r),Math.floor(a*this.g),Math.floor(a*this.b))};j7.prototype.hsl=function(){return f4(this.r,this.g,this.b)};j7.prototype.toString=function(){return"#"+i8(this.r)+i8(this.g)+i8(this.b)};function i8(a){return a<16?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function ko(d,h,c){var f=0,j=0,g=0,a,b,k;a=/([a-z]+)\((.*)\)/i.exec(d);if(a){b=a[2].split(",");switch(a[1]){case"hsl":return c(parseFloat(b[0]),parseFloat(b[1])/100,parseFloat(b[2])/100);case"rgb":return h(iW(b[0]),iW(b[1]),iW(b[2]))}}if(k=iV.get(d)){return h(k.r,k.g,k.b)}if(d!=null&&d.charAt(0)==="#"){if(d.length===4){f=d.charAt(1);f+=f;j=d.charAt(2);j+=j;g=d.charAt(3);g+=g}else{if(d.length===7){f=d.substring(1,3);j=d.substring(3,5);g=d.substring(5,7)}}f=parseInt(f,16);j=parseInt(j,16);g=parseInt(g,16)}return h(f,j,g)}function f4(f,g,c){var j=Math.min(f/=255,g/=255,c/=255),b=Math.max(f,g,c),d=b-j,h,a,k=(b+j)/2;if(d){a=k<0.5?d/(b+j):d/(2-b-j);if(f==b){h=(g-c)/d+(g<c?6:0)}else{if(g==b){h=(c-f)/d+2}else{h=(f-g)/d+4}}h*=60}else{a=h=0}return jv(h,a,k)}function hK(c,d,f){c=kZ(c);d=kZ(d);f=kZ(f);var g=iy((0.4124564*c+0.3575761*d+0.1804375*f)/ln),a=iy((0.2126729*c+0.7151522*d+0.072175*f)/jQ),b=iy((0.0193339*c+0.119192*d+0.9503041*f)/jW);return js(116*a-16,500*(g-a),200*(a-b))}function kZ(a){return(a/=255)<=0.04045?a/12.92:Math.pow((a+0.055)/1.055,2.4)}function iW(a){var b=parseFloat(a);return a.charAt(a.length-1)==="%"?Math.round(b*2.55):b}var iV=d3.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});iV.forEach(function(b,a){iV.set(b,ko(a,g5,lp))});d3.hsl=function(a,b,c){return arguments.length===1?a instanceof gu?jv(a.h,a.s,a.l):ko(""+a,f4,jv):jv(+a,+b,+c)};function jv(a,b,c){return new gu(a,b,c)}function gu(a,b,c){this.h=a;this.s=b;this.l=c}gu.prototype.brighter=function(a){a=Math.pow(0.7,arguments.length?a:1);return jv(this.h,this.s,this.l/a)};gu.prototype.darker=function(a){a=Math.pow(0.7,arguments.length?a:1);return jv(this.h,this.s,a*this.l)};gu.prototype.rgb=function(){return lp(this.h,this.s,this.l)};gu.prototype.toString=function(){return this.rgb().toString()};function lp(b,c,h){var d,f;b=b%360;if(b<0){b+=360}c=c<0?0:c>1?1:c;h=h<0?0:h>1?1:h;f=h<=0.5?h*(1+c):h+c-h*c;d=2*h-f;function g(j){if(j>360){j-=360}else{if(j<0){j+=360}}if(j<60){return d+(f-d)*j/60}if(j<180){return f}if(j<240){return d+(f-d)*(240-j)/60}return d}function a(j){return Math.round(g(j)*255)}return g5(a(b+120),a(b),a(b-120))}d3.hcl=function(b,a,c){return arguments.length===1?b instanceof jd?lc(b.h,b.c,b.l):b instanceof kj?fT(b.l,b.a,b.b):fT((b=hK((b=d3.rgb(b)).r,b.g,b.b)).l,b.a,b.b):lc(+b,+a,+c)};function lc(b,a,c){return new jd(b,a,c)}function jd(b,a,c){this.h=b;this.c=a;this.l=c}jd.prototype.brighter=function(a){return lc(this.h,this.c,Math.min(100,this.l+lh*(arguments.length?a:1)))};jd.prototype.darker=function(a){return lc(this.h,this.c,Math.max(0,this.l-lh*(arguments.length?a:1)))};jd.prototype.rgb=function(){return lb(this.h,this.c,this.l).rgb()};jd.prototype.toString=function(){return this.rgb()+""};function lb(b,a,c){return js(c,Math.cos(b*=Math.PI/180)*a,Math.sin(b)*a)}d3.lab=function(a,b,c){return arguments.length===1?a instanceof kj?js(a.l,a.a,a.b):a instanceof jd?lb(a.l,a.c,a.h):hK((a=d3.rgb(a)).r,a.g,a.b):js(+a,+b,+c)};function js(a,b,c){return new kj(a,b,c)}function kj(a,b,c){this.l=a;this.a=b;this.b=c}var lh=18;var ln=0.95047,jQ=1,jW=1.08883;kj.prototype.brighter=function(a){return js(Math.min(100,this.l+lh*(arguments.length?a:1)),this.a,this.b)};kj.prototype.darker=function(a){return js(Math.max(0,this.l-lh*(arguments.length?a:1)),this.a,this.b)};kj.prototype.rgb=function(){return kL(this.l,this.a,this.b)};kj.prototype.toString=function(){return this.rgb()+""};function kL(c,d,f){var a=(c+16)/116,g=a+d/500,b=a-f/200;g=gS(g)*ln;a=gS(a)*jQ;b=gS(b)*jW;return g5(ig(3.2404542*g-1.5371385*a-0.4985314*b),ig(-0.969266*g+1.8760108*a+0.041556*b),ig(0.0556434*g-0.2040259*a+1.0572252*b))}function fT(a,b,c){return lc(Math.atan2(c,b)/Math.PI*180,Math.sqrt(b*b+c*c),a)}function gS(a){return a>0.206893034?a*a*a:(a-4/29)/7.787037}function iy(a){return a>0.008856?Math.pow(a,1/3):7.787037*a+4/29}function ig(a){return Math.round(255*(a<=0.00304?12.92*a:1.055*Math.pow(a,1/2.4)-0.055))}function hQ(a){iS(a,hS);return a}var jS=function(b,a){return a.querySelector(b)},ht=function(b,a){return a.querySelectorAll(b)},jB=document.documentElement,il=jB.matchesSelector||jB.webkitMatchesSelector||jB.mozMatchesSelector||jB.msMatchesSelector||jB.oMatchesSelector,im=function(a,b){return il.call(a,b)};if(typeof Sizzle==="function"){jS=function(b,a){return Sizzle(b,a)[0]||null};ht=function(b,a){return Sizzle.uniqueSort(Sizzle(b,a))};im=Sizzle.matchesSelector}var hS=[];d3.selection=function(){return fM};d3.selection.prototype=hS;hS.select=function(f){var k=[],a,g,b,j;if(typeof f!=="function"){f=hk(f)}for(var d=-1,h=this.length;++d<h;){k.push(a=[]);a.parentNode=(b=this[d]).parentNode;for(var c=-1,l=b.length;++c<l;){if(j=b[c]){a.push(g=f.call(j,j.__data__,c));if(g&&"__data__" in j){g.__data__=j.__data__}}else{a.push(null)}}}return hQ(k)};function hk(a){return function(){return jS(a,this)}}hS.selectAll=function(g){var k=[],a,j;if(typeof g!=="function"){g=kt(g)}for(var d=-1,h=this.length;++d<h;){for(var b=this[d],c=-1,f=b.length;++c<f;){if(j=b[c]){k.push(a=id(g.call(j,j.__data__,c)));a.parentNode=j}}}return hQ(k)};function kt(a){return function(){return ht(a,this)}}hS.attr=function(c,a){if(arguments.length<2){if(typeof c==="string"){var b=this.node();c=d3.ns.qualify(c);return c.local?b.getAttributeNS(c.space,c.local):b.getAttribute(c)}for(a in c){this.each(lg(a,c[a]))}return this}return this.each(lg(c,a))};function lg(f,a){f=d3.ns.qualify(f);function g(){this.removeAttribute(f)}function j(){this.removeAttributeNS(f.space,f.local)}function b(){this.setAttribute(f,a)}function c(){this.setAttributeNS(f.space,f.local,a)}function h(){var k=a.apply(this,arguments);if(k==null){this.removeAttribute(f)}else{this.setAttribute(f,k)}}function d(){var k=a.apply(this,arguments);if(k==null){this.removeAttributeNS(f.space,f.local)}else{this.setAttributeNS(f.space,f.local,k)}}return a==null?f.local?j:g:typeof a==="function"?f.local?d:h:f.local?c:b}hS.classed=function(f,b){if(arguments.length<2){if(typeof f==="string"){var c=this.node(),a=(f=f.trim().split(/^|\s+/g)).length,d=-1;if(b=c.classList){while(++d<a){if(!b.contains(f[d])){return false}}}else{b=c.className;if(b.baseVal!=null){b=b.baseVal}while(++d<a){if(!fP(f[d]).test(b)){return false}}}return true}for(b in f){this.each(fY(b,f[b]))}return this}return this.each(fY(f,b))};function fP(a){return new RegExp("(?:^|\\s+)"+d3.requote(a)+"(?:\\s+|$)","g")}function fY(d,b){d=d.trim().split(/\s+/).map(fC);var a=d.length;function f(){var g=-1;while(++g<a){d[g](this,b)}}function c(){var g=-1,h=b.apply(this,arguments);while(++g<a){d[g](this,h)}}return typeof b==="function"?c:f}function fC(b){var a=fP(b);return function(f,d){if(c=f.classList){return d?c.add(b):c.remove(b)}var c=f.className,h=c.baseVal!=null,g=h?c.baseVal:c;if(d){a.lastIndex=0;if(!a.test(g)){g=iz(g+" "+b);if(h){c.baseVal=g}else{f.className=g}}}else{if(g){g=iz(g.replace(a," "));if(h){c.baseVal=g}else{f.className=g}}}}}hS.style=function(d,b,c){var a=arguments.length;if(a<3){if(typeof d!=="string"){if(a<2){b=""}for(c in d){this.each(h8(c,d[c],b))}return this}if(a<2){return window.getComputedStyle(this.node(),null).getPropertyValue(d)}c=""}return this.each(h8(d,b,c))};function h8(d,a,c){function f(){this.style.removeProperty(d)}function b(){this.style.setProperty(d,a,c)}function g(){var h=a.apply(this,arguments);if(h==null){this.style.removeProperty(d)}else{this.style.setProperty(d,h,c)}}return a==null?f:typeof a==="function"?g:b}hS.property=function(b,a){if(arguments.length<2){if(typeof b==="string"){return this.node()[b]}for(a in b){this.each(hz(a,b[a]))}return this}return this.each(hz(b,a))};function hz(d,b){function f(){delete this[d]}function c(){this[d]=b}function a(){var g=b.apply(this,arguments);if(g==null){delete this[d]}else{this[d]=g}}return b==null?f:typeof b==="function"?a:c}hS.text=function(a){return arguments.length<1?this.node().textContent:this.each(typeof a==="function"?function(){var b=a.apply(this,arguments);this.textContent=b==null?"":b}:a==null?function(){this.textContent=""}:function(){this.textContent=a})};hS.html=function(a){return arguments.length<1?this.node().innerHTML:this.each(typeof a==="function"?function(){var b=a.apply(this,arguments);this.innerHTML=b==null?"":b}:a==null?function(){this.innerHTML=""}:function(){this.innerHTML=a})};hS.append=function(b){b=d3.ns.qualify(b);function c(){return this.appendChild(document.createElementNS(this.namespaceURI,b))}function a(){return this.appendChild(document.createElementNS(b.space,b.local))}return this.select(b.local?a:c)};hS.insert=function(d,b){d=d3.ns.qualify(d);function c(){return this.insertBefore(document.createElementNS(this.namespaceURI,d),jS(b,this))}function a(){return this.insertBefore(document.createElementNS(d.space,d.local),jS(b,this))}return this.select(d.local?a:c)};hS.remove=function(){return this.each(function(){var a=this.parentNode;if(a){a.removeChild(this)}})};hS.data=function(c,a){var h=-1,l=this.length,b,k;if(!arguments.length){c=new Array(l=(b=this[0]).length);while(++h<l){if(k=b[h]){c[h]=k.__data__}}return c}function f(t,C){var z,r=t.length,n=C.length,v=Math.min(r,n),w=Math.max(r,n),p=[],u=[],x=[],o,s;if(a){var m=new kG,q=[],A,B=C.length;for(z=-1;++z<r;){A=a.call(o=t[z],o.__data__,z);if(m.has(A)){x[B++]=o}else{m.set(A,o)}q.push(A)}for(z=-1;++z<n;){A=a.call(C,s=C[z],z);if(m.has(A)){p[z]=o=m.get(A);o.__data__=s;u[z]=x[z]=null}else{u[z]=jN(s);p[z]=x[z]=null}m.remove(A)}for(z=-1;++z<r;){if(m.has(q[z])){x[z]=t[z]}}}else{for(z=-1;++z<v;){o=t[z];s=C[z];if(o){o.__data__=s;p[z]=o;u[z]=x[z]=null}else{u[z]=jN(s);p[z]=x[z]=null}}for(;z<n;++z){u[z]=jN(C[z]);p[z]=x[z]=null}for(;z<w;++z){x[z]=t[z];u[z]=p[z]=null}}u.update=p;u.parentNode=p.parentNode=x.parentNode=t.parentNode;d.push(u);j.push(p);g.push(x)}var d=fu([]),j=hQ([]),g=hQ([]);if(typeof c==="function"){while(++h<l){f(b=this[h],c.call(b,b.parentNode.__data__,h))}}else{while(++h<l){f(b=this[h],c)}}j.enter=function(){return d};j.exit=function(){return g};return j};function jN(a){return{__data__:a}}hS.datum=hS.map=function(a){return arguments.length<1?this.property("__data__"):this.property("__data__",a)};hS.filter=function(f){var j=[],a,b,h;if(typeof f!=="function"){f=j0(f)}for(var d=0,g=this.length;d<g;d++){j.push(a=[]);a.parentNode=(b=this[d]).parentNode;for(var c=0,k=b.length;c<k;c++){if((h=b[c])&&f.call(h,h.__data__,c)){a.push(h)}}}return hQ(j)};function j0(a){return function(){return im(this,a)}}hS.order=function(){for(var f=-1,g=this.length;++f<g;){for(var a=this[f],d=a.length-1,c=a[d],b;--d>=0;){if(b=a[d]){if(c&&c!==b.nextSibling){c.parentNode.insertBefore(b,c)}c=b}}}return this};hS.sort=function(b){b=fR.apply(this,arguments);for(var a=-1,c=this.length;++a<c;){this[a].sort(b)}return this.order()};function fR(a){if(!arguments.length){a=d3.ascending}return function(b,c){return a(b&&b.__data__,c&&c.__data__)}}hS.on=function(c,b,d){var a=arguments.length;if(a<3){if(typeof c!=="string"){if(a<2){b=false}for(d in c){this.each(hP(d,c[d],b))}return this}if(a<2){return(a=this.node()["__on"+c])&&a._}d=false}return this.each(hP(c,b,d))};function hP(c,b,h){var f="__on"+c,d=c.indexOf(".");if(d>0){c=c.substring(0,d)}function g(){var j=this[f];if(j){this.removeEventListener(c,j,j.$);delete this[f]}}function a(){var k=this,l=arguments;g.call(this);this.addEventListener(c,this[f]=j,j.$=h);j._=b;function j(n){var m=d3.event;d3.event=n;l[0]=k.__data__;try{b.apply(k,l)}finally{d3.event=m}}}return b?a:g}hS.each=function(a){return iu(this,function(b,c,d){a.call(b,b.__data__,c,d)})};function iu(g,j){for(var f=0,h=g.length;f<h;f++){for(var b=g[f],d=0,a=b.length,c;d<a;d++){if(c=b[d]){j(c,d,f)}}}return g}hS.call=function(a){a.apply(this,(arguments[0]=this,arguments));return this};hS.empty=function(){return !this.node()};hS.node=function(a){for(var g=0,h=this.length;g<h;g++){for(var c=this[g],f=0,b=c.length;f<b;f++){var d=c[f];if(d){return d}}}return null};hS.transition=function(){var g=[],f,b;for(var d=-1,h=this.length;++d<h;){g.push(f=[]);for(var a=this[d],c=-1,j=a.length;++c<j;){f.push((b=a[c])?{node:b,delay:ir,duration:gQ}:null)}}return fO(g,gC||++gb,Date.now())};var fM=hQ([[document]]);fM[0].parentNode=jB;d3.select=function(a){return typeof a==="string"?fM.select(a):hQ([[a]])};d3.selectAll=function(a){return typeof a==="string"?fM.selectAll(a):hQ([id(a)])};function fu(a){iS(a,ke);return a}var ke=[];d3.selection.enter=fu;d3.selection.enter.prototype=ke;ke.append=hS.append;ke.insert=hS.insert;ke.empty=hS.empty;ke.node=hS.node;ke.select=function(g){var l=[],a,h,c,b,j;for(var f=-1,k=this.length;++f<k;){c=(b=this[f]).update;l.push(a=[]);a.parentNode=b.parentNode;for(var d=-1,m=b.length;++d<m;){if(j=b[d]){a.push(c[d]=h=g.call(b.parentNode,j.__data__,d));h.__data__=j.__data__}else{a.push(null)}}}return hQ(l)};function fO(g,a,c){iS(g,gX);var d=new kG,f=d3.dispatch("start","end"),b=lo;g.id=a;g.time=c;g.tween=function(h,j){if(arguments.length<2){return d.get(h)}if(j==null){d.remove(h)}else{d.set(h,j)}return g};g.ease=function(h){if(!arguments.length){return b}b=typeof h==="function"?h:d3.ease.apply(d3,arguments);return g};g.each=function(h,j){if(arguments.length<2){return h9.call(g,h)}f.on(h,j);return g};d3.timer(function(h){return iu(g,function(o,l,m){var r=[],k=o.delay,n=o.duration,q=(o=o.node).__transition__||(o.__transition__={active:0,count:0}),t=o.__data__;++q.count;k<=h?p(h):d3.timer(p,k,c);function p(u){if(q.active>a){return s()}q.active=a;d.forEach(function(w,v){if(v=v.call(o,t,l)){r.push(v)}});f.start.call(o,t,l);if(!j(u)){d3.timer(j,0,c)}return 1}function j(w){if(q.active!==a){return s()}var v=(w-k)/n,u=b(v),x=r.length;while(x>0){r[--x].call(o,u)}if(v>=1){s();gC=a;f.end.call(o,t,l);gC=0;return 1}}function s(){if(!--q.count){delete o.__transition__}return 1}})},0,c);return g}var gX=[],gb=0,gC=0,h7=0,fJ=250,gL=d3.ease("cubic-in-out"),ir=h7,gQ=fJ,lo=gL;gX.call=hS.call;d3.transition=function(a){return arguments.length?gC?a.transition():a:fM.transition()};d3.transition.prototype=gX;gX.select=function(f){var k=[],a,g,j;if(typeof f!=="function"){f=hk(f)}for(var d=-1,h=this.length;++d<h;){k.push(a=[]);for(var b=this[d],c=-1,l=b.length;++c<l;){if((j=b[c])&&(g=f.call(j.node,j.node.__data__,c))){if("__data__" in j.node){g.__data__=j.node.__data__}a.push({node:g,delay:j.delay,duration:j.duration})}else{a.push(null)}}}return fO(k,this.id,this.time).ease(this.ease())};gX.selectAll=function(g){var l=[],a,j,k;if(typeof g!=="function"){g=kt(g)}for(var d=-1,h=this.length;++d<h;){for(var b=this[d],c=-1,m=b.length;++c<m;){if(k=b[c]){j=g.call(k.node,k.node.__data__,c);l.push(a=[]);for(var f=-1,n=j.length;++f<n;){a.push({node:j[f],delay:k.delay,duration:k.duration})}}}}return fO(l,this.id,this.time).ease(this.ease())};gX.filter=function(f){var j=[],a,b,h;if(typeof f!=="function"){f=j0(f)}for(var d=0,g=this.length;d<g;d++){j.push(a=[]);for(var b=this[d],c=0,k=b.length;c<k;c++){if((h=b[c])&&f.call(h.node,h.node.__data__,c)){a.push(h)}}}return fO(j,this.id,this.time).ease(this.ease())};gX.attr=function(b,a){if(arguments.length<2){for(a in b){this.attrTween(a,gJ(b[a],a))}return this}return this.attrTween(b,gJ(a,b))};gX.attrTween=function(f,c){var d=d3.ns.qualify(f);function b(j,h){var g=c.call(this,j,h,this.getAttribute(d));return g===fW?(this.removeAttribute(d),null):g&&function(k){this.setAttribute(d,g(k))}}function a(j,h){var g=c.call(this,j,h,this.getAttributeNS(d.space,d.local));return g===fW?(this.removeAttributeNS(d.space,d.local),null):g&&function(k){this.setAttributeNS(d.space,d.local,g(k))}}return this.tween("attr."+f,d.local?a:b)};gX.style=function(d,b,c){var a=arguments.length;if(a<3){if(typeof d!=="string"){if(a<2){b=""}for(c in d){this.styleTween(c,gJ(d[c],c),b)}return this}c=""}return this.styleTween(d,gJ(b,d),c)};gX.styleTween=function(c,a,b){if(arguments.length<3){b=""}return this.tween("style."+c,function(d,g){var f=a.call(this,d,g,window.getComputedStyle(this,null).getPropertyValue(c));return f===fW?(this.style.removeProperty(c),null):f&&function(h){this.style.setProperty(c,f(h),b)}})};gX.text=function(a){return this.tween("text",function(b,c){this.textContent=typeof a==="function"?a.call(this,b,c):a})};gX.remove=function(){return this.each("end.transition",function(){var a;if(!this.__transition__&&(a=this.parentNode)){a.removeChild(this)}})};gX.delay=function(a){return iu(this,typeof a==="function"?function(b,c,d){b.delay=a.call(b=b.node,b.__data__,c,d)|0}:(a=a|0,function(b){b.delay=a}))};gX.duration=function(a){return iu(this,typeof a==="function"?function(b,c,d){b.duration=Math.max(1,a.call(b=b.node,b.__data__,c,d)|0)}:(a=Math.max(1,a|0),function(b){b.duration=a}))};function h9(a){var b=gC,c=lo,f=ir,d=gQ;gC=this.id;lo=this.ease();iu(this,function(j,g,h){ir=j.delay;gQ=j.duration;a.call(j=j.node,j.__data__,g,h)});gC=b;lo=c;ir=f;gQ=d;return this}gX.transition=function(){return this.select(i9)};d3.tween=function(d,c){function a(j,f,h){var g=d.call(this,j,f);return g==null?h!=""&&fW:h!=g&&c(h,g)}function b(f,g,h){return h!=d&&c(h,d)}return typeof d==="function"?a:d==null?gZ:(d+="",b)};var fW={};function gZ(a,b,c){return c!=""&&fW}function gJ(b,a){return d3.tween(b,gp(a))}var a9=null,jm,gP;d3.timer=function(a,g,b){var c=false,d,f=a9;if(arguments.length<3){if(arguments.length<2){g=0}else{if(!isFinite(g)){return}}b=Date.now()}while(f){if(f.callback===a){f.then=b;f.delay=g;c=true;break}d=f;f=f.next}if(!c){a9={callback:a,then:b,delay:g,next:a9}}if(!jm){gP=clearTimeout(gP);jm=1;gl(gk)}};function gk(){var d,b=Date.now(),a=a9;while(a){d=b-a.then;if(d>=a.delay){a.flush=a.callback(d)}a=a.next}var c=j9()-b;if(c>24){if(isFinite(c)){clearTimeout(gP);gP=setTimeout(gk,c)}jm=0}else{jm=1;gl(gk)}}d3.timer.flush=function(){var c,b=Date.now(),a=a9;while(a){c=b-a.then;if(!a.delay){a.flush=a.callback(c)}a=a.next}j9()};function j9(){var b=null,c=a9,a=Infinity;while(c){if(c.flush){c=b?b.next=c.next:a9=c.next}else{a=Math.min(a,c.then+c.delay);c=(b=c).next}}return a}var gl=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,17)};d3.mouse=function(a){return km(a,i7())};var iG=/WebKit/.test(navigator.userAgent)?-1:0;function km(d,a){var c=d.ownerSVGElement||d;if(c.createSVGPoint){var g=c.createSVGPoint();if(iG<0&&(window.scrollX||window.scrollY)){c=d3.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0);var f=c[0][0].getScreenCTM();iG=!(f.f||f.e);c.remove()}if(iG){g.x=a.pageX;g.y=a.pageY}else{g.x=a.clientX;g.y=a.clientY}g=g.matrixTransform(d.getScreenCTM().inverse());return[g.x,g.y]}var b=d.getBoundingClientRect();return[a.clientX-b.left-d.clientLeft,a.clientY-b.top-d.clientTop]}d3.touches=function(b,a){if(arguments.length<2){a=i7().touches}return a?id(a).map(function(c){var d=km(b,c);d.identifier=c.identifier;return d}):[]};function kH(){}d3.scale={};function g2(b){var a=b[0],c=b[b.length-1];return a<c?[a,c]:[c,a]}function ki(a){return a.rangeExtent?a.rangeExtent():g2(a.range())}function iR(a,c){var b=0,d=a.length-1,f=a[b],g=a[d],h;if(g<f){h=b,b=d,d=h;h=f,f=g,g=h}if(c=c(g-f)){a[b]=c.floor(f);a[d]=c.ceil(g)}return a}function jg(){return Math}d3.scale.linear=function(){return hd([0,1],[0,1],d3.interpolate,false)};function hd(b,d,c,j){var f,g;function h(){var l=Math.min(b.length,d.length)>2?jJ:kK,k=j?it:gi;f=l(b,d,k,c);g=l(d,b,k,d3.interpolate);return a}function a(k){return f(k)}a.invert=function(k){return g(k)};a.domain=function(k){if(!arguments.length){return b}b=k.map(Number);return h()};a.range=function(k){if(!arguments.length){return d}d=k;return h()};a.rangeRound=function(k){return a.range(k).interpolate(d3.interpolateRound)};a.clamp=function(k){if(!arguments.length){return j}j=k;return h()};a.interpolate=function(k){if(!arguments.length){return c}c=k;return h()};a.ticks=function(k){return iv(b,k)};a.tickFormat=function(k){return jX(b,k)};a.nice=function(){iR(b,kA);return h()};a.copy=function(){return hd(b,d,c,j)};return h()}function hl(a,b){return d3.rebind(a,b,"range","rangeRound","interpolate","clamp")}function kA(a){a=Math.pow(10,Math.round(Math.log(a)/Math.LN10)-1);return a&&{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}}function hy(a,g){var d=g2(a),f=d[1]-d[0],b=Math.pow(10,Math.floor(Math.log(f/g)/Math.LN10)),c=g/f*b;if(c<=0.15){b*=10}else{if(c<=0.35){b*=5}else{if(c<=0.75){b*=2}}}d[0]=Math.ceil(d[0]/b)*b;d[1]=Math.floor(d[1]/b)*b+b*0.5;d[2]=b;return d}function iv(a,b){return d3.range.apply(d3,hy(a,b))}function jX(a,b){return d3.format(",."+Math.max(0,-Math.floor(Math.log(hy(a,b)[2])/Math.LN10+0.01))+"f")}function kK(b,g,a,d){var f=a(b[0],b[1]),c=d(g[0],g[1]);return function(h){return c(f(h))}}function jJ(a,g,j,c){var d=[],b=[],f=0,h=Math.min(a.length,g.length)-1;if(a[h]<a[0]){a=a.slice().reverse();g=g.slice().reverse()}while(++f<=h){d.push(j(a[f-1],a[f]));b.push(c(g[f-1],g[f]))}return function(l){var k=d3.bisect(a,l,1,h)-1;return b[k](d[k](l))}}d3.scale.log=function(){return fU(d3.scale.linear(),hi)};function fU(d,c){var b=c.pow;function a(f){return d(c(f))}a.invert=function(f){return b(d.invert(f))};a.domain=function(f){if(!arguments.length){return d.domain().map(b)}c=f[0]<0?g6:hi;b=c.pow;d.domain(f.map(c));return a};a.nice=function(){d.domain(iR(d.domain(),jg));return a};a.ticks=function(){var k=g2(d.domain()),j=[];if(k.every(isFinite)){var l=Math.floor(k[0]),m=Math.ceil(k[1]),f=b(k[0]),g=b(k[1]);if(c===g6){j.push(b(l));for(;l++<m;){for(var h=9;h>0;h--){j.push(b(l)*h)}}}else{for(;l<m;l++){for(var h=1;h<10;h++){j.push(b(l)*h)}}j.push(b(l))}for(l=0;j[l]<f;l++){}for(m=j.length;j[m-1]>g;m--){}j=j.slice(l,m)}return j};a.tickFormat=function(j,k){if(arguments.length<2){k=jR}if(arguments.length<1){return k}var h=Math.max(0.1,j/a.ticks().length),g=c===g6?(f=-1e-12,Math.floor):(f=1e-12,Math.ceil),f;return function(l){return l/b(g(c(l)+f))<=h?k(l):""}};a.copy=function(){return fU(d.copy(),c)};return hl(a,d)}var jR=d3.format(".0e");function hi(a){return Math.log(a<0?0:a)/Math.LN10}function g6(a){return -Math.log(a>0?0:-a)/Math.LN10}hi.pow=function(a){return Math.pow(10,a)};g6.pow=function(a){return -Math.pow(10,-a)};d3.scale.pow=function(){return f7(d3.scale.linear(),1)};function f7(f,c){var d=hW(c),b=hW(1/c);function a(g){return f(d(g))}a.invert=function(g){return b(f.invert(g))};a.domain=function(g){if(!arguments.length){return f.domain().map(b)}f.domain(g.map(d));return a};a.ticks=function(g){return iv(a.domain(),g)};a.tickFormat=function(g){return jX(a.domain(),g)};a.nice=function(){return a.domain(iR(a.domain(),kA))};a.exponent=function(h){if(!arguments.length){return c}var g=a.domain();d=hW(c=h);b=hW(1/c);return a.domain(g)};a.copy=function(){return f7(f.copy(),c)};return hl(a,f)}function hW(a){return function(b){return b<0?-Math.pow(-b,a):Math.pow(b,a)}}d3.scale.sqrt=function(){return d3.scale.pow().exponent(0.5)};d3.scale.ordinal=function(){return jj([],{t:"range",a:[[]]})};function jj(b,f){var c,g,d;function a(j){return g[((c.get(j)||c.set(j,b.push(j)))-1)%g.length]}function h(j,k){return d3.range(b.length).map(function(l){return j+k*l})}a.domain=function(m){if(!arguments.length){return b}b=[];c=new kG;var k=-1,j=m.length,l;while(++k<j){if(!c.has(l=m[k])){c.set(l,b.push(l))}}return a[f.t].apply(a,f.a)};a.range=function(j){if(!arguments.length){return g}g=j;d=0;f={t:"range",a:arguments};return a};a.rangePoints=function(n,k){if(arguments.length<2){k=0}var j=n[0],m=n[1],l=(m-j)/(b.length-1+k);g=h(b.length<2?(j+m)/2:j+l*k/2,l);d=0;f={t:"rangePoints",a:arguments};return a};a.rangeBands=function(o,k,p){if(arguments.length<2){k=0}if(arguments.length<3){p=k}var n=o[1]<o[0],j=o[n-0],m=o[1-n],l=(m-j)/(b.length-k+2*p);g=h(j+l*p,l);if(n){g.reverse()}d=l*(1-k);f={t:"rangeBands",a:arguments};return a};a.rangeRoundBands=function(p,j,q){if(arguments.length<2){j=0}if(arguments.length<3){q=j}var n=p[1]<p[0],m=p[n-0],l=p[1-n],k=Math.floor((l-m)/(b.length-j+2*q)),o=l-m-(b.length-j)*k;g=h(m+Math.round(o/2),k);if(n){g.reverse()}d=Math.round(k*(1-j));f={t:"rangeRoundBands",a:arguments};return a};a.rangeBand=function(){return d};a.rangeExtent=function(){return g2(f.a[0])};a.copy=function(){return jj(b,f)};return a.domain(b)}d3.scale.category10=function(){return d3.scale.ordinal().range(iT)};d3.scale.category20=function(){return d3.scale.ordinal().range(jE)};d3.scale.category20b=function(){return d3.scale.ordinal().range(gE)};d3.scale.category20c=function(){return d3.scale.ordinal().range(gG)};var iT=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];var jE=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"];var gE=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"];var gG=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];d3.scale.quantile=function(){return g8([],[])};function g8(c,d){var b;function f(){var h=0,j=c.length,g=d.length;b=[];while(++h<g){b[h-1]=d3.quantile(c,h/g)}return a}function a(g){if(isNaN(g=+g)){return NaN}return d[d3.bisect(b,g)]}a.domain=function(g){if(!arguments.length){return c}c=g.filter(function(h){return !isNaN(h)}).sort(d3.ascending);return f()};a.range=function(g){if(!arguments.length){return d}d=g;return f()};a.quantiles=function(){return b};a.copy=function(){return g8(c,d)};return f()}d3.scale.quantize=function(){return kU(0,1,[0,1])};function kU(c,f,g){var b,d;function a(j){return g[Math.max(0,Math.min(d,Math.floor(b*(j-c))))]}function h(){b=g.length/(f-c);d=g.length-1;return a}a.domain=function(j){if(!arguments.length){return[c,f]}c=+j[0];f=+j[j.length-1];return h()};a.range=function(j){if(!arguments.length){return g}g=j;return h()};a.copy=function(){return kU(c,f,g)};return h()}d3.scale.threshold=function(){return hB([0.5],[0,1])};function hB(b,c){function a(d){return c[d3.bisect(b,d)]}a.domain=function(d){if(!arguments.length){return b}b=d;return a};a.range=function(d){if(!arguments.length){return c}c=d;return a};a.copy=function(){return hB(b,c)};return a}d3.scale.identity=function(){return je([0,1])};function je(a){function b(c){return +c}b.invert=b;b.domain=b.range=function(c){if(!arguments.length){return a}a=c.map(b);return b};b.ticks=function(c){return iv(a,c)};b.tickFormat=function(c){return jX(a,c)};b.copy=function(){return je(a)};return b}d3.svg={};d3.svg.arc=function(){var a=k8,b=kM,c=g3,f=iJ;function d(){var m=a.apply(this,arguments),n=b.apply(this,arguments),o=c.apply(this,arguments)+hv,p=f.apply(this,arguments)+hv,q=(p<o&&(q=o,o=p,p=q),p-o),j=q<Math.PI?"0":"1",k=Math.cos(o),g=Math.sin(o),l=Math.cos(p),h=Math.sin(p);return q>=ha?m?"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"M0,"+m+"A"+m+","+m+" 0 1,0 0,"+-m+"A"+m+","+m+" 0 1,0 0,"+m+"Z":"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z":m?"M"+n*k+","+n*g+"A"+n+","+n+" 0 "+j+",1 "+n*l+","+n*h+"L"+m*l+","+m*h+"A"+m+","+m+" 0 "+j+",0 "+m*k+","+m*g+"Z":"M"+n*k+","+n*g+"A"+n+","+n+" 0 "+j+",1 "+n*l+","+n*h+"L0,0Z"}d.innerRadius=function(g){if(!arguments.length){return a}a=ju(g);return d};d.outerRadius=function(g){if(!arguments.length){return b}b=ju(g);return d};d.startAngle=function(g){if(!arguments.length){return c}c=ju(g);return d};d.endAngle=function(g){if(!arguments.length){return f}f=ju(g);return d};d.centroid=function(){var g=(a.apply(this,arguments)+b.apply(this,arguments))/2,h=(c.apply(this,arguments)+f.apply(this,arguments))/2+hv;return[Math.cos(h)*g,Math.sin(h)*g]};return d};var hv=-Math.PI/2,ha=2*Math.PI-0.000001;function k8(a){return a.innerRadius}function kM(a){return a.outerRadius}function g3(a){return a.startAngle}function iJ(a){return a.endAngle}function j1(g){var h=fK,j=fL,a=iX,d=fG,b=d.key,c=0.7;function f(k){var r=[],o=[],s=-1,n=k.length,p,l=ju(h),m=ju(j);function q(){r.push("M",d(g(o),c))}while(++s<n){if(a.call(this,p=k[s],s)){o.push([+l.call(this,p,s),+m.call(this,p,s)])}else{if(o.length){q();o=[]}}}if(o.length){q()}return r.length?r.join(""):null}f.x=function(k){if(!arguments.length){return h}h=k;return f};f.y=function(k){if(!arguments.length){return j}j=k;return f};f.defined=function(k){if(!arguments.length){return a}a=k;return f};f.interpolate=function(k){if(!arguments.length){return b}if(typeof k==="function"){b=d=k}else{b=(d=e.get(k)||fG).key}return f};f.tension=function(k){if(!arguments.length){return c}c=k;return f};return f}d3.svg.line=function(){return j1(iK)};function fK(a){return a[0]}function fL(a){return a[1]}var e=d3.map({linear:fG,"linear-closed":jf,"step-before":lj,"step-after":ge,basis:gR,"basis-open":lm,"basis-closed":kP,bundle:kN,cardinal:hZ,"cardinal-open":fo,"cardinal-closed":hs,monotone:jY});e.forEach(function(b,a){a.key=b;a.closed=/-closed$/.test(b)});function fG(a){return a.join("L")}function jf(a){return fG(a)+"Z"}function lj(d){var f=0,a=d.length,b=d[0],c=[b[0],",",b[1]];while(++f<a){c.push("V",(b=d[f])[1],"H",b[0])}return c.join("")}function ge(d){var f=0,a=d.length,b=d[0],c=[b[0],",",b[1]];while(++f<a){c.push("H",(b=d[f])[0],"V",b[1])}return c.join("")}function fo(a,b){return a.length<4?fG(a):a[1]+kC(a.slice(1,a.length-1),ft(a,b))}function hs(a,b){return a.length<3?fG(a):a[0]+kC((a.push(a[0]),a),ft([a[a.length-2]].concat(a,[a[1]]),b))}function hZ(a,b,c){return a.length<3?fG(a):a[0]+kC(a,ft(a,b))}function kC(f,g){if(g.length<1||f.length!=g.length&&f.length!=g.length+2){return fG(f)}var d=f.length!=g.length,a="",c=f[0],h=f[1],j=g[0],b=j,l=1;if(d){a+="Q"+(h[0]-j[0]*2/3)+","+(h[1]-j[1]*2/3)+","+h[0]+","+h[1];c=f[1];l=2}if(g.length>1){b=g[1];h=f[l];l++;a+="C"+(c[0]+j[0])+","+(c[1]+j[1])+","+(h[0]-b[0])+","+(h[1]-b[1])+","+h[0]+","+h[1];for(var m=2;m<g.length;m++,l++){h=f[l];b=g[m];a+="S"+(h[0]-b[0])+","+(h[1]-b[1])+","+h[0]+","+h[1]}}if(d){var k=f[l];a+="Q"+(h[0]+b[0]*2/3)+","+(h[1]+b[1]*2/3)+","+k[0]+","+k[1]}return a}function ft(c,g){var j=[],h=(1-g)/2,a,b=c[0],d=c[1],k=1,f=c.length;while(++k<f){a=b;b=d;d=c[k];j.push([h*(d[0]-a[0]),h*(d[1]-a[1])])}return j}function gR(b){if(b.length<3){return fG(b)}var j=1,k=b.length,h=b[0],f=h[0],d=h[1],c=[f,f,f,(h=b[1])[0]],g=[d,d,d,h[1]],a=[f,",",d];kV(a,c,g);while(++j<k){h=b[j];c.shift();c.push(h[0]);g.shift();g.push(h[1]);kV(a,c,g)}j=-1;while(++j<2){c.shift();c.push(h[0]);g.shift();g.push(h[1]);kV(a,c,g)}return a.join("")}function lm(d){if(d.length<4){return fG(d)}var b=[],f=-1,a=d.length,c,g=[0],h=[0];while(++f<3){c=d[f];g.push(c[0]);h.push(c[1])}b.push(iH(gv,g)+","+iH(gv,h));--f;while(++f<a){c=d[f];g.shift();g.push(c[0]);h.shift();h.push(c[1]);kV(b,g,h)}return b.join("")}function kP(c){var a,d=-1,j=c.length,h=j+4,b,f=[],g=[];while(++d<4){b=c[d%j];f.push(b[0]);g.push(b[1])}a=[iH(gv,f),",",iH(gv,g)];--d;while(++d<h){b=c[d%j];f.shift();f.push(b[0]);g.shift();g.push(b[1]);kV(a,f,g)}return a.join("")}function kN(d,f){var k=d.length-1;if(k){var l=d[0][0],h=d[0][1],a=d[k][0]-l,b=d[k][1]-h,j=-1,g,c;while(++j<=k){g=d[j];c=j/k;g[0]=f*g[0]+(1-f)*(l+c*a);g[1]=f*g[1]+(1-f)*(h+c*b)}}return gR(d)}function iH(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}var gq=[0,2/3,1/3,0],gt=[0,1/3,2/3,0],gv=[0,1/6,2/3,1/6];function kV(b,c,a){b.push("C",iH(gq,c),",",iH(gq,a),",",iH(gt,c),",",iH(gt,a),",",iH(gv,c),",",iH(gv,a))}function fz(a,b){return(b[1]-a[1])/(b[0]-a[0])}function hq(d){var f=0,g=d.length-1,h=[],a=d[0],b=d[1],c=h[0]=fz(a,b);while(++f<g){h[f]=(c+(c=fz(a=b,b=d[f+1])))/2}h[f]=c;return h}function iC(b){var g=[],h,c,d,a,f=hq(b),j=-1,k=b.length-1;while(++j<k){h=fz(b[j],b[j+1]);if(Math.abs(h)<0.000001){f[j]=f[j+1]=0}else{c=f[j]/h;d=f[j+1]/h;a=c*c+d*d;if(a>9){a=h*3/Math.sqrt(a);f[j]=a*c;f[j+1]=a*d}}}j=-1;while(++j<=k){a=(b[Math.min(k,j+1)][0]-b[Math.max(0,j-1)][0])/(6*(1+f[j]*f[j]));g.push([a||0,f[j]*a||0])}return g}function jY(a){return a.length<3?fG(a):a[0]+kC(a,iC(a))}d3.svg.line.radial=function(){var a=j1(jD);a.radius=a.x,delete a.x;a.angle=a.y,delete a.y;return a};function jD(c){var g,d=-1,a=c.length,b,f;while(++d<a){g=c[d];b=g[0];f=g[1]+hv;g[0]=b*Math.cos(f);g[1]=b*Math.sin(f)}return c}function fx(k){var m=fK,n=fK,b=0,d=fL,l=iX,h=fG,a=h.key,f=h,g="L",c=0.7;function j(A){var x=[],r=[],o=[],z=-1,p=A.length,v,B=ju(m),q=ju(b),C=m===n?function(){return t}:ju(n),s=b===d?function(){return u}:ju(d),t,u;function w(){x.push("M",h(k(o),c),g,f(k(r.reverse()),c),"Z")}while(++z<p){if(l.call(this,v=A[z],z)){r.push([t=+B.call(this,v,z),u=+q.call(this,v,z)]);o.push([+C.call(this,v,z),+s.call(this,v,z)])}else{if(r.length){w();r=[];o=[]}}}if(r.length){w()}return x.length?x.join(""):null}j.x=function(o){if(!arguments.length){return n}m=n=o;return j};j.x0=function(o){if(!arguments.length){return m}m=o;return j};j.x1=function(o){if(!arguments.length){return n}n=o;return j};j.y=function(o){if(!arguments.length){return d}b=d=o;return j};j.y0=function(o){if(!arguments.length){return b}b=o;return j};j.y1=function(o){if(!arguments.length){return d}d=o;return j};j.defined=function(o){if(!arguments.length){return l}l=o;return j};j.interpolate=function(o){if(!arguments.length){return a}if(typeof o==="function"){a=h=o}else{a=(h=e.get(o)||fG).key}f=h.reverse||h;g=h.closed?"M":"L";return j};j.tension=function(o){if(!arguments.length){return c}c=o;return j};return j}lj.reverse=ge;ge.reverse=lj;d3.svg.area=function(){return fx(iK)};d3.svg.area.radial=function(){var a=fx(jD);a.radius=a.x,delete a.x;a.innerRadius=a.x0,delete a.x0;a.outerRadius=a.x1,delete a.x1;a.angle=a.y,delete a.y;a.startAngle=a.y0,delete a.y0;a.endAngle=a.y1,delete a.y1;return a};d3.svg.chord=function(){var g=iF,c=kE,d=g1,b=g3,h=iJ;function f(m,o){var n=a(this,g,m,o),p=a(this,c,m,o);return"M"+n.p0+l(n.r,n.p1,n.a1-n.a0)+(k(n,p)?j(n.r,n.p1,n.r,n.p0):j(n.r,n.p1,p.r,p.p0)+l(p.r,p.p1,p.a1-p.a0)+j(p.r,p.p1,n.r,n.p0))+"Z"}function a(o,n,m,s){var q=n.call(o,m,s),p=d.call(o,q,s),r=b.call(o,q,s)+hv,t=h.call(o,q,s)+hv;return{r:p,a0:r,a1:t,p0:[p*Math.cos(r),p*Math.sin(r)],p1:[p*Math.cos(t),p*Math.sin(t)]}}function k(m,n){return m.a0==n.a0&&m.a1==n.a1}function l(n,m,o){return"A"+n+","+n+" 0 "+ +(o>Math.PI)+",1 "+m}function j(o,m,p,n){return"Q 0,0 "+n}f.radius=function(m){if(!arguments.length){return d}d=ju(m);return f};f.source=function(m){if(!arguments.length){return g}g=ju(m);return f};f.target=function(m){if(!arguments.length){return c}c=ju(m);return f};f.startAngle=function(m){if(!arguments.length){return b}b=ju(m);return f};f.endAngle=function(m){if(!arguments.length){return h}h=ju(m);return f};return f};function iF(a){return a.source}function kE(a){return a.target}function g1(a){return a.radius}function fZ(a){return a.startAngle}function g0(a){return a.endAngle}d3.svg.diagonal=function(){var b=iF,a=kE,d=hM;function c(k,g){var j=b.call(this,k,g),f=a.call(this,k,g),h=(j.y+f.y)/2,l=[j,{x:j.x,y:h},{x:f.x,y:h},f];l=l.map(d);return"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}c.source=function(f){if(!arguments.length){return b}b=ju(f);return c};c.target=function(f){if(!arguments.length){return a}a=ju(f);return c};c.projection=function(f){if(!arguments.length){return d}d=f;return c};return c};function hM(a){return[a.x,a.y]}d3.svg.diagonal.radial=function(){var a=d3.svg.diagonal(),c=hM,b=a.projection;a.projection=function(d){return arguments.length?b(hJ(c=d)):c};return a};function hJ(a){return function(){var b=a.apply(this,arguments),c=b[0],d=b[1]+hv;return[c*Math.cos(d),c*Math.sin(d)]}}d3.svg.mouse=d3.mouse;d3.svg.touches=d3.touches;d3.svg.symbol=function(){var b=kq,c=kd;function a(d,f){return(g7.get(b.call(this,d,f))||jL)(c.call(this,d,f))}a.type=function(d){if(!arguments.length){return b}b=ju(d);return a};a.size=function(d){if(!arguments.length){return c}c=ju(d);return a};return a};function kd(){return 64}function kq(){return"circle"}function jL(b){var a=Math.sqrt(b/Math.PI);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}var g7=d3.map({circle:jL,cross:function(b){var a=Math.sqrt(b/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(c){var b=Math.sqrt(c/(2*jw)),a=b*jw;return"M0,"+-b+"L"+a+",0 0,"+b+" "+-a+",0Z"},square:function(b){var a=Math.sqrt(b)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(c){var a=Math.sqrt(c/fn),b=a*fn/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(c){var a=Math.sqrt(c/fn),b=a*fn/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}});d3.svg.symbolTypes=g7.keys();var fn=Math.sqrt(3),jw=Math.tan(30*Math.PI/180);d3.svg.axis=function(){var k=d3.scale.linear(),f="bottom",j=6,h=6,m=6,a=3,b=[10],g=null,c,d=0;function l(n){n.each(function(){var K=d3.select(this);var I=g==null?k.ticks?k.ticks.apply(k,b):k.domain():g,q=c==null?k.tickFormat?k.tickFormat.apply(k,b):String:c;var D=kI(k,I,d),E=K.selectAll(".minor").data(D,String),O=E.enter().insert("line","g").attr("class","tick minor").style("opacity",0.000001),p=d3.transition(E.exit()).style("opacity",0.000001).remove(),u=d3.transition(E).style("opacity",1);var M=K.selectAll("g").data(I,String),t=M.enter().insert("g","path").style("opacity",0.000001),r=d3.transition(M.exit()).style("opacity",0.000001).remove(),B=d3.transition(M).style("opacity",1),w;var v=ki(k),s=K.selectAll(".domain").data([0]),G=s.enter().append("path").attr("class","domain"),H=d3.transition(s);var o=k.copy(),N=this.__chart__||o;this.__chart__=o;t.append("line").attr("class","tick");t.append("text");var F=t.select("line"),J=B.select("line"),x=M.select("text").text(q),C=t.select("text"),L=B.select("text");switch(f){case"bottom":w=gD;O.attr("y2",h);u.attr("x2",0).attr("y2",h);F.attr("y2",j);C.attr("y",Math.max(j,0)+a);J.attr("x2",0).attr("y2",j);L.attr("x",0).attr("y",Math.max(j,0)+a);x.attr("dy",".71em").attr("text-anchor","middle");H.attr("d","M"+v[0]+","+m+"V0H"+v[1]+"V"+m);break;case"top":w=gD;O.attr("y2",-h);u.attr("x2",0).attr("y2",-h);F.attr("y2",-j);C.attr("y",-(Math.max(j,0)+a));J.attr("x2",0).attr("y2",-j);L.attr("x",0).attr("y",-(Math.max(j,0)+a));x.attr("dy","0em").attr("text-anchor","middle");H.attr("d","M"+v[0]+","+-m+"V0H"+v[1]+"V"+-m);break;case"left":w=gH;O.attr("x2",-h);u.attr("x2",-h).attr("y2",0);F.attr("x2",-j);C.attr("x",-(Math.max(j,0)+a));J.attr("x2",-j).attr("y2",0);L.attr("x",-(Math.max(j,0)+a)).attr("y",0);x.attr("dy",".32em").attr("text-anchor","end");H.attr("d","M"+-m+","+v[0]+"H0V"+v[1]+"H"+-m);break;case"right":w=gH;O.attr("x2",h);u.attr("x2",h).attr("y2",0);F.attr("x2",j);C.attr("x",Math.max(j,0)+a);J.attr("x2",j).attr("y2",0);L.attr("x",Math.max(j,0)+a).attr("y",0);x.attr("dy",".32em").attr("text-anchor","start");H.attr("d","M"+m+","+v[0]+"H0V"+v[1]+"H"+m);break}if(k.ticks){t.call(w,N);B.call(w,o);r.call(w,o);O.call(w,N);u.call(w,o);p.call(w,o)}else{var z=o.rangeBand()/2,A=function(P){return o(P)+z};t.call(w,A);B.call(w,A)}})}l.scale=function(n){if(!arguments.length){return k}k=n;return l};l.orient=function(n){if(!arguments.length){return f}f=n;return l};l.ticks=function(){if(!arguments.length){return b}b=arguments;return l};l.tickValues=function(n){if(!arguments.length){return g}g=n;return l};l.tickFormat=function(n){if(!arguments.length){return c}c=n;return l};l.tickSize=function(q,p,o){if(!arguments.length){return j}var n=arguments.length-1;j=+q;h=n>1?+p:j;m=n>0?+arguments[n]:j;return l};l.tickPadding=function(n){if(!arguments.length){return a}a=+n;return l};l.tickSubdivide=function(n){if(!arguments.length){return d}d=+n;return l};return l};function gD(a,b){a.attr("transform",function(c){return"translate("+b(c)+",0)"})}function gH(b,a){b.attr("transform",function(c){return"translate(0,"+a(c)+")"})}function kI(k,d,l){c=[];if(l&&d.length>1){var a=g2(k.domain()),c,h=-1,g=d.length,f=(d[1]-d[0])/++l,j,b;while(++h<g){for(j=l;--j>0;){if((b=+d[h]-j*f)>=a[0]){c.push(b)}}}for(--h,j=0;++j<l&&(b=+d[h]+j*f)<a[1];){c.push(b)}}return c}d3.svg.brush=function(){var h=gy(j,"brushstart","brush","brushend"),f=null,g=null,d=ix[0],a=[[0,0],[0,0]],m;function j(n){n.each(function(){var s=d3.select(this),p=s.selectAll(".background").data([0]),r=s.selectAll(".extent").data([0]),o=s.selectAll(".resize").data(d,String),q;s.style("pointer-events","all").on("mousedown.brush",c).on("touchstart.brush",c);p.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");r.enter().append("rect").attr("class","extent").style("cursor","move");o.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return i3[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");o.style("display",j.empty()?"none":null);o.exit().remove();if(f){q=ki(f);p.attr("x",q[0]).attr("width",q[1]-q[0]);k(s)}if(g){q=ki(g);p.attr("y",q[0]).attr("height",q[1]-q[0]);l(s)}b(s)})}function b(n){n.selectAll(".resize").attr("transform",function(o){return"translate("+a[+/e$/.test(o)][0]+","+a[+/^s/.test(o)][1]+")"})}function k(n){n.select(".extent").attr("x",a[0][0]);n.selectAll(".extent,.n>rect,.s>rect").attr("width",a[1][0]-a[0][0])}function l(n){n.select(".extent").attr("y",a[0][1]);n.selectAll(".extent,.e>rect,.w>rect").attr("height",a[1][1]-a[0][1])}function c(){var H=this,v=d3.select(d3.event.target),C=h.of(H,arguments),r=d3.select(H),p=v.datum(),u=!/^(n|s)$/.test(p)&&f,z=!/^(e|w)$/.test(p)&&g,x=v.classed("extent"),o,n=B(),t;var E=d3.select(window).on("mousemove.brush",D).on("mouseup.brush",w).on("touchmove.brush",D).on("touchend.brush",w).on("keydown.brush",A).on("keyup.brush",F);if(x){n[0]=a[0][0]-n[0];n[1]=a[0][1]-n[1]}else{if(p){var q=+/w$/.test(p),s=+/^n/.test(p);t=[a[1-q][0]-n[0],a[1-s][1]-n[1]];n[0]=a[q][0];n[1]=a[s][1]}else{if(d3.event.altKey){o=n.slice()}}}r.style("pointer-events","none").selectAll(".resize").style("display",null);d3.select("body").style("cursor",v.style("cursor"));C({type:"brushstart"});D();hn();function B(){var I=d3.event.changedTouches;return I?d3.touches(H,I)[0]:d3.mouse(H)}function A(){if(d3.event.keyCode==32){if(!x){o=null;n[0]-=a[1][0];n[1]-=a[1][1];x=2}hn()}}function F(){if(d3.event.keyCode==32&&x==2){n[0]+=a[1][0];n[1]+=a[1][1];x=0;hn()}}function D(){var I=B(),J=false;if(t){I[0]+=t[0];I[1]+=t[1]}if(!x){if(d3.event.altKey){if(!o){o=[(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]}n[0]=a[+(I[0]<o[0])][0];n[1]=a[+(I[1]<o[1])][1]}else{o=null}}if(u&&G(I,f,0)){k(r);J=true}if(z&&G(I,g,1)){l(r);J=true}if(J){b(r);C({type:"brush",mode:x?"move":"resize"})}}function G(J,P,N){var M=ki(P),Q=M[0],R=M[1],L=n[N],I=a[1][N]-a[0][N],O,K;if(x){Q-=L;R-=I+L}O=Math.max(Q,Math.min(R,J[N]));if(x){K=(O+=L)+I}else{if(o){L=Math.max(Q,Math.min(R,2*o[N]-O))}if(L<O){K=O;O=L}else{K=L}}if(a[0][N]!==O||a[1][N]!==K){m=null;a[0][N]=O;a[1][N]=K;return true}}function w(){D();r.style("pointer-events","all").selectAll(".resize").style("display",j.empty()?"none":null);d3.select("body").style("cursor",null);E.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);C({type:"brushend"});hn()}}j.x=function(n){if(!arguments.length){return f}f=n;d=ix[!f<<1|!g];return j};j.y=function(n){if(!arguments.length){return g}g=n;d=ix[!f<<1|!g];return j};j.extent=function(o){var n,s,q,r,p;if(!arguments.length){o=m||a;if(f){n=o[0][0],s=o[1][0];if(!m){n=a[0][0],s=a[1][0];if(f.invert){n=f.invert(n),s=f.invert(s)}if(s<n){p=n,n=s,s=p}}}if(g){q=o[0][1],r=o[1][1];if(!m){q=a[0][1],r=a[1][1];if(g.invert){q=g.invert(q),r=g.invert(r)}if(r<q){p=q,q=r,r=p}}}return f&&g?[[n,q],[s,r]]:f?[n,s]:g&&[q,r]}m=[[0,0],[0,0]];if(f){n=o[0],s=o[1];if(g){n=n[0],s=s[0]}m[0][0]=n,m[1][0]=s;if(f.invert){n=f(n),s=f(s)}if(s<n){p=n,n=s,s=p}a[0][0]=n|0,a[1][0]=s|0}if(g){q=o[0],r=o[1];if(f){q=q[1],r=r[1]}m[0][1]=q,m[1][1]=r;if(g.invert){q=g(q),r=g(r)}if(r<q){p=q,q=r,r=p}a[0][1]=q|0,a[1][1]=r|0}return j};j.clear=function(){m=null;a[0][0]=a[0][1]=a[1][0]=a[1][1]=0;return j};j.empty=function(){return f&&a[0][0]===a[1][0]||g&&a[0][1]===a[1][1]};return d3.rebind(j,h,"on")};var i3={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var ix=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];d3.behavior={};d3.behavior.drag=function(){var a=gy(b,"drag","dragstart","dragend"),d=null;function b(){this.on("mousedown.drag",c).on("touchstart.drag",c)}function c(){var n=this,j=a.of(n,arguments),k=d3.event.target,o,m=g(),l=0;var h=d3.select(window).on("mousemove.drag",f).on("touchmove.drag",f).on("mouseup.drag",p,true).on("touchend.drag",p,true);if(d){o=d.apply(n,arguments);o=[o.x-m[0],o.y-m[1]]}else{o=[0,0]}hn();j({type:"dragstart"});function g(){var r=n.parentNode,s=d3.event.changedTouches;return s?d3.touches(r,s)[0]:d3.mouse(r)}function f(){if(!n.parentNode){return p()}var r=g(),s=r[0]-m[0],t=r[1]-m[1];l|=s|t;m=r;hn();j({type:"drag",x:r[0]+o[0],y:r[1]+o[1],dx:s,dy:t})}function p(){j({type:"dragend"});if(l){hn();if(d3.event.target===k){h.on("click.drag",q,true)}}h.on("mousemove.drag",null).on("touchmove.drag",null).on("mouseup.drag",null).on("touchend.drag",null)}function q(){hn();h.on("click.drag",null)}}b.origin=function(f){if(!arguments.length){return d}d=f;return b};return d3.rebind(b,a,"on")};d3.behavior.zoom=function(){var n=[0,0],m,d=1,u,w=hT,a=gy(z,"zoom"),o,s,t,v,p;function z(){this.on("mousedown.zoom",c).on("mousewheel.zoom",f).on("mousemove.zoom",l).on("DOMMouseScroll.zoom",f).on("dblclick.zoom",k).on("touchstart.zoom",q).on("touchmove.zoom",h).on("touchend.zoom",q)}z.translate=function(A){if(!arguments.length){return n}n=A.map(Number);return z};z.scale=function(A){if(!arguments.length){return d}d=+A;return z};z.scaleExtent=function(A){if(!arguments.length){return w}w=A==null?hT:A.map(Number);return z};z.x=function(A){if(!arguments.length){return s}s=A;o=A.copy();return z};z.y=function(A){if(!arguments.length){return v}v=A;t=A.copy();return z};function x(A){return[(A[0]-n[0])/d,(A[1]-n[1])/d]}function b(A){return[A[0]*d+n[0],A[1]*d+n[1]]}function r(A){d=Math.max(w[0],Math.min(w[1],A))}function j(A,B){B=b(B);n[0]+=A[0]-B[0];n[1]+=A[1]-B[1]}function g(A){if(s){s.domain(o.range().map(function(B){return(B-n[0])/d}).map(o.invert))}if(v){v.domain(t.range().map(function(B){return(B-n[1])/d}).map(t.invert))}d3.event.preventDefault();A({type:"zoom",scale:d,translate:n})}function c(){var D=this,A=a.of(D,arguments),B=d3.event.target,C=0,I=d3.select(window).on("mousemove.zoom",E).on("mouseup.zoom",F),G=x(d3.mouse(D));window.focus();hn();function E(){C=1;j(d3.mouse(D),G);g(A)}function F(){if(C){hn()}I.on("mousemove.zoom",null).on("mouseup.zoom",null);if(C&&d3.event.target===B){I.on("click.zoom",H,true)}}function H(){hn();I.on("click.zoom",null)}}function f(){if(!m){m=x(d3.mouse(this))}r(Math.pow(2,i4()*0.002)*d);j(d3.mouse(this),m);g(a.of(this,arguments))}function l(){m=null}function k(){var A=d3.mouse(this),B=x(A);r(d3.event.shiftKey?d/2:d*2);j(A,B);g(a.of(this,arguments))}function q(){var A=d3.touches(this),C=Date.now();u=d;m={};A.forEach(function(E){m[E.identifier]=x(E)});hn();if(A.length===1){if(C-p<500){var B=A[0],D=x(A[0]);r(d*2);j(B,D);g(a.of(this,arguments))}p=C}}function h(){var C=d3.touches(this),A=C[0],D=m[A.identifier];if(B=C[1]){var B,E=m[B.identifier];A=[(A[0]+B[0])/2,(A[1]+B[1])/2];D=[(D[0]+E[0])/2,(D[1]+E[1])/2];r(d3.event.scale*u)}j(A,D);p=null;g(a.of(this,arguments))}return d3.rebind(z,a,"on")};var hC,hT=[0,Infinity];function i4(){if(!hC){hC=d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode}var b=d3.event,a;try{hC.scrollTop=1000;hC.dispatchEvent(b);a=1000-hC.scrollTop}catch(c){a=b.wheelDelta||-b.detail*5}return a}d3.layout={};d3.layout.bundle=function(){return function(d){var b=[],c=-1,a=d.length;while(++c<a){b.push(jq(d[c]))}return b}};function jq(c){var a=c.source,g=c.target,b=ia(a,g),d=[a];while(a!==b){a=a.parent;d.push(a)}var f=d.length;while(g!==b){d.splice(f,0,g);g=g.parent}return d}function gz(a){var b=[],c=a.parent;while(c!=null){b.push(a);a=c;c=c.parent}b.push(a);return b}function ia(d,g){if(d===g){return d}var f=gz(d),h=gz(g),c=f.pop(),b=h.pop(),a=null;while(c===b){a=c;c=f.pop();b=h.pop()}return a}d3.layout.chord=function(){var g={},f,k,a,l,b=0,j,m,h;function c(){var C={},z=[],n=d3.range(l),u=[],B,r,D,x,A;f=[];k=[];B=0,x=-1;while(++x<l){r=0,A=-1;while(++A<l){r+=a[x][A]}z.push(r);u.push(d3.range(l));B+=r}if(j){n.sort(function(E,F){return j(z[E],z[F])})}if(m){u.forEach(function(E,F){E.sort(function(G,H){return m(a[F][G],a[F][H])})})}B=(2*Math.PI-b*l)/B;r=0,x=-1;while(++x<l){D=r,A=-1;while(++A<l){var t=n[x],v=u[t][A],p=a[t][v],o=r,q=r+=p*B;C[t+"-"+v]={index:t,subindex:v,startAngle:o,endAngle:q,value:p}}k[t]={index:t,startAngle:D,endAngle:r,value:(r-D)/B};r+=b}x=-1;while(++x<l){A=x-1;while(++A<l){var s=C[x+"-"+A],w=C[A+"-"+x];if(s.value||w.value){f.push(s.value<w.value?{source:w,target:s}:{source:s,target:w})}}}if(h){d()}}function d(){f.sort(function(n,o){return h((n.source.value+n.target.value)/2,(o.source.value+o.target.value)/2)})}g.matrix=function(n){if(!arguments.length){return a}l=(a=n)&&a.length;f=k=null;return g};g.padding=function(n){if(!arguments.length){return b}b=n;f=k=null;return g};g.sortGroups=function(n){if(!arguments.length){return j}j=n;f=k=null;return g};g.sortSubgroups=function(n){if(!arguments.length){return m}m=n;f=null;return g};g.sortChords=function(n){if(!arguments.length){return h}h=n;if(f){d()}return g};g.chords=function(){if(!f){c()}return f};g.groups=function(){if(!k){c()}return k};return g};d3.layout.force=function(){var t={},q=d3.dispatch("start","tick","end"),d=[1,1],m,p,j=0.9,h=h4,r=jh,a=-30,n=0.1,g=0.8,k,b=[],s=[],l,u,f;function o(v){return function(z,E,A,F,B){if(z.point!==v){var w=z.cx-v.x,x=z.cy-v.y,C=1/Math.sqrt(w*w+x*x);if((F-E)*C<g){var D=z.charge*C*C;v.px-=w*D;v.py-=x*D;return true}if(z.point&&isFinite(C)){var D=z.pointCharge*C*C;v.px-=w*D;v.py-=x*D}}return !z.charge}}t.tick=function(){if((p*=0.99)<0.005){q.end({type:"end",alpha:p=0});return true}var E=b.length,D=s.length,G,A,F,v,w,C,B,x,z;for(A=0;A<D;++A){F=s[A];v=F.source;w=F.target;x=w.x-v.x;z=w.y-v.y;if(C=x*x+z*z){C=p*u[A]*((C=Math.sqrt(C))-l[A])/C;x*=C;z*=C;w.x-=x*(B=v.weight/(w.weight+v.weight));w.y-=z*B;v.x+=x*(B=1-B);v.y+=z*B}}if(B=p*n){x=d[0]/2;z=d[1]/2;A=-1;if(B){while(++A<E){F=b[A];F.x+=(x-F.x)*B;F.y+=(z-F.y)*B}}}if(a){f1(G=d3.geom.quadtree(b),p,f);A=-1;while(++A<E){if(!(F=b[A]).fixed){G.visit(o(F))}}}A=-1;while(++A<E){F=b[A];if(F.fixed){F.x=F.px;F.y=F.py}else{F.x-=(F.px-(F.px=F.x))*j;F.y-=(F.py-(F.py=F.y))*j}}q.tick({type:"tick",alpha:p})};t.nodes=function(v){if(!arguments.length){return b}b=v;return t};t.links=function(v){if(!arguments.length){return s}s=v;return t};t.size=function(v){if(!arguments.length){return d}d=v;return t};t.linkDistance=function(v){if(!arguments.length){return h}h=ju(v);return t};t.distance=t.linkDistance;t.linkStrength=function(v){if(!arguments.length){return r}r=ju(v);return t};t.friction=function(v){if(!arguments.length){return j}j=v;return t};t.charge=function(v){if(!arguments.length){return a}a=typeof v==="function"?v:+v;return t};t.gravity=function(v){if(!arguments.length){return n}n=v;return t};t.theta=function(v){if(!arguments.length){return g}g=v;return t};t.alpha=function(v){if(!arguments.length){return p}if(p){if(v>0){p=v}else{p=0}}else{if(v>0){q.start({type:"start",alpha:p=v});d3.timer(t.tick)}}return t};t.start=function(){var B,C,E=b.length,D=s.length,x=d[0],z=d[1],v,F;for(B=0;B<E;++B){(F=b[B]).index=B;F.weight=0}l=[];u=[];for(B=0;B<D;++B){F=s[B];if(typeof F.source=="number"){F.source=b[F.source]}if(typeof F.target=="number"){F.target=b[F.target]}l[B]=h.call(this,F,B);u[B]=r.call(this,F,B);++F.source.weight;++F.target.weight}for(B=0;B<E;++B){F=b[B];if(isNaN(F.x)){F.x=A("x",x)}if(isNaN(F.y)){F.y=A("y",z)}if(isNaN(F.px)){F.px=F.x}if(isNaN(F.py)){F.py=F.y}}f=[];if(typeof a==="function"){for(B=0;B<E;++B){f[B]=+a.call(this,b[B],B)}}else{for(B=0;B<E;++B){f[B]=a}}function A(J,K){var L=w(B),G=-1,H=L.length,I;while(++G<H){if(!isNaN(I=L[G][J])){return I}}return Math.random()*K}function w(){if(!v){v=[];for(C=0;C<E;++C){v[C]=[]}for(C=0;C<D;++C){var G=s[C];v[G.source.index].push(G.target);v[G.target.index].push(G.source)}}return v[B]}return t.resume()};t.resume=function(){return t.alpha(0.1)};t.stop=function(){return t.alpha(0)};t.drag=function(){if(!m){m=d3.behavior.drag().origin(iK).on("dragstart",c).on("drag",go).on("dragend",iL)}this.on("mouseover.force",hV).on("mouseout.force",f2).call(m)};function c(v){hV(gc=v);gF=t}return d3.rebind(t,q,"on")};var gF,gc;function hV(a){a.fixed|=2}function f2(a){if(a!==gc){a.fixed&=1}}function iL(){gc.fixed&=1;gF=gc=null}function go(){gc.px=d3.event.x;gc.py=d3.event.y;gF.resume()}function f1(a,h,b){var f=0,k=0;a.charge=0;if(!a.leaf){var g=a.nodes,l=g.length,d=-1,c;while(++d<l){c=g[d];if(c==null){continue}f1(c,h,b);a.charge+=c.charge;f+=c.charge*c.cx;k+=c.charge*c.cy}}if(a.point){if(!a.leaf){a.point.x+=Math.random()-0.5;a.point.y+=Math.random()-0.5}var j=h*b[a.point.index];a.charge+=a.pointCharge=j;f+=j*a.point.x;k+=j*a.point.y}a.cx=f/a.charge;a.cy=k/a.charge}function h4(a){return 20}function jh(a){return 1}d3.layout.partition=function(){var c=d3.layout.hierarchy(),b=[1,1];function f(n,j,g,h){var p=n.children;n.x=j;n.y=n.depth*h;n.dx=g;n.dy=h;if(p&&(o=p.length)){var m=-1,o,k,l;g=n.value?g/n.value:0;while(++m<o){f(k=p[m],j,l=k.value*g,h);j+=l}}}function a(l){var g=l.children,k=0;if(g&&(j=g.length)){var h=-1,j;while(++h<j){k=Math.max(k,a(g[h]))}}return 1+k}function d(j,g){var h=c.call(this,j,g);f(h[0],0,b[0],b[1]/a(h[0]));return h}d.size=function(g){if(!arguments.length){return b}b=g;return d};return f6(d,c)};d3.layout.pie=function(){var a=Number,b=jl,c=0,d=2*Math.PI;function f(j,l){var n=j.map(function(o,p){return +a.call(f,o,p)});var h=+(typeof c==="function"?c.apply(this,arguments):c);var g=((typeof d==="function"?d.apply(this,arguments):d)-c)/d3.sum(n);var m=d3.range(j.length);if(b!=null){m.sort(b===jl?function(o,p){return n[p]-n[o]}:function(o,p){return b(j[o],j[p])})}var k=[];m.forEach(function(p){var o;k[p]={data:j[p],value:o=n[p],startAngle:h,endAngle:h+=o*g}});return k}f.value=function(g){if(!arguments.length){return a}a=g;return f};f.sort=function(g){if(!arguments.length){return b}b=g;return f};f.startAngle=function(g){if(!arguments.length){return c}c=g;return f};f.endAngle=function(g){if(!arguments.length){return d}d=g;return f};return f};var jl={};d3.layout.stack=function(){var d=iK,f=kS,b=f8,c=io,g=iN,a=iQ;function h(t,r){var s=t.map(function(u,v){return d.call(h,u,v)});var q=s.map(function(u,v){return u.map(function(w,x){return[g.call(h,w,x),a.call(h,w,x)]})});var l=f.call(h,q,r);s=d3.permute(s,l);q=d3.permute(q,l);var m=b.call(h,q,r);var o=s.length,n=s[0].length,j,k,p;for(k=0;k<n;++k){c.call(h,s[0][k],p=m[k],q[0][k][1]);for(j=1;j<o;++j){c.call(h,s[j][k],p+=q[j-1][k][1],q[j][k][1])}}return t}h.values=function(j){if(!arguments.length){return d}d=j;return h};h.order=function(j){if(!arguments.length){return f}f=typeof j==="function"?j:j4.get(j)||kS;return h};h.offset=function(j){if(!arguments.length){return b}b=typeof j==="function"?j:i2.get(j)||f8;return h};h.x=function(j){if(!arguments.length){return g}g=j;return h};h.y=function(j){if(!arguments.length){return a}a=j;return h};h.out=function(j){if(!arguments.length){return c}c=j;return h};return h};function iN(a){return a.x}function iQ(a){return a.y}function io(b,c,a){b.y0=c;b.y=a}var j4=d3.map({"inside-out":function(j){var l=j.length,g,k,b=j.map(fs),f=j.map(k9),d=d3.range(l).sort(function(n,o){return b[n]-b[o]}),c=0,h=0,a=[],m=[];for(g=0;g<l;++g){k=d[g];if(c<h){c+=f[k];a.push(k)}else{h+=f[k];m.push(k)}}return m.reverse().concat(a)},reverse:function(a){return d3.range(a.length).reverse()},"default":kS});var i2=d3.map({silhouette:function(g){var k=g.length,j=g[0].length,c=[],b=0,d,h,f,a=[];for(h=0;h<j;++h){for(d=0,f=0;d<k;d++){f+=g[d][h][1]}if(f>b){b=f}c.push(f)}for(h=0;h<j;++h){a[h]=(b-c[h])/2}return a},wiggle:function(j){var q=j.length,d=j[0],p=d.length,g=0,h,k,m,a,b,f,o,l,n,c=[];c[0]=l=n=0;for(k=1;k<p;++k){for(h=0,a=0;h<q;++h){a+=j[h][k][1]}for(h=0,b=0,o=d[k][0]-d[k-1][0];h<q;++h){for(m=0,f=(j[h][k][1]-j[h][k-1][1])/(2*o);m<h;++m){f+=(j[m][k][1]-j[m][k-1][1])/o}b+=f*j[h][k][1]}c[k]=l-=a?b/a*o:0;if(l<n){n=l}}for(k=0;k<p;++k){c[k]-=n}return c},expand:function(b){var j=b.length,h=b[0].length,g=1/j,d,f,a,c=[];for(f=0;f<h;++f){for(d=0,a=0;d<j;d++){a+=b[d][f][1]}if(a){for(d=0;d<j;d++){b[d][f][1]/=a}}else{for(d=0;d<j;d++){b[d][f][1]=g}}}for(f=0;f<h;++f){c[f]=0}return c},zero:f8});function kS(a){return d3.range(a.length)}function f8(a){var c=-1,d=a[0].length,b=[];while(++c<d){b[c]=0}return b}function fs(a){var c=1,d=0,f=a[0][1],g,b=a.length;for(;c<b;++c){if((g=a[c][1])>f){d=c;f=g}}return d}function k9(a){return a.reduce(ga,0)}function ga(b,a){return b+a[1]}d3.layout.histogram=function(){var a=true,d=Number,f=ll,c=gf;function b(m,l){var r=[],h=m.map(d,this),k=f.call(this,h,l),g=c.call(this,k,h,l),q,l=-1,p=h.length,o=g.length-1,n=a?1:1/p,j;while(++l<o){q=r[l]=[];q.dx=g[l+1]-(q.x=g[l]);q.y=0}if(o>0){l=-1;while(++l<p){j=h[l];if(j>=k[0]&&j<=k[1]){q=r[d3.bisect(g,j,1,o)-1];q.y+=n;q.push(m[l])}}}return r}b.value=function(g){if(!arguments.length){return d}d=g;return b};b.range=function(g){if(!arguments.length){return f}f=ju(g);return b};b.bins=function(g){if(!arguments.length){return c}c=typeof g==="number"?function(h){return h3(h,g)}:ju(g);return b};b.frequency=function(g){if(!arguments.length){return a}a=!!g;return b};return b};function gf(a,b){return h3(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function h3(c,a){var d=-1,f=+c[0],g=(c[1]-f)/a,b=[];while(++d<=a){b[d]=g*d+f}return b}function ll(a){return[d3.min(a),d3.max(a)]}d3.layout.hierarchy=function(){var d=h5,f=jZ,b=he;function c(k,l,p){var s=f.call(g,k,l),n=h1?k:{data:k};n.depth=l;p.push(n);if(s&&(o=s.length)){var j=-1,o,r=n.children=[],q=0,m=l+1,h;while(++j<o){h=c(s[j],m,p);h.parent=n;r.push(h);q+=h.value}if(d){r.sort(d)}if(b){n.value=q}}else{if(b){n.value=+b.call(g,k,l)||0}}return n}function a(l,k){var m=l.children,h=0;if(m&&(j=m.length)){var n=-1,j,o=k+1;while(++n<j){h+=a(m[n],o)}}else{if(b){h=+b.call(g,h1?l:l.data,k)||0}}if(b){l.value=h}return h}function g(j){var h=[];c(j,0,h);return h}g.sort=function(h){if(!arguments.length){return d}d=h;return g};g.children=function(h){if(!arguments.length){return f}f=h;return g};g.value=function(h){if(!arguments.length){return b}b=h;return g};g.revalue=function(h){a(h,0);return h};return g};function f6(a,b){d3.rebind(a,b,"sort","children","value");a.links=f5;a.nodes=function(c){h1=true;return(a.nodes=a)(c)};return a}function jZ(a){return a.children}function he(a){return a.value}function h5(a,b){return b.value-a.value}function f5(a){return d3.merge(a.map(function(b){return(b.children||[]).map(function(c){return{source:b,target:c}})}))}var h1=false;d3.layout.pack=function(){var d=d3.layout.hierarchy().sort(jI),a=0,b=[1,1];function c(j,m){var n=d.call(this,j,m),g=n[0];g.x=0;g.y=0;hD(g,function(o){o.r=Math.sqrt(o.value)});hD(g,jp);var h=b[0],l=b[1],f=Math.max(2*g.r/h,2*g.r/l);if(a>0){var k=a*f/2;hD(g,function(o){o.r+=k});hD(g,jp);hD(g,function(o){o.r-=k});f=Math.max(2*g.r/h,2*g.r/l)}gB(g,h/2,l/2,1/f);return n}c.size=function(f){if(!arguments.length){return b}b=f;return c};c.padding=function(f){if(!arguments.length){return a}a=+f;return c};return f6(c,d)};function jI(a,b){return a.value-b.value}function kR(b,c){var a=b._pack_next;b._pack_next=c;c._pack_prev=b;c._pack_next=a;a._pack_prev=c}function jP(a,b){a._pack_next=b;b._pack_prev=a}function hb(c,f){var b=f.x-c.x,d=f.y-c.y,a=c.r+f.r;return a*a-b*b-d*d>0.001}function jp(c){if(!(d=c.children)||!(f=d.length)){return}var d,p=Infinity,h=-Infinity,v=Infinity,q=-Infinity,k,m,n,r,a,b,f;function t(w){p=Math.min(w.x-w.r,p);h=Math.max(w.x+w.r,h);v=Math.min(w.y-w.r,v);q=Math.max(w.y+w.r,q)}d.forEach(ku);k=d[0];k.x=-k.r;k.y=0;t(k);if(f>1){m=d[1];m.x=m.r;m.y=0;t(m);if(f>2){n=d[2];jT(k,m,n);t(n);kR(k,n);k._pack_prev=n;kR(n,m);m=k._pack_next;for(r=3;r<f;r++){jT(k,m,n=d[r]);var u=0,o=1,s=1;for(a=m._pack_next;a!==m;a=a._pack_next,o++){if(hb(a,n)){u=1;break}}if(u==1){for(b=k._pack_prev;b!==a._pack_prev;b=b._pack_prev,s++){if(hb(b,n)){break}}}if(u){if(o<s||o==s&&m.r<k.r){jP(k,m=a)}else{jP(k=b,m)}r--}else{kR(k,n);m=n;t(n)}}}}var j=(p+h)/2,l=(v+q)/2,g=0;for(r=0;r<f;r++){n=d[r];n.x-=j;n.y-=l;g=Math.max(g,n.r+Math.sqrt(n.x*n.x+n.y*n.y))}c.r=g;d.forEach(jn)}function ku(a){a._pack_next=a._pack_prev=a}function jn(a){delete a._pack_next;delete a._pack_prev}function gB(c,h,a,g){var d=c.children;c.x=h+=g*c.x;c.y=a+=g*c.y;c.r*=g;if(d){var f=-1,b=d.length;while(++f<b){gB(d[f],h,a,g)}}}function jT(h,k,g){var d=h.r+g.r,a=k.x-h.x,c=k.y-h.y;if(d&&(a||c)){var b=k.r+g.r,f=a*a+c*c;b*=b;d*=d;var j=0.5+(d-b)/(2*f),l=Math.sqrt(Math.max(0,2*b*(d+f)-(d-=f)*d-b*b))/(2*f);g.x=h.x+j*a+l*c;g.y=h.y+j*c-l*a}else{g.x=h.x+d;g.y=h.y}}d3.layout.cluster=function(){var c=d3.layout.hierarchy().sort(null).value(null),a=k4,b=[1,1];function d(h,l){var p=c.call(this,h,l),g=p[0],f,r=0,j,k;hD(g,function(s){var t=s.children;if(t&&t.length){s.x=le(t);s.y=lf(t)}else{s.x=f?r+=a(s,f):0;s.y=0;f=s}});var m=jF(g),q=kT(g),n=m.x-a(m,q)/2,o=q.x+a(q,m)/2;hD(g,function(s){s.x=(s.x-n)/(o-n)*b[0];s.y=(1-(g.y?s.y/g.y:1))*b[1]});return p}d.separation=function(f){if(!arguments.length){return a}a=f;return d};d.size=function(f){if(!arguments.length){return b}b=f;return d};return f6(d,c)};function lf(a){return 1+d3.max(a,function(b){return b.y})}function le(a){return a.reduce(function(c,b){return c+b.x},0)/a.length}function jF(a){var b=a.children;return b&&b.length?jF(b[0]):a}function kT(b){var c=b.children,a;return c&&(a=c.length)?kT(c[a-1]):b}d3.layout.tree=function(){var c=d3.layout.hierarchy().sort(null).value(null),a=k4,b=[1,1];function d(h,k){var o=c.call(this,h,k),f=o[0];function j(A,E){var C=A.children,w=A._tree;if(C&&(B=C.length)){var B,u=C[0],v,x=u,D,z=-1;while(++z<B){D=C[z];j(D,v);x=q(D,v,x);v=D}k1(A);var t=0.5*(u._tree.prelim+D._tree.prelim);if(E){w.prelim=E._tree.prelim+a(A,E);w.mod=w.prelim-t}else{w.prelim=t}}else{if(E){w.prelim=E._tree.prelim+a(A,E)}}}function g(t,w){t.x=t._tree.prelim+w;var u=t.children;if(u&&(x=u.length)){var v=-1,x;w+=t._tree.mod;while(++v<x){g(u[v],w)}}}function q(B,F,x){if(F){var C=B,D=B,z=F,A=B.parent.children[0],v=C._tree.mod,w=D._tree.mod,t=z._tree.mod,u=A._tree.mod,E;while(z=kO(z),C=fE(C),z&&C){A=fE(A);D=kO(D);D._tree.ancestor=B;E=z._tree.prelim+t-C._tree.prelim-v+a(z,C);if(E>0){fB(hN(z,B,x),B,E);v+=E;w+=E}t+=z._tree.mod;v+=C._tree.mod;u+=A._tree.mod;w+=D._tree.mod}if(z&&!kO(D)){D._tree.thread=z;D._tree.mod+=t-w}if(C&&!fE(A)){A._tree.thread=C;A._tree.mod+=v-u;x=B}}return x}hD(f,function(t,u){t._tree={ancestor:t,prelim:0,mod:0,change:0,shift:0,number:u?u._tree.number+1:0}});j(f);g(f,-f._tree.prelim);var l=hH(f,k5),p=hH(f,kw),r=hH(f,g4),m=l.x-a(l,p)/2,n=p.x+a(p,l)/2,s=r.depth||1;hD(f,function(t){t.x=(t.x-m)/(n-m)*b[0];t.y=t.depth/s*b[1];delete t._tree});return o}d.separation=function(f){if(!arguments.length){return a}a=f;return d};d.size=function(f){if(!arguments.length){return b}b=f;return d};return f6(d,c)};function k4(a,b){return a.parent==b.parent?1:2}function fE(a){var b=a.children;return b&&b.length?b[0]:a._tree.thread}function kO(b){var c=b.children,a;return c&&(a=c.length)?c[a-1]:b._tree.thread}function hH(d,c){var f=d.children;if(f&&(b=f.length)){var a,b,g=-1;while(++g<b){if(c(a=hH(f[g],c),d)>0){d=a}}}return d}function kw(a,b){return a.x-b.x}function k5(a,b){return b.x-a.x}function g4(a,b){return a.depth-b.depth}function hD(b,a){function c(l,d){var f=l.children;if(f&&(k=f.length)){var j,g=null,h=-1,k;while(++h<k){j=f[h];c(j,g);g=j}}a(l,d)}c(b,null)}function k1(c){var g=0,a=0,d=c.children,f=d.length,b;while(--f>=0){b=d[f]._tree;b.prelim+=g;b.mod+=g;g+=b.shift+(a+=b.change)}}function fB(c,b,d){c=c._tree;b=b._tree;var a=d/(b.number-c.number);c.change+=a;b.change-=a;b.shift+=d;b.prelim+=d;b.mod+=d}function hN(c,a,b){return c._tree.ancestor.parent==a.parent?c._tree.ancestor:b}d3.layout.treemap=function(){var h=d3.layout.hierarchy(),c=Math.round,a=[1,1],g=null,m=j5,f=false,k,j=0.5*(1+Math.sqrt(5));function p(t,v){var u=-1,q=t.length,r,s;while(++u<q){s=(r=t[u]).value*(v<0?0:v);r.area=isNaN(s)||s<=0?0:s}}function n(v){var z=v.children;if(z&&z.length){var s=m(v),q=[],t=z.slice(),A,u=Infinity,w,r=Math.min(s.dx,s.dy),x;p(t,s.dx*s.dy/v.value);q.area=0;while((x=t.length)>0){q.push(A=t[x-1]);q.area+=A.area;if((w=o(q,r))<=u){t.pop();u=w}else{q.area-=q.pop().area;l(q,r,s,false);r=Math.min(s.dx,s.dy);q.length=q.area=0;u=Infinity}}if(q.length){l(q,r,s,true);q.length=q.area=0}z.forEach(n)}}function b(s){var v=s.children;if(v&&v.length){var t=m(s),u=v.slice(),q,r=[];p(u,t.dx*t.dy/s.value);r.area=0;while(q=u.pop()){r.push(q);r.area+=q.area;if(q.z!=null){l(r,q.z?t.dx:t.dy,t,!u.length);r.length=r.area=0}}v.forEach(b)}}function o(r,v){var t=r.area,s,x=0,w=Infinity,u=-1,q=r.length;while(++u<q){if(!(s=r[u].area)){continue}if(s<w){w=s}if(s>x){x=s}}t*=t;v*=v;return t?Math.max(v*x*j/t,t/(v*w*j)):Infinity}function l(q,r,v,s){var x=-1,z=q.length,u=v.x,w=v.y,t=r?c(q.area/r):0,A;if(r==v.dx){if(s||t>v.dy){t=v.dy}while(++x<z){A=q[x];A.x=u;A.y=w;A.dy=t;u+=A.dx=Math.min(v.x+v.dx-u,t?c(A.area/t):0)}A.z=true;A.dx+=v.x+v.dx-u;v.y+=t;v.dy-=t}else{if(s||t>v.dx){t=v.dx}while(++x<z){A=q[x];A.x=u;A.y=w;A.dx=t;w+=A.dy=Math.min(v.y+v.dy-w,t?c(A.area/t):0)}A.z=false;A.dy+=v.y+v.dy-w;v.x+=t;v.dx-=t}}function d(q){var r=k||h(q),s=r[0];s.x=0;s.y=0;s.dx=a[0];s.dy=a[1];if(k){h.revalue(s)}p([s],s.dx*s.dy/s.value);(k?b:n)(s);if(f){k=r}return r}d.size=function(q){if(!arguments.length){return a}a=q;return d};d.padding=function(t){if(!arguments.length){return g}function q(v){var u=t.call(d,v,v.depth);return u==null?j5(v):kg(v,typeof u==="number"?[u,u,u,u]:u)}function r(u){return kg(u,t)}var s;m=(g=t)==null?j5:(s=typeof t)==="function"?q:s==="number"?(t=[t,t,t,t],r):r;return d};d.round=function(q){if(!arguments.length){return c!=Number}c=q?Math.round:Number;return d};d.sticky=function(q){if(!arguments.length){return f}f=q;k=null;return d};d.ratio=function(q){if(!arguments.length){return j}j=q;return d};return f6(d,h)};function j5(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function kg(c,b){var g=c.x+b[3],a=c.y+b[0],d=c.dx-b[1]-b[3],f=c.dy-b[0]-b[2];if(d<0){g+=d/2;d=0}if(f<0){a+=f/2;f=0}return{x:g,y:a,dx:d,dy:f}}function jz(f,j){var b=new RegExp("\r\n|["+f+"\r\n]","g"),c=new RegExp('["'+f+"\n]"),d=f.charCodeAt(0);function a(l,k){d3.text(l,j,function(m){k(m&&a.parse(m))})}a.parse=function(l){var k;return a.parseRows(l,function(p,n){if(n){var m={},o=-1,q=k.length;while(++o<q){m[k[o]]=p[o]}return m}else{k=p;return null}})};a.parseRows=function(s,l){var o={},m={},q=[],p=0,r,k;b.lastIndex=0;function n(){if(b.lastIndex>=s.length){return m}if(k){k=false;return o}var v=b.lastIndex;if(s.charCodeAt(v)===34){var u=v;while(u++<s.length){if(s.charCodeAt(u)===34){if(s.charCodeAt(u+1)!==34){break}u++}}b.lastIndex=u+2;var x=s.charCodeAt(u+1);if(x===13){k=true;if(s.charCodeAt(u+2)===10){b.lastIndex++}}else{if(x===10){k=true}}return s.substring(v+1,u).replace(/""/g,'"')}var w=b.exec(s);if(w){k=w[0].charCodeAt(0)!==d;return s.substring(v,w.index)}b.lastIndex=s.length;return s.substring(v)}while((r=n())!==m){var t=[];while(r!==o&&r!==m){t.push(r);r=n()}if(l&&!(t=l(t,p++))){continue}q.push(t)}return q};a.format=function(k){return k.map(g).join("\n")};function g(k){return k.map(h).join(f)}function h(k){return c.test(k)?'"'+k.replace(/\"/g,'""')+'"':k}return a}d3.csv=jz(",","text/csv");d3.tsv=jz("\t","text/tab-separated-values");d3.geo={};var jk=Math.PI/180;d3.geo.azimuthal=function(){var d="orthographic",a,h=200,j=[480,250],f,b,g,c;function k(q){var o=q[0]*jk-f,r=q[1]*jk,w=Math.cos(o),p=Math.sin(o),m=Math.cos(r),s=Math.sin(r),n=d!=="orthographic"?c*s+g*m*w:null,v,l=d==="stereographic"?1/(1+n):d==="gnomonic"?1/n:d==="equidistant"?(v=Math.acos(n),v?v/Math.sin(v):0):d==="equalarea"?Math.sqrt(2/(1+n)):1,t=l*m*p,u=l*(c*m*w-g*s);return[h*t+j[0],h*u+j[1]]}k.invert=function(n){var r=(n[0]-j[0])/h,m=(n[1]-j[1])/h,q=Math.sqrt(r*r+m*m),p=d==="stereographic"?2*Math.atan(q):d==="gnomonic"?Math.atan(q):d==="equidistant"?q:d==="equalarea"?2*Math.asin(0.5*q):Math.asin(q),o=Math.sin(p),l=Math.cos(p);return[(f+Math.atan2(r*o,q*g*l+m*c*o))/jk,Math.asin(l*c-(q?m*o*g/q:0))/jk]};k.mode=function(l){if(!arguments.length){return d}d=l+"";return k};k.origin=function(l){if(!arguments.length){return a}a=l;f=a[0]*jk;b=a[1]*jk;g=Math.cos(b);c=Math.sin(b);return k};k.scale=function(l){if(!arguments.length){return h}h=+l;return k};k.translate=function(l){if(!arguments.length){return j}j=[+l[0],+l[1]];return k};return k.origin([0,0])};d3.geo.albers=function(){var b=[-98,38],d=[29.5,45.5],f=1000,h=[480,250],c,j,l,a;function k(m){var o=j*(jk*m[0]-c),n=Math.sqrt(l-2*j*Math.sin(jk*m[1]))/j;return[f*n*Math.sin(o)+h[0],f*(n*Math.cos(o)-a)+h[1]]}k.invert=function(m){var r=(m[0]-h[0])/f,o=(m[1]-h[1])/f,q=a+o,p=Math.atan2(r,q),n=Math.sqrt(r*r+q*q);return[(c+p/j)/jk,Math.asin((l-n*n*j*j)/(2*j))/jk]};function g(){var p=jk*d[0],q=jk*d[1],o=jk*b[1],n=Math.sin(p),m=Math.cos(p);c=jk*b[0];j=0.5*(n+Math.sin(q));l=m*m+2*j*n;a=Math.sqrt(l-2*j*Math.sin(o))/j;return k}k.origin=function(m){if(!arguments.length){return b}b=[+m[0],+m[1]];return g()};k.parallels=function(m){if(!arguments.length){return d}d=[+m[0],+m[1]];return g()};k.scale=function(m){if(!arguments.length){return f}f=+m;return k};k.translate=function(m){if(!arguments.length){return h}h=[+m[0],+m[1]];return k};return g()};d3.geo.albersUsa=function(){var f=d3.geo.albers();var a=d3.geo.albers().origin([-160,60]).parallels([55,65]);var b=d3.geo.albers().origin([-160,20]).parallels([8,18]);var c=d3.geo.albers().origin([-60,10]).parallels([8,18]);function d(j){var g=j[0],h=j[1];return(h>50?a:g<-140?b:h<21?c:f)(j)}d.scale=function(g){if(!arguments.length){return f.scale()}f.scale(g);a.scale(g*0.6);b.scale(g);c.scale(g*1.5);return d.translate(f.translate())};d.translate=function(g){if(!arguments.length){return f.translate()}var h=f.scale()/1000,j=g[0],k=g[1];f.translate(g);a.translate([j-400*h,k+170*h]);b.translate([j-190*h,k+200*h]);c.translate([j+580*h,k+430*h]);return d};return d.scale(f.scale())};d3.geo.bonne=function(){var b=200,c=[480,250],h,d,f,g;function a(k){var n=k[0]*jk-h,j=k[1]*jk-d;if(f){var l=g+f-j,m=n*Math.cos(j)/l;n=l*Math.sin(m);j=l*Math.cos(m)-g}else{n*=Math.cos(j);j*=-1}return[b*n+c[0],b*j+c[1]]}a.invert=function(l){var n=(l[0]-c[0])/b,j=(l[1]-c[1])/b;if(f){var k=g+j,m=Math.sqrt(n*n+k*k);j=g+f-m;n=h+m*Math.atan2(n,k)/Math.cos(j)}else{j*=-1;n/=Math.cos(j)}return[n/jk,j/jk]};a.parallel=function(j){if(!arguments.length){return f/jk}g=1/Math.tan(f=j*jk);return a};a.origin=function(j){if(!arguments.length){return[h/jk,d/jk]}h=j[0]*jk;d=j[1]*jk;return a};a.scale=function(j){if(!arguments.length){return b}b=+j;return a};a.translate=function(j){if(!arguments.length){return c}c=[+j[0],+j[1]];return a};return a.origin([0,0]).parallel(45)};d3.geo.equirectangular=function(){var a=500,b=[480,250];function c(f){var g=f[0]/360,d=-f[1]/360;return[a*g+b[0],a*d+b[1]]}c.invert=function(f){var g=(f[0]-b[0])/a,d=(f[1]-b[1])/a;return[360*g,-360*d]};c.scale=function(d){if(!arguments.length){return a}a=+d;return c};c.translate=function(d){if(!arguments.length){return b}b=[+d[0],+d[1]];return c};return c};d3.geo.mercator=function(){var a=500,b=[480,250];function c(f){var g=f[0]/360,d=-(Math.log(Math.tan(Math.PI/4+f[1]*jk/2))/jk)/360;return[a*g+b[0],a*Math.max(-0.5,Math.min(0.5,d))+b[1]]}c.invert=function(f){var g=(f[0]-b[0])/a,d=(f[1]-b[1])/a;return[360*g,2*Math.atan(Math.exp(-360*d*jk))/jk-90]};c.scale=function(d){if(!arguments.length){return a}a=+d;return c};c.translate=function(d){if(!arguments.length){return b}b=[+d[0],+d[1]];return c};return c};function gg(a,b){return function(c){return c&&a.hasOwnProperty(c.type)?a[c.type](c):b}}d3.geo.path=function(){var f=4.5,a=jO(f),g=d3.geo.albersUsa(),h=[];function b(q,o){if(typeof f==="function"){a=jO(f.apply(this,arguments))}n(q);var p=h.length?h.join(""):null;h=[];return p}function d(o){return g(o).join(",")}var n=gg({FeatureCollection:function(r){var o=r.features,q=-1,p=o.length;while(++q<p){h.push(n(o[q].geometry))}},Feature:function(o){n(o.geometry)},Point:function(o){h.push("M",d(o.coordinates),a)},MultiPoint:function(r){var o=r.coordinates,q=-1,p=o.length;while(++q<p){h.push("M",d(o[q]),a)}},LineString:function(r){var o=r.coordinates,q=-1,p=o.length;h.push("M");while(++q<p){h.push(d(o[q]),"L")}h.pop()},MultiLineString:function(p){var r=p.coordinates,t=-1,o=r.length,q,u,s;while(++t<o){q=r[t];u=-1;s=q.length;h.push("M");while(++u<s){h.push(d(q[u]),"L")}h.pop()}},Polygon:function(p){var r=p.coordinates,t=-1,o=r.length,q,u,s;while(++t<o){q=r[t];u=-1;if((s=q.length-1)>0){h.push("M");while(++u<s){h.push(d(q[u]),"L")}h[h.length-1]="Z"}}},MultiPolygon:function(o){var q=o.coordinates,r=-1,x=q.length,u,s,w,t,v,p;while(++r<x){u=q[r];s=-1;w=u.length;while(++s<w){t=u[s];v=-1;if((p=t.length-1)>0){h.push("M");while(++v<p){h.push(d(t[v]),"L")}h[h.length-1]="Z"}}}},GeometryCollection:function(r){var o=r.geometries,q=-1,p=o.length;while(++q<p){h.push(n(o[q]))}}});var m=b.area=gg({FeatureCollection:function(r){var s=0,p=r.features,q=-1,o=p.length;while(++q<o){s+=m(p[q])}return s},Feature:function(o){return m(o.geometry)},Polygon:function(o){return k(o.coordinates)},MultiPolygon:function(r){var p=0,s=r.coordinates,q=-1,o=s.length;while(++q<o){p+=k(s[q])}return p},GeometryCollection:function(r){var s=0,p=r.geometries,q=-1,o=p.length;while(++q<o){s+=m(p[q])}return s}},0);function k(r){var o=l(r[0]),q=0,p=r.length;while(++q<p){o-=l(r[q])}return o}function j(q){var s=d3.geom.polygon(q[0].map(g)),p=s.area(),o=s.centroid(p<0?(p*=-1,1):-1),r=o[0],t=o[1],u=p,v=0,w=q.length;while(++v<w){s=d3.geom.polygon(q[v].map(g));p=s.area();o=s.centroid(p<0?(p*=-1,1):-1);r-=o[0];t-=o[1];u-=p}return[r,t,6*u]}var c=b.centroid=gg({Feature:function(o){return c(o.geometry)},Polygon:function(o){var p=j(o.coordinates);return[p[0]/p[2],p[1]/p[2]]},MultiPolygon:function(o){var p=0,q=o.coordinates,w,r=0,s=0,t=0,u=-1,v=q.length;while(++u<v){w=j(q[u]);r+=w[0];s+=w[1];t+=w[2]}return[r/t,s/t]}});function l(o){return Math.abs(d3.geom.polygon(o.map(g)).area())}b.projection=function(o){g=o;return b};b.pointRadius=function(o){if(typeof o==="function"){f=o}else{f=+o;a=jO(f)}return b};return b};function jO(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+ +2*a+"z"}d3.geo.bounds=function(c){var a=Infinity,f=Infinity,d=-Infinity,b=-Infinity;j2(c,function(h,g){if(h<a){a=h}if(h>d){d=h}if(g<f){f=g}if(g>b){b=g}});return[[a,f],[d,b]]};function j2(a,b){if(fV.hasOwnProperty(a.type)){fV[a.type](a,b)}}var fV={Feature:hj,FeatureCollection:hf,GeometryCollection:gV,LineString:i0,MultiLineString:f0,MultiPoint:i0,MultiPolygon:hr,Point:gr,Polygon:iB};function hj(a,b){j2(a.geometry,b)}function hf(b,c){for(var f=b.features,d=0,a=f.length;d<a;d++){j2(f[d].geometry,c)}}function gV(b,c){for(var f=b.geometries,d=0,a=f.length;d<a;d++){j2(f[d],c)}}function i0(b,c){for(var f=b.coordinates,d=0,a=f.length;d<a;d++){c.apply(null,f[d])}}function f0(a,b){for(var f=a.coordinates,c=0,j=f.length;c<j;c++){for(var g=f[c],d=0,h=g.length;d<h;d++){b.apply(null,g[d])}}}function hr(a,b){for(var f=a.coordinates,c=0,j=f.length;c<j;c++){for(var g=f[c][0],d=0,h=g.length;d<h;d++){b.apply(null,g[d])}}}function gr(a,b){b.apply(null,a.coordinates)}function iB(b,c){for(var f=b.coordinates[0],d=0,a=f.length;d<a;d++){c.apply(null,f[d])}}d3.geo.circle=function(){var a=[0,0],d=90-0.01,c=d*jk,j=d3.geo.greatArc().source(a).target(iK);function k(){}function h(l){return j.distance(l)<c}k.clip=function(l){if(typeof a==="function"){j.source(a.apply(this,arguments))}return b(l)||null};var b=gg({FeatureCollection:function(l){var m=l.features.map(b).filter(iK);return m&&(l=Object.create(l),l.features=m,l)},Feature:function(l){var m=b(l.geometry);return m&&(l=Object.create(l),l.geometry=m,l)},Point:function(l){return h(l.coordinates)&&l},MultiPoint:function(l){var m=l.coordinates.filter(h);return m.length&&{type:l.type,coordinates:m}},LineString:function(l){var m=g(l.coordinates);return m.length&&(l=Object.create(l),l.coordinates=m,l)},MultiLineString:function(l){var m=l.coordinates.map(g).filter(function(n){return n.length});return m.length&&(l=Object.create(l),l.coordinates=m,l)},Polygon:function(l){var m=l.coordinates.map(g);return m[0].length&&(l=Object.create(l),l.coordinates=m,l)},MultiPolygon:function(l){var m=l.coordinates.map(function(n){return n.map(g)}).filter(function(n){return n[0].length});return m.length&&(l=Object.create(l),l.coordinates=m,l)},GeometryCollection:function(l){var m=l.geometries.map(b).filter(iK);return m.length&&(l=Object.create(l),l.geometries=m,l)}});function g(t){var l=-1,n=t.length,m=[],q,r,s,o,p;while(++l<n){p=j.distance(s=t[l]);if(p<c){if(r){m.push(fv(r,s)((o-c)/(o-p)))}m.push(s);q=r=null}else{r=s;if(!q&&m.length){m.push(fv(m[m.length-1],r)((c-o)/(p-o)));q=r}}o=p}q=t[0];r=m[0];if(r&&s[0]===q[0]&&s[1]===q[1]&&!(s[0]===r[0]&&s[1]===r[1])){m.push(r)}return f(m)}function f(o){var m=0,l=o.length,n,s,r=l?[o[0]]:o,q,p=j.source();while(++m<l){q=j.source(o[m-1])(o[m]).coordinates;for(n=0,s=q.length;++n<s;){r.push(q[n])}}j.source(p);return r}k.origin=function(l){if(!arguments.length){return a}a=l;if(typeof a!=="function"){j.source(a)}return k};k.angle=function(l){if(!arguments.length){return d}c=(d=+l)*jk;return k};return d3.rebind(k,j,"precision")};d3.geo.greatArc=function(){var d=j8,a,c=jV,b,g=6*jk,f=fq();function h(){var j=h.distance.apply(this,arguments),m=0,l=g/j,k=[a];while((m+=l)<1){k.push(f(m))}k.push(b);return{type:"LineString",coordinates:k}}h.distance=function(){if(typeof d==="function"){f.source(a=d.apply(this,arguments))}if(typeof c==="function"){f.target(b=c.apply(this,arguments))}return f.distance()};h.source=function(j){if(!arguments.length){return d}d=j;if(typeof d!=="function"){f.source(a=d)}return h};h.target=function(j){if(!arguments.length){return c}c=j;if(typeof c!=="function"){f.target(b=c)}return h};h.precision=function(j){if(!arguments.length){return g/jk}g=j*jk;return h};return h};function j8(a){return a.source}function jV(a){return a.target}function fq(){var n,o,j,a,g,q,p,b,m,c,h,l,d,k;function f(u){var r=Math.sin(u*=d)*k,v=Math.sin(d-u)*k,w=v*g+r*h,s=v*q+r*l,t=v*a+r*c;return[Math.atan2(s,w)/jk,Math.atan2(t,Math.sqrt(w*w+s*s))/jk]}f.distance=function(){if(d==null){k=1/Math.sin(d=Math.acos(Math.max(-1,Math.min(1,a*c+j*m*Math.cos(p-n)))))}return d};f.source=function(t){var s=Math.cos(n=t[0]*jk),r=Math.sin(n);j=Math.cos(o=t[1]*jk);a=Math.sin(o);g=j*s;q=j*r;d=null;return f};f.target=function(s){var t=Math.cos(p=s[0]*jk),r=Math.sin(p);m=Math.cos(b=s[1]*jk);c=Math.sin(b);h=m*t;l=m*r;d=null;return f};return f}function fv(b,c){var a=fq().source(b).target(c);a.distance();return a}d3.geo.greatCircle=d3.geo.circle;d3.geom={};d3.geom.contour=function(j,m){var b=m||hR(j),g=[],d=b[0],f=b[1],a=0,c=0,k=NaN,l=NaN,h=0;do{h=0;if(j(d-1,f-1)){h+=1}if(j(d,f-1)){h+=2}if(j(d-1,f)){h+=4}if(j(d,f)){h+=8}if(h===6){a=l===-1?-1:1;c=0}else{if(h===9){a=0;c=k===1?-1:1}else{a=kl[h];c=kp[h]}}if(a!=k&&c!=l){g.push([d,f]);k=a;l=c}d+=a;f+=c}while(b[0]!=d||b[1]!=f);return g};var kl=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,NaN],kp=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,NaN];function hR(b){var c=0,a=0;while(true){if(b(c,a)){return[c,a]}if(c===0){c=a+1;a=0}else{c=c-1;a=a+1}}}d3.geom.hull=function(f){if(f.length<3){return[]}var g=f.length,n=g-1,p=[],c=[],j,k,h=0,o,a,s,d,m,r,b,q;for(j=1;j<g;++j){if(f[j][1]<f[h][1]){h=j}else{if(f[j][1]==f[h][1]){h=f[j][0]<f[h][0]?j:h}}}for(j=0;j<g;++j){if(j===h){continue}a=f[j][1]-f[h][1];o=f[j][0]-f[h][0];p.push({angle:Math.atan2(a,o),index:j})}p.sort(function(t,u){return t.angle-u.angle});b=p[0].angle;r=p[0].index;m=0;for(j=1;j<n;++j){k=p[j].index;if(b==p[j].angle){o=f[r][0]-f[h][0];a=f[r][1]-f[h][1];s=f[k][0]-f[h][0];d=f[k][1]-f[h][1];if(o*o+a*a>=s*s+d*d){p[j].index=-1}else{p[m].index=-1;b=p[j].angle;m=j;r=k}}else{b=p[j].angle;m=j;r=k}}c.push(h);for(j=0,k=0;j<2;++k){if(p[k].index!==-1){c.push(p[k].index);j++}}q=c.length;for(;k<n;++k){if(p[k].index===-1){continue}while(!ik(c[q-2],c[q-1],p[k].index,f)){--q}c[q++]=p[k].index}var l=[];for(j=0;j<q;++j){l.push(f[c[j]])}return l};function ik(k,l,m,b){var a,c,d,f,g,h,j;a=b[k];c=a[0];d=a[1];a=b[l];f=a[0];g=a[1];a=b[m];h=a[0];j=a[1];return(j-d)*(f-c)-(g-d)*(h-c)>0}d3.geom.polygon=function(a){a.area=function(){var c=0,b=a.length,d=a[b-1][0]*a[0][1],f=a[b-1][1]*a[0][0];while(++c<b){d+=a[c-1][0]*a[c][1];f+=a[c-1][1]*a[c][0]}return(f-d)*0.5};a.centroid=function(d){var c=-1,j=a.length,g=0,k=0,f,h=a[j-1],b;if(!arguments.length){d=-1/(6*a.area())}while(++c<j){f=h;h=a[c];b=f[0]*h[1]-h[0]*f[1];g+=(f[0]+h[0])*b;k+=(f[1]+h[1])*b}return[g*d,k*d]};a.clip=function(f){var c,j=-1,m=a.length,k,l,b=a[m-1],d,g,h;while(++j<m){c=f.slice();f.length=0;d=a[j];g=c[(l=c.length)-1];k=-1;while(++k<l){h=c[k];if(hg(h,b,d)){if(!hg(g,b,d)){f.push(i1(g,h,b,d))}f.push(h)}else{if(hg(g,b,d)){f.push(i1(g,h,b,d))}}g=h}b=d}return f};return a};function hg(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function i1(a,b,m,o){var c=a[0],d=b[0],f=m[0],j=o[0],r=a[1],s=b[1],t=m[1],u=o[1],l=c-f,p=d-c,h=j-f,n=r-t,q=s-r,k=u-t,g=(h*n-k*l)/(k*p-h*q);return[c+g*p,r+g*q]}d3.geom.voronoi=function(a){var b=a.map(function(){return[]});fN(a,function(k){var c,d,l,m,g,j;if(k.a===1&&k.b>=0){c=k.ep.r;d=k.ep.l}else{c=k.ep.l;d=k.ep.r}if(k.a===1){g=c?c.y:-1000000;l=k.c-k.b*g;j=d?d.y:1000000;m=k.c-k.b*j}else{l=c?c.x:-1000000;g=k.c-k.a*l;m=d?d.x:1000000;j=k.c-k.a*m}var f=[l,g],h=[m,j];b[k.region.l.index].push(f,h);b[k.region.r.index].push(f,h)});return b.map(function(d,f){var g=a[f][0],c=a[f][1];d.forEach(function(h){h.angle=Math.atan2(h[0]-g,h[1]-c)});return d.sort(function(j,h){return j.angle-h.angle}).filter(function(j,h){return !h||j.angle-d[h-1].angle>1e-10})})};var la={l:"r",r:"l"};function fN(p,t){var j={list:p.map(function(w,x){return{index:x,x:w[0],y:w[1]}}).sort(function(x,w){return x.y<w.y?-1:x.y>w.y?1:x.x<w.x?-1:x.x>w.x?1:0}),bottomSite:null};var u={list:[],leftEnd:null,rightEnd:null,init:function(){u.leftEnd=u.createHalfEdge(null,"l");u.rightEnd=u.createHalfEdge(null,"l");u.leftEnd.r=u.rightEnd;u.rightEnd.l=u.leftEnd;u.list.unshift(u.leftEnd,u.rightEnd)},createHalfEdge:function(x,w){return{edge:x,side:w,vertex:null,l:null,r:null}},insert:function(x,w){w.l=x;w.r=x.r;x.r.l=w;x.r=w},leftBound:function(x){var w=u.leftEnd;do{w=w.r}while(w!=u.rightEnd&&k.rightOf(w,x));w=w.l;return w},del:function(w){w.l.r=w.r;w.r.l=w.l;w.edge=null},right:function(w){return w.r},left:function(w){return w.l},leftRegion:function(w){return w.edge==null?j.bottomSite:w.edge.region[w.side]},rightRegion:function(w){return w.edge==null?j.bottomSite:w.edge.region[la[w.side]]}};var k={bisect:function(z,C){var B={region:{l:z,r:C},ep:{l:null,r:null}};var D=C.x-z.x,A=C.y-z.y,w=D>0?D:-D,x=A>0?A:-A;B.c=z.x*D+z.y*A+(D*D+A*A)*0.5;if(w>x){B.a=1;B.b=A/D;B.c/=D}else{B.b=1;B.a=D/A;B.c/=A}return B},intersect:function(C,D){var w=C.edge,x=D.edge;if(!w||!x||w.region.r==x.region.r){return null}var z=w.a*x.b-w.b*x.a;if(Math.abs(z)<1e-10){return null}var E=(w.c*x.b-x.c*w.b)/z,G=(x.c*w.a-w.c*x.a)/z,H=w.region.r,A=x.region.r,F,B;if(H.y<A.y||H.y==A.y&&H.x<A.x){F=C;B=w}else{F=D;B=x}var I=E>=B.region.r.x;if(I&&F.side==="l"||!I&&F.side==="r"){return null}return{x:E,y:G}},rightOf:function(A,F){var K=A.edge,C=K.region.r,H=F.x>C.x;if(H&&A.side==="l"){return 1}if(!H&&A.side==="r"){return 0}if(K.a===1){var I=F.y-C.y,E=F.x-C.x,z=0,J=0;if(!H&&K.b<0||H&&K.b>=0){J=z=I>=K.b*E}else{J=F.x+F.y*K.b>K.c;if(K.b<0){J=!J}if(!J){z=1}}if(!z){var G=C.x-K.region.l.x;J=K.b*(E*E-I*I)<G*I*(1+2*E/G+K.b*K.b);if(K.b<0){J=!J}}}else{var D=K.c-K.a*F.x,w=F.y-D,x=F.x-C.x,B=D-C.y;J=w*w>x*x+B*B}return A.side==="l"?J:!J},endPoint:function(x,z,w){x.ep[z]=w;if(!x.ep[la[z]]){return}t(x)},distance:function(x,z){var A=x.x-z.x,w=x.y-z.y;return Math.sqrt(A*A+w*w)}};var v={list:[],insert:function(x,D,w){x.vertex=D;x.ystar=D.y+w;for(var C=0,z=v.list,B=z.length;C<B;C++){var A=z[C];if(x.ystar>A.ystar||x.ystar==A.ystar&&D.x>A.vertex.x){continue}else{break}}z.splice(C,0,x)},del:function(x){for(var z=0,A=v.list,w=A.length;z<w&&A[z]!=x;++z){}A.splice(z,1)},empty:function(){return v.list.length===0},nextEvent:function(x){for(var z=0,A=v.list,w=A.length;z<w;++z){if(A[z]==x){return A[z+1]}}return null},min:function(){var w=v.list[0];return{x:w.vertex.x,y:w.ystar}},extractMin:function(){return v.list.shift()}};u.init();j.bottomSite=j.list.shift();var f=j.list.shift(),l;var b,g,r,o,n;var d,c,m,a,h;var q,s;while(true){if(!v.empty()){l=v.min()}if(f&&(v.empty()||f.y<l.y||f.y==l.y&&f.x<l.x)){b=u.leftBound(f);g=u.right(b);d=u.rightRegion(b);q=k.bisect(d,f);n=u.createHalfEdge(q,"l");u.insert(b,n);a=k.intersect(b,n);if(a){v.del(b);v.insert(b,a,k.distance(a,f))}b=n;n=u.createHalfEdge(q,"r");u.insert(b,n);a=k.intersect(n,g);if(a){v.insert(n,a,k.distance(a,f))}f=j.list.shift()}else{if(!v.empty()){b=v.extractMin();r=u.left(b);g=u.right(b);o=u.right(g);d=u.leftRegion(b);c=u.rightRegion(g);h=b.vertex;k.endPoint(b.edge,b.side,h);k.endPoint(g.edge,g.side,h);u.del(b);v.del(g);u.del(g);s="l";if(d.y>c.y){m=d;d=c;c=m;s="r"}q=k.bisect(d,c);n=u.createHalfEdge(q,s);u.insert(r,n);k.endPoint(q,la[s],h);a=k.intersect(r,n);if(a){v.del(r);v.insert(r,a,k.distance(a,d))}a=k.intersect(n,o);if(a){v.insert(n,a,k.distance(a,d))}}else{break}}}for(b=u.right(u.leftEnd);b!=u.rightEnd;b=u.right(b)){t(b.edge)}}d3.geom.delaunay=function(b){var c=b.map(function(){return[]}),a=[];fN(b,function(d){c[d.region.l.index].push(b[d.region.r.index])});c.forEach(function(k,l){var f=b[l],g=f[0],j=f[1];k.forEach(function(m){m.angle=Math.atan2(m[0]-g,m[1]-j)});k.sort(function(m,n){return m.angle-n.angle});for(var d=0,h=k.length-1;d<h;d++){a.push([f,k[d],k[d+1]])}});return a};d3.geom.quadtree=function(d,n,f,k,g){var o,l=-1,m=d.length;if(m&&isNaN(d[0].x)){d=d.map(jA)}if(arguments.length<5){if(arguments.length===3){g=k=f;f=n}else{n=f=Infinity;k=g=-Infinity;while(++l<m){o=d[l];if(o.x<n){n=o.x}if(o.y<f){f=o.y}if(o.x>k){k=o.x}if(o.y>g){g=o.y}}var a=k-n,b=g-f;if(a>b){g=f+a}else{k=n+b}}}function c(p,q,u,r,v,t){if(isNaN(q.x)||isNaN(q.y)){return}if(p.leaf){var s=p.point;if(s){if(Math.abs(s.x-q.x)+Math.abs(s.y-q.y)<0.01){j(p,q,u,r,v,t)}else{p.point=null;j(p,s,u,r,v,t);j(p,q,u,r,v,t)}}else{p.point=q}}else{j(p,q,u,r,v,t)}}function j(w,z,x,r,A,t){var s=(x+A)*0.5,u=(r+t)*0.5,q=z.x>=s,p=z.y>=u,v=(p<<1)+q;w.leaf=false;w=w.nodes[v]||(w.nodes[v]=ie());if(q){x=s}else{A=s}if(p){r=u}else{t=u}c(w,z,x,r,A,t)}var h=ie();h.add=function(p){c(h,p,n,f,k,g)};h.visit=function(p){ip(p,h,n,f,k,g)};d.forEach(h.add);return h};function ie(){return{leaf:true,nodes:[],point:null}}function ip(g,h,k,a,f,c){if(!g(h,k,a,f,c)){var b=(k+f)*0.5,d=(a+c)*0.5,j=h.nodes;if(j[0]){ip(g,j[0],k,a,b,d)}if(j[1]){ip(g,j[1],b,a,f,d)}if(j[2]){ip(g,j[2],k,d,b,c)}if(j[3]){ip(g,j[3],b,d,f,c)}}}function jA(a){return{x:a[0],y:a[1]}}d3.time={};var ij=Date,hA=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function gM(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}gM.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){hF.setUTCDate.apply(this._,arguments)},setDay:function(){hF.setUTCDay.apply(this._,arguments)},setFullYear:function(){hF.setUTCFullYear.apply(this._,arguments)},setHours:function(){hF.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){hF.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){hF.setUTCMinutes.apply(this._,arguments)},setMonth:function(){hF.setUTCMonth.apply(this._,arguments)},setSeconds:function(){hF.setUTCSeconds.apply(this._,arguments)},setTime:function(){hF.setTime.apply(this._,arguments)}};var hF=Date.prototype;var jy="%a %b %e %H:%M:%S %Y",i6="%m/%d/%y",kc="%H:%M:%S";var jx=hA,kJ=jx.map(iw),jo=["January","February","March","April","May","June","July","August","September","October","November","December"],kB=jo.map(iw);function iw(a){return a.substring(0,3)}d3.time.format=function(c){var a=c.length;function b(f){var g=[],d=-1,h=0,j,k;while(++d<a){if(c.charCodeAt(d)==37){g.push(c.substring(h,d),(k=f3[j=c.charAt(++d)])?k(f):j);h=d+1}}g.push(c.substring(h,d));return g.join("")}b.parse=function(g){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},f=hx(d,c,g,0);if(f!=g.length){return null}if("p" in d){d.H=d.H%12+d.p*12}var h=new ij;h.setFullYear(d.y,d.m,d.d);h.setHours(d.H,d.M,d.S,d.L);return h};b.toString=function(){return c};return b};function hx(h,a,c,g){var b,f,d=0,k=a.length,j=c.length;while(d<k){if(g>=j){return -1}b=a.charCodeAt(d++);if(b==37){f=fH[a.charAt(d++)];if(!f||(g=f(h,c,g))<0){return -1}}else{if(b!=c.charCodeAt(g++)){return -1}}}return g}function iq(a){return new RegExp("^(?:"+a.map(d3.requote).join("|")+")","i")}function fI(b){var c=new kG,d=-1,a=b.length;while(++d<a){c.set(b[d].toLowerCase(),d)}return c}var kY=d3.format("02d"),k0=d3.format("03d"),k2=d3.format("04d"),k7=d3.format("2d");var hE=iq(jx),ic=iq(kJ),gI=iq(jo),gj=fI(jo),iE=iq(kB),kh=fI(kB);var f3={a:function(a){return kJ[a.getDay()]},A:function(a){return jx[a.getDay()]},b:function(a){return kB[a.getMonth()]},B:function(a){return jo[a.getMonth()]},c:d3.time.format(jy),d:function(a){return kY(a.getDate())},e:function(a){return k7(a.getDate())},H:function(a){return kY(a.getHours())},I:function(a){return kY(a.getHours()%12||12)},j:function(a){return k0(1+d3.time.dayOfYear(a))},L:function(a){return k0(a.getMilliseconds())},m:function(a){return kY(a.getMonth()+1)},M:function(a){return kY(a.getMinutes())},p:function(a){return a.getHours()>=12?"PM":"AM"},S:function(a){return kY(a.getSeconds())},U:function(a){return kY(d3.time.sundayOfYear(a))},w:function(a){return a.getDay()},W:function(a){return kY(d3.time.mondayOfYear(a))},x:d3.time.format(i6),X:d3.time.format(kc),y:function(a){return kY(a.getFullYear()%100)},Y:function(a){return k2(a.getFullYear()%10000)},Z:hO,"%":function(a){return"%"}};var fH={a:gO,A:iI,b:kb,B:iA,c:jM,d:fp,e:fp,H:kv,I:kv,L:gW,m:fS,M:kD,p:f9,S:hU,x:fw,X:fX,y:jH,Y:ld};function gO(c,d,b){ic.lastIndex=0;var a=ic.exec(d.substring(b));return a?b+=a[0].length:-1}function iI(c,d,b){hE.lastIndex=0;var a=hE.exec(d.substring(b));return a?b+=a[0].length:-1}function kb(c,d,b){iE.lastIndex=0;var a=iE.exec(d.substring(b));return a?(c.m=kh.get(a[0].toLowerCase()),b+=a[0].length):-1}function iA(c,d,b){gI.lastIndex=0;var a=gI.exec(d.substring(b));return a?(c.m=gj.get(a[0].toLowerCase()),b+=a[0].length):-1}function jM(b,c,a){return hx(b,f3.c.toString(),c,a)}function fw(b,c,a){return hx(b,f3.x.toString(),c,a)}function fX(b,c,a){return hx(b,f3.X.toString(),c,a)}function ld(c,d,b){hw.lastIndex=0;var a=hw.exec(d.substring(b,b+4));return a?(c.y=+a[0],b+=a[0].length):-1}function jH(c,d,b){hw.lastIndex=0;var a=hw.exec(d.substring(b,b+2));return a?(c.y=kr(+a[0]),b+=a[0].length):-1}function kr(a){return a+(a>68?1900:2000)}function fS(c,d,b){hw.lastIndex=0;var a=hw.exec(d.substring(b,b+2));return a?(c.m=a[0]-1,b+=a[0].length):-1}function fp(c,d,b){hw.lastIndex=0;var a=hw.exec(d.substring(b,b+2));return a?(c.d=+a[0],b+=a[0].length):-1}function kv(c,d,b){hw.lastIndex=0;var a=hw.exec(d.substring(b,b+2));return a?(c.H=+a[0],b+=a[0].length):-1}function kD(c,d,b){hw.lastIndex=0;var a=hw.exec(d.substring(b,b+2));return a?(c.M=+a[0],b+=a[0].length):-1}function hU(c,d,b){hw.lastIndex=0;var a=hw.exec(d.substring(b,b+2));return a?(c.S=+a[0],b+=a[0].length):-1}function gW(c,d,b){hw.lastIndex=0;var a=hw.exec(d.substring(b,b+3));return a?(c.L=+a[0],b+=a[0].length):-1}var hw=/^\s*\d+/;function f9(c,d,b){var a=ib.get(d.substring(b,b+=2).toLowerCase());return a==null?-1:(c.p=a,b)}var ib=d3.map({am:0,pm:1});function hO(a){var b=a.getTimezoneOffset(),c=b>0?"-":"+",d=~~(Math.abs(b)/60),f=Math.abs(b)%60;return c+kY(d)+kY(f)}d3.time.format.utc=function(b){var c=d3.time.format(b);function a(f){try{ij=gM;var d=new ij;d._=f;return c(d)}finally{ij=Date}}a.parse=function(d){try{ij=gM;var f=c.parse(d);return f&&f._}finally{ij=Date}};a.toString=c.toString;return a};var h6=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");d3.time.format.iso=Date.prototype.toISOString?k6:h6;function k6(a){return a.toISOString()}k6.parse=function(a){var b=new Date(a);return isNaN(b)?null:b};k6.toString=h6.toString;function ky(d,f,k){function a(n){var l=d(n),m=h(l,1);return n-l<m-n?l:m}function b(l){f(l=d(new ij(l-1)),1);return l}function h(l,m){f(l=new ij(+l),m);return l}function g(n,o,p){var m=b(n),l=[];if(p>1){while(m<o){if(!(k(m)%p)){l.push(new Date(+m))}f(m,1)}}else{while(m<o){l.push(new Date(+m)),f(m,1)}}return l}function j(l,m,n){try{ij=gM;var o=new gM;o._=l;return g(o,m,n)}finally{ij=Date}}d.floor=d;d.round=a;d.ceil=b;d.offset=h;d.range=g;var c=d.utc=h0(d);c.floor=c;c.round=h0(a);c.ceil=h0(b);c.offset=h0(h);c.range=j;return d}function h0(a){return function(c,d){try{ij=gM;var b=new gM;b._=c;return a(b,d)._}finally{ij=Date}}}d3.time.second=ky(function(a){return new ij(Math.floor(a/1000)*1000)},function(b,a){b.setTime(b.getTime()+Math.floor(a)*1000)},function(a){return a.getSeconds()});d3.time.seconds=d3.time.second.range;d3.time.seconds.utc=d3.time.second.utc.range;d3.time.minute=ky(function(a){return new ij(Math.floor(a/60000)*60000)},function(b,a){b.setTime(b.getTime()+Math.floor(a)*60000)},function(a){return a.getMinutes()});d3.time.minutes=d3.time.minute.range;d3.time.minutes.utc=d3.time.minute.utc.range;d3.time.hour=ky(function(b){var a=b.getTimezoneOffset()/60;return new ij((Math.floor(b/3600000-a)+a)*3600000)},function(b,a){b.setTime(b.getTime()+Math.floor(a)*3600000)},function(a){return a.getHours()});d3.time.hours=d3.time.hour.range;d3.time.hours.utc=d3.time.hour.utc.range;d3.time.day=ky(function(a){var b=new ij(0,a.getMonth(),a.getDate());b.setFullYear(a.getFullYear());return b},function(b,a){b.setDate(b.getDate()+a)},function(a){return a.getDate()-1});d3.time.days=d3.time.day.range;d3.time.days.utc=d3.time.day.utc.range;d3.time.dayOfYear=function(b){var a=d3.time.year(b);return Math.floor((b-a-(b.getTimezoneOffset()-a.getTimezoneOffset())*60000)/86400000)};hA.forEach(function(b,a){b=b.toLowerCase();a=7-a;var c=d3.time[b]=ky(function(d){(d=d3.time.day(d)).setDate(d.getDate()-(d.getDay()+a)%7);return d},function(f,d){f.setDate(f.getDate()+Math.floor(d)*7)},function(d){var f=d3.time.year(d).getDay();return Math.floor((d3.time.dayOfYear(d)+(f+a)%7)/7)-(f!==a)});d3.time[b+"s"]=c.range;d3.time[b+"s"].utc=c.utc.range;d3.time[b+"OfYear"]=function(d){var f=d3.time.year(d).getDay();return Math.floor((d3.time.dayOfYear(d)+(f+a)%7)/7)}});d3.time.week=d3.time.sunday;d3.time.weeks=d3.time.sunday.range;d3.time.weeks.utc=d3.time.sunday.utc.range;d3.time.weekOfYear=d3.time.sundayOfYear;d3.time.month=ky(function(a){a=d3.time.day(a);a.setDate(1);return a},function(b,a){b.setMonth(b.getMonth()+a)},function(a){return a.getMonth()});d3.time.months=d3.time.month.range;d3.time.months.utc=d3.time.month.utc.range;d3.time.year=ky(function(a){a=d3.time.day(a);a.setMonth(0,1);return a},function(b,a){b.setFullYear(b.getFullYear()+a)},function(a){return a.getFullYear()});d3.time.years=d3.time.year.range;d3.time.years.utc=d3.time.year.utc.range;function li(d,c,b){function a(f){return d(f)}a.invert=function(f){return hI(d.invert(f))};a.domain=function(f){if(!arguments.length){return d.domain().map(hI)}d.domain(f);return a};a.nice=function(f){return a.domain(iR(a.domain(),function(){return f}))};a.ticks=function(h,g){var k=hX(a.domain());if(typeof h!=="function"){var l=k[1]-k[0],j=l/h,f=d3.bisect(jU,j);if(f==jU.length){return c.year(k,h)}if(!f){return d.ticks(h).map(hI)}if(Math.log(j/jU[f-1])<Math.log(jU[f]/j)){--f}h=c[f];g=h[1];h=h[0].range}return h(k[0],new Date(+k[1]+1),g)};a.tickFormat=function(){return b};a.copy=function(){return li(d.copy(),c,b)};return d3.rebind(a,d,"range","rangeRound","interpolate","clamp")}function hX(b){var a=b[0],c=b[b.length-1];return a<c?[a,c]:[c,a]}function hI(a){return new Date(a)}function kF(a){return function(d){var c=a.length-1,b=a[c];while(!b[1](d)){b=a[--c]}return b[0](d)}}function hL(a){var b=new Date(a,0,1);b.setFullYear(a);return b}function gK(b){var a=b.getFullYear(),c=hL(a),d=hL(a+1);return a+(b-c)/(d-c)}var jU=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000];var iM=[[d3.time.second,1],[d3.time.second,5],[d3.time.second,15],[d3.time.second,30],[d3.time.minute,1],[d3.time.minute,5],[d3.time.minute,15],[d3.time.minute,30],[d3.time.hour,1],[d3.time.hour,3],[d3.time.hour,6],[d3.time.hour,12],[d3.time.day,1],[d3.time.day,2],[d3.time.week,1],[d3.time.month,1],[d3.time.month,3],[d3.time.year,1]];var gh=[[d3.time.format("%Y"),function(a){return true}],[d3.time.format("%B"),function(a){return a.getMonth()}],[d3.time.format("%b %d"),function(a){return a.getDate()!=1}],[d3.time.format("%a %d"),function(a){return a.getDay()&&a.getDate()!=1}],[d3.time.format("%I %p"),function(a){return a.getHours()}],[d3.time.format("%I:%M"),function(a){return a.getMinutes()}],[d3.time.format(":%S"),function(a){return a.getSeconds()}],[d3.time.format(".%L"),function(a){return a.getMilliseconds()}]];var iU=d3.scale.linear(),jr=kF(gh);iM.year=function(a,b){return iU.domain(a.map(gK)).ticks(b).map(hL)};d3.time.scale=function(){return li(d3.scale.linear(),iM,jr)};var fF=iM.map(function(a){return[a[0].utc,a[1]]});var jG=[[d3.time.format.utc("%Y"),function(a){return true}],[d3.time.format.utc("%B"),function(a){return a.getUTCMonth()}],[d3.time.format.utc("%b %d"),function(a){return a.getUTCDate()!=1}],[d3.time.format.utc("%a %d"),function(a){return a.getUTCDay()&&a.getUTCDate()!=1}],[d3.time.format.utc("%I %p"),function(a){return a.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(a){return a.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(a){return a.getUTCSeconds()}],[d3.time.format.utc(".%L"),function(a){return a.getUTCMilliseconds()}]];var kk=kF(jG);function kn(a){var b=new Date(Date.UTC(a,0,1));b.setUTCFullYear(a);return b}function i5(b){var a=b.getUTCFullYear(),c=kn(a),d=kn(a+1);return a+(b-c)/(d-c)}fF.year=function(a,b){return iU.domain(a.map(i5)).ticks(b).map(kn)};d3.time.scale.utc=function(){return li(d3.scale.linear(),fF,kk)}})();var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());(function(){if(!Array.prototype.indexOf){Array.prototype.indexOf=function(S){if(this==null){throw new TypeError()}var T=Object(this);var Q=T.length>>>0;if(Q===0){return -1}var U=0;if(arguments.length>0){U=Number(arguments[1]);if(U!=U){U=0}else{if(U!=0&&U!=Infinity&&U!=-Infinity){U=(U>0||-1)*Math.floor(Math.abs(U))}}}if(U>=Q){return -1}var R=U>=0?U:Math.max(Q-Math.abs(U),0);for(;R<Q;R++){if(R in T&&T[R]===S){return R}}return -1}}if(!Array.prototype.lastIndexOf){Array.prototype.lastIndexOf=function(S){if(this==null){throw new TypeError()}var T=Object(this);var Q=T.length>>>0;if(Q===0){return -1}var U=Q;if(arguments.length>1){U=Number(arguments[1]);if(U!=U){U=0}else{if(U!=0&&U!=(1/0)&&U!=-(1/0)){U=(U>0||-1)*Math.floor(Math.abs(U))}}}var R=U>=0?Math.min(U,Q-1):Q-Math.abs(U);for(;R>=0;R--){if(R in T&&T[R]===S){return R}}return -1}}if(!Array.prototype.filter){Array.prototype.filter=function(R){if(this==null){throw new TypeError()}var V=Object(this);var Q=V.length>>>0;if(typeof R!="function"){throw new TypeError()}var U=[];var T=arguments[1];for(var S=0;S<Q;S++){if(S in V){var W=V[S];if(R.call(T,W,S,V)){U.push(W)}}}return U}}if(!Array.prototype.forEach){Array.prototype.forEach=function(X,R){var U,S;if(this==null){throw new TypeError("this is null or not defined")}var W=Object(this);var Q=W.length>>>0;if({}.toString.call(X)!="[object Function]"){throw new TypeError(X+" is not a function")}if(R){U=R}S=0;while(S<Q){var V;if(S in W){V=W[S];X.call(U,V,S,W)}S++}}}if(!Array.prototype.every){Array.prototype.every=function(R){if(this==null){throw new TypeError()}var U=Object(this);var Q=U.length>>>0;if(typeof R!="function"){throw new TypeError()}var T=arguments[1];for(var S=0;S<Q;S++){if(S in U&&!R.call(T,U[S],S,U)){return false}}return true}}if(!Array.prototype.map){Array.prototype.map=function(Z,Y){var R,Q,S;if(this==null){throw new TypeError(" this is null or not defined")}var V=Object(this);var W=V.length>>>0;if({}.toString.call(Z)!="[object Function]"){throw new TypeError(Z+" is not a function")}if(Y){R=Y}Q=new Array(W);S=0;while(S<W){var U,X;if(S in V){U=V[S];X=Z.call(R,U,S,V);Q[S]=X}S++}return Q}}if(!Array.prototype.some){Array.prototype.some=function(R){if(this==null){throw new TypeError()}var U=Object(this);var Q=U.length>>>0;if(typeof R!="function"){throw new TypeError()}var T=arguments[1];for(var S=0;S<Q;S++){if(S in U&&R.call(T,U[S],S,U)){return true}}return false}}if(!Array.prototype.reduce){Array.prototype.reduce=function m(R){if(this===null||this===l){throw new TypeError("Object is null or undefined")}var S=0,Q=this.length>>0,T;if(typeof R!=="function"){throw new TypeError("First argument is not callable")}if(arguments.length<2){if(Q===0){throw new TypeError("Array length is 0 and no second argument")}T=this[0];S=1}else{T=arguments[1]}while(S<Q){if(S in this){T=R.call(l,T,this[S],S,this)}++S}return T}}if(!Array.prototype.reduceRight){Array.prototype.reduceRight=function(R){if(this==null){throw new TypeError()}var U=Object(this);var Q=U.length>>>0;if(typeof R!="function"){throw new TypeError()}if(Q===0&&arguments.length===1){throw new TypeError()}var T=Q-1;var S;if(arguments.length>=2){S=arguments[1]}else{do{if(T in this){S=this[T--];break}if(--T<0){throw new TypeError()}}while(true)}while(T>=0){if(T in U){S=R.call(l,S,U[T],T,U)}T--}return S}}if(!Function.prototype.bind){Function.prototype.bind=function(Q){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var U=Array.prototype.slice.call(arguments,1),T=this,R=function(){},S=function(){return T.apply(this instanceof R?this:Q,U.concat(Array.prototype.slice.call(arguments)))};R.prototype=this.prototype;S.prototype=new R();return S}}if(!Object.create){Object.create=function(R){if(arguments.length>1){throw new Error("Object.create implementation only accepts the first parameter.")}function Q(){}Q.prototype=R;return new Q()}}function z(U,R){function V(ab){function W(ac,ad){return Object.prototype.hasOwnProperty.call(ac,ad)}function aa(ac){return typeof ac==="function"}if(typeof ab!=="object"||ab===null){throw new TypeError("bad desc")}var Z={};if(W(ab,"enumerable")){Z.enumerable=!!U.enumerable}if(W(ab,"configurable")){Z.configurable=!!U.configurable}if(W(ab,"value")){Z.value=U.value}if(W(ab,"writable")){Z.writable=!!ab.writable}if(W(ab,"get")){var Y=ab.get;if(!aa(Y)&&Y!=="undefined"){throw new TypeError("bad get")}Z.get=Y}if(W(ab,"set")){var X=ab.set;if(!aa(X)&&X!=="undefined"){throw new TypeError("bad set")}Z.set=X}if(("get" in Z||"set" in Z)&&("value" in Z||"writable" in Z)){throw new TypeError("identity-confused descriptor")}return Z}if(typeof U!=="object"||U===null){throw new TypeError("bad obj")}R=Object(R);var S=Object.keys(R);var T=[];for(var Q=0;Q<S.length;Q++){T.push([S[Q],V(R[S[Q]])])}for(var Q=0;Q<T.length;Q++){Object.defineProperty(U,T[Q][0],T[Q][1])}return U}if(!Object.keys){Object.keys=(function(){var S=Object.prototype.hasOwnProperty,T=!({toString:null}).propertyIsEnumerable("toString"),R=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Q=R.length;return function(W){if(typeof W!=="object"&&typeof W!=="function"||W===null){throw new TypeError("Object.keys called on non-object")}var U=[];for(var X in W){if(S.call(W,X)){U.push(X)}}if(T){for(var V=0;V<Q;V++){if(S.call(W,R[V])){U.push(R[V])}}}return U}})()}if(typeof Object.getPrototypeOf!=="function"){if(typeof"test".__proto__==="object"){Object.getPrototypeOf=function(Q){return Q.__proto__}}else{Object.getPrototypeOf=function(Q){return Q.constructor.prototype}}}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}var l=void (0);if(window.sap!==l&&window.sap.riv!==l&&window.sap.riv.module!==l){return}var p=typeof jQuery!=="undefined"?true:false;var q=function(Q){if(p){if(jQuery.holdReady){jQuery.holdReady(Q)}else{if(Q){jQuery.readyWait+=1}else{jQuery.ready(true)}}}};var f=l;var K="/";var j=document.getElementsByTagName("script");var t=function(){};if(j.length&&j[j.length-1].getAttribute("src")&&j[j.length-1].getAttribute("base-url")){f=j[j.length-1];if(((f.getAttribute("trace")||"").toLowerCase()==="true")&&(typeof console!==l)){t=function(Q){console.log(Q)}}var K=f.getAttribute("base-url");if(K.charAt(K.length-1)!=="/"){K=K+"/"}}else{K="./"}window.sap=window.sap||{};window.sap.riv=window.sap.riv||{};var I=0,k=1,n=2,C=3;var c=Object.prototype.hasOwnProperty;var a={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"};var P=function(Q){return Q==null?String(Q):a[Object.prototype.toString.call(Q)]||"object"};var o=function(Q){return P(Q)==="function"};var v=Array.isArray||function(Q){return P(Q)==="array"};var h=function(Q){return P(Q)==="string"};var G=function(Q){return Q&&typeof Q==="object"&&"setInterval" in Q};var O=function(Q){return Q===null||Q===l||Q!=+Q};var N=function(Q){return !O(parseFloat(Q))&&isFinite(Q)};var u=function(Q){return typeof(Q)!=="undefined"};var r=function(Q){return typeof(Q)==="undefined"};var M=function(R){if(!R||P(R)!=="object"||R.nodeType||G(R)){return false}if(R.constructor&&!c.call(R,"constructor")&&!c.call(R.constructor.prototype,"isPrototypeOf")){return false}var Q;for(Q in R){}return Q===l||c.call(R,Q)};var D=function(R){for(var Q in R){return false}return true};var e=function(R,Q){this._qname=R;this._version=Q;this._moduleSetupFunc=l;this._status=I;this._moduleObject=l;this._exportToGlobal=false;this._depList=[];this._pendingDefTaskList=[];q(true)};e.prototype.moduleObject=function(Q){return this._moduleObject};e.prototype.setupFunction=function(Q){if(u(Q)){this._moduleSetupFunc=Q;return this}else{return this._moduleSetupFunc}};e.prototype.setModuleObject=function(Q){this._moduleObject=Q};e.prototype.qname=function(){return this._qname};e.prototype.version=function(){return this._version};e.prototype.status=function(Q){if(Q!==l){this._status=Q;return this}else{return this._status}};e.prototype.dependentModules=function(Q){if(u(Q)){this._depList=Q;return this}else{return this._depList}};e.prototype.exportToGlobal=function(Q){if(u(Q)){this._exportToGlobal=Q;return this}else{return this._exportToGlobal}};e.prototype.waitUntilDefined=function(Q){this._pendingDefTaskList.push(Q)};e.prototype.getPendingDefTasks=function(){return this._pendingDefTaskList};var L={};var F={};var s=function(S,U){if(!F.hasOwnProperty(S)){F[S]=false;var T=document.getElementsByTagName("head")[0]||document.documentElement;var R=document.createElement("script");R.type="text/javascript";R.src=S;var Q=false;R.onload=R.onreadystatechange=function(){if(!Q&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){Q=true;R.onload=R.onreadystatechange=null;if(T&&R.parentNode){T.removeChild(R)}F[S]=true;if(U){U()}}};if(R.addEventListener){R.addEventListener("error",function(){throw new Error("Loading "+S+" failed.")},true)}T.insertBefore(R,T.firstChild)}return l};var d=function(R){if(R===l||typeof R!=="string"){return false}var T=R.split(".");if(T.length>3){return false}for(var S=0,Q=T.length;S<Q;S++){if(parseInt(T[S])===NaN){return false}}return true};var A=function(T,Q){var R=T.split(".");var S=R.splice(R.length-1,1);return K+R.join("/")+"/"+S+"."+Q+".js"};var B=function(W){var Q;if(o(W.setupFunction())){var Y=[];for(var U=0,T,ab=W.dependentModules(),X=ab.length;U<X;U++){T=ab[U];Y.push(L[T.qname][T.version].moduleObject())}Q=W.setupFunction().apply(window,Y)}else{Q=W.moduleObject()}if(W.exportToGlobal()){var Z=W.qname().split(".");var V=window;for(var U=0,S,X=Z.length;U<X;U++){S=Z[U];if(U===X-1){V[S]=Q}else{V[S]=V[S]||{};V=V[S]}}}W.setModuleObject(Q);W.status(n);t(W.qname()+" "+W.version()+" loaded");var aa=W.getPendingDefTasks();while(aa.length){var R=aa.pop();R(W)}q(false)};var w=function(R,Q){return(function(S){delete R[S.qname()][S.version()];if(D(R[S.qname()])){delete R[S.qname()]}if(D(R)){B(Q)}})};sap.riv.module=function(S,ab,W){if(r(S)||r(S.qname)||r(S.version)){throw new Error("Bad Arguments: you have to specify the qname and version for the module.")}if(!h(S.qname)||!d(S.version)){throw new Error("Invalid qname or version string")}if(arguments.length===2){if(!M(ab)&&!o(ab)){throw new Error("You must specify a plain object or a module setup function")}W=ab;ab=[]}if(arguments.length===3){if(!v(ab)||(!M(W)&&!o(W))){throw new Error("Dependencies must be array, and you must specify an plain object or a module setup function")}}var Q=S.qname,aa=S.version,X=r(S.exported)?false:S.exported,Y;if(!c.call(L,Q)||!c.call(L,aa)){L[Q]=L[Q]||{};L[Q][aa]=L[Q][aa]||new e(Q,aa)}Y=L[Q][aa];if(Y.status()===I){if(typeof W==="object"){Y.exportToGlobal(X).setModuleObject(W)}else{var U=[];for(var V=0,R,Z=ab.length;V<Z;V++){R=ab[V];if(!h(R.qname)||!d(R.version)){throw new Error("You must specify qname and version for the depending module")}U.push({qname:R.qname,version:R.version})}Y.exportToGlobal(X).dependentModules(U).setupFunction(W)}}if(Y.status()===n||Y.status()===k){return}Y.status(k);if(Y.dependentModules().length===0){B(Y);return}else{var T={};for(var V=0,ac,U=Y.dependentModules(),Z=U.length;V<Z;V++){ac=U[V];if(!(c.call(L,ac.qname)&&c.call(L[ac.qname],ac.version))||(L[ac.qname][ac.version].status()!==n)){if(ac.qname===g&&!(c.call(L,ac.qname)&&c.call(L[ac.qname],ac.version))){ac.version=H(ac.version);if(L[ac.qname][ac.version].status()===n){continue}}T[ac.qname]=T[ac.qname]||{};T[ac.qname][ac.version]=T[ac.qname][ac.version]||{qname:ac.qname,version:ac.version,url:ac.url||A(ac.qname,ac.version)}}}if(D(T)){B(Y);return}else{for(var Q in T){for(var aa in T[Q]){if(!c.call(L,Q)||!c.call(L[Q],aa)){L[Q]=L[Q]||{};L[Q][aa]=L[Q][aa]||new e(Q,aa);L[Q][aa].waitUntilDefined(w(T,Y));s(T[Q][aa].url)}else{L[Q][aa].waitUntilDefined(w(T,Y))}}}}}};var g="jquery";var H=function(R){var T=+R,S;if(O(T)){throw TypeError(R+" is not an one-decimal number.")}for(var Q in L[g]){if(+Q>T&&(S===l||+Q<S)){S=Q}}if(S===l){throw Error("Can't find a jQuery module with version "+R+" or higher.")}return""+S};sap.riv.config=(function(){var R=g+"-";var T=function(U,W,V){var Y=g,X;U=""+U;if(!c.call(L,Y)||!c.call(L,U)){L[Y]=L[Y]||{};L[Y][U]=L[Y][U]||new e(Y,U)}X=L[Y][U];if(X.status()===I){X.setupFunction(function(){var Z=$;if(!W){$.noConflict()}return Z})}if(X.status()===n||X.status()===k){return}X.status(k);if(W===true){B(X)}else{s(V,function(){B(X)})}};var S=function(V){var W=V.split(".");var U=+(W[0]+"."+W[1]);if(O(U)){console.warn("Can't parse version number from "+U);return l}return U};if(typeof $!=="undefined"){if($&&$.fn&&$.fn.jquery){var Q=S($.fn.jquery);T(Q,true)}}return function(X){if(!X.paths){return}for(var W in X.paths){if(W<=R.length||W.indexOf(R)!==0){console.warn('Unknown config option "'+W+'", must start with jquery-');continue}var Y=W.substring(R.length).split(".");var U=+(Y[0]+"."+Y[1]);if(O(U)){console.warn("Can't parse version number from "+W);continue}var V=X.paths[W];if(V.indexOf(":")<0&&V.charAt(0)!=="/"){V=K+V}T(U,false,V)}}})();var x=function(U,R){var S=[];for(var T=0,V,Q=R.length;T<Q;T++){V=R[T];S.push(L[V.qname][V.version].moduleObject())}U.apply(window,S)};var J=function(R,S,Q){return(function(T){delete R[T.qname()][T.version()];if(D(R[T.qname()])){delete R[T.qname()]}if(D(R)){x(S,Q)}})};sap.riv.require=function(U,S){if(arguments.length===1){if(!o(U)){throw new Error("You have to specify a function to run")}S=U;U=[]}if(arguments.length===2){if(!v(U)||!o(S)){throw new Error("the first argument has to be array of depending modules, the second argument should be function type")}}if(!U.length){x(S,U);return}var W={};for(var T=0,V,Q=U.length;T<Q;T++){V=U[T];if(!(c.call(L,V.qname)&&c.call(L[V.qname],V.version))||(L[V.qname][V.version].status()!==n)){if(V.qname===g&&!(c.call(L,V.qname)&&c.call(L[V.qname],V.version))){V.version=H(V.version);if(L[V.qname][V.version].status()===n){continue}}W[V.qname]=W[V.qname]||{};W[V.qname][V.version]=W[V.qname][V.version]||{qname:V.qname,version:V.version,url:V.url||A(V.qname,V.version)}}}if(D(W)){x(S,U);return}else{for(var X in W){for(var R in W[X]){if(!c.call(L,X)||!c.call(L[X],R)){L[X]=L[X]||{};L[X][R]=L[X][R]||new e(X,R);L[X][R].waitUntilDefined(J(W,S,U));s(W[X][R].url)}else{L[X][R].waitUntilDefined(J(W,S,U))}}}}};var E=function(S){if(S&&/\S/.test(S)){var R=document.getElementsByTagName("head")[0]||document.documentElement,Q=document.createElement("script");Q.type="text/javascript";try{Q.appendChild(document.createTextNode(S))}catch(T){Q.text=S}R.insertBefore(Q,R.firstChild);R.removeChild(Q)}};sap.riv.setBaseUrl=function(Q){K=Q};if(f){var b=f.innerHTML;if(b){E(b)}}})();sap.riv.module({qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},[],function Setup(){var c={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"};var b=Object.prototype.hasOwnProperty;var e=/\d/;var d=function(f){return f==null?String(f):c[Object.prototype.toString.call(f)]||"object"};var a={isFunction:function(f){return d(f)==="function"},isArray:Array.isArray||function(f){return d(f)==="array"},isString:function(f){return d(f)==="string"},isNonEmptyString:function(f){return this.isString(f)&&f.length!==0},isEmptyString:function(f){return a.isString(f)&&f.length===0},isNaN:function(f){return f===null||f===undefined||!e.test(f)||isNaN(f)},isNumber:function(f){return !a.isNaN(parseFloat(f))&&isFinite(f)},isDefined:function(f){return typeof(f)!=="undefined"},isUndefined:function(f){return typeof(f)==="undefined"},isPlainObject:function(g){if(!g||d(g)!=="object"||g.nodeType||(g&&typeof g==="object"&&"setInterval" in g)){return false}if(g.constructor&&!b.call(g,"constructor")&&!b.call(g.constructor.prototype,"isPrototypeOf")){return false}var f;for(f in g){}return f===undefined||b.call(g,f)},isEmptyObject:function(g){for(var f in g){return false}return a.isPlainObject(g)},equals:function(f,h){if(f===h){return true}if(!(f instanceof Object)||!(h instanceof Object)){return false}if(f.constructor!==h.constructor){return false}for(var g in f){if(!f.hasOwnProperty(g)){continue}if(!h.hasOwnProperty(g)){return false}if(f[g]===h[g]){continue}if(typeof(f[g])!=="object"){return false}if(!a.equals(f[g],h[g])){return false}}for(g in h){if(h.hasOwnProperty(g)&&!f.hasOwnProperty(g)){return false}}return true}};return a});sap.riv.module({qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"}],function Setup(a){var g=/\{(\d+)\}/g;var d=Array.prototype.slice;function c(){}function b(j){var h=arguments;if(h[0]){var j=h[0].replace(g,function(k,l){return h[parseInt(l)+1]});throw j}else{throw"Unknown error!"}}function f(){var k=[];function j(){for(var m=0,l=k.length;m<l;m++){k[m].apply(this,arguments)}}function h(){for(var m=0,l=arguments.length;m<l;m++){if(a.isFunction(arguments[m])){k.push(arguments[m])}else{b("Could not create call chain for non-function object")}}}j.chain=function(){return f.apply(null,[].concat(k,d.call(arguments)))};h.apply(null,arguments);return j}var e={noop:c,unsupported:function(h){if(arguments.length){return function(){throw new Error(h||"Unsupported function!")}}else{throw new Error("Unsupported function!")}},unimplemented:function(h){if(arguments.length){return function(){throw new Error(h||"Unimplemented function!")}}else{throw new Error("Unimplemented function!")}},error:b,ascending:function(j,h){return j<h?-1:j>h?1:j>=h?0:NaN},descending:function(j,h){return h<j?-1:h>j?1:h>=j?0:NaN},createCallChain:f};return e});sap.riv.module({qname:"sap.viz.base.Class",version:"4.0.1"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"}],function Setup(e,a){var d=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;var c=e.createCallChain;function b(){}function g(k){var m=b.prototype=this.prototype;var h=this.chain?this.chain(k.constructor):c(this,k.constructor);var l=h.prototype=new b();l.constructor=h;delete k.constructor;var j;for(var n in k){j=k[n];l[n]=typeof j==="function"&&typeof m[n]==="function"&&d.test(j)?(function(o,p){return function(){this._super=m[o];var q=p.apply(this,arguments);return q}})(n,j):j}h.extend=g;return h}function f(h){if(typeof h==="function"){h.extend=g;return h}else{var j=h.constructor||function(){},k=j.prototype;for(var l in h){if(h.hasOwnProperty(l)){k[l]=h[l]}}j.extend=g;return j}}return{define:f,extend:g}});sap.riv.module({qname:"sap.viz.data.description.DataContainer",version:"4.0.1",exported:true},[{qname:"sap.viz.base.Class",version:"4.0.1"}],function Setup(a){var b=a.define({constructor:function(c){this._uId=c;this._isFake=false;this._infos=null},getId:function(){return this._uId},fake:function(c){if(!arguments.length){return this._isFake}this._isFake=c},infos:function(c){if(!arguments.length){return this._infos}this._infos=c}});return b});sap.riv.module({qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"}],function Setup(a,c){rvalidchars=/^[\],:{}\s]*$/,rvalidescape=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rvalidtokens=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g;var b={extend:function(){var n,f,d,e,k,l,j=arguments[0]||{},h=1,g=arguments.length,m=false;if(typeof j==="boolean"){m=j;j=arguments[1]||{};h=2}if(typeof j!=="object"&&!a.isFunction(j)){j={}}if(g===h){j=this;--h}for(;h<g;h++){if((n=arguments[h])!=null){for(f in n){d=j[f];e=n[f];if(j===e){continue}if(m&&e&&(a.isPlainObject(e)||(k=a.isArray(e)))){if(k){k=false;l=d&&a.isArray(d)?d:[]}else{l=d&&a.isPlainObject(d)?d:{}}j[f]=b.extend(m,l,e)}else{if(e!==undefined){j[f]=e}}}}}return j},each:function(g,l,f){var e,h=0,j=g.length,d=j===undefined||a.isFunction(g);if(f){if(d){for(e in g){if(l.apply(g[e],f)===false){break}}}else{for(;h<j;){if(l.apply(g[h++],f)===false){break}}}}else{if(d){for(e in g){if(l.call(g[e],e,g[e])===false){break}}}else{for(var k=g[0];h<j&&l.call(k,h,k)!==false;k=g[++h]){}}}return g},parseJSON:function(d){if(typeof d!=="string"||!d){return null}d=d.trim();if(rvalidchars.test(d.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,""))){return window&&window.JSON&&window.JSON.parse?window.JSON.parse(d):(new Function("return "+d))()}else{a.error("Invalid JSON: "+d)}},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(f){var e=Math.random()*16|0,d=f=="x"?e:e&3|8;return d.toString(16)})}};return b});sap.riv.module({qname:"sap.viz.data.description.MeasureValues",version:"4.0.1",exported:true},[{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.data.description.DataContainer",version:"4.0.1"}],function Setup(c,a){var b=a.extend({constructor:function(e,d){this._values=d},getValues:function(){return this._values}});return b});sap.riv.module({qname:"sap.viz.data.info.Handler",version:"4.0.1"},[{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"}],function Setup(d,b){var c="analysisAxis";var a="measureValuesGroup";var m={};var e={};function l(r,q){var o=r[c].concat(r[a]);var p=[];o.forEach(function(u,t){var s=u.data;s.forEach(function(w,v){if(w.name===q){p.push(w)}},this)},this);return p}var h={type:"valueinfo",process:function(B,v){var x,p,w,D,u,A,r,o;var q,t,z,s,C=v[a];for(x=0,p=B.length;x<p;x++){q=B[x];if(q!==undefined){for(w=0,D=C.length;w<D;w++){z=C[w];t=z.data;for(u=0,A=t.length;u<A;u++){s=t[u];if(!s.infos){s.infos=[]}for(r=0,o=s.values.length;r<o;r++){if(!s.infos[r]){s.infos[r]=[]}if(!s.infos[r][x]){s.infos[r][x]={}}s.infos[r][x][h.type]=q}}}}}},merge:function(o){},remove:function(o){n(h.type,o)}};var f={type:"defaultSelection",process:function(r,v){var t;var q,o,A;var x=v[c][0].data[0].values.length,C=v[c][1].data[0].values.length;var u,s,p;var z=[],B;for(s=0;s<C;s++){B=[];for(p=0;p<x;p++){var w={defaultSelection:{isSelected:false}};B.push(w)}z.push(B)}for(u=0,A=r.length;u<A;u++){q=new Array(x),o=new Array(C);t=r[u];g(v,t,q,o);for(s=0;s<o.length;s++){if(o[s]){for(p=0;p<q.length;p++){if(q[p]){z[s][p]["defaultSelection"].isSelected=true}}}}k(v,t,z)}},remove:function(o){n(f.type,o)},merge:function(o){}};function n(D,v){var r,z,x,B=v[a];var w,p,u,C,s,A,q,o;var t=false;for(w=0,p=B.length;w<p;w++){r=B[w].data;for(u=0,C=r.length;u<C;u++){z=r[u];if(z.infos){t=false;for(s=0,A=z.infos.length;s<A;s++){x=z.infos[s];for(q=0,o=x.length;q<o;q++){if(x[q]){delete x[q][D];if(b.isEmptyObject(x[q])){x[q]=undefined}else{t=true}}}}}if(!t){delete z.infos}}}}function g(r,q,s,p){var o=r[c];o.forEach(function(v,u){var t=v.data;t.forEach(function(B,A){var z=q[B.name];for(var w=0;w<B.values.length;w++){var x=(z!==null&&B.values[w]===z);if(x){if(A===0){if(v.index===1){s[w]=true}else{p[w]=true}}else{if(v.index===1){if(s[w]!==true){s[w]=undefined}}else{if(p[w]!==true){p[w]=undefined}}}}else{if(v.index===1){s[w]=undefined}else{p[w]=undefined}}}},this)},this)}function k(p,o,r){var q=p[a];q.forEach(function(w,t){var s=w.data;var v,u;s.forEach(function(C,A){if(C.name===o.Measure){if(!C.infos){C.infos=r}else{for(v=0;v<r.length;v++){var B=r[v];var z=C.infos[v];for(u=0;u<B.length;u++){var x=z[u]["defaultSelection"].isSelected;if(!x){z[u]["defaultSelection"]=B[u]["defaultSelection"]}}}}}},this)},this)}var j={type:"customlabel",process:function(x,t){var q,s,A,p,r,o,z,w;for(var u=0,v=x.length;u<v;u++){q=x[u];s=q.name;A=l(t,s);A.forEach(function(C,B){z=false;if(!C.infos){w=true;C.infos=[]}o=C.values;p=q.mapping;o.forEach(function(E,D){if(p[E]){if(p[E].type==="string"&&p[E].val===E){if(C.infos[D]){delete C.infos[D][j.type];if(b.isEmptyObject(C.infos[D])){C.infos[D]=undefined}}}else{z=true;C.infos[D]=C.infos[D]?C.infos[D]:{};C.infos[D][j.type]=p[E]}}else{if(!C.infos[D]){C.infos[D]=undefined}}},this);if(w&&!z){delete C.infos}},this)}},merge:function(r){var p={};p.type=j.type;p.value=[];var o=r[c];var q;o.forEach(function(u,t){var s=u.data;s.forEach(function(x,v){if(x.infos){var w={};w.name=x.name;w.mapping={};q=false;x.infos.forEach(function(A,z){if(A&&A[j.type]){q=true;w.mapping[x.values[z]]=A[j.type]}},this);if(q){p.value.push(w)}}},this)},this);if(p.value.length>0){return p}},remove:function(q){var o=q[c];var p=false;o.forEach(function(t,s){var r=t.data;r.forEach(function(v,u){if(v.infos){p=false;v.infos.forEach(function(x,w){if(x){delete x[j.type];if(b.isEmptyObject(x)){v.infos[w]=undefined}else{p=true}}},this);if(!p){delete v.infos}}},this)},this)}};m.register=function(o){e[o.type]=o};m.get=function(o){return e[o]};m.mergeInfo=function(s){var o,p=[],q;for(var r in e){if(e.hasOwnProperty(r)){o=e[r];q=o.merge(s);if(q){p.push(d.extend(true,{},q))}}}return p};m.register(j);m.register(f);m.register(h);return m});sap.riv.module({qname:"sap.viz.data.description.MeasureValuesGroup",version:"4.0.1",exported:true},[{qname:"sap.viz.data.description.MeasureValues",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"}],function Setup(b,c){var a=function(d){this._measureValues=[];this.init(d)};a.prototype.init=function(e){for(var d=0;d<e.length;d++){this._measureValues[d]=new b(e[d]["name"],e[d]["values"]);this._measureValues[d].fake(e[d]["isFake"]?e[d]["isFake"]:false);this._measureValues[d].infos(e[d]["infos"]?e[d]["infos"]:null)}};a.prototype.getMeasureValues=function(){return this._measureValues};a.prototype.getType=function(){return"measureValuesGroup"};a.prototype.validate=function(k){var h,g,f,e;if(!arguments.length){var d=[1,1];h=this.getMeasureValues();for(f=0;f<h.length;f++){g=h[f].getValues();if(f===0){if(g.length!==d[1]){c.error(h[f].getId()+" wrong values count in aa2. should be "+d[1])}d[0]=g[0].length}else{if(g.length!==d[1]){c.error(h[f].getId()+" wrong values count in aa2. should be "+d[1])}for(e=0;e<g.length;e++){if(g[e].length!==d[0]){c.error(h[f].getId()+" wrong values count in aa1. should be "+d[0])}}}}return d}else{h=this.getMeasureValues();for(f=0;f<h.length;f++){g=h[f].getValues();if(g.length!==k[1]){c.error(h[f].getId()+" wrong values count in aa2. should be "+k[1])}for(e=0;e<g.length;e++){if(g[e].length!==k[0]){c.error(h[f].getId()+" wrong values count in aa1. should be "+k[0])}}}}};a.prototype.hasFakeData=function(){var e=this.getMeasureValues();for(var d=0;d<e.length;d++){if(e[d].fake()){return true}}return false};return a});sap.riv.module({qname:"sap.viz.util.TypeUtils",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"}],function Setup(b,c){var a=c.extend(b,{isExist:function(d){if((typeof(d)==="undefined")||(d===null)){return false}return true}});return a});sap.riv.module({qname:"sap.viz.data.description.DimensionLabels",version:"4.0.1",exported:true},[{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.data.description.DataContainer",version:"4.0.1"}],function Setup(c,b){var a=b.extend({constructor:function(e,f,d){this._type=f;this._values=d},getValues:function(){return this._values},getType:function(){return this._type}});return a});sap.riv.module({qname:"sap.viz.data.description.AnalysisAxis",version:"4.0.1",exported:true},[{qname:"sap.viz.data.description.DimensionLabels",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"}],function Setup(c,d,b){var a=function(e){this._dimensionLabels=[];this.init(e)};a.prototype.init=function(f){for(var e=0;e<f.length;e++){this._dimensionLabels[e]=new c(f[e]["name"],f[e]["type"]?f[e]["type"]:"Dimension",f[e]["values"]);this._dimensionLabels[e].fake(f[e]["isFake"]?f[e]["isFake"]:false);this._dimensionLabels[e].infos(f[e]["infos"]?f[e]["infos"]:null)}};a.prototype.getDimensionLabels=function(){return this._dimensionLabels};a.prototype.getType=function(){return"analysisAxis"};a.prototype.validate=function(){var g=1;var f=this.getDimensionLabels();for(var e=0;e<f.length;e++){if(e===0){g=f[e].getValues().length;if(b.isExist(f[e].infos())&&g!==f[e].infos().length){d.error(f[e].getId()+" wrong infos count")}}else{if(g!==f[e].getValues().length){d.error(f[e].getId()+" wrong dimension labels count")}if(b.isExist(f[e].infos())&&g!==f[e].infos().length){d.error(f[e].getId()+" wrong infos count")}}}return g};a.prototype.hasFakeData=function(){var f=this.getDimensionLabels();for(var e=0;e<f.length;e++){if(f[e].fake()){return true}}return false};return a});sap.riv.module({qname:"sap.viz.data.feed.feed",version:"4.0.1"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"}],function Setup(a){return function(t,p,e,n,q,d,c,m,o){var g=t;var v=p;var r=e;var s=n;var u=q;var l=d;var j=c;var b=m;var f=o;var k=[];function h(){return h}h.feedId=function(w){if(!arguments.length){return g}g=w;return h};h.feedName=function(w){if(!arguments.length){return v}v=w;return h};h.type=function(w){if(!arguments.length){return r}r=w;return h};h.min=function(w){if(!arguments.length){return s}s=w;return h};h.max=function(w){if(!arguments.length){return u}u=w;return h};h.analysisAxisIndex=function(w){if(!arguments.length){return l}l=w;return h};h.measureGroupIndex=function(w){if(!arguments.length){return b}b=w;return h};h.acceptMND=function(w){if(!arguments.length){return j}j=w;return h};h.maxStackedDims=function(w){if(!arguments.length){return f}f=w;return h};h.data=function(w){if(!arguments.length){return k}k=w;return h};h.addData=function(w){k.push(w);return h};h.getMeasureNames=function(){var x=b-1;var z=[];for(var w=0;w<k.length;w++){z.push({val:k[w]["name"],ctx:{mg:x,mi:w}})}return z};h.getMeasureValues=function(){var w=[];if(k.length>0){return k[0].getMeasureValues()}return w};h.getMeasureCount=function(){return k.length};h.hasMNDFeeded=function(){var x=h.data();for(var w=0;w<x.length;w++){if(x[w].getType()==="measureNamesDimension"){return true}}return false};h.hasFeeded=function(){return h.data().length>0?true:false};h.getIndex=function(){return h.analysisAxisIndex()?h.analysisAxisIndex():h.measureGroupIndex()};h.getDataCount=function(){if(h.type()==="Dimension"){return h.data().length}else{return h.data().length>0?h.data()[0].getMeasureValues().length:0}};return h}});sap.riv.module({qname:"sap.viz.data.feed.feeder",version:"4.0.1"},[{qname:"sap.viz.data.feed.feed",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.data.description.DimensionLabels",version:"4.0.1"}],function Setup(c,d,a,b){return function(t,n,v){var o="Dimension";var h="Measure";var u="feedId";var s="binding";var q="type";var x="index";var j=[];var p=[];var e=[];var f={};var w=[];function g(){return g}g.init=function(){k(t);if(n){if(v){l(n,v)}else{m(n)}g.checkValid()}};g.getFeeds=function(){return e};g.findFeed=function(z){return f[z]};g.getAnalysisAxisIndex=function(A){for(var z=0;z<j.length;z++){if(j[z]===A){return z}}};g.getMeasureValuesGroupIndex=function(A){for(var z=0;z<p.length;z++){if(p[z]===A){return z}}};g.getMeasureValuesGroupFeeds=function(){return p};g.checkValid=function(){for(var z=0;z<e.length;z++){var A=e[z];var B;if(A.type()==="Dimension"){B=A.getDataCount();if(B<A.min()||(A.max()!==Number.POSITIVE_INFINITY&&B>A.max())){d.error(A.feedId()+": does not meet min or max number of feed definition")}}else{if(A.type()==="Measure"){B=A.getDataCount();if(B<A.min()||(A.max()!==Number.POSITIVE_INFINITY&&B>A.max())){d.error(A.feedId()+": does not meet min or max number of feed definition")}}else{d.error(A.feedId()+": wrong feed type")}}}};g.getBindingInfo=function(){return w};function k(E){if(a.isArray(E)){var B=0;for(var D=0;D<E.length;D++){var A=E[D]["type"];var z=E[D]["aaIndex"];var C=E[D]["id"];if(A!==o&&A!==h){d.error("wrong feed type in feed definition: "+E[D]["id"])}if(E[D]["type"]===o){if(E[D]["aaIndex"]<=0){d.error("wrong analysis axis index in feed definition: "+E[D]["id"])}B++}if(E[D]["type"]===h){if(E[D]["mgIndex"]<=0){d.error("wrong  measure axis index in feed definition: "+E[D]["id"])}}var F=e.push(c(C,E[D]["name"],A,E[D]["min"],E[D]["max"],z,E[D]["acceptMND"],E[D]["mgIndex"],E[D]["maxStackedDims"]));f[C]=e[F-1]}for(D=0;D<B;D++){w[D]=false}}}function m(E){var D=E.getAnalysisAxisCount();var C;for(var z=0;z<D;z++){C=r(e,o,z+1);if(C){var A=E.getAnalysisAxisByIdx(z);if(a.isExist(C.maxStackedDims())&&A.getDimensionLabels().length>C.maxStackedDims()){d.error("Invalid Feeding: exceed max stacked dimension number "+C.feedId()+" feed")}j[z]=C;w[z]=true;C.addData(A)}}var B=E.getMeasureValuesGroupCount();for(z=0;z<B;z++){C=r(e,h,z+1);if(C){p[z]=C;C.addData(E.getMeasureValuesGroupByIdx(z))}}}function r(z,C,A){for(var B=0;B<z.length;B++){if(z[B].type()===C&&z[B].getIndex()===A){return z[B]}}return null}function l(E,J){var C;for(var G=0;G<J.length;G++){var H=J[G];var D=H[u];if(!D){d.error("Invalid Feeding: no feed id")}var L=f[D];if(!L){d.error("Invalid Feeding: no "+D+" feed")}var A=H[s];for(var F=0;F<A.length;F++){var K=A[F][q];var I=A[F][x];if(K==="analysisAxis"){var z=E.getAnalysisAxisByIdx(I-1);if(!z){d.error("could not find axis "+I+" in data set"+D+" feed")}if(a.isExist(L.maxStackedDims())&&z.getDimensionLabels().length>L.maxStackedDims()){d.error("Invalid Feeding: exceed max stacked dimension number "+D+" feed")}C=L.getDataCount();if(L.max()!==Number.POSITIVE_INFINITY&&C>=L.max()){d.error(D+" feed could not accept more data containers")}L.addData(z);j[I-1]=L;w[L.getIndex()-1]=true}else{if(K==="measureValuesGroup"){var B=E.getMeasureValuesGroupByIdx(I-1);if(!B){d.error("could not find measure values group "+I+" in data set"+D+" feed")}C=L.getDataCount();if(L.max()!==Number.POSITIVE_INFINITY&&C>=L.max()){d.error(D+" feed could not accept more data containers")}L.addData(B);p[I-1]=L}else{if(K==="measureNamesDimension"){if(L.acceptMND()<0){d.error("could not accpet MeasureNamesDimension "+D+" feed")}C=L.getDataCount();if(L.max()!==Number.POSITIVE_INFINITY&&C>=L.max()){d.error(D+" feed could not accept more data containers")}L.addData(new b("","measureNamesDimension",""))}else{d.error("Invalid Binding")}}}}}}g.init();return g}});sap.riv.module({qname:"sap.viz.data.CrosstableDataset",version:"4.0.1",exported:true},[{qname:"sap.viz.data.feed.feeder",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.data.description.AnalysisAxis",version:"4.0.1"},{qname:"sap.viz.data.description.MeasureValuesGroup",version:"4.0.1"},{qname:"sap.viz.data.info.Handler",version:"4.0.1"}],function Setup(n,b,f,o,k,j){var g="type";var p="name";var m="values";var l="feedId";var h="MeasureNamesDimension";var e="analysisAxis";var a="measureValuesGroup";function d(r){var q=r.getValues();return q.length>0?q.length*q[0].length:0}function c(){this._analysisAxis=[];this._measureValuesGroup=[];this._dataSet={};this._emptyDataset=false}c.prototype.data=function(q){if(!arguments.length){return this._dataSet}this._analysisAxis=[];this._measureValuesGroup=[];this._dataSet=q;this.init(this._dataSet);return this};c.prototype.setData=function(q){this.data(q)};c.prototype.info=function(r){if(!arguments.length){return j.mergeInfo(this._dataSet)}if(r&&r.type){var q=j.get(r.type);if(q){q.process(r.value,this._dataSet)}this._analysisAxis=[];this._measureValuesGroup=[];this.init(this._dataSet)}return this};c.prototype.clearInfo=function(r){if(r){var q=j.get(r);if(q){q.remove(this._dataSet)}}return this};c.prototype.init=function(v){if(!v||!v[a]||(v[e]&&!v[a])){return}var z=[1,1];var x=v[e];var w=0;var u,r,B;if(x){if(x.length>2){f.error("could not accept more than 2 axes")}for(;w<x.length;w++){var s=x[w];var A=s.index;if(A!==1&&A!==2){f.error("Axis index should be 1 or 2")}if(this._analysisAxis[A-1]){f.error("Axis "+A+" already exists")}var q=new o(s.data);z[A-1]=q.validate();this._analysisAxis[A-1]=q}if(z[0]===0){z[1]=0;this._emptyDataset=true}u=v[a];for(w=0;w<u.length;w++){r=u[w];var t=r.index;if(this._measureValuesGroup[t-1]){f.error("MeausreValuesGroup "+t+" already exists")}B=new k(r.data);B.validate(z);this._measureValuesGroup[t-1]=B}}else{u=v[a];for(w=0;w<u.length;w++){r=u[w];B=new k(r.data);if(w===0){z=B.validate()}else{B.validate(z)}this._measureValuesGroup[r.index-1]=B}}};c.prototype.getAnalysisAxisCount=function(){return this._analysisAxis.length};c.prototype.getAnalysisAxisByIdx=function(q){return this._analysisAxis[q]};c.prototype.getMeasureValuesGroupCount=function(){return this._measureValuesGroup.length};c.prototype.getMeasureValuesGroupByIdx=function(q){return this._measureValuesGroup[q]};c.prototype.hasFakeData=function(){for(var q=0;q<this._measureValuesGroup.length;q++){if(this._measureValuesGroup[q].hasFakeData()){return true}}for(q=0;q<this._analysisAxis.length;q++){if(this._analysisAxis[q].hasFakeData()){return true}}return false};c.prototype.getDataPointCount=function(){var s=0;var r=d(this._measureValuesGroup[0].getMeasureValues()[0]);for(var q=0;q<this._measureValuesGroup.length;q++){s+=r*this._measureValuesGroup[q].getMeasureValues().length}return s};c.prototype.isEmptyDataset=function(){return this._emptyDataset};return c});sap.riv.module({qname:"sap.viz.util.elementutil",version:"4.0.1"},[],function Setup(){var a={isSVG:function(b){return a.isGElement(b)||a.isSVGElement(b)},isGElement:function(b){return b.node().nodeName.toLowerCase()==="g"},isSVGElement:function(b){return b.node().nodeName.toLowerCase()==="svg"},isDIV:function(b){return b.node().nodeName.toLowerCase()==="div"}};return a});sap.riv.module({qname:"sap.viz.Constants",version:"4.0.1"},[],function Setup(){var a={SAPColorSingleAxis:["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],SAPColorDualAxis1:["#8FBADD","#B8D4E9","#7AAED6","#A3C7E3","#3D88C4","#66A1D0","#297CBE","#5295CA","#005BA3","#146FB7","#005395","#0063B1"],SAPColorDualAxis2:["#F6A09B","#F9C3C0","#F58E88","#F8B1AD","#F05B52","#F37D76","#EE4A40","#F16C64","#D92419","#ED382D","#C52117","#EB271B"]};a.SAPColor=a.SAPColorSingleAxis;return a});sap.riv.module({qname:"sap.viz.util.fn.domposition",version:"4.0.1"},[{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.util.elementutil",version:"4.0.1"}],function Setup(c,a){var b=function(g,f){if(g&&f){if(a.isSVGElement(g)){g.attr("width",f.width);g.attr("height",f.height)}g.attr("transform","translate("+f.x+", "+f.y+")")}};var e=function(g,f){if(g&&f){g.attr("style","position: absolute; box-sizing: border-box; overflow: hidden; width: "+f.width+"px; height: "+f.height+"px; left: "+f.x+"px; top: "+f.y+"px;")}};var d=function(h,g){var f;for(f in g){if(g.hasOwnProperty(f)){if(h[f]){var j=h[f];if(a.isSVG(g[f])){b(g[f],j.bounds)}else{if(a.isDIV(g[f])){e(g[f],j.bounds)}}}}}};return d});sap.riv.module({qname:"sap.viz.util.append",version:"4.0.1"},[],function Setup(){return function(a,b){var d=this.append(a);for(var c in b){if(b.hasOwnProperty(c)){d.attr(c,b[c])}}return d}});sap.riv.module({qname:"sap.viz.modules.Constants",version:"4.0.1"},[{qname:"sap.viz.Constants",version:"4.0.1"}],function Setup(b){var a={Type:{Chart:"CHART",Container:"CONTAINER",Supplementary:"SUPPLEMENTARY",Behavior:"BEHAVIOR",Controller:"CONTROLLER",ThirdParty:"THIRDPARTY"},RenderTo:{SVG:"SVG",DIV:"DIV",NONE:"NONE"},CSS:{CLASS:{DATAPOINT:"v-datapoint"}},Event:{SelectData:{name:"selectData",desc:'Event fires when certain data point(s) is(are) selected, data context of selected item(s) would be passed in accordance with the following format.<code>{name: "selectData",data:[{\n//selected element\'s detail\ntarget:"Dom Element",//an object pointed to corresponding dom element\ndata:[{val: "...",//value of this element\nctx:{type:"Dimension"||"Measure"||"MND",\n//for Dimension\npath:{aa:"...",di:"...",dii:"..."},\n//for Measure\npath:{mg:"...",mi:"...",dii_a1:"...",dii_a2:"..."},\n//for MND\npath:{mg:"...",mi:"..."}\n//path: analysis path\n//aa: analysis axis index // 0 for analysis axis 1,  1 for analysis 2\n//di: dimension index //zero based\n//dii: dimension item index //zero based\n//mg: measure group index // 0 for measure group 1,1 for measure group 2\n//mi: measure index // measure index in measure group zero based\n//dii_a1: each dii of di in analysis axis 1 index\n//dii_a2: each dii of di in analysis axis 2 index\n}},{\n//for bubble, tagcloud and scatter, there will be more than one values in one selected element.\nvar:"...",ctx:"..."}]},{\n//if under multi selection, there will be more than one selected elements\ntarget:"...",data:["..."]}]}'},DeSelectData:{name:"deselectData",desc:'Event fires when certain data point(s) is(are) deselected, data context of deselected item(s) would be passed in accordance with the following format.<code>{name: "deselectData",data:["---the same as selectedData---"]}'},TooltipShow:{name:"showTooltip",desc:'Event fires when the mouse hover onto the specific part of chart, data context of tooltip would be passed in accordance with the following format.<code>{name:"showTooltip",data:{body:[{\n//data of one group\nname:"...",val:[{\n//data of one row\ncolor:"...",label:"...",shape:"...",value:"..."},"..."]},"..."],footer:[{label:"...",value:"..."},"..."],plotArea:{\n//this object specifies the plot area of the chart\nheight:"...",width:"...",x:"...",y:"..."},point:{\n//this object specifies a point which affects the position of tooltip\nx:"...",y:"..."}}}'},TooltipHide:{name:"hideTooltip",desc:"Event fires when the mouse hover out of the specific part of chart, no data is passed."},Initialized:{name:"initialized",desc:'Event fires when the loading ends. To use the event listener when creating charts, you must use an event that is passed by the events option. For more information on events options, see the usrOptions section of the <a href="sap.viz.core.html#createViz" target="_blank">createViz</a> function in the API document.'},highlightedByLegend:{desc:"Event fires when legend item is clicked, which contains its data context."}}};b.Module=a;return a});sap.riv.module({qname:"sap.viz.data.feed.Constants",version:"4.0.1"},[{qname:"sap.viz.Constants",version:"4.0.1"}],function Setup(a){var b={Type:{Dimension:"Dimension",Measure:"Measure"},Constraints:{INF:Number.POSITIVE_INFINITY}};a.Feed=b;return b});sap.riv.module({qname:"sap.viz.style.Element",version:"4.0.1"},[],function Setup(){function d(e){this.update(e)}d.prototype={toString:function(){var f="",e;for(e in this){if(this.hasOwnProperty(e)){f+=e+":"+this[e]+";"}}return f},toAttrs:function(f){for(var e in this){if(this.hasOwnProperty(e)){f.attr(e,this[e])}}},update:function(f){for(var e in f){if(f.hasOwnProperty(e)){this[e]=f[e]}}}};var b=document.documentElement,c=b.matchesSelector||b.mozMatchesSelector||b.webkitMatchesSelector||b.msMatchesSelector;function a(e){if(!e){e=d3.select(document.implementation.createHTMLDocument("").body)}this.el=e}a.prototype={child:function(e,r,o,s){if(!Array.isArray(r)){r=[r]}if(!Array.isArray(e)){e=[e]}var g=this.el,n=false;var p=Math.max(r.length,e.length);for(var m=0;m<p;m++){var h=r[m];var q=e[m];if(!h&&!q){n=true}h=h||o;if(!n){var k=h;if(q){k+="."+q.replace(" ",".")}var j=g.node();var f=g.selectAll(k).filter(function(){return this.parentNode===j});if(!f.empty()){g=f;continue}n=true}g=d3.select(g.node()).append(h).attr("class",q).datum({defaultStyle:new d(),currentStyle:new d(),meta:{}})}var t=new a(g);if(s){var l=g.datum();l.defaultStyle.update(s);l.currentStyle.update(s)}return t},defaultStyle:function(){return this.el.datum().defaultStyle},currentStyle:function(){return this.el.datum().currentStyle},queryAll:function(f){var e=[];this.el.selectAll(f).each(function(){e.push(new a(d3.select(this)))});return e},match:function(e){return c.call(this.el.node(),e)},update:function(e,j){var g=this.currentStyle();var f=this.currentStyle();var h=this.el.datum().meta;$.each(j,function(l,o){var m=h[l];var k=false,n;if(m){k=m.important;n=m.selector}var p=o.important;if((p&&(!k||e.nlt(n)))||(!p&&!k&&e.nlt(n))){f[l]=o.value;if(!m){m={};h[l]=m}m.important=p;m.selector=e}});return this},cleanChildren:function(){var e=this.el.node();var f;while((f=e.firstChild)){e.removeChild(f)}return this}};return a});sap.riv.module({qname:"sap.viz.style.Manager",version:"4.0.1"},[{qname:"sap.viz.style.Element",version:"4.0.1"}],function Setup(b){function a(g,d,f,c){var h={};if(!f){f=new b()}this.el=f;if(d){var e=d.css;if(e){$.each(e,function(j,m){var l=j.substring(1).replace("."," ");var k=f.child(l,null,c||"g",m.value);l.split(" ").forEach(function(n){h[n]=k});if(g){g.forEach(function(n){n.iterate(function(o,p){if(k.match(o.text)){k.update(o,p)}})})}})}}this.subEls=h;this.sheets=g}a.prototype={query:function(c){var d=this.subEls[c];if(d){return d.currentStyle()}},queryDefault:function(c){var d=this.subEls[c];if(d){return d.defaultStyle()}},cssText:function(c){return this.query(c).toString()},child:function(e,f,c,d){return new a(this.sheets,e,this.el.child(f,c,d||"g"),d)},applyCSS:function(d){var c=this.el;d.rules.forEach(function(e){e.selectors.forEach(function(f){c.queryAll(f.text).forEach(function(g){g.update(f,e.properties)})})});return this},cleanChildren:function(){this.el.cleanChildren();return this}};return a});sap.riv.module({qname:"sap.viz.util.fn.createContext",version:"4.0.1"},[{qname:"sap.viz.style.Manager",version:"4.0.1"}],function Setup(a){return function(e,c,f,b){var d=c.styleManager;if(!d){d=new a()}d=d.child(e,f,b);return{effectManager:c.effectManager,styleManager:d}}});sap.riv.module({qname:"sap.viz.util.Objects",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"}],function Setup(a){var b={extend:function(){var m,e,c,d,j,k,h=arguments[0]||{},g=1,f=arguments.length,l=false;if(typeof h==="boolean"){l=h;h=arguments[1]||{};g=2}if(typeof h!=="object"&&!a.isFunction(h)){h={}}if(f===g){h=this;--g}for(;g<f;g++){if((m=arguments[g])!==null){for(e in m){if(m.hasOwnProperty(e)){c=h[e];d=m[e];if(h===d){continue}if(l&&d&&(a.isPlainObject(d))){if(j){j=false;k=c&&a.isArray(c)?c:[]}else{k=c&&a.isPlainObject(c)?c:{}}h[e]=b.extend(l,k,d)}else{if(d!==undefined){h[e]=d}}}}}}return h},equal:function(f,d){if(typeof arguments[0]!==typeof arguments[1]){return false}if(f===undefined){if(d!==undefined){return false}}if(f===null){if(d!==null){return false}}if(f instanceof Array){if(!(d instanceof Array)){return false}if(f.length!==d.length){return false}var h=true;for(var e=0;e<f.length;e++){if(typeof f[e]!==typeof d[e]){return false}if(typeof f[e]==="boolean"||typeof f[e]==="number"||typeof f[e]==="string"||typeof f[e]==="undefined"||f[e]===null){h=(f[e]===d[e])}else{if(f[e] instanceof Object){h=this.equal(f[e],d[e])}else{return false}}if(!h){return false}}return true}if(f instanceof Object&&d instanceof Object&&typeof f!=="function"&&typeof d!=="function"){if(d===null||d instanceof Array){return false}var j=0,g=0;var c;for(c in f){if(f.hasOwnProperty(c)){if(typeof f[c]==="boolean"||typeof f[c]==="number"||typeof d[c]==="string"||typeof f[c]==="undefined"||f[c]===null){if(f[c]!==d[c]){return false}}else{if(!this.equal(f[c],d[c])){return false}}j++}}for(c in d){if(d.hasOwnProperty(c)){g++}}if(j!==g){return false}return true}return f===d}};return b});sap.riv.module({qname:"sap.viz.manifest",version:"4.0.1",exported:true},[{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"}],function Setup(a,c,d){var b={};b.registerCategory=function(f,e,h){if(!a.isNonEmptyString(f)){c.error("The category name must be a non-empty string.")}if(e&&!a.isFunction(e)){c.error("The category factory must be a function.")}if(b.hasOwnProperty(f)){c.error('There is already a category named "{0}"',f)}var j=d3.map();var g={get:function(n,m){var k=j.get(n);if(k===undefined&&m){c.error('Cannot find "{0}" in category "{1}"',n,f)}if(k&&k.__needParsed__===true){var l=k["abstract"]===true;k=d.extend(true,null,k.base!==undefined?g.get(k.base,true):null,k);Object.defineProperty(k,"abstract",{value:l,enumerable:false});if(e&&!l){e.call(h,k,b)}delete k.__needParsed__;j.set(n,k)}return k},each:function(l,k){j.forEach(function(m){l.call(k,g.get(m),m)});return b},unregister:function(l){var k;if(a.isExist(l)){k=j.get(l);j.remove(l)}return k},register:function(){Array.prototype.forEach.call(arguments,function(l){if(a.isUndefined(l)){c.error("Cannot register a undefined object.")}var k=l.id;if(!a.isNonEmptyString(k)){c.error("Cannot register without a valid id.")}if(j.has(k)){c.error('There is already an item named "{0}" in category "{1}".',k,f)}l.__needParsed__=true;j.set(k,l)});return b}};b[f]=g;return g};b.unregisterCategory=function(e){return e in b&&delete b[e]};return b});sap.riv.module({qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},[{qname:"sap.viz.manifest",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.util.fn.createContext",version:"4.0.1"},{qname:"sap.viz.data.feed.Constants",version:"4.0.1"},{qname:"sap.viz.modules.Constants",version:"4.0.1"}],function Setup(e,g,d,a,c){var b=true;function f(j,n,m){var l=n.id;if(l===undefined){g.error('Cannot find module id in sub module config "{0}"',JSON.stringify(n))}var k=e.module.get(n.id,true);j.push({module:k,config:n,moduleRef:m,subModules:k.subModules(n,m)})}function h(j,k){var o={},m,l;for(m in j){if(j.hasOwnProperty(m)){l=j[m];if(l){if(k===true){o[m]=d.extend(true,{},l)}else{o[m]=l.supportedValueType==="Object"?h(l.supportedValues,!b):l.defaultValue}}}}return o}e.registerCategory("module",function(l){var j;var k;Object.defineProperties(l,{subModules:{value:function(r,p){var q;var m=d.extend(true,{},r.modules,r.controllers);if(!a.isEmptyObject(m)){q=[];var n;for(var o in m){if(m.hasOwnProperty(o)){n=m[o];if(n){f(q,n,p+"."+o)}}}}return q}},props:{value:function(m){if(m===b){if(!k){k=h(l.properties,b)}return k}else{if(!j){j=h(l.properties,!b)}return d.extend(true,{},j)}}},execute:{value:function(n,o,m){return l.fn(l,o===true?n:c(this,n,o,m))}}});return l});e.module.loadModule=f;return e.module});sap.riv.module({qname:"sap.viz.util.fn.dombuilder",version:"4.0.1"},[{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.util.append",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.util.elementutil",version:"4.0.1"}],function Setup(c,e,a,d,b){var f=function(n,k){var h=b.isSVG(n);var g=n;var j={};var o=true;for(var m in k){if(k.hasOwnProperty(m)){var l=e.get(k[m].id);if(l&&l.renderto===c.Module.RenderTo.DIV){if(h){d.error("Configuration Error! Does not allow append div under svg element!")}else{o=false;break}}}}for(var m in k){if(k.hasOwnProperty(m)){var l=e.get(k[m].id);if(l){if(l.renderto===c.Module.RenderTo.DIV){j[m]=a.apply(g,["div",{"class":"v-m-"+m}])}else{if(l.renderto===c.Module.RenderTo.NONE){j[m]=undefined}else{j[m]=a.apply(g,[h?"g":"svg",{"class":"v-m-"+m}])}}}}}return j};return f});sap.riv.module({qname:"sap.viz.style.Selector",version:"4.0.1"},[],function Setup(){function b(c){this.b=0;this.c=c?(c.split(".").length-1):0;this.d=0}b.prototype={nlt:function(c){if(this.b===c.b){if(this.c===c.c){return this.d>=c.d}return this.c>c.c}return this.b>c.b}};function a(d){this.text=d;var c;Object.defineProperty(this,"specificity",{get:function(){if(!c){c=new b(d)}return c}})}a.prototype={nlt:function(c){if(!c){return true}return this.specificity.nlt(c.specificity)}};return a});sap.riv.module({qname:"sap.viz.style.Sheet",version:"4.0.1"},[{qname:"sap.viz.style.Selector",version:"4.0.1"}],function Setup(a){function b(c,h){this.source=c;var m="."+h+" ";this.styleElement=document.createElement("style");document.head.appendChild(this.styleElement);var r=this.styleElement.sheet;r.disabled=true;var g=c.split("}");for(var n=0,o=g.length-1;n<o;n++){r.insertRule(g[n]+"}",n)}this.rules=[];var p=r.cssRules;for(n=0,o=p.length;n<o;n++){var f=p[n];var s=f.selectorText.split(",");f.selectorText=s.map(function(j){return m+j}).join(",");var t=s.map(function(j){return new a(j)});var q={};var e=f.style;for(var l=0,k=e.length;l<k;l++){var d=e[l];q[d]={value:e.getPropertyValue(d),important:e.getPropertyPriority(d)==="important"}}this.rules.push({selectors:t,properties:q})}r.disabled=false}b.prototype={destroy:function(){this.styleElement.parentNode.removeChild(this.styleElement);return this},iterate:function(c){this.rules.forEach(function(d){d.selectors.forEach(function(e){c(e,d.properties)})});return this}};return b});sap.riv.module({qname:"sap.viz.TemplateManager",version:"4.0.1",exported:true},[{qname:"sap.viz.manifest",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"}],function Setup(b,l,a,g){function o(u,r,w){var v=document.getElementsByTagName("head")[0]||document.documentElement;var t=document.createElement("script");t.type="text/javascript";t.src=u;var s=false;t.onload=t.onreadystatechange=function(){if(!s&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){s=true;h(t);r()}};if(t.addEventListener){t.addEventListener("error",function(){h(t);w()},true)}v.insertBefore(t,v.firstChild)}function d(z,u,v,r,x){if(u<z.length){var t=z[u]+v+"/template.js";var s=function(){d(z,u+1,v,r,x)};o(t,s,s)}else{var w=e(v);if(w){r(w)}else{x()}}}function p(s,r){d(j.loadPath,0,s,r,function(){l.error("Loading template {0} failed.",s)})}function h(r){r.onload=r.onreadystatechange=null;r.parentNode.removeChild(r)}var n=b.registerCategory("template",function(u){var t=u.css;if(!a.isString(t)){var v="";for(var r in t){if(t.hasOwnProperty(r)){v+=r+"{";var w=t[r];for(var s in w){if(w.hasOwnProperty(s)){v+=s+":"+w[s]+";"}}v+="}"}}u.css=v}Object.defineProperties(u,{props:{value:function(z){var x=u.properties;if(x){return x[z]}}}});return u});var m;function e(r){return n.get(r)}function q(s,r,t){m=s;if(r){r.call(t,m)}}var k="default",c={id:k,name:"Default"};var j={constructor:function(){return},loadPath:["../../../resources/templates/"],current:function(){return m},apply:function(u,r,t){var s=e(u);if(!s){p(u,function(v){q(v,r,t)})}else{q(s,r,t)}return j},register:function(){n.register.apply(n,arguments);return j},extend:function(t,s){var r=n.get(t,true);g.extend(true,r.properties,s.properties);r.css+=s.css||"";return j}};delete j.constructor;var f={writable:false,configurable:false};Object.defineProperties(j,{loadPath:{configurable:false},current:f,apply:f,register:f});j.register(c);m=e(k);return j});sap.riv.module({qname:"sap.viz.config",version:"4.0.1",exported:true},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"}],function Setup(d){var c={};var a=false;var b={constructor:function(){return},enableCanvg:function(e){if(!arguments.length){return a}a=e;return b},register:function(e){if(c[e.id]){return}c[e.id]=e.value;return b},get:function(e){if(c[e]){return c[e]}}};return b});sap.riv.module({qname:"sap.viz.Locale",version:"4.0.1",exported:true},[],function Setup(f,b){var a="en",c=[];function d(g){c.forEach(function(h){h.fn.apply(h.scope,[g])})}var e={constructor:function(){return},locale:function(g){if(!arguments.length){return a}a=g;d(a);return e},addListener:function(g){c.push(g);return e},removeListener:function(h){var g=c.indexOf(h);if(g!=-1){c.splice(g,1)}return e}};return e});sap.riv.module({qname:"sap.viz.lang.langManager",version:"4.0.1",exported:true},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.Locale",version:"4.0.1"}],function Setup(h,e,b,a){function p(u,r,w){var v=document.getElementsByTagName("head")[0]||document.documentElement;var t=document.createElement("script");t.type="text/javascript";t.src=u;var s=false;t.onload=t.onreadystatechange=function(){if(!s&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){s=true;t.onload=t.onreadystatechange=null;if(v&&t.parentNode){v.removeChild(t)}r()}};if(t.addEventListener){t.addEventListener("error",function(){t.onload=t.onreadystatechange=null;t.parentNode.removeChild(t);w()},true)}v.insertBefore(t,v.firstChild)}function q(t,v,z,r,x){if(v<t.length){var u=t[v]+"language_"+z+".js";var s=function(){q(t,v+1,z,r,x)};p(u,s,s)}else{var w=d(z);if(w){r(w)}else{x()}}}function n(){var r=d3.map();r.set("ar_AE","ar");r.set("ar_EG","ar");r.set("ar_SA","ar");r.set("bg_BG","bg");r.set("ca_ES","ca");r.set("cs_CZ","cs");r.set("da_DK","da");r.set("de_CH","de");r.set("de_AT","de");r.set("de_BE","de");r.set("de_LU","de");r.set("de_DE","de");r.set("el_CY","el");r.set("el_GR","el");r.set("en_AU","en");r.set("en_CA","en");r.set("en_GB","en");r.set("en_HK","en");r.set("en_ID","en");r.set("en_IE","en");r.set("en_IN","en");r.set("en_IS","en");r.set("en_MY","en");r.set("en_NZ","en");r.set("en_PH","en");r.set("en_SG","en");r.set("en_US","en");r.set("en_ZA","en");r.set("es_AR","es");r.set("es_BO","es");r.set("es_CL","es");r.set("es_CO","es");r.set("es_ES","es");r.set("es_MX","es");r.set("es_PE","es");r.set("es_UY","es");r.set("es_VE","es");r.set("et_EE","et");r.set("fa_IR","fa");r.set("fi_FI","fi");r.set("fr_BE","fr");r.set("fr_CA","fr");r.set("fr_CH","fr");r.set("fr_FR","fr");r.set("fr_LU","fr");r.set("he_IL","iw");r.set("hr_HR","hr");r.set("hu_HU","hu");r.set("it_CH","it");r.set("it_IT","it");r.set("ja_JP","ja");r.set("ko_KR","ko");r.set("lt_LT","lt");r.set("lv_LV","lv");r.set("nl_BE","nl");r.set("nl_NL","nl");r.set("nn_NO","no");r.set("pl_PL","pl");r.set("pt_BR","pt");r.set("pt_PT","pt");r.set("ro_RO","ro");r.set("ru_KZ","ru");r.set("ru_RU","ru");r.set("ru_UA","ru");r.set("sh_ME","sr");r.set("sh_RS","sr");r.set("sk_SK","sk");r.set("sl_SL","sl");r.set("sv_SE","sv");r.set("th_TH","th");r.set("tr_CY","tk");r.set("tr_TR","tk");r.set("uk_UA","uk");r.set("vi_VI","vi");r.set("zf_TW","zh_TW");r.set("zh_CN","zh_CN");r.set("zh_HK","zh_CN");r.set("ar","ar");r.set("bg","bg");r.set("ca","ca");r.set("cs","cs");r.set("da","da");r.set("de","de");r.set("el","el");r.set("en","en");r.set("es","es");r.set("et","et");r.set("fi","fi");r.set("fr","fr");r.set("iw","iw");r.set("hr","hr");r.set("hu","hu");r.set("it","it");r.set("ja","ja");r.set("ko","ko");r.set("lt","lt");r.set("lv","lv");r.set("nl","nl");r.set("no","no");r.set("pl","pl");r.set("pt","pt");r.set("ro","ro");r.set("ru","ru");r.set("sr","sr");r.set("sk","sk");r.set("sl","sl");r.set("sv","sv");r.set("th","th");r.set("tk","tk");r.set("uk","uk");r.set("vi","vi");r.set("zh_TW","zh_TW");return r}var l=[];var m=n();function g(r){l.forEach(function(s){s.fn.apply(s.scope,[c])});if(r){r()}}function d(r){return o[r]}var o={};var c=o.dev={IDS_DEFAULTMND:"All Measures",IDS_DEFAULTCHARTTITLE:"Title of Chart",IDS_ISNOVALUE:"No value",IDS_BARCHART:"Bar Chart",IDS_COMBINATIONCHART:"Combined Column Line Chart",IDS_DUALBARCHART:"Bar Chart with 2 X-Axes",IDS_DUALCOMBINATIONCHART:"Combined Column Line Chart with 2 Y-Axes",IDS_DUALHORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart with 2 X-Axes",IDS_DUALHORIZONTALLINECHART:"Horizontal Line Chart with 2 X-Axes",IDS_DIUALLINECHART:"Line Chart with 2 Y-Axes",IDS_DUALPERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart with 2 X-Axes",IDS_DUALSTACKEDVERTICALBARCHART:"Stacked Column Chart with 2 Y-Axes",IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart with 2 Y-Axes",IDS_DUALSTACKEDBARCHART:"Stacked Bar Chart with 2 X-Axes",IDS_DUALVERTICALBARCHART:"Column Chart with 2 Y-Axes",IDS_HORIZONTALBOXPLOTCHART:"Horizontal Box Plot",IDS_HORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart",IDS_HORIZONTALLINECHART:"Horizontal Line Chart",IDS_HORIZONTALWATERFALLCHART:"Horizontal Waterfall Chart",IDS_HORIZONTALSTACKEDWATERFALL:"Horizontal Stacked Waterfall Chart",IDS_LINECHART:"Line Chart",IDS_PERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart",IDS_PERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart",IDS_SPARKLINECHART:"Spark Line Chart (POC)",IDS_STACKEDBARCHART:"Stacked Bar Chart",IDS_STACKEDVERTICALBARCHART:"Stacked Column Chart",IDS_STACKEDWATERFALLCHART:"Stacked Waterfall Chart",IDS_VARIANTBARCHART:"Variant Bar Chart (POC)",IDS_VERTICALBARCHART:"Column Chart",IDS_VERTICALBOXPLOTCHART:"Box Plot",IDS_WATERFALLCHART:"Waterfall Chart",IDS_DONUTCHART:"Donut Chart",IDS_PIECHART:"Pie Chart",IDS_BASEBUBBLECHART:"Base Scatter Chart",IDS_BUBBLECHART:"Bubble Chart",IDS_SCATTERCHART:"Scatter Plot",IDS_BASECHART:"Base Chart",IDS_BASEHORIZONTALCHART:"Base horizontal XY Chart",IDS_BASEVERTICALCHART:"Base Vertical XY Chart",IDS_BASEMULTIPLECHART:"Base Multiple Chart",IDS_BASEMULTIPLEXYCHART:"Base Multiple XY Chart",IDS_BASESINGLECHART:"Base Single Chart",IDS_HEATMAPCHART:"Heat Map",IDS_TREEMAPCHART:"Tree Map",IDS_MULTIBARCHART:"Multiple Bar Chart",IDS_MULTIBUBBLECHART:"Multiple Bubble Chart",IDS_MULTIDONUTCHART:"Multiple Donut Chart",IDS_MULTIDUALBARCHART:"Multiple Bar Chart with 2 X-Axes",IDS_MULTIDUALHORIZONTALLINECHART:"Multiple Horizontal Line Chart with 2 X-Axes",IDS_MULTIDUALLINECHART:"Multiple Line Chart with 2 Y-Axes",IDS_MULTIDUALPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart with 2 X-Axes",IDS_MULTIDUALPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart with 2 Y-Axes",IDS_MULTIDUALSTACKEDBARCHART:"Multiple Stacked Bar Chart with 2 X-Axes",IDS_MULTIDUALSTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart with 2 Y-Axes",IDS_MULTIDUALVERTICALBARCHART:"Multiple Column Chart with 2 Y-Axes",IDS_MULTIHORIZONTALLINECHART:"Multiple Horizontal Line Chart",IDS_MULTILINECHART:"Multiple Line Chart",IDS_MULTIPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart",IDS_MULTIPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart",IDS_MULTIPIECHART:"Multiple Pie Chart",IDS_MULTISCATTERCHART:"Multiple Scatter Plot",IDS_MULTISTACKEDBARCHART:"Multiple Stacked Bar Chart",IDS_MULTISTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart",IDS_MULTIVERTICALBARCHART:"Multiple Column Chart",IDS_MULTIRADARCHART:"Multiple Radar Chart",IDS_RADARCHART:"Radar Chart",IDS_SCATTERMATRIXCHART:"Scatter Matrix Chart",IDS_TAGCLOUDCHART:"Tag Cloud",IDS_MEKKOCHART:"Mekko chart",IDS_HORIZONTALMEKKOCHART:"Horizontal Mekko Chart",IDS_PERCENTAGEMEKKOCHART:"100% Mekko Chart",IDS_PERCENTAGEHORIZONTALMEKKOCHART:"100% Horizontal Mekko Chart",IDS_AREACHART:"Area Chart",IDS_PERCENTAGEAREACHART:"100% Area Chart",IDS_HORIZONTALAREACHART:"Horizontal Area Chart",IDS_PERCENTAGEHORIZONTALAREACHART:"100% Horizontal Area Chart",IDS_MULTIAREACHART:"Multiple Area Chart",IDS_MULTIHORIZONTALAREACHART:"Multiple Horizontal Area Chart",IDS_MULTIPERCENTAGEAREACHART:"Multiple 100% Area Chart",IDS_MULTIPERCENTAGEHORIZONTALAREACHART:"Multiple 100% Horizontal Area Chart",IDS_3D_BAR:"3D Bar Chart",IDS_3D_COLUMN:"3D Column Chart",IDS_PIEWITHDEPTHCHART:"Pie With Depth Chart",IDS_DONUTWITHDEPTHCHART:"Donut With Depth Chart",IDS_REGIONCOLOR:"Region Color",IDS_PRIMARYVALUES:"Primary Values",IDS_SECONDARYVALUES:"Secondary Values",IDS_AXISLABELS:"Axis Labels",IDS_RECTANGLETITLE:"Rectangle Title",IDS_RECTANGLEWEIGHT:"Rectangle Weight",IDS_RECTANGLECOLOR:"Rectangle Color",IDS_TAGNAME:"Tags Name",IDS_TAGWEIGHT:"Tags Weight",IDS_TAGFAMILY:"Tags Family",IDS_CATEGORYAXIS:"Axis Labels Category",IDS_REGIONSHAPE:"Region Shape",IDS_BUBBLEWIDTH:"Bubble Width",IDS_BUBBLEHEIGHT:"Bubble Height",IDS_RADARAXES:"Radar Axes",IDS_RADARAXESVALUE:"Radar Axes Values",IDS_PIESECTORCOLORNAME:"Sector Color",IDS_PIESECTORSIZE:"Sector Size",IDS_PIEDEPTHSIZE:"Depth Size",IDS_MAINLABELAXISNAME:"Main Category Axis",IDS_SECONDARYAXISLABELNAME:"Secondary Category Axis",IDS_SELECTABILITY:"selectability",IDS_PRIMARYVALUECOLORPALETTE:"primaryValuesColorPalette",IDS_SECONDARYVALUESCOLORPALETTE:"secondaryValuesColorPalette",IDS_DRAWINGEFFECT:"drawingEffect",IDS_TOOLTIPVISIBLE:"tooltipVisible",IDS_ENABLEROUNDCORNER:"enableRoundCorner",IDS_ANIMATION:"animation",IDS_DATALOADING:"dataLoading",IDS_DATAUPDATING:"dataUpdating",IDS_BAR:"bar",IDS_LINE:"line",IDS_WIDTH:"width",IDS_HOVERLINEVISIBLE:"hoverlineVisible",IDS_MARKER:"marker",IDS_VISIBLE:"visible",IDS_SHAPE:"shape",IDS_SIZE:"size",IDS_HEADERVISIBLE:"headerVisible",IDS_AXISVISIBLE:"axisVisible",IDS_GRIDVISIBLE:"gridVisible",IDS_COLUMNSEQUENCE:"columnSequence",IDS_COLUMNCONFIG:"columnConfig",IDS_STARTCOLUMN:"startColumn",IDS_LABEL:"label",IDS_VALUEFORMAT:"valueFormat",IDS_ENDCOLUMN:"endColumn",IDS_HIGHCOLUMN:"highColumn",IDS_LOWCOLUMN:"lowColumn",IDS_LINECONFIG:"lineConfig",IDS_MARKERS:"markers",IDS_FILLVISIBLE:"fillVisible",IDS_REFINEVISIBLE:"reflineVisible",IDS_MODE:"mode",IDS_TITLE:"title",IDS_TEXT:"text",IDS_GRIDLINE:"gridline",IDS_SHOWFIRSTLINE:"showFirstLine",IDS_TYPE:"type",IDS_FORMAT:"format",IDS_POSITION:"position",IDS_BORDER:"border",IDS_STARTCOLOR:"startcolor",IDS_ENDCOLOR:"endcolor"};var k="dev",j="en";var f={constructor:function(){return},loadPath:["../../../resources/langs/"],current:function(){return k},register:function(r){k=r.id;c=o[r.id]=e.extend(true,o[r.id],r.value);return f},apply:function(s,r){if(s){s=m.get(s);q(f.loadPath,0,s,function(){g(r)},function(){q(f.loadPath,0,j,function(){g(r);h.error("Loading language {0} failed.",s)},function(){k="dev",c=o.dev;g(r);h.error("Loading language {0}, {1} failed.",s,j)})})}return f},get:function(r){if(c[r]){return c[r]}return o.dev[r]},addListener:function(r){l.push(r);return f},removeListener:function(s){var r=l.indexOf(s);if(r!=-1){l.splice(r,1)}return f}};a.addListener({fn:function(r,s){f.apply(r,s)},scope:f});return f});sap.riv.module({qname:"sap.viz.data.MultiAxesDataAdapter",version:"4.0.1",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"}],function Setup(a,c){function b(d){this._bindingInfo=d;this._aa=[];this._mg=[];this._fakeData=false;this._dataPointCount=0;this._emptyDataset=false}b.prototype.addAnalysisAxis=function(d){if(d){this._aa.push(d)}};b.prototype.addMeasureValuesGroup=function(d){if(d){this._mg.push(d)}};b.prototype.getAnalysisAxisDataByIdx=function(d){if(!arguments.length){return this._aa}for(var e=0;e<this._aa.length;e++){if(this._aa[e].index===d){return this._aa[e]}}return null};b.prototype.getMeasureValuesGroupDataByIdx=function(d){if(!arguments.length){return this._mg}for(var e=0;e<this._mg.length;e++){if(this._mg[e].index===d){return this._mg[e]}}return null};b.prototype.createDataAdapterForModule=function(d){var g=new b();var f;if(d&&d.aa){for(f=0;f<d.aa.length;f++){var h=this.getAnalysisAxisDataByIdx(d.aa[f]-1);if(h){g.addAnalysisAxis({index:f,values:h.values})}}}if(d&&d.mg){for(f=0;f<d.mg.length;f++){var e=this.getMeasureValuesGroupDataByIdx(d.mg[f]-1);if(e){g.addMeasureValuesGroup({index:f,values:e.values})}}}return g};b.prototype.getBindingInfo=function(){return this._bindingInfo};b.prototype.fakeData=function(d){if(!arguments.length){return this._fakeData}this._fakeData=d};b.prototype.dataPointCount=function(d){if(!arguments.length){return this._dataPointCount}this._dataPointCount=d};b.prototype.emptyDataset=function(d){if(!arguments.length){return this._emptyDataset}this._emptyDataset=d};return b});sap.riv.module({qname:"sap.viz.data.handler.BaseDataHandler",version:"4.0.1"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"}],function Setup(g,a,c){function f(j){var m=[];var k=true;var l=0;for(;l<j.length;l++){var n=j[l];if(n.type()==="Dimension"&&n.acceptMND()>=0){if(n.hasMNDFeeded()){return n.feedId()}else{if(n.getDataCount()<n.max()){m[n.acceptMND()]=n;if(k){k=n.hasFeeded()}}}}}if(m.length===0){return""}if(k){return m[m.length-1].feedId()}for(l=m.length-1;l>=0;l--){if(m[l]&&!m[l].hasFeeded()){return m[l].feedId()}}return""}function e(j){if(a.isString(j)){return j}else{if(a.isNumber(j)){return j.toString()}else{return null}}}function d(j){if(a.isNumber(j)){return parseFloat(j)}else{return null}}function b(j,m){var l=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY];var n=j.getDataPointCount();if(m===Number.POSITIVE_INFINITY||!a.isNumber(m)||m>=n){return l}var q=0;var k=j.getMeasureValuesGroupCount();for(var o=0;o<k;o++){q+=j.getMeasureValuesGroupByIdx(o).getMeasureValues().length}var p=Math.floor(m/q);var r=j.getAnalysisAxisCount();if(r===0||r===1){l[0]=p}else{if(r===2){var t=j.getMeasureValuesGroupByIdx(0).getMeasureValues()[0];var s=t.getValues()[0].length;if(p/s<1){l[0]=p;l[1]=1}else{l[1]=Math.floor(p/s)}}}return l}function h(j,l,k){this._feeder=j;this._feeds=j.getFeeds();this._mndFeed=f(this._feeds);this._limit=b(l,k)}h.prototype.getFeedValues=function(j){var k=this._feeder.findFeed(j);if(!k){g.error("could not find feed definition of "+j)}if(k.type()==="Dimension"){return this.getDimensionFeedValues(k)}else{if(k.type()==="Measure"){return this.getMeasureFeedValues(k)}}};h.prototype.getDimensionFeedValues=function(A){var B=[];var q=false;var u=A.data();var r;var n=c.get("IDS_DEFAULTMND");if(u.length>0){for(var t=0;t<u.length;t++){var s=u[t];if(s){if(s.getType()==="measureNamesDimension"){r={};r.col={val:n};r.type="MND";r.rows=this.getMeasureNamesValues();B.push(r);q=true}else{if(s.getType()==="analysisAxis"){var p=s.getDimensionLabels();var w=this._feeder.getAnalysisAxisIndex(A);for(var o=0;o<p.length;o++){r={};r.col={val:e(p[o].getId())};var C=[];var z=p[o].getValues();var v=p[o].infos();var m=z.length;if(this._limit[w]!==Number.POSITIVE_INFINITY){m=this._limit[w]}for(var l=0;l<m;l++){var x={val:e(z[l]),ctx:{type:"Dimension",path:{aa:w,di:o,dii:l}}};if(a.isExist(v)){x.info=v[l]}C.push(x)}r.rows=C;B.push(r)}}else{g.error("wrong type when getting data")}}}}}if(A.feedId()===this._mndFeed&&q===false){r={};r.col={val:n};r.type="MND";r.rows=this.getMeasureNamesValues();B.unshift(r)}return B.length>0?B:null};h.prototype.getMeasureFeedValues=function(v){var w=[];var r=v.getMeasureValues();var l=this._feeder.getMeasureValuesGroupIndex(v);for(var q=0;q<r.length;q++){var p={};p.col=e(r[q].getId());var B=[];var x=r[q].getValues();var t=r[q].infos();var s=x.length;if(this._limit[1]!==Number.POSITIVE_INFINITY){s=this._limit[1]}for(var o=0;o<s;o++){var u=x[o];var A=[],z={};var m=u.length;if(this._limit[0]!==Number.POSITIVE_INFINITY){m=this._limit[0]}for(var n=0;n<m;n++){z={val:d(u[n]),ctx:{type:"Measure",path:{mg:l,mi:q,dii_a1:n,dii_a2:o}}};if(a.isExist(t)){z.info=t[o][n]}A.push(z)}B.push(A)}p.rows=B;w.push(p)}return w.length>0?w:null};h.prototype.getMeasureNamesValues=function(){var k=[];var o=this._feeder.getMeasureValuesGroupFeeds();for(var n=0;n<o.length;n++){if(o[n].hasFeeded()){var m=o[n].getMeasureValues();for(var l=0;l<m.length;l++){k.push({val:e(m[l].getId()),ctx:{path:{mg:n,mi:l}}})}}}return k};return h});sap.riv.module({qname:"sap.viz.util.ignite",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"}],function Setup(a,b){return function(f,d,g,c){var e;if(a.isString(f)){e=b.get(f)}else{e=f;g=true}return e.execute(d,g,c)}});sap.riv.module({qname:"sap.viz.modules.manifests.controller.Base",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"}],function Setup(c,b){var a={id:"sap.viz.modules.controller.base","abstract":true,type:b.Module.Type.Controller,renderto:b.Module.RenderTo.NONE,name:"controller base module",properties:null,events:null,feeds:null};c.register(a)});sap.riv.module({qname:"sap.viz.util.BoundingBox",version:"4.0.1"},[],function Setup(){var a={};a.getBBox=function(d,c){var b;if(arguments.length===1){b=d.getCTM()}else{b=d.getTransformToElement(c)}return a.getBBoxHelp(d,b)};a.getBBoxHelp=function(e,m){var h=e.getBBox();var j=new Array();var n=d3.select("svg")[0][0].createSVGPoint();n.x=h.x;n.y=h.y;j.push(n.matrixTransform(m));n.x=h.x+h.width;n.y=h.y;j.push(n.matrixTransform(m));n.x=h.x+h.width;n.y=h.y+h.height;j.push(n.matrixTransform(m));n.x=h.x;n.y=h.y+h.height;j.push(n.matrixTransform(m));var f=j[0].x;var c=j[0].x;var d=j[0].y;var b=j[0].y;for(var g=1;g<j.length;g++){var l=j[g].x;var k=j[g].y;if(l<f){f=l}else{if(l>c){c=l}}if(k<d){d=k}else{if(k>b){b=k}}}return{x:f,y:d,width:c-f,height:b-d}};a.intersects=function(d,c){return(d.x<=(c.x+c.width)&&c.x<=(d.x+d.width)&&d.y<=(c.y+c.height)&&c.y<=(d.y+d.height))};a.intersection=function(d,b){if(a.intersects(d,b)){var e=Math.max(d.x,b.x),c=Math.min(d.x+d.width,b.x+b.width),g=Math.max(d.y,b.y),f=Math.min(d.y+d.height,b.y+b.height);return{x:e,y:g,width:c-e,height:f-g}}return null};return a});sap.riv.module({qname:"sap.viz.modules.dispatch",version:"4.0.1"},[],function Setup(){return d3.dispatch});sap.riv.module({qname:"sap.viz.base.UADetector",version:"4.0.1"},[],function Setup(){var o=window.devicePixelRatio||1;var u;var h=function(z){for(var v=0;v<z.length;v++){var w=z[v].string;var x=z[v].prop;u=z[v].versionSearch||z[v].identity;if(w){if(w.indexOf(z[v].subString)!=-1){return z[v].identity}}else{if(x){return z[v].identity}}}};var q=[";"," "];var m=function(z){var w=z.indexOf(u);if(w==-1){return}var A=z.substring(w+u.length+1);var x=0,v=q.length,B=-1;while(B===-1&&x<v){B=A.indexOf(q[x++])}if(B!==-1){A=A.slice(0,B)}return A};var c=[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.userAgent,subString:"Safari",identity:"Safari",versionSearch:"Version"},{string:navigator.userAgent,subString:"Apple",identity:"UIWebView",versionSearch:"AppleWebKit"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}];var b=[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.platform,subString:"Linux",identity:"Linux"}];var s=[{string:navigator.userAgent,subString:"Presto",identity:"Presto"},{string:navigator.userAgent,subString:"KHTML",identity:"KHTML"},{string:navigator.userAgent,subString:"Gecko",identity:"Gecko"},{string:navigator.userAgent,subString:"Trident",identity:"Trident"}];var g=[{string:navigator.userAgent,subString:"Android",identity:"Android",},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"}];var j=h(c)||"An unknown browser",p=m(navigator.userAgent)||m(navigator.appVersion)||"an unknown version",d=h(c)==="Explorer",r=h(c)==="Firefox",e=h(c)==="Chrome",a=h(c)==="Safari",k=h(c)==="UIWebView",t=h(b)||"an unknown OS",l=h(s)||"An unknown RenderEngine",n=h(g);var f={userAgent:function(){return j},version:function(){return p},isIE:function(){return d},isFirefox:function(){return r},isChrome:function(){return e},isSafari:function(){return a},isUIWebView:function(){return k},os:function(){return t},devicePixelRatio:function(){return o},renderEngine:function(){return l},isMobile:function(){return n!==undefined}};return(f)});sap.riv.module({qname:"sap.viz.util.TextUtils",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.UADetector",version:"4.0.1"}],function Setup(a,f){var h="http://www.w3.org/2000/svg";var e;var c=["font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","letter-spacing","word-spacing","alignment-baseline","baseline-shift","dominant-baseline"];var b=[];function d(){if(!e){var k=document.body.appendChild(document.createElementNS(h,"svg"));k.style.cssText="position:absolute;left:-1000px;top:-1000px;z-index:-9000;width:1px;height:1px";e=k.appendChild(document.createElementNS(h,"text"))}return e}function g(o,m){var n=d();if(!m){n.removeAttribute("style")}else{if(!a.isString(m)){var k=f.isIE()?m.ownerSVGElement.getComputedStyle(m):window.getComputedStyle(m);var l="";c.forEach(function(p){var q=k.getPropertyValue(p);if(q!==null){l+=p+":"+q+";"}});m=l}n.style.cssText=m}if(o===undefined||o===null){o=""}n.textContent=o;return n}function j(r,l,s,q,m){if(s>0){var k=m?d():g(r,q||l);if(k.getComputedTextLength()<=s){if(l){l.textContent=r}return r}k.textContent="...";s-=k.getComputedTextLength();k.textContent=r;if(s>0){var p=r.length;var o=0;while(++o<p){if(k.getSubStringLength(0,p-o)<=s){var n=r.substring(0,p-o)+"...";if(l){l.textContent=n;l.appendChild(document.createElementNS(l.namespaceURI,"title")).textContent=r}return n}}}}if(l){l.textContent=""}return""}return{measure:function(m,k){if(m===""){return{width:0,height:0,x:0,y:0}}var l=g(m,k).getBBox();return{width:l.width,height:l.height,x:l.x,y:l.y}},fastMeasure:function(o,m,p,n){var k=o+m+p+n;var l=b[k];if(!l){b[k]=this.measure(o,"font-size:"+m+"; font-weight:"+p+"; font-family:"+n);l=b[k]}return l},ellipsis:function(m,l,k,n){return j(m,l,k,n,false)},ellipsisInCircle:function(p,o,n,l,q){var m=g(p,o);var k=Math.sqrt(Math.pow(n,2)-Math.pow(l+m.getBBox().height/2,2))*2;j(p,o,k,q,true)},verticalCentralOffset:function(o,n){var k=g(o,n);var l=k.getBBox();var p=-l.y;var m=parseInt(k.ownerSVGElement.getComputedStyle(k)["fontSize"],0);return(p-(l.height-m))/2}}});sap.riv.module({qname:"sap.viz.modules.controller.lasso",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.util.BoundingBox",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"}],function Setup(d,b,f,a,e,c){return function(){var E=null;var K,H,l,Q,N,G=[],q=[],s="multiple",t=[];var R,z,n={},u=".v-datapoint",P=false,k=false;var v=null,j=[],M=null,r=[];var O=function(){G=[]};var B=function(){return B};B.lastOvered=function(g){if(!arguments.length){return j}j=g;return B};B.unhighlightTarget=function(g){if(!arguments.length){return v}v=g;return B};B.lastHovered=function(g){if(!arguments.length){return r}r=g;return B};B.eventLayer=function(g){if(!arguments.length){return M}M=g;return B};B.registerEvent=function(){var g=H.modules();for(var m in g){if(g.hasOwnProperty(m)&&!(g[m] instanceof Array)&&g[m].parent()){G.push(g[m])}}K.on("mousedown.lasso",w,true);K.on("mousemove.lasso",A,true);K.on("mouseup.lasso",I,true);$(K.node()).mouseleave(p)};B.dispatch=function(g){if(!arguments.length){return E}E=g;return B};B.properties=function(g){if(!arguments.length){return l}l=g;s=l.selectability&&l.selectability.mode?l.selectability.mode:"multiple";k=l.selectability&&l.selectability.selectWithCtrlKey;return B};B.isLasso=function(){return P};B.selected=function(g){if(!arguments.length){return q}q=g;return B};B.module=function(g){if(!arguments.length){return H}O();H=g,K=H.parent(),Q=K.node();return B};var D=function(){var T=d3.event,S=!M.empty()?M.node():Q,m=S.getBoundingClientRect(),g=T.clientX-m.left,U=T.clientY-m.top;return[g,U]};var C=function(m){var g=m.getBoundingClientRect();return{x:g.left,y:g.top,height:g.height,width:g.width}};var L=function(){if(d3.event){d3.event.stopPropagation();d3.event.preventDefault()}};var x=function(S,m){var g=[];S.filter(function(V,T){var U=C(this);if(e.intersects(U,m)){g.push(this)}});return g};var w=function(){if(s!=="multiple"){return}if(k&&!(d3.event.ctrlKey)){return}R=D();z=K.append("rect").attr("x",R[0]).attr("y",R[1]).attr("width",0).attr("height",0).attr("pointer-events","none").attr("fill","rgba(64,176,240, 0.4)").style("stroke-width","2px").attr("stroke","rgb(64, 176, 240)");P=true;L()};var h=function(g){for(var m=0;m<G.length;m++){if(G[m].clear){G[m].clear(g)}}};var A=function(){if(s!=="multiple"||!P){return}var U=D(),m=Math.min(U[0],R[0]),T=Math.min(U[1],R[1]),S=Math.abs(U[0]-R[0]),g=Math.abs(U[1]-R[1]);z.attr("x",m).attr("y",T).attr("width",S).attr("height",g)};var I=function(){var g={x:d3.event.clientX,y:d3.event.clientY};F(g)};var F=function(an){if(s!=="multiple"||!P){return}P=false;var V=z.node(),ab=C(V),ag=parseFloat(V.getAttribute("width")),aa=parseFloat(V.getAttribute("height")),U=[],Y=[];setTimeout(function(){z.remove()},0);if(ag||aa){var aj,W,ae=false,Z=null,T=[],X=null,ad=null,al=null;for(var ak=0,am=G.length;ak<am;ak++){aj=G[ak];W=null;if(a.isFunction(aj.getDatapointsInRect)){W=aj.getDatapointsInRect(z.node())}else{X=aj.parent().select("rect.viz-event-sub-layer").node();ad=X?C(X):null;al=ad?e.intersection(ad,ab):ab;if(!al){continue}Z=aj.parent().selectAll(".v-datapoint");if(Z[0].length>0){W=x(Z,al)}}if(W&&W.length>0){T.push({plot:aj,selected:W})}}if(T.length>0){if(q.length==0){v(q,false);h(true)}var aj=null,ah=null,S=false,g=f.extend(true,[],q);for(var ak=0,am=T.length;ak<am;ak++){aj=T[ak].plot,ah=T[ak].selected;for(var ai=0,af=ah.length;ai<af;ai++){for(var ac=0,m=g.length;ac<m;ac++){if(ah[ai]==g[ac]){S=true;break}}if(S){U.push(ah[ai])}else{q.push(ah[ai]);U.push(ah[ai])}S=false}aj.highlight(ah)}}else{if(q.length>0){v(q,false);h()}Y=Y.concat(q);q.splice(0,q.length)}if(U.length>0){o(U)}if(Y.length>0){J(Y)}for(var ak=0,am=j.length;ak<am;ak++){if(j[ak].plot.mouseout){j[ak].plot.mouseout(j[ak].target,true)}}j.splice(0,j.length);L()}};var p=function(m){if(P){var T={x:m.clientX,y:m.clientY};F(T);P=false}for(var S=0,g=r.length;S<g;S++){if(r[S].blurOut){r[S].blurOut()}}r.splice(0,r.length)};function o(S){var V=[];for(var U=0,g=S.length;U<g;U++){var X=[],W=S[U].__data__;if(W.val instanceof Array){for(var T=0,m=W.val.length;T<m;T++){X.push({val:W.val[T],ctx:W.ctx[T]})}}else{X.push({val:S[U].__data__.val,ctx:S[U].__data__.ctx})}V.push({target:S[U],data:X})}E.selectData({name:c.Module.Event.SelectData.name,data:V})}function J(S){var U=[];for(var V=0,g=S.length;V<g;V++){var X=[],W=S[V].__data__;if(W.val instanceof Array){for(var T=0,m=W.val.length;T<m;T++){X.push({val:W.val[T],ctx:W.ctx[T]})}}else{X.push({val:S[V].__data__.val,ctx:S[V].__data__.ctx})}U.push({target:S[V],data:X})}E.deselectData({name:c.Module.Event.DeSelectData.name,data:U})}return B}});sap.riv.module({qname:"sap.viz.modules.controller.interaction",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.controller.lasso",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"}],function Setup(e,b,f,a,c,d){return function(s){var S=null,P,R=[],U="multiple",K=[],E=s.props(null),r=f(),v=[];var F=true,M=[],o=null,I=[];var z=new b("selectData","deselectData","deselectLegend");var V={mouseup:null,mousemove:null,mouseout:null,mouseover:null,touchstart:null},D=false,Q=["mouseup","mousemove","mouseout","mouseover","touchstart"],O=null,A=false;var G=true,j=true,B=true,w=false;var J=function(){D=false;K=[];R.splice(0,R.length);M.splice(0,M.length);I.splice(0,I.length)};var t=function(){r.dispatch(z).selected(R).lastOvered(I).lastHovered(M).unhighlightTarget(n);return t};var l=function(g){for(var m=0;m<K.length;m++){if(K[m].clear){K[m].clear(g)}}};var h=function(g,W){var m=W.parent()[0][0].getBoundingClientRect();return(g.x>=m.left&&g.x<=m.left+m.width&&g.y>=m.top&&g.y<=m.top+m.height)};var N=function(){var m=[];for(var W=0,g=K.length;W<g;W++){if(K[W].parent()){m.push(K[W].parent().node())}}return m};var T=function(X,W){var Y=X,m=W||N(),g;for(;Y&&Y.ownerSVGElement;Y=Y.parentNode){g=m.indexOf(Y);if(g!==-1){return g}}return -1};var L=function(W,g){var m=T(W,g);if(m!==-1){return K[m]}return null};var C=function(W){var X=N(),Z=[];for(var Y=0,m=K.length;Y<m;Y++){Z.push([])}for(var Y=0,m=W.length;Y<m;Y++){var aa=W[Y],g=T(aa,X),ab;if(g!==-1){ab=Z[g];ab.push(aa)}else{}}return Z};var p=function(m){var g=L(m);if(g&&g.highlight){g.highlight(m,U)}};var n=function(Z,Y){var g=a.isArray(Z)?Z:[Z],m=C(g);for(var W=K.length-1;W>=0;W--){var X=K[W],aa=m[W];if(aa&&aa.length>0&&X.unhighlight){X.unhighlight(aa,Y)}}};t.registerEvent=function(){if(D==false){D=true;var m=P.modules();for(var W in m){if(m.hasOwnProperty(W)&&!(m[W] instanceof Array)&&m[W].parent()){K.push(m[W])}}if(!o){o=S.insert("rect","g").attr("x",0).attr("y",0).attr("fill-opacity",0);r.eventLayer(o)}o.attr("width",P.width()).attr("height",P.height());if(v!=null&&v instanceof Array){for(var W=0,g=v.length;W<g;W++){if(V[v[W]]){S.on(v[W]+".interaction",V[v[W]])}}}if(F==true){r.registerEvent()}if(A===true){S.on("mousedown.preserveSelectionWhenDragging",function(){O=d3.mouse(S.node())},true)}}else{o.attr("width",P.width()).attr("height",P.height());r.eventLayer(o);for(var W=0,g=M.length;W<g;W++){if(M[W].blurOut){M[W].blurOut()}}M.splice(0,M.length);for(var W=0,g=I.length;W<g;W++){if(I[W].plot.mouseout){I[W].plot.mouseout()}}I.splice(0,I.length);if(w==false){R.splice(0,R.length)}}};t.getSelectionMode=function(){return U};t.highlightedByLegend=function(X,ab){if(U==="single"||U==="none"){return}var m=[],ah,aj=true,ak=[],W=true,ac=[],Y=[],al=[],aa=[],an=[];for(var ag=0,ai=K.length;ag<ai;ag++){ak=[];if(X.ctx.ranges){if(K[ag].getDatapointsByRange){ak=K[ag].getDatapointsByRange(X);ac.push({plot:K[ag],ctxDatapoints:ak})}}else{if(K[ag].getDatapointsByLegend){ak=K[ag].getDatapointsByLegend(X);ac.push({plot:K[ag],ctxDatapoints:ak})}else{m=K[ag].parent().selectAll(".v-datapoint")[0];for(var af=0,am=m.length;af<am;af++){if(m[af].__data__&&m[af].__data__.ctx){if(m[af].__data__.ctx.path){ah=m[af].__data__.ctx.path}else{ah=m[af].__data__.ctx[0].path}aj=true;for(var ae in ah){if(X.ctx.path[ae]!=undefined){if(X.ctx.path[ae].length>0){if(k(X.ctx.path[ae],ah[ae])===false){aj=false}}else{if(X.ctx.path[ae]!==ah[ae]){aj=false}}}}if(aj===true){ak.push(m[af])}}}if(m.length>0){ac.push({plot:K[ag],ctxDatapoints:ak})}}}}if(R.length===0){W=false}else{var ad=0;for(var ag=0,ai=ac.length;ag<ai;ag++){ak=ac[ag].ctxDatapoints;var g=ak.length;ad+=g;for(var ae=0;ae<g;ae++){if(k(R,ak[ae])===false){W=false;break}}}if(W&&!ad){W=false}}for(var ag=0,ai=ac.length;ag<ai;ag++){ak=ac[ag].ctxDatapoints;aa=[],an=[];for(var ae=0,g=ak.length;ae<g;ae++){var Z=k(R,ak[ae]);if(W){an.push(ak[ae]);R.splice(Z,1);al.push(ak[ae])}else{if(R.length==0){l(true)}aa.push(ak[ae]);Y.push(ak[ae]);if(Z===false){R.push(ak[ae])}}}if(an.length>0){ac[ag].plot.unhighlight(an,false,U)}if(aa.length>0){ac[ag].plot.highlight(aa,false,U)}if(W){z.deselectLegend(X)}if(R.length===0){l()}}if(Y.length>0){x(Y)}if(al.length>0){q(al)}return W};var k=function(g,W){for(var m=0;m<g.length;m++){if(g[m]===W){return m}}return false};t.dispatch=function(g){if(!arguments.length){return z}z=g;return t};V.mousemove=function(){if(r.isLasso()||G==false){return}var ab={x:d3.event.clientX,y:d3.event.clientY};var W=[];for(var Z=0,m=K.length;Z<m;Z++){if(K[Z].parent()&&h(ab,K[Z])){W.push(K[Z])}}var aa=false;for(var Z=0,m=M.length;Z<m;Z++){for(var Y=0,X=W.length;Y<X;Y++){if(M[Z]==W[Y]){aa=true;break}}if(aa==false&&M[Z].blurOut){M[Z].blurOut()}aa=false}for(var Z=0,m=W.length;Z<m;Z++){if(W[Z].hoverOnPoint){var g=W[Z].parent().node().getBoundingClientRect();W[Z].hoverOnPoint({x:ab.x-g.left,y:ab.y-g.top})}}M.splice(0,M.length);for(var Z=0,m=W.length;Z<m;Z++){M.push(W[Z])}};V.mouseover=function(){if(r.isLasso()||j==false){return}var Z=d3.event.target,Y=Z.getAttribute("class");if(Y!=null&&Y.indexOf("v-datalabel")!=-1){Z=Z.__data__.dataShape}else{Z=u(Z);Y=Z.getAttribute("class")}if(Y!=null&&(Y.indexOf("v-datapoint")!=-1||Y.indexOf("v-datalabel")!=-1)){var m=false;for(var W=0,g=R.length;W<g;W++){if(Z===R[W]){m=true;break}}if(R.length==0){m=true}var X=L(Z);if(X){I.push({plot:X,target:Z});if(X.mouseover){X.mouseover(Z,m)}}}};V.mouseout=function(){if(r.isLasso()||B==false){return}var aa=d3.event.target,Z=aa.getAttribute("class");if(Z!=null&&Z.indexOf("v-datalabel")!=-1){aa=aa.__data__.dataShape}else{aa=u(aa);Z=aa.getAttribute("class")}if(Z!=null&&(Z.indexOf("v-datapoint")!=-1||Z.indexOf("v-datalabel")!=-1)){var m=false;for(var W=0,g=R.length;W<g;W++){if(aa===R[W]){m=true;break}}if(R.length==0){m=true}var Y=L(aa);for(var W=0,g=I.length;W<g;W++){var X=I[W];if(X.target===aa){I.splice(W,1);if(Y.mouseout){Y.mouseout(aa,m)}break}}}};var u=function(g){if(g===S.node()){return g}else{var m=g.getAttribute("class");if(m!=null&&m.indexOf("v-datapoint")!=-1){return g}else{return u(g.parentNode)}}};V.mouseup=function(){if(A&&O){var ab=d3.mouse(S.node());if(Math.abs(ab[0]-O[0])>5||Math.abs(ab[1]-O[1])>5){return}}if(U!=="none"){var Y=d3.event.target,m=Y.getAttribute("class"),Z=[],g=[];if(m!=null&&m.indexOf("v-datalabel")!=-1){Y=Y.__data__.dataShape}else{Y=u(Y);m=Y.getAttribute("class")}if(m==null||(m.indexOf("v-datapoint")==-1&&m.indexOf("v-datalabel")==-1)){n(R,false);l();g=g.concat(R);R.splice(0,R.length);z.deselectLegend()}else{var ac=false;for(var W=0,X=R.length;W<X;W++){if(Y==R[W]){ac=true;break}}if(R.length==0){l(true);p(Y);R.push(Y);Z.push(Y)}else{if(ac){if(U=="single"){n(R[0]);l();R.splice(0,R.length);g.push(Y)}else{var aa=R.splice((W),1);g=g.concat(aa);if(R.length==0){n(Y);l()}else{n(Y);g.push(Y)}}}else{if(U=="single"){n(R[0]);g.push(R[0]);p(Y);Z.push(Y);R[0]=Y}else{Z.push(Y);p(Y);R.push(Y)}}}}if(Z.length>0){x(Z)}if(g.length>0){q(g)}}};V.touchstart=V.mouseup;function x(W){var Z=[];for(var Y=0,g=W.length;Y<g;Y++){var ab=[],aa=W[Y].__data__;if(aa.val instanceof Array){for(var X=0,m=aa.val.length;X<m;X++){ab.push({val:aa.val[X],ctx:aa.ctx[X]})}}else{ab.push({val:W[Y].__data__.val,ctx:W[Y].__data__.ctx})}Z.push({target:W[Y],data:ab})}z.selectData({name:c.Module.Event.SelectData.name,data:Z})}function q(W){var Y=[];for(var Z=0,g=W.length;Z<g;Z++){var ab=[],aa=W[Z].__data__;if(aa.val instanceof Array){for(var X=0,m=aa.val.length;X<m;X++){ab.push({val:aa.val[X],ctx:aa.ctx[X]})}}else{ab.push({val:W[Z].__data__.val,ctx:W[Z].__data__.ctx})}Y.push({target:W[Z],data:ab})}z.deselectData({name:c.Module.Event.DeSelectData.name,data:Y})}function H(){U=E.selectability.mode;v=E.supportedEventNames;G=E.enableMouseMove;j=E.enableMouseOver;B=E.enableMouseOut;F=E.supportLassoEvent;w=E.holdSelection;A=E.preserveSelectionWhenDragging}t.properties=function(g){if(!arguments.length){return E}d.extend(true,E,g);r.properties(E);H()};t.module=function(g){if(!arguments.length){return P}J();P=g,S=P.parent();r.module(g);return t};return t}});sap.riv.module({qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.controller.interaction",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Base",version:"4.0.1"}],function Setup(c,b){var a={id:"sap.viz.modules.controller.interaction",name:"selection",base:"sap.viz.modules.controller.base",description:"Settings for the interactions of the chart.",properties:{selectability:{name:"selectability",supportedValueType:"Object",supportedValues:{mode:{name:"mode",supportedValueType:"List",supportedValues:["single","multiple","none"],defaultValue:"multiple",description:"Set the selection mode. Single means you only can select one at the same time. Multiple means you can select several ones. None means you can not select anything. "},selectWithCtrlKey:{name:"selectWithCtrlKey",supportedValueType:"Boolean",defaultValue:false,description:"Set whether lasso selection needs ctrl key pressed.",isExported:false}},description:"Settings for selectability."},supportedEventNames:{name:"supportedEventNames",supportedValueType:"StringArray",supportedValues:["mouseup","mousemove","mouseout","mouseover","touchstart"],defaultValue:["mouseup","mousemove","mouseout","mouseover","touchstart"],description:"Set supported event names.",isExported:false},enableMouseMove:{name:"enableMouseMove",supportedValueType:"Boolean",defaultValue:true,description:"Set whether mouse move is enabled.",isExported:false},enableMouseOver:{name:"enableMouseOver",supportedValueType:"Boolean",defaultValue:true,description:"Set whether mouse over is enabled.",isExported:false},enableMouseOut:{name:"enableMouseOut",supportedValueType:"Boolean",defaultValue:true,description:"Set whether mouse out is enabled.",isExported:false},supportLassoEvent:{name:"supportLassoEvent",supportedValueType:"Boolean",defaultValue:true,description:"Set whether support lasso event is enabled.",isExported:false},holdSelection:{name:"holdSelection",supportedValueType:"Boolean",defaultValue:false,description:"Set whether hold selection is enabled.",isExported:false},preserveSelectionWhenDragging:{name:"preserveSelectionWhenDragging",supportedValueType:"Boolean",defaultValue:false,description:"Set whether preserve selection when dragging is enabled.",isExported:false}},fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.format.XCFormat",version:"4.0.1"},[{qname:"sap.viz.util.Objects",version:"4.0.1"}],function Setup(b){var c={format:function(e){return e},locale:function(){},DEFAULT_FORMAT_DATE_TIME:"",DEFAULT_FORMAT_TIME:"",DEFAULT_FORMAT_SHORT_DATE:"",DEFAULT_FORMAT_LONG_DATE:"",DEFAULT_FORMAT_NUMBER:"",DEFAULT_FORMAT_BOOLEAN:""},d=null,a="en";if(sap&&sap.common&&sap.common.globalization&&sap.common.globalization.NumericFormatManager){d=sap.common.globalization.NumericFormatManager;c=b.extend(true,c,{format:function(f,e){return d.formatToText(f,e,true)},locale:function(e){if(!arguments.length){return a}a=e;d.setPVL(a);c.DEFAULT_FORMAT_DATE_TIME=d.DEFAULT_FORMAT_DATE_TIME;c.DEFAULT_FORMAT_TIME=d.DEFAULT_FORMAT_TIME;c.DEFAULT_FORMAT_SHORT_DATE=d.DEFAULT_FORMAT_SHORT_DATE;c.DEFAULT_FORMAT_LONG_DATE=d.DEFAULT_FORMAT_LONG_DATE;c.DEFAULT_FORMAT_NUMBER=d.DEFAULT_FORMAT_NUMBER;c.DEFAULT_FORMAT_BOOLEAN=d.DEFAULT_FORMAT_BOOLEAN},DEFAULT_FORMAT_DATE_TIME:d.DEFAULT_FORMAT_DATE_TIME,DEFAULT_FORMAT_TIME:d.DEFAULT_FORMAT_TIME,DEFAULT_FORMAT_SHORT_DATE:d.DEFAULT_FORMAT_SHORT_DATE,DEFAULT_FORMAT_LONG_DATE:d.DEFAULT_FORMAT_LONG_DATE,DEFAULT_FORMAT_NUMBER:d.DEFAULT_FORMAT_NUMBER,DEFAULT_FORMAT_BOOLEAN:d.DEFAULT_FORMAT_BOOLEAN})}return c});sap.riv.module({qname:"sap.viz.format.FormatManager",version:"4.0.1",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.format.XCFormat",version:"4.0.1"},{qname:"sap.viz.Locale",version:"4.0.1"}],function Setup(b,f,g){var a="en",c=f,d=null;var e={constructor:function(){return},apply:function(h){a=h;c.locale(a)},format:function(j,h){return c.format(j,h)},formatFunc:function(h){if(!arguments.length){return c}c=h},DEFAULT_FORMAT_DATE_TIME:c.DEFAULT_FORMAT_DATE_TIME,DEFAULT_FORMAT_TIME:c.DEFAULT_FORMAT_TIME,DEFAULT_FORMAT_SHORT_DATE:c.DEFAULT_FORMAT_SHORT_DATE,DEFAULT_FORMAT_LONG_DATE:c.DEFAULT_FORMAT_LONG_DATE,DEFAULT_FORMAT_NUMBER:c.DEFAULT_FORMAT_NUMBER,DEFAULT_FORMAT_BOOLEAN:c.DEFAULT_FORMAT_BOOLEAN};g.addListener({fn:function(h){e.apply(h)},scope:e});return e});sap.riv.module({qname:"sap.viz.modules.tooltip",version:"4.0.1"},[{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.format.FormatManager",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"}],function Setup(b,c,f,a,g,d){var e=function(x,J){var aa={imageMode:false,imagePalette:[],radio:1};var al={singleMeasure:{label:{font:"bold 11px sans-serif",color:"#333333"},value:{font:"bold 14px sans-serif",color:"#333333"},padding:{vertical:9,horizontal:10}},multipleMeasure:{label:{font:"12px 'Open Sans', Arial, Helvetica, sans-serif",color:"#333333"},value:{font:"12px 'Open Sans', Arial, Helvetica, sans-serif",color:"#333333"},padding:{vertical:8,horizontal:10,inline:6,symbolGap:7,defaultSpace:8}},title:{color:"#333333",font:"bold 13px 'Open Sans', Arial, Helvetica, sans-serif",formatString:""},footer:{label:{font:"bold 10.5px 'Open Sans', Arial, Helvetica, sans-serif",color:"#333333"},value:{font:"10.5px 'Open Sans', Arial, Helvetica, sans-serif",color:"#333333"},padding:{inline:6}},valueFormat:[],labelFormat:[],maxDimensionLabelWidth:150,maxMeasureLabelWidth:80};var M={padding:5,radius:4,markerWidth:12,markerHeight:8,borderWidth:1,separationLineBorderWidth:1};var ac={backgroundColor:"#ffffff",borderColor:"#000000",separationLineColor:["#ffffff","#8a8a8a","#ffffff"],separationLineSingleColor:"#AAAAAA",guideLineColor:"#AAAAAA"};var j={arcA:"A",lineToA:"L",moveToA:"M",closePath:"z"};var P={symbolSize:8,hasSymbol:false};var w="tooltipsymbol",ae="v-body-title tooltipparagraphtitle",q="v-body-label tooltipparagraphlabel",Y="v-body-value tooltipparagraphvalue",ai="v-footer-label tooltipfooterlabel",n="v-footer-value tooltipfootervalue",k="v-background",l="v-separationline";var X={bodyName:"v-body",footerName:"v-footer"};var af=null,K=null;var am=0,N=0,ak=0,I=J.effectManager,z={width:200,height:100},p={width:160,height:70,x:0,y:0},Q={},V=null,Z={isTruncated:false,currentFooterIndex:-1,currentBodyIndex:-1,defaultValue:"...",font:"bold 20px Arial",color:"#000000"};var S=d.get("IDS_ISNOVALUE");var an=function(ap){if(ap===null||ap===undefined){return S}else{return ap}};function ag(){Z.isTruncated=false;Z.currentFooterIndex=-1;Z.currentBodyIndex=-1}function U(ap){af=d3.select(ap).append("svg").style("position","absolute").attr("pointer-events","none").attr("width","0").attr("height",0).attr("class","v-m-tooltip");return U}function A(aD,aO){var ax=al.multipleMeasure.padding.inline,aA=al.multipleMeasure.padding.vertical,aN=al.multipleMeasure.label.font,aL=al.multipleMeasure.value.font,aG=al.footer.padding.inline,aJ=al.footer.label.font,aC=al.title.font;var aE=0,ap=aO.body,aF=aO.footer;if(ap&&ap.length>0){aE=aA;if(aF&&aF.length>0){var aw=0;if(ap[0].name!==null){aw=O(aD,ap[0].name,aC).height+ax+O(aD,Z.defaultValue,Z.font).height}if(aF[0].label!==null){var aB=O(aD,aF[0].label,aJ);aE+=aA*3;aE+=(aF.length*aB.height+aG*(aF.length-1));aE+=aw;if(aE>z.height){Z.isTruncated=true;Z.currentBodyIndex=0;var av=0;while(aE>z.height){aE-=aB.height;aE-=aG;av++}Z.currentFooterIndex=aF.length-av-1;return aE}aE-=aw}}else{aE+=aA}var aH=0,aM=0;for(var aI=0;aI<ap.length;aI++){aH++;aM+=ap[aI].val.length}if(ap[0].name!==null){aE+=(aH*O(aD,ap[0].name,aC).height)}var aK=0;if(ap[0].val.length>0){if(ap[0].val[0].label!==null){aK=O(aD,ap[0].val[0].label,aN).height}if(ap[0].val[0].value!==null){var aq=O(aD,ap[0].val[0].value,aL).height;if(aq>aK){aK=aq}}aE+=(aM*aK)}aE+=(ax*(aH+aM-1));if(aE>z.height){Z.isTruncated=true;var at=0;while(aE>z.height){aE-=aK;aE-=ax;at++}Z.currentBodyIndex=aH+aM-at-2;var au=O(aD,Z.defaultValue,Z.font);return aE+(au.height-aK)}}else{if(aF&&aF.length>0){if(aF[0].label!==null){var az=O(aD,aF[0].label,aJ);aE+=aA;aE+=(aF.length*az.height+aG*(aF.length-1));if(aE>z.height){Z.isTruncated=true;var ay=0;while(aE>z.height){aE-=az.height;aE-=aG;ay++}Z.currentFooterIndex=aF.length-ay-1;var ar=O(aD,Z.defaultValue,Z.font);return aE+(ar.height-az.height)}}}}return aE}function ad(aw,av){var au=0,aq=al.multipleMeasure.padding.horizontal,ar=al.multipleMeasure.padding.symbolGap,ap=al.multipleMeasure.padding.defaultSpace,at=P.symbolSize;au=ak+(aq*2)+ap;if(P.hasSymbol){au+=at+ar}return au}function D(ap,au){var ax=0,aw=0,aq=au.body,aA=au.footer;if(aq){for(var av=0;av<aq.length;av++){if(aq[av].name!==null){aw=O(ap,aq[av].name,al.title.font).width;if(aw>ax){ax=aw}}var az=aq[av].val;if(az){if(az.length===1&&(az[0].value!==null)){var ay=O(ap,az[0].value,al.multipleMeasure.value.font);P.symbolSize=ay.height*0.8;P.hasSymbol=true;if(ay.width>ax){ax=ay.width}}else{if(az.length>1){if(az[0].label!==null){if(az[0].shape!==null&&az[0].color!==null){P.symbolSize=O(ap,az[0].label,al.multipleMeasure.label.font).height*0.8;P.hasSymbol=true}}if(az[0].value!==null){if(az[0].shape!==null&&az[0].color!==null){P.symbolSize=O(ap,az[0].value,al.multipleMeasure.value.font).height*0.8;P.hasSymbol=true}}for(var at=0;at<az.length;at++){if((az[at].label!==null)&&(az[at].value!==null)){aw=O(ap,az[at].label,al.multipleMeasure.label.font).width+O(ap,az[at].value,al.multipleMeasure.value.font).width;if(aw>ax){ax=aw}}else{if(az[at].label!==null){aw=O(ap,az[at].label,al.multipleMeasure.label.font).width;if(aw>ax){ax=aw}}else{if(az[at].value!==null){aw=O(ap,az[at].value,al.multipleMeasure.value.font).width;if(aw>ax){ax=aw}}}}}}}}}}if(aA){for(var ar=0;ar<aA.length;ar++){var aB=aA[ar];if(aB.label&&aB.value){aw=O(ap,aB.label,al.footer.label.font).width+O(ap,aB.value,al.footer.value.font).width;if(aw>ax){ax=aw}}}}return ax}function v(at,ar){var aq="",au,aw,av;switch(at){case"circle":au=ar/2;aq="M0,"+au+"A"+au+","+au+" 0 1,1 0,"+(-au)+"A"+au+","+au+" 0 1,1 0,"+au+"Z";break;case"cross":aw=ar/6;av=ar/6;aq="M"+-3*aw+","+-av+"H"+-aw+"V"+-3*av+"H"+aw+"V"+-av+"H"+3*aw+"V"+av+"H"+aw+"V"+3*av+"H"+-aw+"V"+av+"H"+-3*aw+"Z";break;case"triangle-down":aw=ar/2;av=ar/2;aq="M0,"+av+"L"+aw+","+-av+" "+-aw+","+-av+"Z";break;case"triangle-up":aw=ar/2;av=ar/2;aq="M0,"+-av+"L"+aw+","+av+" "+-aw+","+av+"Z";break;case"diamond":aw=ar/2;av=ar/2;aq="M0,"+-av+"L"+aw+",0 0,"+av+" "+-aw+",0Z";break;case"squareWithRadius":au=ar/2;var ap=au-3;aq="M0,"+-au+"L"+-ap+","+-au+"Q"+-au+","+-au+" "+-au+","+-ap+"L"+-au+","+ap+"Q"+-au+","+au+" "+-ap+","+au+"L"+ap+","+au+"Q"+au+","+au+" "+au+","+ap+"L"+au+","+-ap+"Q"+au+","+-au+" "+ap+","+-au+"Z";break;case"square":au=ar/2;aq="M"+-au+","+-au+"L"+au+","+-au+" "+au+","+au+" "+-au+","+au+"Z";break;case"triangle-left":aw=ar/2;av=ar/2;aq="M"+-aw+",0L"+aw+","+av+" "+aw+","+-av+"Z";break;case"triangle-right":aw=ar/2;av=ar/2;aq="M"+aw+",0L"+-aw+","+av+" "+-aw+","+-av+"Z";break;case"intersection":aw=ar/2;av=ar/2;aq="M"+aw+","+av+" "+aw/3+",0 "+aw+","+-av+" "+aw/2+","+-av+" 0,"+-av/3+" "+-aw/2+","+-av+" "+-aw+","+-av+" "+-aw/3+",0 "+-aw+","+av+" "+-aw/2+","+av+" 0,"+av/3+" "+aw/2+","+av;break}return aq}var B=function(aq){var ar="";var ap=aa.imagePalette.length;if(ap>0){ar=aa.imagePalette[aq%ap]}return ar};function u(au,aq,ay,aA,at,ar,av){if(!aa.imageMode){var az={drawingEffect:Q.drawingEffect,fillColor:at,graphType:aA,direction:"vertical"};var ax=I.register(az);aq.append("path").attr("d",v(aA,ar)).attr("transform","translate("+ay.x+","+ay.y+")").attr("fill",ax).attr("class",av)}else{var aw=aq.append("g").attr("transform","translate("+(ay.x-ar/2)+","+(ay.y-ar/2)+")");var ap=aw.select("image");if(ap.empty()){ap=aw.append("image")}ap.attr("xlink:xlink:href",B(au)).attr("width",ar).attr("height",ar)}}function L(a6,aR,bc,bi){var ax=aR.x,aY=aR.y-M.radius/2;var aP=M.markerWidth,ar=M.markerHeight;if(bi==="left"){ax+=ar}if(bi==="top"){aY+=ar}var aq=al.multipleMeasure.padding.horizontal,aC=al.multipleMeasure.padding.vertical,aE=al.multipleMeasure.padding.inline,az=al.multipleMeasure.padding.symbolGap,aJ=al.multipleMeasure.padding.defaultSpace;var bg=P.symbolSize,bb=P.hasSymbol;var aT=al.title.color,a1=al.title.font;var aV=al.multipleMeasure.label.font,aw=al.multipleMeasure.label.color,aA=al.singleMeasure.label.font,aM=al.singleMeasure.label.color;var at=al.multipleMeasure.value.font,aK=al.multipleMeasure.value.color,aX=al.singleMeasure.value.font,a2=al.singleMeasure.value.color;var a8=al.footer.padding.inline,bd=al.footer.label.font,aH=al.footer.value.font,aL=al.footer.label.color,a0=al.footer.value.color;var aU=bc.body,aW=bc.footer;var ay=-1,aQ=-1;var aS={x:0,y:0};var a5=false;if(aU){var av=a6.append("g").attr("class","v-body");for(var ba=0;ba<aU.length;ba++){if(a5){break}var aD=aU[ba];if(aD.name){var bh=O(av,aD.name,a1);var au=bh.height;aS.x=ax+aq;if(ba===0){aS.y=aY+au+aC}else{aS.y+=(aY+au+aE)}t(av,aS,aD.name,aT,a1,ae);ay++;if(Z.isTruncated&&ay===Z.currentBodyIndex){var aI=O(av,Z.defaultValue,Z.font);aS.x=ax+(am-aI.width-aq);aS.y+=(aE+aI.height);t(av,aS,Z.defaultValue,Z.color,Z.font,Y);break}}if(aD.val.length>0){if(aD.val.length>1){var a4=null,aN=null,aZ=null;for(var a9=0;a9<aD.val.length;a9++){if((aD.val[a9].shape!==null)&&(aD.val[a9].color!==null)&&(aD.val[a9].label!==null)&&(aD.val[a9].value!==null)){a4=O(av,aD.val[a9].label,aV);aN=O(av,aD.val[a9].value,at);aZ=(a4.height>=aN.height)?a4.height:aN.heigth;aS.x=ax+aq+bg/2;aS.y+=(aE+aZ);u(ba*aD.val.length+a9,av,{x:aS.x,y:(aS.y-bg/2)},aD.val[a9].shape,aD.val[a9].color,bg,w);aS.x=ax+aq+bg+az;t(av,aS,aD.val[a9].label,aw,aV,q);aS.x=ax+(am-aN.width-aq);t(av,aS,aD.val[a9].value,aK,at,Y)}else{if((aD.val[a9].shape!==null)&&(aD.val[a9].color!==null)&&(aD.val[a9].label!==null)){a4=O(av,aD.val[a9].label,aV);aS.x=ax+aq+bg/2;aS.y+=(aE+a4.height);u(ba*aD.val.length+a9,av,{x:aS.x,y:(aS.y-bg/2)},aD.val[a9].shape,aD.val[a9].color,bg,w);aS.x=ax+aq+bg+az;t(av,aS,aD.val[a9].label,aw,aV,q)}else{if((aD.val[a9].shape!==null)&&(aD.val[a9].color!==null)&&(aD.val[a9].value!==null)){aN=O(av,aD.val[a9].value,at);aS.x=ax+aq+bg/2;aS.y+=(aE+aN.height);u(ba*aD.val.length+a9,av,{x:aS.x,y:(aS.y-bg/2)},aD.val[a9].shape,aD.val[a9].color,bg,w);aS.x=ax+am-aN.width-aq;t(av,aS,aD.val[a9].value,aK,at,Y)}else{if((aD.val[a9].label!==null)&&(aD.val[a9].value!==null)){a4=O(av,aD.val[a9].label,aV);aN=O(av,aD.val[a9].value,at);aZ=(a4.height>=aN.height)?a4.height:aN.heigth;aS.x=ax+aq;aS.y+=(aE+aZ);t(av,aS,aD.val[a9].label,aw,aV,q);aS.x=ax+(am-aN.width-aq);t(av,aS,aD.val[a9].value,aK,at,Y)}}}}ay++;if(Z.isTruncated&&ay===Z.currentBodyIndex){var aG=O(av,Z.defaultValue,Z.font);aS.x=ax+(am-aG.width-aq);aS.y+=(aE+aG.height);t(av,aS,Z.defaultValue,Z.color,Z.font,Y);a5=true;break}}}else{if(aD.val.length===1){if(aD.val[0].value!==null){var bf=O(av,aD.val[0].value,at);aS.y+=(aE+bf.height);if(Q.chartType==="heatmap"||Q.chartType==="treemap"||Q.chartType==="tagcloud"||Q.chartType==="geo"||Q.chartType==="mekko"){aS.x=ax+(am-bf.width-aq)}else{if(aD.val[0].shape!==null&&aD.val[0].color!==null){aS.x=ax+aq+bg/2;u(ba*aD.val.length+0,av,{x:aS.x,y:(aS.y-bg/2)},aD.val[0].shape,aD.val[0].color,bg,w);aS.x=ax+(am-bf.width-aq)}}t(av,aS,aD.val[0].value,aK,at,Y);ay++;if(Z.isTruncated&&ay===Z.currentBodyIndex){var aF=O(av,Z.defaultValue,at);aS.x=ax+(am-aF.width-aq);aS.y+=(aE+aF.height);t(av,aS,Z.defaultValue,Z.color,Z.font,Y);break}}}}}}}if(aW&&aW.length>0){var ap={x:ax,y:aS.y+aC};var a3={x:ax+am,y:aS.y+aC};var be=a6.append("g").attr("class","v-footer");a6.append("line").attr("class",l).attr("x1",ap.x+1).attr("y1",ap.y).attr("x2",a3.x-1).attr("y2",a3.y).attr("stroke",ac.separationLineSingleColor).attr("stroke-width",M.separationLineBorderWidth).style("shape-rendering","crispEdges");aS.y+=(aC*2);for(var a7=0;a7<aW.length;a7++){if(a.isExist(aW[a7].label)&&a.isExist(aW[a7].value)){var aO=O(be,aW[a7].label,bd),aB=O(be,aW[a7].value,aH);aS.x=ax+aq;if(a7>0){aS.y+=a8}aS.y+=(aO.height);t(be,aS,aW[a7].label,aL,bd,ai);aS.x=ax+(am-aB.width-aq);t(be,aS,aW[a7].value,a0,aH,n);aQ++;if(Z.isTruncated&&aQ===Z.currentFooterIndex){break}}}}}var aj=function(ay){if(a.isExist(Q.formatString)){var az=ay.body,aw;var ar=0,aq=0,aD;var au=Q.formatString,aB;if(a.isExist(az)){for(var ax=0,aA=az.length;ax<aA;ax++){aw=az[ax];if(a.isPlainObject(aw.name)){if(a.isExist(au)){aB=au[aw.name.ctx.path.mg];if(a.isExist(aB)){aD=aw.name.ctx.path.mi>=aB.length?aB.length-1:aw.name.ctx.path.mi;for(var av=0,aE=aw.val.length;av<aE;av++){aw.val[av].value=f.format(aw.val[av].value,aB[aD])}}}}else{var ap;if(a.isExist(aw.val[0].valueAxis)){ap=aw.val[0].valueAxis}else{ap=0}aB=au[ap];if(a.isExist(aB)){aD=0;if(ap===0){aD=ar>=aB.length?aB.length-1:ar;ar++}else{if(ap===1){aD=aq>=aB.length?aB.length-1:aq;aq++}}for(var at=0,aC=aw.val.length;at<aC;at++){aw.val[at].value=f.format(aw.val[at].value,aB[aD])}}}}}}return ay};U.imageInfo=function(ap){if(!arguments.length){return aa}aa=ap;return U};U.showTooltip=function(aq){var at=g.extend(true,{},aq.data);at=aj(at);if(K!==null){K.remove()}if(Q.visible){if(at.plotArea){U.plotArea(at.plotArea)}V=Q.orientation;K=af.append("svg:g");ah();ak=D(af,at);am=ad(K,at);N=A(K,at);var ap=am,au=N;if(V==="top"||V==="bottom"){au+=M.markerHeight}if(V==="left"||V==="right"){ap+=M.markerHeight}af.attr("width",ap+M.padding).attr("height",au+M.padding);var ar=ab(at.point,p,z,am,N);E(K,{x:0,y:0,absoluteMarkerOffset:ar.absoluteMarkerOffset},am,N,V);L(K,{x:0,y:0},at,V);af.style("left",ar.x+"px").style("top",ar.y+"px");ag()}};U.hideTooltip=function(){if(K!==null){K.remove();af.attr("width",0).attr("height",0);K=null}};function r(ap){if(ap.labels){P.symbolSize=O(af,ap.labels[0].label,al.multipleMeasure.label.font).height}}function ab(aH,ar,aN,aK,aE){var aq={x:0,y:0,absoluteMarkerOffset:0};var at=Q.chartType;var aG=M.markerHeight,aJ=M.markerWidth;var aB=0,az=0,aI=0,ap=0;if(Q.chartType===undefined){aq.x=aH.x;aq.y=aH.y-aE/2}else{if(at==="heatmap"||at==="treemap"||at==="tagcloud"){if(V==="bottom"){var aM=aN.height-aH.y+aE+aG;if(aM>aN.height){V="top";aq.y=aH.y}else{aq.y=aH.y-aE-aG}}var aQ;if(at==="heatmap"||at==="treemap"||at==="tagcloud"){aQ=R(aH,ar,aN,aK)}else{aQ=o(aH,ar,aN,aK)}aq.x=aQ.x;aq.absoluteMarkerOffset=aQ.absoluteMarkerOffset}else{if(at==="line"||at==="verticalboxplot"||at==="verticalbar"){if(V==="left"){var aO=aH.x+aK+aG;if(aO>aN.width){V="right";aq.x=aH.x-aK-aG}else{aq.x=aH.x}}if(aE/2<ar.y){aq.y=ar.y-(aE-aJ)/2}else{aq.y=0}}else{if(at==="radar"){aB=0;az=0;aI=0;ap=0;var ay=0,ax=0;V=aH.orientation;aq.x=aH.x;aq.y=aH.y-aE/2;if(aH.orientation==="right"){aq.x-=(aK+aG)}if(aH.orientation==="left"){aB=aH.x+aK+aG-aN.width}if(aH.orientation==="right"){az=aH.x-aK-aG}aI=aH.y-aE/2;ap=aH.y+aE/2-aN.height;if(aB<=0&&az>=0&&aI>=0&&ap<=0){return aq}if(aB>0&&aB>aH.range.x){return aq}if(az<0&&Math.abs(az)>aH.range.x){return aq}if(aI<0&&Math.abs(aI)>aH.range.y){return aq}if(ap>0&&ap>aH.range.y){return aq}var aL=aH.angle*180/Math.PI,aA=aH.angle;if(aL>=0){if(aL===0&&aB>0){aq.x-=aB}else{if(aL===90&&aI<0){aq.y-=aI}else{if(aL===180&&az<0){aq.x-=az}else{if(aL>0&&aL<90){if(aI<0&&aB>0){var aw=Math.abs(aI);if(aw>=aB){ax=aw;ay=ax/Math.tan(aA)}else{ay=aB;ax=ay*Math.tan(aA)}}else{if(aI<0&&aB<=0){ax=Math.abs(aI);ay=ax/Math.tan(aA)}else{if(aI>=0&&aB>0){ay=aB;ax=ay*Math.tan(aA)}}}aq.x-=ay;aq.y+=ax}else{if(aL>90&&aL<180){if(aI<0&&az<0){var av=Math.abs(aI),aF=Math.abs(az);if(av>=aF){ax=av;ay=ax/Math.tan(Math.PI-aA)}else{ay=aF;ax=ay*Math.tan(Math.PI-aA)}}else{if(aI<0&&az>=0){ax=Math.abs(aI);ay=ax/Math.tan(Math.PI-aA)}else{if(aI>=0&&az<0){ay=Math.abs(az);ax=ay*Math.tan(Math.PI-aA)}}}aq.x+=ay;aq.y+=ax}}}}}}else{var aP=Math.abs(aL);if(aP===0&&aB>0){aq.x-=aB}else{if(aP===90&&ap>0){aq.y-=ap}else{if(aP===180&&az<0){aq.x-=az}else{if(aP>0&&aP<90){if(ap>0&&aB>0){if(ap>=aB){ax=ap;ay=ax/Math.tan(Math.abs(aA))}else{ay=aB;ax=ay*Math.tan(Math.abs(aA))}}else{if(ap>0&&aB<=0){ax=ap;ay=ax/Math.tan(Math.abs(aA))}else{if(ap<=0&&aB>0){ay=aB;ax=ay*Math.tan(Math.abs(aA))}}}aq.x-=ay;aq.y-=ax}else{if(aP>90&&aP<180){if(ap>0&&az<0){var aD=Math.abs(az);if(ap>=aD){ax=ap;ay=ax/Math.tan(Math.PI-Math.abs(aA))}else{ay=aD;ax=ay*Math.tan(Math.PI-Math.abs(aA))}}else{if(ap>0&&az>=0){ax=ap;ay=ax/Math.tan(Math.PI-Math.abs(aA))}else{if(ap<=0&&az<0){ay=Math.abs(az);ax=ay*Math.tan(Math.PI-Math.abs(aA))}}}aq.x+=ay;aq.y-=ax}}}}}}}else{if(at==="geo"&&V==="left"){aI=aH.y-aE/2;ap=aH.y+aE/2-aN.height;aq.y=aI;if(ar.x+ar.width+aK-aG>aN.width){aq.x=ar.x-ar.width-aK;V="right"}else{aq.x=ar.x+ar.width-aG}if(aI<0){aq.y=0;aq.absoluteMarkerOffset=aI}if(ap>0){aq.y=aN.height-aE;aq.absoluteMarkerOffset=ap}}else{if(Q.orientation==="left"){aB=ar.x+ar.width+aK+aG-aN.width;aI=aH.y-aE/2;ap=aH.y+aE/2-aN.height;aq.y=aH.y-aE/2;if(aB>0){aq.x=aN.width-aG-aK}else{aq.x=ar.x+ar.width-aG}if(aI<0){aq.y=0;aq.absoluteMarkerOffset=aI}if(ap>0){aq.y=aN.height-aE;aq.absoluteMarkerOffset=ap}}else{if(Q.orientation==="bottom"){var aC=ar.y-aE;if(aC<0){aq.y=0}else{aq.y=ar.y-aE}var au;if(at==="heatmap"||at==="treemap"||at==="tagcloud"){au=R(aH,ar,aN,aK)}else{au=o(aH,ar,aN,aK)}aq.x=au.x;aq.absoluteMarkerOffset=au.absoluteMarkerOffset}}}}}}}return aq}function o(ap,av,ar,au){var aw={x:0,absoluteMarkerOffset:0};var aq=au/2-(ap.x-av.x)+av.width;var at=ap.x-av.x+au/2;if(aq>ar.width){aw.x=av.x;aw.absoluteMarkerOffset=ap.x-av.x-au/2}else{if(at>ar.width){aw.x=av.x+(av.width-au);aw.absoluteMarkerOffset=av.width-(ap.x-av.x)-au/2}else{aw.x=ap.x-au/2;aw.absoluteMarkerOffset=0}}return aw}function R(ap,av,ar,au){var aw={x:0,absoluteMarkerOffset:0};var aq=au-(ap.x-av.x)+av.width;var at=ap.x-av.x+au;if(aq>ar.width){aw.x=av.x;aw.absoluteMarkerOffset=ap.x-av.x-au/2}else{if(at>ar.width){aw.x=av.x+(av.width-au);if(aw.x+au>av.width){aw.absoluteMarkerOffset=ap.x-av.x-av.width+au/2}else{aw.absoluteMarkerOffset=av.width-(ap.x-av.x)-au/2}}else{aw.x=ap.x-au/2;aw.absoluteMarkerOffset=0}}return aw}function m(ap,ar,aq,av){var au={y:0,absoluteMarkerOffset:0};var aw=ar.height+(av/2-(ap.y-ar.y));var at=ap.y-ar.y+av/2;if(aw>aq.height){au.y=ar.y;au.absoluteMarkerOffset=ap.y-ar.y-av/2}else{if(at>aq.height){au.y=ar.y+ar.height-av;au.absoluteMarkerOffset=ap.y-(ar.height-av)-ar.y-av/2}else{au.y=ap.y-av/2;au.absoluteMarkerOffset=0}}return au}function E(ar,aB,at,aE,az){var aA=aB.x,aG=aB.y,aw=aB.absoluteMarkerOffset,ay=M.radius,av=M.markerWidth,aC=M.markerHeight;var ap=" ";var au=j.lineToA,aD=j.moveToA,aq=j.arcA,ax=j.closePath;if(az==="left"){aA+=aC}if(az==="top"){aG+=aC}var aF=aD+ap+aA+ap+(aG+ay)+ap;if(az==="left"){aF+=au+ap+aA+ap+(aG+aE/2+aw-av/2)+ap;aF+=au+ap+(aA-aC)+ap+(aG+aE/2+aw)+ap;aF+=au+ap+aA+ap+(aG+aE/2+aw+av/2)+ap}aF+=au+aA+ap+(aG+aE-ay)+ap;aF+=aq+ap+ay+ap+ay+ap+"0"+ap+"0"+ap+"0"+ap+(aA+ay)+ap+(aG+aE)+ap;if(az==="bottom"){aF+=au+ap+(aA+at/2+aw-av/2)+ap+(aG+aE)+ap;aF+=au+ap+(aA+at/2+aw)+ap+(aG+aE+aC)+ap;aF+=au+ap+(aA+at/2+aw+av/2)+ap+(aG+aE)+ap}aF+=au+ap+(aA+at-ay)+ap+(aG+aE)+ap;aF+=ap+aq+ap+ay+ap+ay+ap+"0"+ap+"0"+ap+"0"+ap+(aA+at)+ap+(aG+aE-ay)+ap;if(az==="right"){aF+=au+ap+(aA+at)+ap+(aG+aE/2+aw+av/2)+ap;aF+=au+ap+(aA+at+aC)+ap+(aG+aE/2-aw)+ap;aF+=au+ap+(aA+at)+ap+(aG+aE/2+aw-av/2)+ap}aF+=au+ap+(aA+at)+ap+(aG+ay)+ap;aF+=ap+aq+ap+ay+ap+ay+ap+"0"+ap+"0"+ap+"0"+ap+(aA+at-ay)+ap+aG+ap;if(az==="top"){aF+=au+ap+(aA+at/2+aw+av/2)+ap+aG+ap;aF+=au+ap+(aA+at/2+aw)+ap+(aG-aC)+ap;aF+=au+ap+(aA+at/2+aw-av/2)+ap+aG+ap}aF+=au+ap+(aA+ay)+ap+aG+ap;aF+=aq+ap+ay+ap+ay+ap+"0"+ap+"0"+ap+"0"+ap+aA+ap+(aG+ay)+ap;aF+=ax;ar.append("path").attr("d",aF).attr("class",k).attr("fill",ac.backgroundColor).attr("stroke",ac.borderColor).attr("stroke-width",M.borderWidth).style("-webkit-svg-shadow","3px 3px 8px rgba(0, 0, 0, 0.3)")}function G(ar){var aq;if(ar.info){var ap=ar.info.customlabel;if(ap){if(ap.type==="url"){aq=ar.val}else{if(ap.type==="string"){aq=ap.val}}}else{aq=ar.val}}else{aq=ar.val}aq=an(aq);return aq}function F(aq){var ap=[];if(a.isPlainObject(aq)){ap.push(G(aq))}else{if(a.isArray(aq)){aq.forEach(function(ar,at){ap.push(F(ar))},this)}else{ap.push(aq)}}return ap}function O(au,aw,ar){var ap=F(aw);var at=ap.join("*");var aq=au.append("svg:text").attr("x",0).attr("y",0).attr("visibility","hidden").style("font",ar).text(at);var av=aq.node().getBBox();aq.remove();return av}function T(av,au){var aw=0,ax=0;if(au.title!==null){if(au.labels.length>0){var at=O(av,au.title,al.title.font);var ar=at.width;for(var aq=0,ap=au.labels.length;aq<ap;aq++){ax=O(av,au.labels[aq].label,al.multipleMeasure.label.font).width+O(av,au.labels[aq].value,al.multipleMeasure.value.font).width;if(ax>ar){ar=ax}}aw=ar}}else{aw=O(av,au.labels[0].label,al.singleMeasure.label.font).width;ax=O(av,au.labels[0].value,al.singleMeasure.value.font).width;if(ax>aw){aw=ax}}return aw}function W(ax,aw){var av=0,au=P.symbolSize;var aq=al.singleMeasure.padding.horizontal,ar=al.multipleMeasure.padding.horizontal,at=al.multipleMeasure.padding.symbolGap,ap=al.multipleMeasure.padding.defaultSpace;if(aw.title!==null){av=ak+(ar*2)+ap;if(aw.shapes&&aw.colors){av+=au+at}}else{av=ak+(aq*2)}return av}function H(ar,av){var aw=al.multipleMeasure.padding.inline,aq=al.multipleMeasure.padding.vertical,ax=al.singleMeasure.padding.vertical;var at=al.multipleMeasure.value.font,ap=al.singleMeasure.value.font;var au=al.title.font;var ay=0;if(av.title!==null){ay=(aq*3)+(aw*(av.labels.length-1))+O(ar,av.title,au).height+O(ar,av.labels[0].value,at).height*av.labels.length}else{ay=(ax*3)+O(ar,av.labels[0].value,ap).height}return ay}function C(ap){var aq=ap.append("svg:defs").append("svg:linearGradient").attr("id","tooltipGradient1").attr("x1","0%").attr("y1","0%").attr("x2","80%").attr("y2","0%").attr("x3","100%").attr("y3","0%");aq.append("svg:stop").attr("offset","30%").attr("style","stop-color:"+ac.separationLineColor[0]);aq.append("svg:stop").attr("offset","60%").attr("style","stop-color:"+ac.separationLineColor[1]);aq.append("svg:stop").attr("offset","100%").attr("style","stop-color:"+ac.separationLineColor[2])}function ao(au,ax,at,av,aq){var ap=d3.svg.symbol().type(av).size(at*at);var aw={drawingEffect:Q.drawingEffect,fillColor:aq,graphType:av,direction:"vertical"};var ar=I.register(aw);au.append("path").attr("d",ap).attr("transform","translate("+ax.x+","+ax.y+")").attr("fill",ar)}function h(ar,au,at,ap,aq){ar.append("text").attr("x",au.x).attr("y",au.y).attr("fill",ap).style("font",aq).text(at)}function t(av,ax,aw,aq,at,ar){var ap=F(aw);var au=ap.join("/");av.append("text").attr("x",ax.x).attr("y",ax.y).attr("fill",aq).style("font",at).text(au).attr("class",ar)}function s(aq,ar,ap){}U.zone=function(ap){if(!arguments.length){return z}z=ap;return this};U.plotArea=function(ap){if(!arguments.length){return p}p=ap;return this};U.properties=function(ap){if(!arguments.length){return Q}c.extend(true,Q,ap);return this};function ah(){var ap;ap=J.styleManager.queryDefault("viz-tooltip-background");if(ap&&(ap.fill)&&(ac.backgroundColor!==ap.fill)){ac.backgroundColor=ap.fill}ap=J.styleManager.queryDefault("viz-tooltip-title");if(ap&&(ap.fill)&&(al.title.color!==ap.fill)){al.title.color=ap.fill}ap=J.styleManager.queryDefault("viz-tooltip-label");if(ap&&ap.fill){al.singleMeasure.label.color=ap.fill;al.multipleMeasure.label.color=ap.fill}ap=J.styleManager.queryDefault("viz-tooltip-value");if(ap&&ap.fill){al.singleMeasure.value.color=ap.fill;al.multipleMeasure.value.color=ap.fill}ap=J.styleManager.queryDefault("v-footer-label");if(ap&&ap.fill){al.footer.label.color=ap.fill}ap=J.styleManager.queryDefault("v-footer-value");if(ap&&ap.fill){al.footer.value.color=ap.fill}ap=J.styleManager.queryDefault("v-separationline");if(ap&&ap.fill){ac.separationLineSingleColor=ap.fill}}Q=x.props(null);return U};return e});sap.riv.module({qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.tooltip",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.tooltip",type:b.Module.Type.Supplementary,name:"tooltip",description:"Settings for the tooltip that appears when the user hovers over a series or point.",properties:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of tooltip."},drawingEffect:{name:"drawingEffect",supportedValueType:"List",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Set drawing effect of Tooltip.",isExported:true},formatString:{name:"formatString",supportedValueType:"Two-Dimensions-Array",defaultValue:null,description:"Set format string of tooltip. As we may have dual axis with serveral measures, the first array is applied to primary axis and the second one is applied to the second one.If the length of format string list is less than the length of data series, the last format string in the list will be applied to exceeded data series."}},css:{".viz-tooltip-background.v-background":{description:"Define color for the tooltip background.",value:{fill:"#ffffff"}},".viz-tooltip-title.v-body-title":{description:"Define color for the title of tooltip body.",value:{fill:"#333333"}},".viz-tooltip-label.v-body-label":{description:"Define color for the label of tooltip body.",value:{fill:"#333333"}},".viz-tooltip-value.v-body-value":{description:"Define color for the value of tooltip body.",value:{fill:"#333333"}},".v-footer-label":{description:"Define color for the label of tooltip footer.",value:{fill:"#333333"}},".v-footer-value":{description:"Define color for the value of tooltip footer.",value:{fill:"#333333"}},".v-separationline":{description:"Define color for the value of tooltip separation line.",value:{stroke:"#AAAAAA"}}},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"},[],function Setup(){var b="v-bound";var a={drawBound:function(e,d,c){if(e.select("."+b).node()==null){e.insert("rect",":first-child").attr("class",b).attr("width",d).attr("height",c).attr("visibility","hidden")}else{e.select("."+b).attr("width",d).attr("height",c)}}};return a});sap.riv.module({qname:"sap.viz.modules.background",version:"4.0.1"},[{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(d,a,b,c){return function(g,s){var l="v-background-border",j="viz-plot-background-border",o="v-background-body",r="viz-plot-background";var k=d.guid();var h=0,p=0;var n=s.effectManager,m,t;var e=new a("initialized");function f(x){t=x;if(m.visible){q();var w=t.select("#background-rect-"+k);if(w.empty()){w=t.append("svg:rect").attr("class",o+" "+r).attr("id","background-rect-"+k)}var v=n.register({graphType:"background",fillColor:m.style.body.fill,drawingEffect:m.drawingEffect,direction:m.direction});w.attr("x",0).attr("y",0).attr("width",h).attr("height",p).attr("style","fill:"+v);var z=[];if(m.border.left.visible){z.push({x1:0,y1:0,x2:0,y2:p})}if(m.border.right.visible){z.push({x1:h,y1:0,x2:h,y2:p})}if(m.border.top.visible){z.push({x1:0,y1:0,x2:h,y2:0})}if(m.border.bottom.visible){z.push({x1:0,y1:p,x2:h,y2:p})}var A=x.selectAll("."+l).data(z);A.enter().append("svg:line").attr("class",l+" "+j);A.exit().remove();A.attr("x1",function(B){return B.x1}).attr("y1",function(B){return B.y1}).attr("x2",function(B){return B.x2}).attr("y2",function(B){return B.y2});A.each(function(C){d3.select(this).attr("shape-rendering","crispEdges");for(var B in m.style.border){if(m.style.border.hasOwnProperty(B)){d3.select(this).attr(B,m.style.border[B])}}})}else{var u=t.node();while(u.hasChildNodes()){u.removeChild(u.firstChild)}}e.initialized();return f}f.properties=function(u){if(!arguments.length){return m}b.extend(true,m,u);return f};f.size=function(u){if(arguments.length===0){return{width:h,height:p}}h=u.width;p=u.height;return f};f.width=function(u){if(arguments.length===0){return h}h=u;return f};f.height=function(u){if(arguments.length===0){return p}p=u;return f};f.data=function(u){if(!arguments.length){return{}}return f};f.parent=function(){return null};f.dispatch=function(u){if(!arguments.length){return e}e=u;return f};function q(){if(!m.style){m.style={}}m.style.body=s.styleManager.query(o);if(!m.style.border){m.style.border=s.styleManager.queryDefault(l)}}m=g.props(null);return f}});sap.riv.module({qname:"sap.viz.modules.manifests.Background",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.background",version:"4.0.1"}],function Setup(e,c,d){var a={name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of background."};var b={id:"sap.viz.modules.background",type:c.Module.Type.Supplementary,name:"background",description:"Settings for the background for the outer chart area.",properties:{visible:a,border:{name:"border",description:"Settings for border property.",supportedValueType:"Object",supportedValues:{left:{name:"left",description:"Set left border property.",supportedValueType:"Object",supportedValues:{visible:a,},},right:{name:"right",description:"Set right border property.",supportedValueType:"Object",supportedValues:{visible:a,},},top:{name:"top",description:"Set top border property.",supportedValueType:"Object",supportedValues:{visible:a,},},bottom:{name:"bottom",description:"Set bottom border property.",supportedValueType:"Object",supportedValues:{visible:a,},},},},drawingEffect:{name:"drawingEffect",description:"Set drawing effect of background.",supportedValueType:"List",supportedValues:["normal","glossy"],defaultValue:"normal",isExported:true,},direction:{name:"direction",description:"Set gradient direction of background, only taking effect when drawingEffect of background has been set to 'golossy'.",supportedValueType:"List",supportedValues:["horizontal","vertical"],defaultValue:"vertical",}},css:{".v-background-body.viz-plot-background":{description:"Define style for the plot background body.",value:{fill:"transparent",}},".v-background-border.viz-plot-background-border":{description:"Define style for the plot background border.",value:{stroke:"#d8d8d8","stroke-width":1,}},},configure:null,fn:d};e.register(b)});sap.riv.module({qname:"sap.viz.modules.threeD.Vector",version:"4.0.1"},[],function Setup(b){function a(){this.values=[];for(var d=0,c=arguments.length;d<c;d++){this.values.push(arguments[d])}}a.prototype.dotProduct=function(c){var f=c.dimension();if(f!==this.dimension()){throw new Error("The vectors to be dot-producted must have same dimension, but the dimension of this vector is "+this.dimension+" and another one is "+f+".")}var e=0;for(var d=0;d<f;d++){e+=this.value(d)*c.value(d)}return e};a.prototype.dimension=function(c){return this.values.length};a.prototype.value=function(c,e){if(arguments.length>=2){this.values[c]=e}return this.values[c]};return a});sap.riv.module({qname:"sap.viz.modules.threeD.Vector4D",version:"4.0.1"},[{qname:"sap.viz.modules.threeD.Vector",version:"4.0.1"}],function Setup(a){function b(f,e,d,c){a.apply(this,arguments)}b.prototype=Object.create(a.prototype);return b});sap.riv.module({qname:"sap.viz.modules.threeD.matrix",version:"4.0.1"},[{qname:"sap.viz.modules.threeD.Vector4D",version:"4.0.1"}],function Setup(e){var b=4;var a=b*b;function d(f){return f*Math.PI/180}var c=function(){var g=new Array(a);var f={unit:function(){for(var h=0;h<a;h++){g[h]=(h%(b+1)===0)?1:0}return f},value:function(l,k,h){var j=l*b+k;if(arguments.length>=3){g[j]=h;return f}return g[j]},row:function(j){var l=[];var k=j*b;for(var h=0;h<b;h++){l[h]=g[k+h]}return new e(l[0],l[1],l[2],l[3])},col:function(h){var k=[];for(var j=0;j<b;j++){k[j]=g[b*j+h]}return new e(k[0],k[1],k[2],k[3])},translate:function(j,h,k){return f.transform(c().value(0,3,j||0).value(1,3,h||0).value(2,3,k||0))},scale:function(j,h,k){return f.transform(c().value(0,0,j||0).value(1,1,h||0).value(2,2,k||0))},rotateX:function(k){var j=d(k);var h=Math.sin(j);var l=Math.cos(j);return f.transform(c().value(1,1,l).value(1,2,-h).value(2,1,h).value(2,2,l))},rotateY:function(k){var j=d(k);var h=Math.sin(j);var l=Math.cos(j);return f.transform(c().value(0,0,l).value(0,2,h).value(2,0,-h).value(2,2,l))},rotateZ:function(k){var j=d(k);var h=Math.sin(j);var l=Math.cos(j);return f.transform(c().value(0,0,l).value(0,1,-h).value(1,0,h).value(1,1,l))},transform:function(h){if(h){var o=[],p=[];for(var n=0;n<b;n++){o.push(h.row(n));p.push(f.col(n))}for(var n=0;n<b;n++){var q=n*b;for(var l=0;l<b;l++){var k=q+l;g[k]=o[n].dotProduct(p[l])}}}return f},clone:function(){var k=c();for(var l=0;l<b;l++){for(var h=0;h<b;h++){k.value(l,h,f.value(l,h))}}return k},projection:function(){return"matrix("+f.value(0,0)+","+f.value(1,0)+","+f.value(0,1)+","+f.value(1,1)+","+f.value(0,3)+","+f.value(1,3)+")"},translatedProjection:function(){return"translate("+this.value(0,3)+","+this.value(1,3)+")"},toString:function(){var j="";for(var h=0;h<a;h++){if(h%4!==0){j+=", "}j+=g[h];if((h-3)%4===0){j+="\n"}}return j}};return f.unit()};return c});sap.riv.module({qname:"sap.viz.util.NumberUtils",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"}],function Setup(a){var b={isNoValue:function(c){return a.isNaN(c)}};return b});sap.riv.module({qname:"sap.viz.modules.threeD.Point",version:"4.0.1"},[{qname:"sap.viz.modules.threeD.Vector4D",version:"4.0.1"}],function Setup(b){function a(c,e,d){this.x=c;this.y=e;this.z=d}a.prototype.transform=function(c){var d=new b(this.x,this.y,this.z,1);this.x=c.row(0).dotProduct(d);this.y=c.row(1).dotProduct(d);this.z=c.row(2).dotProduct(d);return this};return a});sap.riv.module({qname:"sap.viz.modules.axis.categoryAxisCore",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.modules.threeD.Point",version:"4.0.1"},{qname:"sap.viz.modules.threeD.matrix",version:"4.0.1"},{qname:"sap.viz.format.FormatManager",version:"4.0.1"}],function Setup(e,h,d,g,b,f,c,a){return function(){var G;var B;var q=6;var t=5;var D=1;var p="#d8d8d8";var E="viz-axis-label";var k=false;var J=null;var o={title:{visible:false,text:undefined,},gridline:{visible:false,color:p,showFirstLine:false,length:0,showLastLine:false,type:"line"},type:"value",visible:true,label:{visible:true,formatString:"",hideStrategy:""},position:"left",color:"#333333",shapeRendering:true,forceVerticalFont:false};var l={axis:"v-axis",axisBody:"v-body",axisTitle:"v-title",axisLabel:"v-label",};var z=c(),j=null,O=null,K=null,A=null;var N=-1;m.spaceLimit=function(P){if(!arguments.length){return N}if(!k){N=P}return m};var C=function(){var R=[];var S=B.length>1?true:false;for(var Q=0;Q<B.length;Q++){var P=B[Q].domain;var V=B[Q].range;var T=w(P,V);var U=T.isVertical;if(G=="left"||G=="right"){B[Q].labelsToDraw=u(P,V,S)}else{B[Q].labelsToDraw=F(P,V,U,S)}if(Q===0){R.push(B[Q])}else{if(B[Q].labelsToDraw.length==B[Q].domain.length){R.push(B[Q])}else{if(B[Q].labelsToDraw.length>0&&b.isExist(B.noEqual)&&B.noEqual===true){R.push(B[Q])}}}}return R};var I=function(U,R,T,Q,S){var P=U.append("line").attr("y1",T).attr("y2",S).attr("x1",R).attr("x2",Q).attr("stroke",o.gridline.color).attr("stroke-width",o.gridline.size).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto");if(o.gridline.type=="dotted"){P.attr("stroke-dasharray","3, 2")}};function m(Z){var ak=C();if(N>=0){var P=[];var au=m.getPreferredSize().spacings;var ah=N;for(var aw=0;aw<au.length;aw++){if(ah>=au[aw]){P.push(ak[aw]);ah-=au[aw]}else{break}}if(P.length==0&&ak.length>0){var av=[];for(var aw=0;aw<ak[0].domain.length;aw++){av.push("")}P.push({domain:av,range:ak[0].range})}ak=P}var Y=ak.length>1?true:false;if(G=="left"){var R=0;var X=0;for(var aj=0;aj<ak.length;aj++,R++){if(!o.label.visible&&aj!=(ak.length-1)){continue}var ao=ak[aj].domain;var T=ak[aj].range;var aq=x(ao,T);var al=aq.maxLabelTextWidth;if(!o.label.visible){al=0}if(aj==(ak.length-1)){if(o.gridline.showFirstLine){I(Z,X+(al+2*q),T[T.length-1][1],X+(al+2*q)+o.gridline.length,T[T.length-1][1])}if(o.gridline.showLastLine){I(Z,X+(al+2*q),T[0][0],X+(al+2*q)+o.gridline.length,T[0][0])}}if(ak.length==1){var ad=X+(al+2*q);var ac=X+(al+2*q);var aA=T[0][0];var ay=T[T.length-1][1];var aa="M"+(ad-t)+" "+aA;aa+="L"+ad+" "+aA;aa+="L"+ac+" "+ay;aa+="L"+(ac-t)+" "+ay;var ab=Z.append("path").attr("d",aa).attr("fill","none").attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}else{if(ak.length>=2&&(aj==ak.length-1)){var ab=Z.append("line").attr("x1",X+(al+2*q)).attr("x2",X+(al+2*q)).attr("y1",T[0][0]).attr("y2",T[T.length-1][1]).attr("class","domain").attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}}if(ak.length>=2&&o.label.visible){Z.append("line").attr("x1",X).attr("x2",X).attr("y1",T[0][0]).attr("y2",T[T.length-1][1]).attr("class","domain").attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}if(o.gridline.visible&&aj==(ak.length-1)){for(var aw=0;aw<ao.length;aw++){I(Z,X+(al+2*q),T[aw][0],X+(al+2*q)+o.gridline.length,T[aw][0]);if((aw==(ao.length-1))||(T[aw][1]!=T[aw+1][0])){I(Z,X+(al+2*q),T[aw][1],X+(al+2*q)+o.gridline.length,T[aw][1])}}I(Z,X+(al+2*q)+o.gridline.length,T[0][0],X+(al+2*q)+o.gridline.length,T[aw-1][1])}for(var aw=0;aw<ao.length;aw++){if(ak.length==1||(ak.length!=1&&!o.label.visible)){if(aw>0&&(T[aw][0]!=T[aw-1][1])){var af=Z.append("line").attr("x1",(al+2*q)-t).attr("x2",(al+2*q)).attr("y1",T[aw][0]).attr("y2",T[aw][0]).attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}if(aw!=(ao.length-1)){var ae=Z.append("line").attr("x1",(al+2*q)-t).attr("x2",(al+2*q)).attr("y1",T[aw][1]).attr("y2",T[aw][1]).attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}}if(ak.length>=2&&o.label.visible){Z.append("line").attr("x1",X).attr("x2",X+(al+2*q)).attr("y1",T[aw][0]).attr("y2",T[aw][0]).attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto");if((aw==(ao.length-1))||(T[aw][1]!=T[aw+1][0])){Z.append("line").attr("x1",X).attr("x2",X+(al+2*q)).attr("y1",T[aw][1]).attr("y2",T[aw][1]).attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}}}var ag=ak[aj].labelsToDraw;var U;for(var aw=0;aw<ag.length;aw++){U=ag[aw].custom;if(U&&U.type==="url"){}else{var S=b.isExist(ag[aw].text)?ag[aw].text:"";if(o.label.visible){var an=Z.append("g").attr("fill",J.defaultStyle.label.fill).attr("class",l.axisLabel+" "+E).attr("font-size",J.defaultStyle.label["font-size"]).attr("font-weight",J.defaultStyle.label["font-weight"]).attr("font-family",J.defaultStyle.label["font-family"]).append("text").attr("x",X+al+q).attr("y",ag[aw].y).attr("dominant-baseline","middle").attr("text-anchor","end").text(S);M(an)}}}X+=(al+2*q)}}else{if(G=="right"){var R=0;var X=0;for(var aj=(ak.length-1);aj>=0;aj--,R++){if(!o.label.visible&&aj!=(ak.length-1)){continue}var ao=ak[aj].domain;var T=ak[aj].range;var aq=x(ao,T);var al=aq.maxLabelTextWidth;if(aj==(ak.length-1)){if(o.gridline.showFirstLine){I(Z,X,T[T.length-1][1],X-o.gridline.length,T[T.length-1][1])}if(o.gridline.showLastLine){I(Z,X,T[0][0],X-o.gridline.length,T[0][0])}}if((ak.length==1)){var ad=X;var ac=X;var aA=T[0][0];var ay=T[T.length-1][1];var aa="M"+(ad+t)+" "+aA;aa+="L"+ad+" "+aA;aa+="L"+ac+" "+ay;aa+="L"+(ad+t)+" "+ay;var ab=Z.append("path").attr("d",aa).attr("fill","none").attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}else{if(ak.length>=2&&(aj==(ak.length-1))){var ab=Z.append("line").attr("x1",X).attr("x2",X).attr("y1",T[0][0]).attr("y2",T[T.length-1][1]).attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}}if(ak.length>=2&&o.label.visible){Z.append("line").attr("x1",X+(al+2*q)).attr("x2",X+(al+2*q)).attr("y1",T[0][0]).attr("y2",T[T.length-1][1]).attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}if(o.gridline.visible&&aj==(ak.length-1)){for(var aw=0;aw<ao.length;aw++){I(Z,X+(al+2*q),T[aw][0],X+(al+2*q)+o.gridline.length,T[aw][0]);if((aw==(ao.length-1))||(T[aw][1]!=T[aw+1][0])){I(Z,X+(al+2*q),T[aw][1],X+(al+2*q)+o.gridline.length,T[aw][1])}}}for(var aw=0;aw<ao.length;aw++){if(ak.length==1||(ak.length!=1&&!o.label.visible)){if(aw>0&&(T[aw][0]!=T[aw-1][1])){var af=Z.append("line").attr("x1",0).attr("x2",t).attr("y1",T[aw][0]).attr("y2",T[aw][0]).attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}if(aw!=(ao.length-1)){var ae=Z.append("line").attr("x1",0).attr("x2",t).attr("y1",T[aw][1]).attr("y2",T[aw][1]).attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}}if(ak.length>=2&&o.label.visible){Z.append("line").attr("x1",X).attr("x2",X+(al+2*q)).attr("y1",T[aw][0]).attr("y2",T[aw][0]).attr("stroke",o.color).attr("stroke-width",1).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto");if((aw==(ao.length-1))||(T[aw][1]!=T[aw+1][0])){Z.append("line").attr("x1",X).attr("x2",X+(al+2*q)).attr("y1",T[aw][1]).attr("y2",T[aw][1]).attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}}}var ag=ak[aj].labelsToDraw;var U;for(var aw=0;aw<ag.length;aw++){U=ag[aw].custom;if(U&&U.type==="url"){}else{var S=b.isExist(ag[aw].text)?ag[aw].text:"";if(o.label.visible){var an=Z.append("g").attr("fill",J.defaultStyle.label.fill).attr("class",l.axisLabel+" "+E).attr("font-size",J.defaultStyle.label["font-size"]).attr("font-weight",J.defaultStyle.label["font-weight"]).attr("font-family",J.defaultStyle.label["font-family"]).append("text").attr("x",X+q).attr("y",ag[aw].y).attr("text-anchor","start").attr("dominant-baseline","middle").text(S);M(an)}}}X+=(al+2*q)}}else{if(G=="bottom"){var R=0;var Q=0;for(var aj=(ak.length-1);aj>=0;aj--,R++){if(!o.label.visible&&aj!=(ak.length-1)){continue}var ao=ak[aj].domain;var T=ak[aj].range;var aq=w(ao,T);var at=aq.maxLabelTextHeight;var ap=aq.isVertical;if(aj==(ak.length-1)){if(o.gridline.showFirstLine){I(Z,T[0][0],Q,T[0][0],Q-o.gridline.length)}if(o.gridline.showLastLine){I(Z,T[T.length-1][0],Q,T[T.length-1][0],Q-o.gridline.length)}}if(ak.length==1){var ad=T[0][0];var ac=T[T.length-1][1];var aA=Q;var ay=Q;var aa="M"+ad+" "+(aA+t);aa+="L"+ad+" "+aA;aa+="L"+ac+" "+ay;aa+="L"+ac+" "+(ay+t);var ab=Z.append("path").attr("d",aa).attr("fill","none").attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto");if(K){var W=K*Math.PI/180;var ai=Math.cos(W);var V=(45==K)?ai:Math.sin(W);aa="M "+T[0][0]+" "+Q;aa+="L"+(T[0][0]+T[T.length-1][1]*V)+" "+(Q-T[T.length-1][1]*ai);aa+="Z";ab.attr("d",aa)}}else{if(ak.length>=2&&(aj==ak.length-1)){var ab=Z.append("line").attr("x1",T[0][0]).attr("x2",T[T.length-1][1]).attr("y1",Q).attr("y2",Q).attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}}if(ak.length>=2&&o.label.visible){Z.append("line").attr("x1",T[0][0]).attr("x2",T[T.length-1][1]).attr("y1",Q+at+2*q).attr("y2",Q+at+2*q).attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}if(o.gridline.visible&&aj==(ak.length-1)){for(var aw=0;aw<ao.length;aw++){I(Z,T[aw][0],Q+(at+2*q),T[aw][0],Q+(at+2*q)+o.gridline.length);if((aw==(ao.length-1))||(T[aw][1]!=T[aw+1][0])){I(Z,T[aw][1],Q+(at+2*q),T[aw][1],Q+(at+2*q)+o.gridline.length)}}}for(var aw=0;aw<ao.length;aw++){if(ak.length==1||(ak.length!=1&&!o.label.visible)){if(aw>0&&(T[aw][0]!=T[aw-1][1])){var af=Z.append("line").attr("x1",T[aw][0]).attr("x2",T[aw][0]).attr("y1",0).attr("y2",t).attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}if(aw!=(ao.length-1)){var ae=Z.append("line").attr("x1",T[aw][1]).attr("x2",T[aw][1]).attr("y1",0).attr("y2",t).attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto");if(K){var W=K*Math.PI/180;var ai=Math.cos(W);var V=(45===K)?ai:Math.sin(W);var az=A*Math.PI/180;var am=Math.cos(az);var ax=Math.sin(az);var ar=T[aw][1]*V;tickStartY=-T[aw][1]*ai;var ac=ar+t*am,ay=tickStartY+t*ax;ae.attr("x1",ar).attr("y1",tickStartY).attr("x2",ac).attr("y2",ay)}}}if(ak.length>=2&&o.label.visible){Z.append("line").attr("x1",T[aw][0]).attr("x2",T[aw][0]).attr("y1",Q).attr("y2",Q+2*q+at).attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto");if((aw==(ao.length-1))||(T[aw][1]!=T[aw+1][0])){Z.append("line").attr("x1",T[aw][1]).attr("x2",T[aw][1]).attr("y1",Q).attr("y2",Q+2*q+at).attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}}}var ag=ak[aj].labelsToDraw;n(Z,ag,Q,at,ao,ap,ak.length!=1);Q+=(at+2*q)}}else{if(G=="top"){var R=0;var Q=0;for(var aj=0;aj<ak.length;aj++,R++){if(!o.label.visible&&aj!=(ak.length-1)){continue}var ao=ak[aj].domain;var T=ak[aj].range;var aq=w(ao,T);var at=aq.maxLabelTextHeight;var ap=aq.isVertical;if(!o.label.visible){at=0}if(aj==(ak.length-1)){if(o.gridline.showFirstLine){I(Z,T[0][0],at+2*q+Q,T[0][0],at+2*q+Q+o.gridline.length)}if(o.gridline.showLastLine){I(Z,T[T.length-1][1],at+2*q+Q,T[T.length-1][1],at+2*q+Q+o.gridline.length)}}if((ak.length==1)){var ad=T[0][0];var ac=T[T.length-1][1];var aA=at+2*q+Q;var ay=at+2*q+Q;var aa="M"+ad+" "+(aA-t);aa+="L"+ad+" "+aA;aa+="L"+ac+" "+ay;aa+="L"+ac+" "+(ay-t);var ab=Z.append("path").attr("d",aa).attr("fill","none").attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}else{if(ak.length>=2&&(aj==ak.length-1)){var ab=Z.append("line").attr("x1",T[0][0]).attr("x2",T[T.length-1][1]).attr("y1",at+2*q+Q).attr("y2",at+2*q+Q).attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}}if(ak.length>=2&&o.label.visible){Z.append("line").attr("x1",T[0][0]).attr("x2",T[T.length-1][1]).attr("y1",Q).attr("y2",Q).attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}if(o.gridline.visible&&aj==(ak.length-1)){for(var aw=0;aw<ao.length;aw++){I(Z,T[aw][0],Q+(at+2*q),T[aw][0],Q+(at+2*q)+o.gridline.length);if((aw==(ao.length-1))||(T[aw][1]!=T[aw+1][0])){I(Z,T[aw][1],Q+(at+2*q),T[aw][1],Q+(at+2*q)+o.gridline.length)}}I(Z,T[0][0],Q+(at+2*q)+o.gridline.length,T[aw-1][1],Q+(at+2*q)+o.gridline.length)}for(var aw=0;aw<ao.length;aw++){if(ak.length==1||(ak.length!=1&&!o.label.visible)){if(aw>0&&(T[aw][0]!=T[aw-1][1])){var af=Z.append("line").attr("x1",T[aw][0]).attr("x2",T[aw][0]).attr("y1",(at+2*q)).attr("y2",(at+2*q)-t).attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}if(aw!=(ao.length-1)){var ae=Z.append("line").attr("x1",T[aw][1]).attr("x2",T[aw][1]).attr("y1",(at+2*q)).attr("y2",(at+2*q)-t).attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}}if(ak.length>=2&&o.label.visible){Z.append("line").attr("x1",T[aw][0]).attr("x2",T[aw][0]).attr("y1",Q).attr("y2",Q+(at+2*q)).attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto");if((aw==(ao.length-1))||(T[aw][1]!=T[aw+1][0])){Z.append("line").attr("x1",T[aw][1]).attr("x2",T[aw][1]).attr("y1",Q).attr("y2",Q+(at+2*q)).attr("stroke",o.color).attr("stroke-width",o.lineSize).attr("shape-rendering",o.shapeRendering?"crispEdges":"auto")}}}var ag=ak[aj].labelsToDraw;n(Z,ag,Q,at,ao,ap,ak.length!=1);Q+=(at+2*q)}}}}}}var M=function(Q){if(jQuery.browser.msie){var P=J.realStyle.label["font-size"].toString();var S=P.indexOf("px");if(S>=0){P=P.substr(0,S)}var R=Q.attr("y");Q.attr("y",Number(R)+P/2);Q.attr("dominant-baseline","auto")}};var L=function(R){var Q;if(R.info){var P=R.info.customlabel;if(P){if(P.type==="url"){Q=R.val}else{if(P.type==="string"){Q=P.val}}}else{Q=R.val}}else{Q=R.val}Q=H(Q)?g.get("IDS_ISNOVALUE"):Q;Q=a.format(Q,o.label.formatString);return Q};var s=function(P){if(P.info&&P.info.customlabel){return P.info.customlabel}};var u=function(Y,W,Z){var S=[];for(var V=0;V<Y.length;V++){var aa={};aa.text=L(Y[V]);aa.custom=s(Y[V]);var R=r(aa.text,J.realStyle.label);var T=W[V][0]+(W[V][1]-W[V][0])/2;aa.width=R.width;aa.height=R.height;aa.y=T;aa.y1=T-aa.height/2;aa.y2=T+aa.height/2;S.push(aa)}var X=[];if(o.label.hideStrategy!="greedy"){for(var U=0;U<=(S.length-1);U++){var Q=true;for(var V=(S.length-1);V>=0;V-=(U+1)){var aa=S[V];if(V!=(S.length-1)){var P=V+(U+1);if(S[V].y2>=S[P].y1){Q=false;break}}X.push(aa)}if(Q){break}else{X=[]}}}else{for(var P=U=(S.length-1);U>=0;U--){var aa=S[U];if(P===U&&W[U][1]!=W[U][0]){if(Z&&aa.y1>W[U][0]&&aa.y2<W[U][1]){X.push(aa)}else{if(!Z){X.push(aa)}}}else{if(aa.y2<=S[P].y1&&W[U][1]!=W[U][0]){if(Z){if(aa.y1>W[U][0]&&aa.y2<W[U][1]){X.push(aa);P=U}}else{X.push(aa);P=U}}}}}return X};var F=function(Z,W,Y,aa){var S=[];for(var V=0;V<Z.length;V++){var ab={};ab.text=L(Z[V]);ab.custom=s(Z[V]);var R=r(ab.text,J.realStyle.label);if(Y){ab.width=R.height;ab.height=R.width}else{ab.width=R.width;ab.height=R.height}var U=W[V][0]+(W[V][1]-W[V][0])/2;ab.x=U;ab.x1=U-ab.width/2;ab.x2=U+ab.width/2;S.push(ab)}var X=[];if(o.label.hideStrategy!="greedy"){for(var T=0;T<=(S.length-1);T++){var Q=true;for(var V=0;V<S.length;V+=(T+1)){var ab=S[V];if(V!=0){var P=V-(T+1);if(S[V].x1<=S[P].x2||W[T][1]===W[T][0]){Q=false;break}}X.push(ab)}if(Q){break}else{X=[]}}}else{for(var P=T=(S.length-1);T>=0;T--){var ab=S[T];if(P===T&&W[T][1]!=W[T][0]){if(aa&&ab.x1>W[T][0]&&ab.x2<W[T][1]){X.push(ab)}else{if(!aa){X.push(ab)}}}else{if(ab.x2<=S[P].x1&&W[T][1]!=W[T][0]){if(aa){if(ab.x1>W[T][0]&&ab.x2<W[T][1]){X.push(ab);P=T}}else{X.push(ab);P=T}}}}}return X};var n=function(af,S,R,V,P,W,X){if(S===undefined){return}for(var Z=0;Z<S.length;Z++){var U=b.isExist(S[Z].text)?S[Z].text:"";if(o.label.visible){if(K){var ae=K*Math.PI/180;var ag=Math.cos(ae);var Q=(45===K)?ag:Math.sin(ae);var T=A*Math.PI/180;var ab=Math.cos(T);var aa=Math.sin(T);var Y=S[Z].x*Q;tickStartY=-S[Z].x*ag;var ah=af.append("g").attr("fill",J.defaultStyle.label.fill).attr("class",l.axisLabel+" "+E).attr("font-size",J.defaultStyle.label["font-size"]).attr("font-weight",J.defaultStyle.label["font-weight"]).attr("font-family",J.defaultStyle.label["font-family"]).append("text").attr("x",Y+q*ab).attr("y",tickStartY+R+q*aa).attr("dominant-baseline","middle").attr("text-anchor","start").text(U);if(A>90){ah.attr("text-anchor","end").attr("transform","rotate( "+(A-180)+" "+ah.attr("x")+" "+ah.attr("y")+")")}else{ah.attr("transform","rotate( "+(A)+" "+ah.attr("x")+" "+ah.attr("y")+")")}}else{var ah=af.append("g").attr("fill",J.defaultStyle.label.fill).attr("class",l.axisLabel+" "+E).attr("font-size",J.defaultStyle.label["font-size"]).attr("font-weight",J.defaultStyle.label["font-weight"]).attr("font-family",J.defaultStyle.label["font-family"]).append("text").attr("x",S[Z].x).attr("y",R+V/2+q).attr("dominant-baseline","middle").attr("text-anchor","middle").text(U);if(W){if(!X){if(G=="top"){ah.attr("text-anchor","start").attr("y",R+V+q)}else{if(G=="bottom"){ah.attr("y",R+q).attr("text-anchor","end")}}}var ad="-90";ah.attr("transform","rotate( "+ad+" "+ah.attr("x")+" "+ah.attr("y")+" )")}M(ah)}}}};m.position=function(P){if(!arguments.length){return G}G=P;return m};m.properties=function(P){if(arguments.length==0){return o}o=d.extend(true,o,P);return m};m.style=function(P){if(arguments.length==0){return J}J=d.extend(true,J,P);return m};m.axScale=function(P){if(!arguments.length){return B}B=P;return m};m.getPreferredSize=function(){var Q=C();var X=0;var T=0;var R=[];for(var W=0;W<Q.length;W++){if(!o.label.visible&&W!=(Q.length-1)){continue}var U=Q[W].domain;var Z=Q[W].range;if(U.length===0||Z.length===0){continue}if(G=="bottom"||G=="top"){X=Math.abs(Z[Z.length-1][1]-Z[0][0])+D;var S=0;if(o.label.visible){S+=w(U,Z).maxLabelTextHeight}S+=2*q;T+=S;R.push(S)}else{if(G=="left"||G=="right"){var Y=0;if(o.label.visible){Y+=x(U,Z).maxLabelTextWidth}Y+=2*q;X+=Y;R.push(Y);T=Math.abs(Z[Z.length-1][1]-Z[0][0])+D}}}if(N>=0){var aa=R;var V=N;var P=0;for(var W=0;W<aa.length;W++){if(V>=aa[W]){P+=aa[W];V-=aa[W]}else{break}}if(P==0&&aa.length>0){P+=aa[0]}if(G=="bottom"||G=="top"){T=P}else{if(G=="left"||G=="right"){X=P}}}return{width:X,height:T,spacings:R,}};m.matrix=function(P){if(!arguments.length){return z}z=P;return m};m.labelAngle=function(P){if(!arguments.length){return j}j=P;return m};m.tickAngle=function(P){if(!arguments.length){return A}A=P;return m};m.angle=function(P){if(!arguments.length){return K}K=P;return m};m.labelAlign=function(P){if(!arguments.length){return O}O=P;return m};var v=function(S,T){var W=[];var X=[];var P=false;for(var U=0;U<S.length;U++){var R=r(L(S[U]),J.realStyle.label);var Y=R.height;var V=R.width;var Q=T[U][1]-T[U][0];if((Y<V)&&Q!=0&&V>Q){if(G=="top"||G=="bottom"){P=true}}W.push(Y);X.push(V)}return{heights:W,widths:X,isVerticalFont:P}};var w=function(T,S){var Q={maxLabelTextHeight:0,isVertical:false};var V=0;var U=false;var R=v(T,S);U=o.forceVerticalFont===true?true:R.isVerticalFont;for(var P=0;P<T.length;P++){if(U){if(V<R.widths[P]){V=R.widths[P]}}else{if(V<R.heights[P]){V=R.heights[P]}}}Q.maxLabelTextHeight=V;Q.isVertical=U;return Q};var x=function(T,S){var Q={maxLabelTextWidth:0,isVertical:false};var V=0;var U=false;var R=v(T,S);U=o.forceVerticalFont===true?true:R.isVerticalFont;for(var P=0;P<T.length;P++){if(U){if(V<R.heights[P]){V=R.heights[P]}}else{if(V<R.widths[P]){V=R.widths[P]}}}Q.maxLabelTextWidth=V;Q.isVertical=U;return Q};var r=function(Q,P){return e.fastMeasure(Q,P["font-size"],P["font-weight"],P["font-family"])};var H=function(P){if(typeof(P)!="string"&&h.isNoValue(P)){return true}return false};return m}});sap.riv.module({qname:"sap.viz.modules.axis.valueAxisCore",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.format.FormatManager",version:"4.0.1"},{qname:"sap.viz.modules.threeD.Point",version:"4.0.1"},{qname:"sap.viz.modules.threeD.matrix",version:"4.0.1"}],function Setup(d,f,c,a,e,b){return function(){var G;var C=null;var r=5;var n=4;var F=7;var D=1;var v="#6c6c6c";var m="#d8d8d8";var t="#ffffff";var p="#333333";var E="viz-axis-label";var J=null;var l={title:{visible:false,text:undefined,},gridline:{visible:true,color:m,showFirstLine:false,length:0,showLastLine:false,type:"line"},type:"value",visible:true,label:{visible:true,numberFormat:"",formatString:"",},position:"left",color:v,axisline:{visible:true},shapeRendering:true};var h={axis:"v-axis",axisBody:"v-body",axisTitle:"v-title",axisLabel:"v-label",};var A=b(),g=null,M=null,I=null,B=null;var L=-1;j.spaceLimit=function(N){if(!arguments.length){return L}L=N;return j};function j(al){var R=C.range();var O=C.domain();if(R[0]==0&&R[1]==0){return}var V=w();if(G=="bottom"){var T=0;if(l.label.visible){var ag=[];for(var ac=0;ac<V.length;ac++){ag.push(V[ac].text)}T=u(ag)}if((L!=-1)&&(T+r+2*n+D/2>L)){V=[]}for(var ac=0;ac<V.length;ac++){var ai=al.append("line").attr("x1",C(V[ac].value)).attr("x2",C(V[ac].value)).attr("y1",0).attr("y2",r+1).attr("stroke",l.color).attr("stroke-width",l.lineSize).attr("shape-rendering",l.shapeRendering?"crispEdges":"auto");if(I){var ak=I*Math.PI/180;var am=Math.cos(ak);var Q=(45===I)?am:Math.sin(ak);var S=B*Math.PI/180;var aj=Math.cos(S);var ah=Math.sin(S);var ab=C(V[ac].value)*Q;tickStartY=-C(V[ac].value)*am;var ad=ab+(r+1)*aj,N=tickStartY+(r+1)*ah;ai.attr("x1",ab).attr("y1",tickStartY).attr("x2",ad).attr("y2",N)}var Y=function(){var an=al.append("line").attr("x1",C(V[ac].value)).attr("x2",C(V[ac].value)).attr("y1",-l.gridline.length).attr("y2",0).attr("stroke",l.gridline.color).attr("stroke-width",l.gridline.size).attr("shape-rendering",l.shapeRendering?"crispEdges":"auto");if(l.gridline.type=="dotted"){an.attr("stroke-dasharray","3, 2")}if(l.gridline.type=="incised"){var an=al.append("line").attr("x1",C(V[ac].value)-1).attr("x2",C(V[ac].value)-1).attr("y1",-l.gridline.length).attr("y2",0).attr("stroke",t).attr("stroke-width",l.gridline.size).attr("shape-rendering",l.shapeRendering?"crispEdges":"auto")}};if(ac==0&&l.gridline.showFirstLine){Y()}else{if(ac==(V.length-1)&&l.gridline.showLastLine){Y()}else{if((ac!=(V.length-1))&&(ac!=0)&&l.gridline.visible){Y()}}}}if(l.label.visible){k(al,"Bottom",V,T)}if(l.axisline.visible){var af=R[0];var ad=R[1];var P=0;var N=0;var U=0;var X="M"+af+" "+(P+U);X+="L"+af+" "+P;X+="L"+ad+" "+N;X+="L"+ad+" "+(N+U);var Z=al.append("path").attr("d",X).attr("fill","none").attr("stroke",l.color).attr("stroke-width",l.lineSize).attr("shape-rendering",l.shapeRendering?"crispEdges":"auto");if(I){var ak=I*Math.PI/180;var am=Math.cos(ak);var Q=(45==I)?am:Math.sin(ak);X="M "+R[1]+" "+P;X+="L"+(R[1]+R[0]*Q)+" "+(P-R[0]*am);X+="Z";Z.attr("d",X)}}}else{if(G=="top"){var T=0;if(l.label.visible){var ag=[];for(var ac=0;ac<V.length;ac++){ag.push(V[ac].text)}T=u(ag)}if((L!=-1)&&(T+r+2*n+D/2>L)){V=[]}var aa=1;if(l.label.visible){aa=2}for(var ac=0;ac<V.length;ac++){var ai=al.append("line").attr("x1",C(V[ac].value)).attr("x2",C(V[ac].value)).attr("y1",T+aa*n).attr("y2",T+aa*n+r).attr("stroke",l.color).attr("stroke-width",l.lineSize).attr("shape-rendering",l.shapeRendering?"crispEdges":"auto");var Y=function(){var an=al.append("line").attr("x1",C(V[ac].value)).attr("x2",C(V[ac].value)).attr("y1",T+r+aa*n).attr("y2",T+r+aa*n+l.gridline.length).attr("stroke",l.gridline.color).attr("stroke-width",l.gridline.size).attr("shape-rendering",l.shapeRendering?"crispEdges":"auto");if(l.gridline.type=="dotted"){an.attr("stroke-dasharray","3, 2")}if(l.gridline.type=="incised"){var an=al.append("line").attr("x1",C(V[ac].value)-1).attr("x2",C(V[ac].value)-1).attr("y1",T+r+aa*n).attr("y2",T+r+aa*n+l.gridline.length).attr("stroke",t).attr("stroke-width",l.gridline.size).attr("shape-rendering",l.shapeRendering?"crispEdges":"auto")}};if(ac==0&&l.gridline.showFirstLine){Y()}else{if(ac==(V.length-1)&&l.gridline.showLastLine){Y()}else{if((ac!=(V.length-1))&&(ac!=0)&&l.gridline.visible){Y()}}}}if(l.label.visible){k(al,"Top",V,T)}if(l.axisline.visible){var af=R[0];var ad=R[1];var P=T+r+aa*n;var N=T+r+aa*n;var U=0;var X="M"+af+" "+(P-U);X+="L"+af+" "+P;X+="L"+ad+" "+N;X+="L"+ad+" "+(N-U);var Z=al.append("path").attr("d",X).attr("fill","none").attr("stroke",l.color).attr("stroke-width",l.lineSize).attr("shape-rendering",l.shapeRendering?"crispEdges":"auto")}}else{if(G=="left"){V=H(V);var ae=0;if(l.label.visible){var ag=[];for(var ac=0;ac<V.length;ac++){ag.push(V[ac].text)}ae=x(ag)}if((L!=-1)&&(ae+r+2*n+D/2>L)){V=[]}var aa=1;if(l.label.visible){aa=2}for(var ac=0;ac<V.length;ac++){var ai=al.append("line").attr("x1",ae+aa*n).attr("x2",ae+aa*n+r).attr("y1",C(V[ac].value)).attr("y2",C(V[ac].value)).attr("stroke",l.color).attr("stroke-width",l.lineSize).attr("shape-rendering",l.shapeRendering?"crispEdges":"auto");var Y=function(){var an=al.append("line").attr("y1",C(V[ac].value)).attr("y2",C(V[ac].value)).attr("x1",ae+aa*n+r).attr("x2",ae+aa*n+r+l.gridline.length).attr("stroke",l.gridline.color).attr("stroke-width",l.gridline.size).attr("shape-rendering",l.shapeRendering?"crispEdges":"auto");if(l.gridline.type=="dotted"){an.attr("stroke-dasharray","3, 2")}if(l.gridline.type=="incised"){var an=al.append("line").attr("y1",C(V[ac].value)+1).attr("y2",C(V[ac].value)+1).attr("x1",ae+aa*n+r).attr("x2",ae+aa*n+r+l.gridline.length).attr("stroke",t).attr("stroke-width",l.gridline.size).attr("shape-rendering",l.shapeRendering?"crispEdges":"auto")}};if(ac==0&&l.gridline.showFirstLine){Y()}else{if(ac==(V.length-1)&&l.gridline.showLastLine){Y()}else{if((ac!=(V.length-1))&&(ac!=0)&&l.gridline.visible){Y()}}}if(l.label.visible){var W=al.append("g").attr("fill",J.defaultStyle.label.fill).attr("class",h.axisLabel+" "+E).attr("font-size",J.defaultStyle.label["font-size"]).attr("font-weight",J.defaultStyle.label["font-weight"]).attr("font-family",J.defaultStyle.label["font-family"]).append("text").attr("x",ae+n).attr("y",C(V[ac].value)).attr("dominant-baseline","middle").attr("text-anchor","end").text(V[ac].text);K(W)}}if(l.axisline.visible){var af=ae+aa*n+r;var ad=ae+aa*n+r;var P=R[0];var N=R[1];var U=0;var X="M"+(af-U)+" "+P;X+="L"+af+" "+P;X+="L"+ad+" "+N;X+="L"+(ad-U)+" "+N;var Z=al.append("path").attr("d",X).attr("fill","none").attr("stroke",l.color).attr("stroke-width",l.lineSize).attr("shape-rendering",l.shapeRendering?"crispEdges":"auto")}}else{if(G=="right"){V=H(V);if(l.label.visible){var ag=[];for(var ac=0;ac<V.length;ac++){ag.push(V[ac].text)}ae=x(ag)}if((L!=-1)&&(ae+r+2*n+D/2>L)){V=[]}for(var ac=0;ac<V.length;ac++){var ai=al.append("line").attr("x1",0).attr("x2",r).attr("y1",C(V[ac].value)).attr("y2",C(V[ac].value)).attr("stroke",l.color).attr("stroke-width",l.lineSize).attr("shape-rendering",l.shapeRendering?"crispEdges":"auto");var Y=function(){var an=al.append("line").attr("y1",C(V[ac].value)).attr("y2",C(V[ac].value)).attr("x1",-l.gridline.length).attr("x2",0).attr("stroke",l.gridline.color).attr("stroke-width",l.gridline.size).attr("shape-rendering",l.shapeRendering?"crispEdges":"auto");if(l.gridline.type=="dotted"){an.attr("stroke-dasharray","3, 2")}if(l.gridline.type=="incised"){var an=al.append("line").attr("y1",C(V[ac].value)+1).attr("y2",C(V[ac].value)+1).attr("x1",-l.gridline.length).attr("x2",0).attr("stroke",t).attr("stroke-width",l.gridline.size).attr("shape-rendering",l.shapeRendering?"crispEdges":"auto")}};if(ac==0&&l.gridline.showFirstLine){Y()}else{if(ac==(V.length-1)&&l.gridline.showLastLine){Y()}else{if((ac!=(V.length-1))&&(ac!=0)&&l.gridline.visible){Y()}}}if(l.label.visible){var W=al.append("g").attr("fill",J.defaultStyle.label.fill).attr("class",h.axisLabel+" "+E).attr("font-size",J.defaultStyle.label["font-size"]).attr("font-weight",J.defaultStyle.label["font-weight"]).attr("font-family",J.defaultStyle.label["font-family"]).append("text").attr("x",r+n).attr("y",C(V[ac].value)).attr("dominant-baseline","middle").attr("text-anchor","start").text(V[ac].text);K(W)}}if(l.axisline.visible){var af=0;var ad=0;var P=R[0];var N=R[1];var U=0;var X="M"+(af+U)+" "+P;X+="L"+af+" "+P;X+="L"+ad+" "+N;X+="L"+(ad+U)+" "+N;var Z=al.append("path").attr("d",X).attr("fill","none").attr("stroke",l.color).attr("stroke-width",l.lineSize).attr("shape-rendering",l.shapeRendering?"crispEdges":"auto")}}}}}}var K=function(O){if(jQuery.browser.msie){var N=J.realStyle.label["font-size"].toString();var Q=N.indexOf("px");if(Q>=0){N=N.substr(0,Q)}var P=O.attr("y");O.attr("y",Number(P)+N/2);O.attr("dominant-baseline","auto")}};j.matrix=function(N){if(!arguments.length){return A}A=N;return j};j.labelAngle=function(N){if(!arguments.length){return g}g=N;return j};j.tickAngle=function(N){if(!arguments.length){return B}B=N;return j};j.angle=function(N){if(!arguments.length){return I}I=N;return j};j.labelAlign=function(N){if(!arguments.length){return M}M=N;return j};j.position=function(N){if(!arguments.length){return G}G=N;return j};j.style=function(N){if(arguments.length==0){return J}J=c.extend(true,J,N);return j};j.properties=function(N){if(arguments.length==0){return l}l=s(l,N);return j};j.axScale=function(N){if(!arguments.length){return C}C=N;return j};j.startPadding=function(){if(C){var N=w();var O=0;if(N.length>0){O=o(N[0].text,J.realStyle.label)}if(O==0){return 0}if(G=="top"||G=="bottom"){return O.width/2}else{return O.height/2}}else{return 0}};j.endPadding=function(){if(C){var N=w();var O=0;if(N.length>0){O=o(N[N.length-1].text,J.realStyle.label)}if(O==0){return 0}if(G=="top"||G=="bottom"){return O.width/2}else{return O.height/2}}else{return 0}};j.getPreferredSize=function(){var O=C.domain();var U=C.range();var T=0;var S=0;var P=[];if(!(U[0]==0&&U[1]==0)){if(G=="bottom"||G=="top"){T=Math.abs(U[1]-U[0])+D;if(l.label.visible){var N=w();var Q=[];for(var R=0;R<N.length;R++){Q.push(N[R].text)}S=u(Q)+r+2*n+D/2}else{S=r+n+D/2}P.push(S)}else{if(G=="left"||G=="right"){if(l.label.visible){var N=w();var Q=[];for(var R=0;R<N.length;R++){Q.push(N[R].text)}T=x(Q)+r+2*n+D/2}else{T=r+n+D/2}P.push(T);S=Math.abs(U[1]-U[0])+D}}}return{width:T,height:S,spacings:P,}};var H=function(N){if(N.length>0){if(C(N[0].value)>C(N[N.length-1].value)){N.reverse()}}var O=[];for(var Q=0;Q<N.length;Q++){if(!f.isNoValue(N[Q].value)){var R={};R.value=N[Q].value;R.text=N[Q].text;var T=o(R.text,J.realStyle.label).height;var S=C(R.value);R.start=S-T/2;R.end=S+T/2;O.push(R)}}var P=[];P=q(O);return P};var k=function(aa,Y,T,R){if(T.length==0){return}if(T.length>0){if(C(T[0].value)>C(T[T.length-1].value)){T.reverse()}}var P=[];for(var S=0;S<T.length;S++){var ad={};ad.value=T[S].value;ad.text=T[S].text;var V=o(ad.text,J.realStyle.label).width;var Q=C(ad.value);ad.start=Q-V/2;ad.end=Q+V/2;P.push(ad)}var X=[];X=q(P);for(var S=0;S<X.length;S++){if(I){var ab=I*Math.PI/180;var Z=Math.cos(ab);var O=(45===I)?Z:Math.sin(ab);var W=B*Math.PI/180;var N=Math.cos(W);var U=Math.sin(W);var ac=C(X[S].value)*O;tickStartY=-C(X[S].value)*Z;var ad=aa.append("g").attr("fill",J.defaultStyle.label.fill).attr("class",h.axisLabel+" "+E).attr("font-size",J.defaultStyle.label["font-size"]).attr("font-weight",J.defaultStyle.label["font-weight"]).attr("font-family",J.defaultStyle.label["font-family"]).append("text").attr("x",ac+n*N).attr("y",tickStartY+n*U).attr("dominant-baseline","middle").attr("text-anchor","start").text(X[S].text);if(B>90){ad.attr("text-anchor","end").attr("transform","rotate( "+(B-180)+" "+ad.attr("x")+" "+ad.attr("y")+")")}else{ad.attr("transform","rotate( "+(B)+" "+ad.attr("x")+" "+ad.attr("y")+")")}}else{var ad=aa.append("g").attr("fill",J.defaultStyle.label.fill).attr("class",h.axisLabel+" "+E).attr("font-size",J.defaultStyle.label["font-size"]).attr("font-weight",J.defaultStyle.label["font-weight"]).attr("font-family",J.defaultStyle.label["font-family"]).append("text").attr("x",C(X[S].value)).attr("y",n+r).attr("dominant-baseline","hanging").attr("text-anchor","middle").text(X[S].text);ad.attr("dominant-baseline","auto");ad.attr("y",R+n)}}};var q=function(N){var O=[];if(N.length>0){if(!(N[0].value>=0&&N[N.length-1].value>=0)&&!(N[0].value<=0&&N[N.length-1].value<=0)){var T=[];var S=[];for(var P=0;P<N.length;P++){if(N[P].value<=0){T.push(N[P])}if(N[P].value>=0){S.push(N[P])}}var U;var Q=T.length;if(T[0].value<=T[Q-1].value){U=T[0]}else{U=T[Q-1]}var R;var V=S.length;if(S[0].value<=S[V-1].value){R=S[V-1]}else{R=S[0]}T=z(T);S=z(S);if(T[0].value>T[T.length-1].value){T.reverse()}if(S[0].value>S[S.length-1].value){S.reverse()}if(T[T.length-1].value==0&&S[0].value==0){T.pop()}labelsToDrawTemp=T.concat(S);if(U.value!==labelsToDrawTemp[0].value){labelsToDrawTemp.splice(0,0,U)}if(R.value!==labelsToDrawTemp[labelsToDrawTemp.length-1].value){labelsToDrawTemp.push(R)}if(labelsToDrawTemp[0].start>labelsToDrawTemp[labelsToDrawTemp.length-1].start){labelsToDrawTemp.reverse()}O=z(labelsToDrawTemp)}else{O=z(N)}}if(O.length<=1){O=[]}return O};var z=function(O){var R=[];for(var U=0;U<=(O.length-1);U++){var P=true;for(var Q=0;Q<O.length-1;Q+=(U+1)){var T=O[Q];if(Q!=0){var N=R[R.length-1];if(O[Q].start<=N.end){if(R.length>1){P=false;break}}else{R.push(T)}}else{R.push(T)}}var S=O[O.length-1];if(S.start<R[R.length-1].end){R.pop()}R.push(S);if(P){break}else{R=[]}}return R};var w=function(){var P=C.domain();var O=F;if(C.tickHint){O=C.tickHint}var N=C.ticks(O);for(var T=0;T<N.length;T++){N[T]=parseFloat(N[T].toFixed(8))}var V;var U;if(P[0]<=P[P.length-1]){V=P[0];U=P[P.length-1]}else{V=P[P.length-1];U=P[0]}if(N.length>0){if(N[0]!=V){N.unshift(V)}if(N[N.length-1]!=U){N.push(U)}}var W=[];for(var T=0;T<N.length;T++){var R={};R.value=N[T];if(l.isPercentMode){R.text=parseFloat((N[T]*100).toFixed(8)).toString()}else{R.text=parseFloat(N[T].toFixed(8)).toString()}W.push(R)}if(l.label){if(!l.label.formatString&&l.label.numberFormat){for(var T=0;T<N.length;T++){var S=d3.format(l.label.numberFormat);W[T].text=(S(N[T]))}}else{if(l.label.formatString){var Q=l.label.formatString;for(var T=0;T<N.length;T++){W[T].text=(a.format(N[T],Q))}}}}return W};var u=function(O){var Q=0;for(var P=0;P<O.length;P++){var N=o(O[P],J.realStyle.label).height;if(Q<N){Q=N}}return Q};var x=function(O){var Q=0;for(var P=0;P<O.length;P++){var N=o(O[P],J.realStyle.label).width;if(Q<N){Q=N}}return Q};var o=function(O,N){return d.fastMeasure(O,N["font-size"],N["font-weight"],N["font-family"])};var s=function(O,N){for(var P in N){if(typeof(N[P])==="object"){if(O[P]){O[P]=s(O[P],N[P])}else{O[P]=N[P]}}else{O[P]=N[P]}}return O};return j}});sap.riv.module({qname:"sap.viz.modules.axis",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.modules.axis.valueAxisCore",version:"4.0.1"},{qname:"sap.viz.modules.axis.categoryAxisCore",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.format.FormatManager",version:"4.0.1"},{qname:"sap.viz.modules.threeD.matrix",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(d,f,j,b,c,g,e,a,h,k){return function(B,L){var A=null;var x=null;var E=0;var W=0;var M=true;var af=-1;var r="viz-axis";var u="viz-axis-body";var l="viz-axis-title";var C="viz-axis-label";var ae={axis:"v-axis",axisBody:"v-body",axisTitle:"v-title",axisLabel:"v-label",};var K=11;var t={};var V={};var P=true;var X=B.props(null);var Y=true;var F=new e("initialized");var v=X.color;var ad=null;var H;if(L){H=L.effectManager}var aa=null;var q={realStyle:{},defaultStyle:{}};var D=function(){if(L){q.realStyle.title=f.extend(true,{},L.styleManager.query(ae.axisTitle));q.realStyle.label=f.extend(true,{},L.styleManager.query(ae.axisLabel));q.defaultStyle.title=f.extend(true,{},L.styleManager.queryDefault(ae.axisTitle));q.defaultStyle.label=f.extend(true,{},L.styleManager.queryDefault(ae.axisLabel));q.realStyle.titleString=L.styleManager.query(ae.axisTitle).toString();q.realStyle.labelString=L.styleManager.query(ae.axisLabel).toString();q.defaultStyle.titleString=L.styleManager.queryDefault(ae.axisTitle).toString();q.defaultStyle.labelString=L.styleManager.queryDefault(ae.axisLabel).toString();if(X.title.applyAxislineColor){q.realStyle.title.fill=X.color;q.defaultStyle.title.fill=X.color}}};var J=h(),Q=null,m=null,I=null,w=null;var O=function(){if(!Y){return false}else{if(!ac()&&!S()){return false}}return true};var S=function(){return X.title.visible&&X.visible};var ac=function(){if(!M){return false}var ak=ad.range();var ah=ad.domain();var aj=null;if(X.type==="category"){aj=ad.rangeBand()}var ai=false;if(!X.isIndependentMode){if(V){ai=true}}else{if(t){ai=true}}return !(!X.visible||(ak[0]===0&&ak[ak.length-1]===0&&ak.length>=2)||(ak.length===1&&ak[0]===0&&ah.length===1&&ah[0]===0&&X.type==="value")||((!aj||!ai)&&ak.length===1&&ak[0]===0&&ah.length===1&&ah[0]===0&&X.type==="category"))};var N=function(aG){var ar=N.getPreferredSize();k.drawBound(aG,ar.width,ar.height);x=aG;var ax=aG.select("."+r);var aI=ad.range();var an=ad.domain();if(!O()){ax.remove()}else{var am=N.getPreferredSize().spacings;var aC=am[0];var ak=0;for(var aA=1;aA<am.length;aA++){ak+=am[aA]}if(af>=0&&af<(aC+ak)){P=false}s();var aB;var al;var at=U();aB=at.core;al=at.coreScale;var aj=aB().properties(X).style(q).position(X.position).axScale(al).spaceLimit(af).matrix(J).labelAngle(Q).labelAlign(m).angle(I).tickAngle(w);var ay;if(ax.empty()){ax=aG.append("g").attr("class",r+" "+ae.axis);ay=ax.append("g").attr("class",u+" "+ae.axisBody)}else{var aD=ax.select("."+u).remove();ay=ax.append("g").attr("class",u+" "+ae.axisBody);ay=ax.select("."+u)}if(ac()){ay.call(aj)}var aH="";if(X.title.text!==undefined&&X.title.text!==null){aH=X.title.text}else{if(X.type==="value"){if(aa){aH=aa}else{aH=c.get("IDS_ISNOVALUE")}}else{var aq=[];if(X.isIndependentMode){if(t){for(var aw in t){if(t.hasOwnProperty(aw)){aq=t[aw].values;break}}}}else{if(V){aq=V.values}}for(var av=0;av<aq.length;av++){if(aq[av].type){if(aq[av].type==="MND"&&av===0){aH+=c.get("IDS_DEFAULTMND")+((aq.length===1)?"":" - ")}else{if(aq[av].type==="MND"&&av===(aq.length-1)){aH+=" - "+c.get("IDS_DEFAULTMND")}}}else{if(aq[av].col.val){aH+=aq[av].col.val}else{aH+=c.get("IDS_ISNOVALUE")}if(av!==(aq.length-1)&&!aq[av+1].type){aH+=" / "}}}}}var ai=K;ax.select("."+l).remove();if(S()){if(X.title.visible&&P){var aF=aj.getPreferredSize();var az=ax.append("g").attr("class",l+" "+ae.axisTitle).attr("text-anchor","middle").attr("fill",q.defaultStyle.title.fill).attr("font-size",q.defaultStyle.title["font-size"]).attr("font-weight",q.defaultStyle.title["font-weight"]).attr("font-family",q.defaultStyle.title["font-family"]).append("text");if(X.position==="bottom"){if(!ac()){aF.height=0}az.attr("x",aF.width/2).attr("y",aF.height+ai).attr("dominant-baseline","hanging");if(jQuery.browser.msie){var ah=q.realStyle.title["font-size"].toString();var au=ah.indexOf("px");if(au>=0){ah=ah.substr(0,au)}az.attr("y",Number(az.attr("y"))+ah/2);az.attr("dominant-baseline","auto")}d.ellipsis(aH,az.node(),aF.width,q.realStyle.titleString)}else{if(X.position==="top"){if(!ac()){aF.height=0}titleHieght=ab(aH,q.realStyle.title).height;ay.attr("transform","translate(0, "+(titleHieght+ai)+")");az.attr("x",aF.width/2).attr("y",titleHieght).attr("dx","0").attr("dy","0").attr("dominant-baseline","auto");d.ellipsis(aH,az.node(),aF.width,q.realStyle.titleString)}else{if(X.position==="left"){if(!ac()){aF.width=0}titleWidth=ab(aH,q.realStyle.title).height;ay.attr("transform","translate("+(titleWidth+ai)+", "+0+")");var ap=titleWidth;var ao=aF.height/2;var aE="-90";az.attr("transform","rotate( "+aE+" "+ap+" "+ao+" )").attr("x",ap).attr("y",ao).attr("dominant-baseline","auto");d.ellipsis(aH,az.node(),aF.height,q.realStyle.titleString)}else{if(!ac()){aF.width=0}titleWidth=ab(aH,q.realStyle.title).height;ap=aF.width+titleWidth/2+ai;ao=aF.height/2;var aE="-90";az.attr("transform","rotate( "+aE+" "+ap+" "+ao+" )").attr("x",ap).attr("y",ao-titleWidth/2).attr("dominant-baseline","hanging");if(jQuery.browser.msie){var ah=q.realStyle.title["font-size"].toString();var au=ah.indexOf("px");if(au>=0){ah=ah.substr(0,au)}ao=Number(aF.height/2)+ah/2;az.attr("y",ao);az.attr("dominant-baseline","auto")}d.ellipsis(aH,az.node(),aF.height,q.realStyle.titleString)}}}}}P=true}F.initialized();return N};N.matrix=function(ah){if(!arguments.length){return J}J=ah;return N};N.labelAngle=function(ah){if(!arguments.length){return Q}Q=n(ah,360);return N};N.tickAngle=function(ah){if(!arguments.length){return w}w=n(ah,360);return N};N.angle=function(ah){if(!arguments.length){return I}I=n(ah,360);return N};function n(ai,ah){var aj=ai%ah;if(0>aj){aj+=ah}return aj}N.labelAlign=function(ah){if(!arguments.length){return m}m=ah;return N};N.parent=function(ah){if(!arguments.length){return x}x=ah;return N};N.width=function(ah){if(arguments.length==0){return E}else{E=ah;if(X.position=="bottom"||X.position=="top"){if(W){af=W}}else{if(X.position=="left"||X.position=="right"){if(E){af=E}}}return N}};N.height=function(ah){if(arguments.length==0){return W}W=ah;if(X.position=="bottom"||X.position=="top"){if(W){af=W}}else{if(X.position=="left"||X.position=="right"){if(E){af=E}}}return N};N.gridlineLength=function(ah){if(arguments.length==0){return X.gridline.length}X.gridline.length=ah;return N};N.startPadding=function(){var ah=0;if(X.type=="value"){ah=j().properties(X).style(q).position(X.position).axScale(ad).startPadding()}return ah};N.endPadding=function(){var ah=0;if(X.type=="value"){ah=j().properties(X).style(q).position(X.position).axScale(ad).endPadding()}return ah};N.size=function(ah){if(arguments.length==0){return{width:E,height:W,}}E=ah.width;W=ah.height;return N};N.independentData=function(ah){if(X.isIndependentMode){if(arguments.length==0){return t}t=ah}},N.data=function(ah){if(arguments.length==0){return t}if(!X.isIndependentMode){t=ah;if(ah.getAnalysisAxisDataByIdx){V=t.getAnalysisAxisDataByIdx(0)}}return N};N.title=function(ah){if(arguments.length==0){return aa}aa=ah;return N};N.properties=function(ah){if(arguments.length==0){return X}f.extend(true,X,ah);if(ah.color){X.customizedColor=ah.color}return N};N.range=function(){var ah=null;if((X.type==="value")&&(X.scale.fixedRange)){if((X.scale.maxValue!==null)&&(X.scale.minValue!==null)){ah={max:X.scale.maxValue,min:X.scale.minValue,from:"axis"}}}return ah};N.scale=function(ah){if(arguments.length==0){return ad}ad=ah;return N};N.isDrawBody=function(ah){if(arguments.length==0){return M}M=ah;return N};N.color=function(ah){if(arguments.length==0){return X.color}if(X.customizedColor){ah=X.customizedColor}if(!ah){ah=v}X=f.extend(true,X,{color:ah});if(X.title.applyAxislineColor&&ah){q.realStyle.title.fill=ah;q.defaultStyle.title.fill=ah}return N};N.drawable=function(ah){if(arguments.length==0){return Y}Y=ah;return N};N.getPreferredSize=function(){D();var az=[0];var ao=[0];if(ad){az=ad.range();ao=ad.domain()}if(!ad||(!O())){return{width:0,height:0,manual:false,}}else{var aw=U();var aj=(aw.core)().properties(X).style(q).position(X.position).axScale(aw.coreScale).spaceLimit(af);var ax,ar;if(X.title.visible&&X.visible){if(X.title.text!==undefined&&X.title.text!==null){ax=X.title.text}else{ax="Value"}}var an=0;var aq=0;var ai=0;var al=[];var ah=aj.getPreferredSize();if(X.position=="bottom"||X.position=="top"){if(!ac()){ah.height=0;ah.spacings=[]}if(X.title.visible&&X.visible){an=ab(ax,q.realStyle.title).height;ai=K}var av=an+ai;al=al.concat([av]);al=al.concat(ah.spacings);var ak=0;for(var au=1;au<al.length;au++){ak+=al[au]}var ay=av+ak;var at=ay;if(af>=0&&af<ay){at=ah.height}ar={maxSizeConstant:0.5,width:ah.width,height:ay,realHeight:at,spacings:al,manual:false,}}else{if(X.position=="left"||X.position=="right"){if(!ac()){ah.width=0;ah.spacings=[]}if(X.title.visible&&X.visible){aq=ab(ax,q.realStyle.title).height;ai=K}var av=aq+ai;al=al.concat([av]);al=al.concat(ah.spacings);var ak=0;for(var au=1;au<al.length;au++){ak+=al[au]}var am=ak+av;var ap=am;if(af>=0&&af<am){ap=ah.width}ar={maxSizeConstant:0.5,width:am,realWidth:ap,height:ah.height,spacings:al,manual:false,}}}if((X.type=="category")&&(X.layoutInfo.width>0)&&(X.layoutInfo.height>0)){ar.width=X.layoutInfo.width;ar.realWidth=X.layoutInfo.width;ar.height=X.layoutInfo.height;ar.realHeight=X.layoutInfo.height;ar.manual=true}return ar}};N.dispatch=function(ah){if(!arguments.length){return F}F=ah;return N};var ab=function(ai,ah){return d.fastMeasure(ai,ah["font-size"],ah["font-weight"],ah["font-family"])};function z(ah){if(ah[0].type==="MND"||ah[ah.length-1].type==="MND"){return true}else{return false}}function Z(ah){if(ah.length===1&&ah[0].type==="MND"){return true}else{return false}}function ag(ah){if(ah[0].type==="MND"){return true}else{return false}}function p(ah){if(!z(ah)){return}if(ag(ah)){return ah[0]}else{return ah[ah.length-1]}}function o(an){if(!z(an)||Z(an)){return an}var am=[];var ak,aj,ai;for(ak=0;ak<an.length;++ak){am.push({col:an[ak].col,rows:[]})}var ah=p(an);var al=ah.rows.length;var ao;if(ag(an)){ao=an[1].rows.length;for(ak=0;ak<al;++ak){for(aj=0;aj<ao;++aj){am[0].rows.push(an[0].rows[ak])}}for(ak=1;ak<an.length;++ak){for(aj=0;aj<al;++aj){am[ak].rows=am[ak].rows.concat(an[ak].rows)}}}else{ao=an[0].rows.length;for(ak=0;ak<ao;++ak){am[am.length-1].rows=am[am.length-1].rows.concat(an[an.length-1].rows)}for(ak=0;ak<an.length-1;++ak){for(aj=0;aj<ao;++aj){for(ai=0;ai<al;++ai){am[ak].rows.push(an[ak].rows[aj])}}}}return am}function G(al){var am,ak;var ap=[];var ai,an,aj;var ah,ao;for(am=0;am<al.length;++am){ai=[];aj=0;ao=0;ah=0;for(ak=0;ak<al[am].rows.length;++ak){an={};if(am===al.length-1){an.value=al[am].rows[ak];an.space=1}else{++aj;++ao;if(am>0&&ao>=ap[am-1][ah].space){an.value=al[am].rows[ak];an.space=aj;aj=0;ao=0;++ah}else{if(ak+1<al[am].rows.length&&al[am].rows[ak].val===al[am].rows[ak+1].val){continue}else{an.value=al[am].rows[ak];an.space=aj;aj=0}}}ai.push(an)}ap.push(ai)}return ap}function R(aj){var ai=o(aj);var ah=G(ai);return ah}function T(ah){for(var ai=0;ai<ah.length;++ai){ah[ai].reverse()}}var U=function(){var at={};var ai;if(X.type=="category"){ai=[];var an=[];if(X.isIndependentMode){for(dataObj in t){an=t[dataObj].values}}else{if(V){an=V.values}}var ah=[];if(an&&an.length){ah=R(an)}var am=ad.range();if(am[0]>am[am.length-1]){T(ah)}var aC=ah.length===0?0:ah[ah.length-1].length;var al=ad.rangeBand(),ak=[];var aB=false;if(an&&an.length>0&&an[0].rows.length===0){aB=true;aC=1;var ap={value:{},space:1};ap.value={val:V.values[0].col.val,ctx:null};ah=[[ap]]}var ay;if(!ad.noEqual){if(!Z(an)&&!aB){for(ay=0;ay<aC;ay++){ak[ay]=al}}else{var ar=parseInt(am.length/aC,10);for(ay=0;ay<aC;ay++){ak[ay]=al*ar}}}else{for(ay=0;ay<aC;ay++){ak[ay]=Math.abs(am[ay]-am[ay+1])}}function au(aF){var aE=0;for(var aD=0;aD<aF;aD++){aE+=ak[aD]}return aE}var aq={};var aj=[];var ao=[];var ax,aw,az=0;var aA,av;for(ax=0;ax<ah.length;++ax){aj=[];ao=[];az=0;for(aw=0;aw<ah[ax].length;++aw){aj.push(ah[ax][aw].value);az+=ah[ax][aw].space;aA=aw>0?ao[aw-1][1]:0;av=au(az);ao.push([aA,av])}var aq={domain:aj,range:ao,};ai.push(aq)}core=b}else{core=j;ai=ad}at.core=core;at.coreScale=ai;at.coreScale.noEqual=ad.noEqual;return at};function s(){if(!H){return}if(X.customizedColor){X.color=X.customizedColor}var ah={drawingEffect:"normal",fillColor:X.color,};X.color=H.register(ah);ah={drawingEffect:"normal",fillColor:X.gridline.color,};X.gridline.color=H.register(ah);ah={drawingEffect:"normal",fillColor:q.defaultStyle.label.fill,};q.defaultStyle.label.fill=H.register(ah);ah={drawingEffect:"normal",fillColor:q.defaultStyle.title.fill,};q.defaultStyle.title.fill=H.register(ah)}return N}});sap.riv.module({qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.axis",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.axis",type:b.Module.Type.Supplementary,name:"axis",properties:{isIndependentMode:{name:"isIndependentMode",supportedValueType:"Boolean",defaultValue:false,description:"Set whether axis works on independent mode, currently it is used specially for boxplot chart.",isExported:false},isPercentMode:{name:"isPercentMode",supportedValueType:"Boolean",defaultValue:false,description:"Show the label 0.1 as 10",isExported:false},lineSize:{name:"lineSize",supportedValueType:"String",defaultValue:"1",description:"Set line size of axis.",isExported:true,},title:{name:"title",description:"Settings for axis title.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set visibility of axis title."},text:{name:"text",supportedValueType:"String",defaultValue:null,description:"Set text of axis title."},applyAxislineColor:{name:"applyAxislineColor",supportedValueType:"Boolean",defaultValue:false,description:"Set title color same with axisline color.",isExported:false,},},},gridline:{name:"gridline",description:"Settings for axis gridline.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of axis gridline."},showFirstLine:{name:"showFirstLine",supportedValueType:"Boolean",defaultValue:false,description:"Set enabled/disabled the first line of gridlines.",isExported:false,},showLastLine:{name:"showLastLine",supportedValueType:"Boolean",defaultValue:false,description:"Set enabled/disabled the last line of gridlines.",isExported:false,},type:{name:"type",supportedValueType:"List",supportedValues:["line","dotted","incised"],defaultValue:"line",description:"Set type of gridline.",isExported:true,},color:{name:"color",supportedValueType:"String",defaultValue:"#d8d8d8",description:"Set color of gridline.",isExported:true,},size:{name:"size",supportedValueType:"String",defaultValue:"1",description:"Set line size of gridline.",isExported:true,},},},color:{name:"color",supportedValueType:"String",defaultValue:"#6c6c6c",description:"Set color of axisline.",isExported:true,},axisline:{name:"axisline",description:"Settings for axisline.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of axisline."},},},type:{name:"type",supportedValueType:"List",supportedValues:["value","category",],defaultValue:"value",description:"Set type of axis.",isExported:false,},visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of axis.",},label:{name:"label",description:"Settings for axis label.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of axis label."},numberFormat:{name:"numberFormat",supportedValueType:"String",defaultValue:"",description:"Set number format of value axis."},formatString:{name:"formatString",supportedValueType:"String",defaultValue:null,description:"Set format string of value axis. If number format and format string are both set, number format will be ignored. "}},},position:{name:"position",supportedValueType:"List",supportedValues:["left","right","top","bottom"],defaultValue:"bottom",description:"Set position of axis.",isExported:false,},scale:{name:"scale",description:"Set scale for value axis. this property just work on value type axis.",supportedValueType:"Object",supportedValues:{fixedRange:{name:"fixedRange",supportedValueType:"Boolean",defaultValue:false,description:"Enable/disable fixed axis range according minValue and maxValue.",isExported:false},minValue:{name:"minValue",supportedValueType:"Number",defaultValue:0,description:"Set minValue of yAxis.",isExported:false},maxValue:{name:"maxValue",supportedValueType:"Number",defaultValue:0,description:"Set maxValue of yAxis.",isExported:false}},isExported:false},layoutInfo:{name:"layoutInfo",description:"Settings layoutInfo for category axis. this property just work on category type axis",supportedValueType:"Object",supportedValues:{width:{name:"width",supportedValueType:"Number",defaultValue:0,description:"Set width of xAxis.",isExported:false},height:{name:"height",supportedValueType:"Number",defaultValue:0,description:"Set height of xAxis.",isExported:false}},isExported:false}},css:{".viz-axis-title.v-title":{description:"Define style for the axis title.",value:{fill:"black","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"14px","font-weight":"bold"}},".viz-axis-label.v-label":{description:"Define style for the axis label.",value:{fill:"#333333","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"12px","font-weight":"normal"}}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.util.dataUtil",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"}],function Setup(a){var b=function(){var f=function(j,h){if(!j||!h||a.isEmptyObject(j)||a.isEmptyObject(h)){return false}else{return d(j,h)&&e(j,h)}};function d(n,m){var l=[],j=[];var k=0;var h=n.getAnalysisAxisDataByIdx(k);while(h){l.push(h);++k;h=n.getAnalysisAxisDataByIdx(k)}k=0;h=m.getAnalysisAxisDataByIdx(k);while(h){j.push(h);++k;h=m.getAnalysisAxisDataByIdx(k)}if(l.length!==j.length){return false}var o=l.length;for(k=0;k<o;++k){if(l[k].index!==j[k].index){return false}if(!c(l[k].values,j[k].values)){return false}}return true}function e(m,l){var h=[],n=[];var k=0;var j=m.getMeasureValuesGroupDataByIdx(k);while(j){h.push(j);++k;j=m.getMeasureValuesGroupDataByIdx(k)}k=0;j=l.getMeasureValuesGroupDataByIdx(k);while(j){n.push(j);++k;j=l.getMeasureValuesGroupDataByIdx(k)}if(h.length!==n.length){return false}var o=h.length;for(k=0;k<o;++k){if(h[k].index!==n[k].index){return false}if(!g(h[k].values,n[k].values)){return false}}return true}function c(j,h){if(j.length!==h.length){return false}var l=j.length;for(var k=0;k<l;++k){if(j[k].type!==h[k].type){return false}if(j[k].col.val!==h[k].col.val){return false}if(j[k].rows.length!==h[k].rows.length){return false}}return true}function g(j,h){if(j.length!==h.length){return false}var l=j.length;for(var k=0;k<l;++k){if(j[k].col!==h[k].col){return false}if(j[k].rows.length!==h[k].rows.length){return false}}return true}return{hasSameSchema:f}};return b});sap.riv.module({qname:"sap.viz.data.handler.MeasureDataHandler",version:"4.0.1",exported:true},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"}],function Setup(a){var b={makeMeasureValues:function(l,c,k,d,f){var h=[];for(var e=0;e<c.values.length;e++){if(f&&e!==l.path.mi){continue}var g={};var j=c.values[e];var m=j.rows;g.col=j.col;if(l){g.rows=this.createMeasureValues(l,m,k,d)}else{g.rows=this.createMeasureValuesWithoutCtx(m,k,d)}h.push(g)}return h},createMeasureValuesWithoutCtx_1_2:function(f,e){var c=[],d,g;if(e[0]===1){g=[];for(d=0;d<f[0].length;d++){g.push(f[0][d])}c.push(g)}else{if(e[0]===2){for(d=0;d<f[0].length;d++){g=[];g.push(f[0][d]);c.push(g)}}else{a.error("Not supported")}}return c},createMeasureValuesWithoutCtx_1_3:function(f,e){var c=[],d,g;if(e[0]===1){g=[];for(d=0;d<f[0].length;d++){g.push(f[0][d])}c.push([g])}else{if(e[0]===2){g=[];for(d=0;d<f[0].length;d++){g.push([f[0][d]])}c.push(g)}else{if(e[0]===3){for(d=0;d<f[0].length;d++){g=[];g.push([f[0][d]]);c.push(g)}}else{a.error("Not supported")}}}return c},createMeasureValuesWithoutCtx:function(e,d,c){if(d.length===1){if(c===1||c===2){return this.createMeasureValuesWithoutCtx_1_2(e,d)}else{if(c===3){return this.createMeasureValuesWithoutCtx_1_3(e,d)}else{a.error("Not supported")}}}else{if(d.length===2){if(c===2){return e}else{if(c===3){return this.createMeasureValues_2_3(e,d)}else{a.error("Not supported")}}}else{a.error("Not supported")}}a.error("Not supported")},createMeasureValues_1_2:function(c,g,f){var d=[],e,h;if(f[0]===1){h=[];for(e=0;e<g.length;e++){h.push(g[e][c.path.dii])}d.push(h)}else{if(f[0]===2){for(e=0;e<g.length;e++){h=[];h.push(g[e][c.path.dii]);d.push(h)}}else{a.error("Not supported")}}return d},createMeasureValues_1_3:function(c,g,f){var d=[],e,h;if(f[0]===1){h=[];for(e=0;e<g.length;e++){h.push(g[e][c.path.dii])}d.push([h])}else{if(f[0]===2){h=[];for(e=0;e<g.length;e++){h.push([g[e][c.path.dii]])}d.push(h)}else{if(f[0]===3){for(e=0;e<g.length;e++){h=[];h.push([g[e][c.path.dii]]);d.push(h)}}else{a.error("Not supported")}}}return d},createMeasureValues:function(d,g,f,c){var e=[];if(f.length===1){if(c===1||c===2){return this.createMeasureValues_1_2(d,g,f)}else{if(c===3){return this.createMeasureValues_1_3(d,g,f)}else{a.error("Not supported")}}}else{if(f.length===2){if(c===2){return g}else{if(c===3){return this.createMeasureValues_2_3(g,f)}else{a.error("Not supported")}}}else{a.error("Not supported")}}return e},createMeasureValues_2_3:function(k,g){var f,e,c;if(g[0]===1&&g[1]===2){return[k]}else{if(g[0]===1&&g[1]===3){c=[];for(f=0;f<k.length;f++){c.push([k[f]])}return c}else{if(g[0]===2&&g[1]===3){c=[];for(f=0;f<k.length;f++){var h=[];var l=k[f];for(e=0;e<l.length;e++){var d=l[e];h.push([d])}c.push(h)}return c}else{a.error("Not supported")}}}}};return b});sap.riv.module({qname:"sap.viz.data.handler.MultiChartDataHandler",version:"4.0.1"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.data.MultiAxesDataAdapter",version:"4.0.1"},{qname:"sap.viz.data.handler.MeasureDataHandler",version:"4.0.1"}],function Setup(e,c,d){function g(j){var h=j.slice(0);h.sort(function(l,k){return l.index-k.index});h.shift();return h}function f(h){if(h[0]===true){if(h[1]===true){return[1,2]}else{return[1]}}else{if(h[1]===true){return[2]}else{return[1]}}}function b(j){if(j[0]===true){if(j[1]===true){return[1]}else{if(j[2]===true){if(j.length>3){return[1]}else{return[2]}}else{if(j[3]===true){e.error("Not Supported")}else{return[1]}}}}else{if(j[1]===true){if(j[2]===true){return[1,2]}else{if(j[3]===true){e.error("Not Supported")}else{return[1]}}}else{if(j[2]===true){if(j[3]===true){e.error("Not Supported")}else{if(j.length>3){return[1]}else{return[2]}}}else{for(var h=0;h<j.length;h++){if(j[h]===true){e.error("could not determin measure value axis index")}}return[1]}}}e.error("could not determin measure value axis index")}function a(j,h){this._dataAdapter=j;this._aa=this._dataAdapter.getAnalysisAxisDataByIdx();this._mg=this._dataAdapter.getMeasureValuesGroupDataByIdx();this._subAxes=g(this._aa);this._type=h;if(this._type===undefined){this._measureValueAxisIndex=b(this._dataAdapter.getBindingInfo());this._maxMeasureAxis=2}else{if(this._type==="measures"){this._measureValueAxisIndex=f(this._dataAdapter.getBindingInfo());this._maxMeasureAxis=this._dataAdapter.getBindingInfo().length}}}a.prototype.getSubDataAdapter=function(h){if(this._type===undefined){return this.getSubDataAdapterByContext(h)}else{if(this._type==="measures"){return this.getSubDataAdapterByMeasures(h)}}return null};a.prototype.getSubDataAdapterByContext=function(h){var l,m,k,j;if(h){if(h.path.mg!==undefined&&h.path.mi!==undefined){if(h.path.di!==undefined&&h.path.dii!==undefined){l=new c();for(k=0;k<this._subAxes.length;k++){m=this._subAxes[k];l.addAnalysisAxis({index:m.index-1,values:m.values})}j=this._mg[h.path.mg];l.addMeasureValuesGroup({index:0,values:d.makeMeasureValues(h,j,this._measureValueAxisIndex,this._maxMeasureAxis,true)});return l}else{l=new c();for(k=0;k<this._subAxes.length;k++){m=this._subAxes[k];l.addAnalysisAxis({index:m.index-1,values:m.values})}j=this._mg[h.path.mg];l.addMeasureValuesGroup({index:0,values:d.makeMeasureValues(null,{values:[j.values[h.path.mi]]},this._measureValueAxisIndex,this._maxMeasureAxis,false)});return l}}else{l=new c();for(k=0;k<this._subAxes.length;k++){m=this._subAxes[k];l.addAnalysisAxis({index:m.index-1,values:m.values})}for(k=0;k<this._mg.length;k++){j=this._mg[k];l.addMeasureValuesGroup({index:j.index,values:d.makeMeasureValues(h,j,this._measureValueAxisIndex,this._maxMeasureAxis,false)})}return l}}return null};a.prototype.getSubDataAdapterByMeasures=function(h){var l=new c();for(var k=0;k<this._aa.length;k++){l.addAnalysisAxis(this._aa[k])}var j=this._mg[0];l.addMeasureValuesGroup({index:0,values:d.makeMeasureValues(null,{values:[j.values[h.row]]},this._measureValueAxisIndex,this._maxMeasureAxis,false)});l.addMeasureValuesGroup({index:1,values:d.makeMeasureValues(null,{values:[j.values[h.col]]},this._measureValueAxisIndex,this._maxMeasureAxis,false)});return l};return a});sap.riv.module({qname:"sap.viz.modules.util.DimensionalInfoHandler",version:"4.0.1"},[{qname:"sap.viz.lang.langManager",version:"4.0.1"}],function Setup(a){return function(f,n){var j=n;var r=f;var x;var u;var q={values:[]};var b={values:[]};var v=[];var z;var A;var o=a.get("IDS_DEFAULTMND");var p=function(){};p.setData=function(E){j=E;return p};p.setProperties=function(E){r=E;return p};p.getColumnDimensionData=function(){return b};p.getRowDimensionData=function(){return q};p.getContexts=function(){return v};function s(){var E=0;if(x>0){z=1;A=j.values[0].rows.length;v.push([]);var G=b.values;G[0]={col:{val:o},rows:[]};for(E=0;E<j.values[0].rows.length;++E){G[0].rows.push({val:j.values[0].rows[E].val,info:j.values[0].rows[E].info});v[0].push(j.values[0].rows[E].ctx)}}else{z=j.values[0].rows.length;A=1;var F=q.values;F[0]={col:{val:o},rows:[]};for(E=0;E<j.values[0].rows.length;++E){F[0].rows.push({val:j.values[0].rows[E].val,info:j.values[0].rows[E].info});v.push([j.values[0].rows[E].ctx])}}}function w(){q.values=[];b.values=[];z=0;A=0;v=[]}function D(G,F,E,I){for(var H=E;H<E+I;++H){if(j.values[H].rows[G].val!==j.values[H].rows[F].val){return false}}return true}function g(L,K,I,M){var G=0;var J=L.length;var O=true;for(var F=0;O&&F<M;++F){var E=J;var H=G;O=false;for(var N=G;N<J;++N){if(j.values[I+F].rows[L[N]].val===j.values[I+F].rows[K].val){O=true;if(N<E){E=N}if(N>=H){H=N+1}}}if(O){G=E;J=H}}if(!O){if(J<L.length){L.splice(J,0,K)}else{L.push(K)}}}function t(G,F,I){var E=[];for(var H=F;H<F+I;++H){E.push(j.values[H].rows[G].val)}return E}function k(I,E,G){var H={};for(var F=0;F<I.length;++F){H[t(I[F],E,G)]=F}return H}function c(G,K){var L=[];var F=[];F.push(0);var I;var J={};for(I=1;I<j.values[G].rows.length;++I){g(F,I,G,K)}var M=b.values;for(I=0;I<K;++I){J={};J.col=j.values[G+I].col;J.rows=[];J.rows[0]={val:j.values[G+I].rows[0].val,info:j.values[G+I].rows[0].info};M.push(J)}for(I=0;I<F.length;++I){for(var H=0;H<K;H++){M[H].rows[I]={val:j.values[G+H].rows[F[I]].val,info:j.values[G+H].rows[F[I]].info}}}var E=k(F,G,K);for(I=0;I<j.values[G].rows.length;++I){J=t(I,G,K);L[I]=E[J]}A=F.length;return L}function B(E){if(!E){return null}return{type:E.type,path:{aa:E.path.aa,di:E.path.di,dii:E.path.dii}}}function C(G){var F=[];for(var E=0;E<G.length;++E){F.push(B(G[E]))}return F}function h(G,E){for(var F=0;F<G.length;++F){if(!G[F]){continue}else{if(!G[F].path){G[F].path={}}}G[F].path.mg=E.path.mg;G[F].path.mi=E.path.mi}}function d(G){var E=v.length;for(var H=0;H<G;++H){for(var F=0;F<E;++F){v.push(C(v[F]))}}}function e(O,R,N,Q){var H=O?j.values.length-1:0;var F=j.values[H].rows;var T={};T.col=j.values[H].col;T.rows=[];var U=R?q.values:b.values;var E=R?N:Q;var L,J,I;var K;if(R&&N===0){U[0]={col:{val:o},rows:[]};h(v[0],F[0].ctx);U[0].rows.push({val:F[0].val});for(L=1;L<F.length;++L){U[0].rows.push({val:F[L].val});v.push(C(v[0]));h(v[L],F[L].ctx)}z=F.length;return}if(!R&&Q===0){U[0]={col:{val:o},rows:[]};for(L=0;L<F.length;++L){U[0].rows.push({val:F[L].val})}for(L=0;L<v.length;++L){v[L][0].path.mg=F[0].ctx.path.mg;v[L][0].path.mi=F[0].ctx.path.mi;for(J=1;J<F.length;++J){v[L].push(B(v[L][0]));v[L][J].path.mg=F[J].ctx.path.mg;v[L][J].path.mi=F[J].ctx.path.mi}}return}var M=R?z:A;if(O){for(L=0;L<M;++L){for(J=0;J<U.length;++J){for(I=1;I<F.length;++I){K={val:U[J].rows[L*F.length+I-1].val,info:U[J].rows[L*F.length+I-1].info};U[J].rows.splice(L*F.length+I,0,K)}}}for(L=0;L<M;++L){for(J=0;J<F.length;++J){K={val:F[J].val};T.rows.push(K)}}U.push(T);if(R){z*=F.length;for(L=0;L<z;L+=F.length){h(v[L],F[0].ctx);for(J=1;J<F.length;++J){var G=C(v[L]);v.splice(L+J,0,G);h(v[L+J],F[J].ctx)}}}else{A*=F.length;for(L=0;L<v.length;++L){for(J=0;J<A;J+=F.length){v[L][J].path.mg=F[0].ctx.path.mg;v[L][J].path.mi=F[0].ctx.path.mi;for(I=1;I<F.length;++I){v[L].splice(J+I,0,B(v[L][J]));v[L][J+I].path.mg=F[I].ctx.path.mg;v[L][J+I].path.mi=F[I].ctx.path.mi}}}}return}else{for(L=1;L<F.length;++L){for(J=0;J<E;++J){for(I=0;I<M;++I){K={val:U[J].rows[I].val,info:U[J].rows[I].info};U[J].rows.push(K)}}}for(J=0;J<F.length;++J){for(L=0;L<M;++L){K={val:F[J].val};T.rows.push(K)}}U.splice(0,0,T);if(R){z*=F.length;d(F.length-1);for(L=0;L<z;++L){h(v[L],F[z%F.length].ctx)}}else{A*=F.length;for(L=0;L<v.length;++L){var S=[];h(v[L],F[0].ctx);for(J=1;J<F.length;++J){var P=C(L);h(P,F[0].ctx);S=S.concat(C(L))}v[L]=v[L].concat(S)}}}}function m(E,K,J){var I=q.values;var H=0;for(H=0;H<E;++H){var G={};G.col=j.values[K+H].col;G.rows=[];G.rows[0]={val:j.values[K+H].rows[0].val,info:j.values[K+H].rows[0].info};I.push(G)}for(H=1;H<j.values[K].rows.length;++H){if(D(H,H-1,K,E)){J[H]=z}else{++z;for(var F=0;F<E;F++){I[F].rows[z]={val:j.values[K+F].rows[H].val,info:j.values[K+F].rows[H].info}}J[H]=z}}++z}function l(){var M=0,H=j.values.length;var I=u,K=x;var J=false,L=true;var G;if(j.values[0].type==="MND"){++M;if(I>0){--I}else{--K;L=false}}if(j.values[H-1].type==="MND"){J=true;--H;if(K>0){--K;L=false}else{L=true;--I}}if(M<H){var N=[];if(K>0||I>0){N[0]=0;z=0;if(I>0){m(I,M,N)}else{z=1;for(G=1;G<j.values[M].rows.length;++G){N[G]=0}}var F=[];if(K>0){F=c(M+I,K)}else{A=1;for(G=0;G<j.values[M].rows.length;++G){F[G]=0}}v=new Array(z);for(G=0;G<z;++G){v[G]=[];for(var E=0;E<A;++E){v[G][E]=null}}for(G=0;G<j.values[M].rows.length;++G){v[N[G]][F[G]]=j.values[M+I+K-1].rows[G].ctx}}if(I<u||K<x){e(J,L,I,K)}}}p.process=function(){w();if(!j||!j.values||j.values.length===0){return}x=r&&r.numberOfDimensionsInColumn!==undefined?r.numberOfDimensionsInColumn:1;if(!x||x<0){x=0}if(x>j.values.length){x=j.values.length}u=j.values.length-x;if(u<0){u=0}if(j.values.length===1&&j.values[0].type==="MND"){s()}else{l()}};return p}});sap.riv.module({qname:"sap.viz.modules.layout",version:"4.0.1"},[{qname:"sap.viz.util.TypeUtils",version:"4.0.1"}],function Setup(a){return function(k){var d={resize:true,type:"grid",padding:[0,0,0,0],hgap:0,vgap:0};var g=k.hgap||d.hgap,m=k.vgap||d.vgap,j=k.padding||d.padding,f=k.bias||"none";var h;switch(k.type){case"border":c(k.prefs);break;case"grid":b(k.prefs);break;case"table":l();break;case"border2":e(k);break;default:b(k.prefs)}function e(p){var n=p.specs;var s=p.size;var r={};for(var t in n){if(n.hasOwnProperty(t)){r[n[t].info]={size:n[t].preferSize,key:t}}}c(r);var o={};for(var q in h){if(h.hasOwnProperty(q)){o[r[q].key]=h[q]}}h=o}function c(u){h={};var v={};v.width=k.size.width-j[1]-j[3];v.height=k.size.height-j[0]-j[2];var r=j[3],q=j[0],p=k.size.width-j[1],o=k.size.height-j[2];var t=new Array,s;if(f instanceof Array){t[0]=f[0];t[1]=f[1];t[2]="north";t[3]="south"}else{switch(f){case"west":t[0]="west";t[1]="north";t[2]="south";t[3]="east";break;case"east":t[0]="east";t[1]="north";t[2]="south";t[3]="west";break;default:t[0]="north";t[1]="south";t[2]="east";t[3]="west"}}t[4]="center";for(s=0;s<t.length;s++){n(t[s])}function n(E){function C(L){if(arguments.length<2){return 0}var K=Array.prototype.slice.apply(arguments).slice(1);var I=[];for(var J=0;J<K.length;J++){if(K[J].length>1){I[J]=K[J].slice(1);I[J].push(K[J][0])}}var G=0;var F=0;for(var J=0;J<I[0].length;J++){for(var H=0;H<I.length;H++){F+=I[H][J]}if(F>L){return G}G+=I[0][J]}return G}var B={},x={};if(E==="north"&&u.north){B=h.north={};x=u.north.size;var D=x.height;var A=D;if(x.spacings&&u.south&&u.south.size.spacings){A+=u.south.size.height}if(x.maxSizeConstant&&A>v.height*x.maxSizeConstant){if(x.hideOversize){D=0}else{if(x.spacings){if(u.south&&u.south.size.spacings){D=C(v.height*x.maxSizeConstant,x.spacings,u.south.size.spacings)}else{D=C(v.height*x.maxSizeConstant,x.spacings)}}else{D=v.height*x.maxSizeConstant}}}B.bounds={x:r,y:q,width:p-r,height:D};q+=(B.bounds.height+g);if(B.bounds.height==0){h.north=null}}if(E==="east"&&u.east){B=h.east={};x=u.east.size;var z=x.width;var w=z;if(x.spacings&&u.west&&u.west.size.spacings){w+=u.west.size.width}if(x.maxSizeConstant&&w>v.width*x.maxSizeConstant){if(x.hideOversize){z=0}else{if(x.spacings){if(u.west&&u.west.size.spacings){z=C(v.width*x.maxSizeConstant,x.spacings,u.west.size.spacings)}else{z=C(v.width*x.maxSizeConstant,x.spacings)}}else{z=v.width*x.maxSizeConstant}}}if(z<x.minWidth){z=0}B.bounds={x:p-z,y:q,width:z,height:o-q};if(B.bounds.height<x.minHeight){B.bounds.width=0}p-=(B.bounds.width-m);if(B.bounds.width==0){h.east=null}}if(E==="south"&&u.south){B=h.south={};x=u.south.size;var D=x.height;var A=D;if(x.spacings&&u.north&&u.north.size.spacings){A+=u.north.size.height}if(x.maxSizeConstant&&A>v.height*x.maxSizeConstant){if(x.hideOversize){D=0}else{if(x.spacings){if(u.north&&u.north.size.spacings){D=C(v.height*x.maxSizeConstant,x.spacings,u.north.size.spacings)}else{D=C(v.height*x.maxSizeConstant,x.spacings)}}else{D=v.height*x.maxSizeConstant}}}B.bounds={x:r,y:(o-D)<q?q:(o-D),width:p-r};B.bounds.height=D;o-=(B.bounds.height-g);if(B.bounds.height==0){h.south=null}}if(E==="west"&&u.west){B=h.west={};x=u.west.size;var z=x.width;var w=z;if(x.spacings&&u.east&&u.east.size.spacings){w+=u.east.size.width}if(x.maxSizeConstant&&w>v.width*x.maxSizeConstant){if(x.hideOversize){z=0}else{if(x.spacings){if(u.east&&u.east.size.spacings){z=C(v.width*x.maxSizeConstant,x.spacings,u.east.size.spacings)}else{z=C(v.width*x.maxSizeConstant,x.spacings)}}else{z=v.width*x.maxSizeConstant}}}B.bounds={x:r,y:q,width:z,height:(q+x.height)>o?o:(q+x.height)};r+=(B.bounds.width+m);if(B.bounds.width==0){h.west=null}}if(E==="center"&&u.center){B=h.center={};B.bounds={x:r,y:q,width:p-r,height:o-q}}}}function b(n){}function l(q){h=[];var p=a.isExist(k.columns)?k.columns:3;var v=a.isExist(k.rows)?k.rows:2;var A=a.isExist(k.cellpadding)?k.cellpadding:5;var w=a.isExist(k.paddingThreshold)?k.paddingThreshold:0.1;var t={};t.width=k.size.width-j[1]-j[3];t.height=k.size.height-j[0]-j[2];var u=t.width/p;var F=t.height/v;if(A>u*w||A>F*w){A=2}var z=(t.width-2*p*A)/p;z=z>0?z:0;var o=(t.height-2*v*A)/v;o=o>0?o:0;var E=j[3],C=j[0],D=k.size.width-j[1],B=k.size.height-j[2];for(var r=0;r<p;r++){var n=[];for(var s=0;s<v;s++){var x={};x.bounds={x:r*u+u/2-z/2,y:s*F+F/2-o/2,width:z,height:o};n.push(x)}h.push(n)}}return h}});sap.riv.module({qname:"sap.viz.modules.tablecontainer",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.modules.layout",version:"4.0.1"},{qname:"sap.viz.modules.util.DimensionalInfoHandler",version:"4.0.1"},{qname:"sap.viz.data.handler.MultiChartDataHandler",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.data.MultiAxesDataAdapter",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"},{qname:"sap.viz.util.ignite",version:"4.0.1"},{qname:"sap.viz.util.fn.createContext",version:"4.0.1"},{qname:"sap.viz.modules.util.dataUtil",version:"4.0.1"}],function Setup(a,g,e,b,o,k,m,j,d,l,f,n,c){var h=function(L,T){var r=0,t=0,av=0,U=0,s={},aq=L.props(null),ac={},al={},H=[],Q=[],ar=null,ah={},W={},z={},J=null,ap=3,N=2,v=d3.scale.ordinal(),an=d3.scale.ordinal(),P=new d("initialized","showTooltip","hideTooltip"),E=0,Y=0,ag,ab;var K="multiLayout";var w=0;var ad={dataLoading:true,dataUpdating:true,resizing:true};var S=true,D=false;var ao="plotArea";function X(ay){var aA={};var ax=(aA[ao]={});var aB=(ax.animation={});g.extend(aB,ad);if(!ay&&D){aB.dataLoading=ad.dataUpdating}var aC=W.plot;for(var az=0,aw=aC.length;az<aw;az++){aC[az].properties(aA)}}function G(){for(var aw in ac){if(ac.hasOwnProperty(aw)){delete ac[aw]}}}function B(){if(a.isEmptyObject(ah)){e.error("Container configuration missing")}x();E=0,Y=0;M(ah,"xAxis",al.columnData);M(ah,"yAxis",al.rowData);M(ah,"xAxis2",al.columnData);M(ah,"yAxis2",al.rowData);ai();am("plot");am("xAxis2");am("yAxis");u();F();Y=Y+E}function x(){delete al.contexts;delete al.columnData;delete al.rowData;delete al.dataHandler;var aw=o({numberOfDimensionsInColumn:aq.numberOfDimensionsInColumn},ar.getAnalysisAxisDataByIdx(0));aw.process();var aB=aw.getRowDimensionData();var az=aw.getColumnDimensionData();var aA=aw.getContexts();ap=aA.length;N=ap>0?aA[0].length:N;var ax=new j();ax.addAnalysisAxis({key:ax.key,index:0,values:az.values});var ay=new j();ay.addAnalysisAxis({key:aB.key,index:0,values:aB.values});al.contexts=aA;al.columnData=ax;al.rowData=ay;al.dataHandler=new k(ar)}function M(ax,aD,aw){if(!ax.modules[aD]){return}var aB=ax.modules[aD],aA=W[aD]=f(aB.id,T,"v-"+aD);A(aD,aw);var az={},ay,aC;if(aB.configure){ay=s[aB.configure.propertyCategory]||{};aC=aB.configure.properties||{};g.extend(true,az,aC,ay);aA.properties(az)}if(aA.dispatch&&aA.dispatch()["initialized"]){Y++;aA.dispatch().on("initialized.tablecontainer",I)}z[aD]=J.append("g").attr("class","v-"+aD)}function A(ax,aw){if(W[ax]){W[ax].data(aw)}}function ai(){var aE=ah.modules.plot;if(!aE){return}R();ae();var ax=al.contexts;var aD=W.plot=[],ay=0;for(var aA=0;aA<N;aA++){for(var aC=0;aC<ap;aC++){var az=ax[aC][aA];if(az){if(!ag||!ab){ag=m.get(aE.id);ab=n(ag,T,"v-m-plot")}var aB=aD[ay]=f(ag,ab);aB.config(aE);if(aB.dispatch){E++;var aw=aB.dispatch();if(aw.initialized){aw.on("initialized.tablecontainer",I)}if(aw.showTooltip){aw.on("showTooltip.tablecontainer",au)}if(aw.hideTooltip){aw.on("hideTooltip.tablecontainer",O)}}++ay}}}}function q(){var aC=W.plot;if(aC){var aA=ah.modules.plot;if(!aA){return}var az=null,ay,aB;var aD=aA.configure;if(aD){aB={};if(aD.propertyCategory){aB[aD.propertyCategory]=aD.properties}ay=s;az={};g.extend(true,az,aB,ay)}else{az=s}for(var ax=0,aw=aC.length;ax<aw;ax++){if(az&&aC[ax]){aC[ax].properties(az)}}}}function am(ay){if(ay==="plot"){q()}else{var aw=W[ay];if(aw){var aA=ah.modules[ay];if(!aA){return}var ax;var az=aA.configure;if(az){ax=g.extend(true,{},s[az.propertyCategory])}else{ax=s}aw.properties(ax)}}}function u(){var aw=al.dataHandler;var aD=al.contexts;var aB=W.plot,ax=0;for(var az=0;az<N;az++){for(var ay=0;ay<ap;ay++){var aC=aD[ay][az];if(aC){var aA=aw.getSubDataAdapter(aC);if(aB[ax]){aB[ax].data(aA);++ax}}}}}function F(){var ay=ah.modules.plot;if(!ay){return}var aL=W.plot;var aO=z.plot=[];var aD=al.contexts;if(z.plotRoot){z.plotRoot.remove()}var ax=z.plotRoot=J.append("g").attr("class","v-m-plot");var aN=0;for(var aG=0;aG<N;aG++){for(var aE=0;aE<ap;aE++){var aB=aD[aE][aG];if(aB){var aI=aL[aN];aO[aN]=ax.append("g").attr("class","v-m-plot"+aN);aI.parent(aO[aN]);if(aI.modules){var aC=aI.modules();var aQ;for(var aM in aC){if(aC.hasOwnProperty(aM)){aQ="plot["+aN+"]."+aM;H.push(aQ);W["plot["+aN+"]."+aM]=aC[aM]}}}var aJ=ay.controllers;if(aJ){for(var aF in aJ){if(aJ.hasOwnProperty(aF)){var aP=aJ[aF];var aK=f(aP.id,T);aK().module(aI);var az={};var aw=aP.propertyCategory;var aH=s[aw];var aA=aP.properties;g.extend(true,az,aA,aH);aK.properties(az);Q.push("plot["+aN+"]."+aF);W["plot["+aN+"]."+aF]=aK}}}++aN}}}}function R(){for(var ax=0,aw=Q.length;ax<aw;ax++){delete W[Q[ax]]}Q=[]}function ae(){for(var ax=0,aw=H.length;ax<aw;ax++){delete W[H[ax]]}H=[];if(ab){ab.styleManager.cleanChildren()}}function aj(){if(a.isEmptyObject(W)||!r||!t){return}var aK={};if(W.xAxis){W.xAxis.drawable(true);aK.south={size:W.xAxis.getPreferredSize()}}if(W.yAxis){W.yAxis.drawable(true);aK.west={size:W.yAxis.getPreferredSize()}}if(W.xAxis2){W.xAxis2.drawable(true);aK.north={size:W.xAxis2.getPreferredSize()}}if(W.yAxis2){W.yAxis2.drawable(true);aK.east={size:W.yAxis2.getPreferredSize()}}if(W.plot){aK.center={}}var aC=b({type:"border",bias:"none",size:{width:r,height:t},prefs:aK});av=aC.center.bounds.width;U=aC.center.bounds.height;v.rangeBands([0,av]);an.rangeBands([0,U]);if(aC.north){var aw=0,aI=0;if(aC.west){aw=aC.north.bounds.width-aC.west.bounds.width;aI=aC.north.bounds.x+aC.west.bounds.width}if(aC.east){aw=aC.north.bounds.width-aC.east.bounds.width}z.xAxis2.attr("transform","translate("+aI+","+aC.north.bounds.y+")");W.xAxis2.width(aw).height(aC.north.bounds.height);W.xAxis2.gridlineLength(aC.center.bounds.height)}else{if(W.xAxis2){W.xAxis2.drawable(false)}}if(aC.east){z.yAxis2.attr("transform","translate("+aC.east.bounds.x+","+aC.east.bounds.y+")");W.yAxis2.width(aC.east.bounds.width).height(aC.east.bounds.height);W.yAxis2.gridlineLength(aC.center.bounds.width)}else{if(W.yAxis2){W.yAxis2.drawable(false)}}if(aC.south){var aJ=0,aF=0;if(aC.west){aJ=aC.south.bounds.width-aC.west.bounds.width;aF=aC.south.bounds.x+aC.west.bounds.width}if(aC.east){aJ=aC.south.bounds.width-aC.east.bounds.width}z.xAxis.attr("transform","translate("+aF+","+aC.south.bounds.y+")");W.xAxis.width(aJ).height(aC.south.bounds.height);W.xAxis.gridlineLength(aC.center.bounds.height)}else{if(W.xAxis){W.xAxis.drawable(false)}}if(aC.west){z.yAxis.attr("transform","translate("+aC.west.bounds.x+","+aC.west.bounds.y+")");W.yAxis.width(aC.west.bounds.width).height(aC.west.bounds.height);W.yAxis.gridlineLength(aC.center.bounds.width)}else{if(W.yAxis){W.yAxis.drawable(false)}}if(aC.center){z.plotRoot.attr("transform","translate("+aC.center.bounds.x+","+aC.center.bounds.y+")");var aA=b({type:"table",bias:"none",size:{width:aC.center.bounds.width,height:aC.center.bounds.height},columns:N,rows:ap,cellpadding:aq.cellPadding,paddingThreshold:aq.paddingThreshold});var ay=0;var ax=al.contexts;for(var aB=0;aB<N;aB++){for(var aE=0;aE<ap;aE++){var az=ax[aE][aB];if(az){var aD=W.plot[ay];var aH=aA[aB][aE];var aG=z.plot[ay];aD.width(aH.bounds.width).height(aH.bounds.height);aG.attr("transform","translate("+aH.bounds.x+","+aH.bounds.y+")");++ay}}}}}function V(aw){return function(ay){if(!arguments.length){return ac[aw]}else{if(!ac[aw]){ac[aw]=ay}else{var ax=ac[aw];if(ay.distinctValuesObj){for(var az in ay.distinctValuesObj){if(ay.distinctValuesObj.hasOwnProperty(az)){ax.distinctValuesObj[az]=ay.distinctValuesObj[az]}}}if(ay.min<ax.min){ax.min=ay.min}if(ay.max>ax.max){ax.max=ay.max}if(ay.hasNoValue){ax.hasNoValue=true}}}}}function p(ay){for(var ax=0,aw=ay.length;ax<aw;ax++){af[ay[ax]+"DataRange"]=V(ay[ax])}}function aa(ax){s=ax;if(s[ao]){g.extend(ad,s[ao].animation)}if(ax[K]){if(ax[K].mergeDataRange){aq.mergeDataRange=ax[K].mergeDataRange;p(aq.mergeDataRange)}var aw=aq.numberOfDimensionsInColumn;g.extend(true,aq,ax[K]);if(W.plot&&aw!==aq.numberOfDimensionsInColumn){x();G();A("xAxis",al.columnData);A("yAxis",al.rowData);A("xAxis2",al.columnData);A("yAxis2",al.rowData);u();aj()}}}function at(){var ay=[];for(var aw=0;aw<N;aw++){ay.push(aw)}var ax=W.xAxis?W.xAxis:W.xAxis2;v.domain(ay).rangeBands([0,av])}function C(){var ay=[];for(var ax=0;ax<ap;ax++){ay.push(ax)}var aw=W.yAxis?W.yAxis:W.yAxis2;an.domain(ay).rangeBands([0,U])}function af(aw){aw.each(function(ax){if(!S&&D){X()}w=0;J=aw;l.drawBound(aw,r,t);if(a.isEmptyObject(W)){B()}Z();if(!S&&D){X(true)}});S=false,D=false;return af}af.width=function(aw){if(!arguments.length){return r}r=aw;G();aj();return af};af.height=function(aw){if(!arguments.length){return t}t=aw;G();aj();return af};af.size=function(aw){if(!arguments.length){return{width:r,height:t}}t=aw.height;r=aw.width;G();aj();return af};af.data=function(ax){if(!arguments.length){return ar}D=true;var aw=false;if(!c().hasSameSchema(ar,ax)){aw=true}ar=ax;G();if(!a.isEmptyObject(W)){x();if(aw){Y=Y-E;A("xAxis",al.columnData);A("yAxis",al.rowData);A("xAxis2",al.columnData);A("yAxis2",al.rowData);E=0;ai();am("plot");am("xAxis2");am("yAxis");u();F();Y=Y+E}else{u()}}return af};af.properties=function(aw){if(!arguments.length){return aq}aa(aw);if(!a.isEmptyObject(W)){am("plot");am("xAxis2");am("yAxis")}return af};af.config=function(aw){if(!arguments.length){return ah}ah=aw;return af};af.xCategoryScale=function(aw){if(!arguments.length){at();return v}v=aw;return af};af.yCategoryScale=function(aw){if(!arguments.length){C();return an}an=aw;return af};af.modules=function(aw){if(!arguments.length){if(a.isEmptyObject(W)){B()}return W}W=aw;return af};af.parent=function(aw){if(!arguments.length){return J}J=aw;return af};af.dispatch=function(aw){if(!arguments.length){return P}P=aw;return af};af.infoForSizeLegend=function(){var ay;for(var ax=-1,aw=W.plot.length;++ax<aw;){ay=W.plot[ax];if(ay){break}}return{space:ay?(r-av+ay.infoForSizeLegend().space*N):0,number:N,plotHeight:ay?ay.height():0}};af.plotRegion=function(){return{selection:z.plotRoot,width:av,height:U}};function ak(aw){if(z[aw]){J.select(".v-"+aw).datum(W[aw].data()).call(W[aw])}}function Z(){ak("xAxis");ak("xAxis2");ak("yAxis");ak("yAxis2");if(z.plot){for(var ax=0,aw=z.plot.length;ax<aw;ax++){if(z.plot[ax]){z.plot[ax].datum(W.plot[ax].data()).call(W.plot[ax])}}}}function I(){if(++w===Y){w=0;P.initialized()}}function au(aw){P.showTooltip(aw)}function O(aw){P.hideTooltip(aw)}return af};return h});sap.riv.module({qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.Constants",version:"4.0.1"},{qname:"sap.viz.modules.tablecontainer",version:"4.0.1"},{qname:"sap.viz.data.feed.Constants",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"}],function Setup(f,b,e,g,d){var a={id:"multiplier",name:"Chart Multiplier",type:g.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:0};var c={id:"sap.viz.modules.tablecontainer",type:b.Type.Container,name:"table container",description:"Settings for the subcharts layout of multiple charts.",properties:{mergeDataRange:{name:"mergeDataRange",supportedValueType:"List",supportedValues:["ANY DATA RANGE NAME"],defaultValue:null,description:"Set mergeDataRange. Specify names of data range you want to merge, we will generate corresponding functions in this module to do the real merge. for example, if 'primary' and 'second' are specified here, two functions will be generated: 'primaryDataRange' and 'secondDataRange'. the function name is the range name plus 'DataRange'. these generated functions support both getter and setter, for setter, you can pass any number of ranges {min:NUM, max:NUM} to it to merge, then you can get the merged result through the getter.",isExported:false},numberOfDimensionsInColumn:{name:"numberOfDimensionsInColumn",supportedValueType:"PositiveInt",defaultValue:1,description:"Set the specified number of dimensions, retrieved from the end of the dimension list in multiplier, will be put in column when doing multiple layout."},cellPadding:{name:"cellPadding",supportedValueType:"PositiveInt",defaultValue:15,description:"Set padding between cells of sub plots. If cellPadding value exceeds containerSize * threshold, we set it to 0."},paddingThreshold:{name:"paddingThreshold",supportedValueType:"Number",defaultValue:0.2,description:"Set paddingThreshold, if cellPadding value exceeds the containerSize * threshold, we set it to 0.",isExported:false}},events:{showTooltip:d.Module.Event.TooltipShow.desc,hideTooltip:d.Module.Event.TooltipHide.desc},css:null,feeds:[a],fn:e};f.register(c)});sap.riv.module({qname:"sap.viz.data.handler.SingleChartDataHandler",version:"4.0.1",exported:true},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.data.MultiAxesDataAdapter",version:"4.0.1"},{qname:"sap.viz.data.handler.MeasureDataHandler",version:"4.0.1"}],function Setup(e,b,d){function a(g){if(g[0]===true){if(g[1]===true){return[1,2]}else{if(g[2]===true){return[1,2]}else{if(g[3]===true){e.error("Not Supported")}else{return[1]}}}}else{if(g[1]===true){if(g[2]===true){return[1,2]}else{if(g[3]===true){e.error("Not Supported")}else{if(g.length>2){return[1]}else{return[2]}}}}else{if(g[2]===true){if(g[3]===true){e.error("Not Supported")}else{return[1]}}else{for(var f=0;f<g.length;f++){if(g[f]===true){e.error("could not determin measure value axis index")}}return[1]}}}e.error("could not determin measure value axis index")}function c(f){this._dataAdapter=f}c.prototype.getDataAdapter=function(){if(this._dataAdapter.getBindingInfo()===null||this._dataAdapter.getBindingInfo()===undefined){return this._dataAdapter}else{return this.getChartDataAdapter()}};c.prototype.getChartDataAdapter=function(){var m=a(this._dataAdapter.getBindingInfo());var l=this._dataAdapter.getAnalysisAxisDataByIdx();var h=this._dataAdapter.getMeasureValuesGroupDataByIdx();var k=new b();for(var g=0;g<l.length;g++){var j=l[g];k.addAnalysisAxis({index:j.index,values:j.values})}for(g=0;g<h.length;g++){var f=h[g];k.addMeasureValuesGroup({index:f.index,values:d.makeMeasureValues(null,f,m,2,false)})}return k};return c});sap.riv.module({qname:"sap.viz.modules.xycontainer",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.modules.layout",version:"4.0.1"},{qname:"sap.viz.manifest",version:"4.0.1"},{qname:"sap.viz.util.ignite",version:"4.0.1"},{qname:"sap.viz.data.handler.SingleChartDataHandler",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(a,g,e,d,k,h,b,f,j){var c=function(o,F){var E=0,D=0,v={},M={},J={},I={},r={},G,z=null,l={class_prefix:{module:"v-m-"}};var C=new f("initialized","showTooltip","hideTooltip"),B=0;var w=o.props(null);var L=0;var s=function(S,P){var O={},R,N,Q;if(P){if(S){R=S.propertyCategory;N=v;Q={};Q[R]=S.properties;g.extend(true,O,Q,N)}else{O=v}}else{if(S){R=S.propertyCategory;N=v[R];Q=S.properties;g.extend(true,O,Q,N)}}return O};var x=function(S,P){var N=J.modules;var O,R,Q;if(N[S]&&I[S]){R=N[S].configure;if(P){O=v}else{if(R){Q=R.propertyCategory;O=g.extend(true,{},v[Q])}else{O={}}}I[S].properties(O)}};function m(){if(a.isEmptyObject(J)){e.error("Container configuration missing")}B=0;n("xAxis");n("yAxis");n("xAxis2");n("yAxis2");n("background");var W=J.modules.plot;if(!W){return}var Q=I.plot=h(W.id,F,l.class_prefix.module+"plot");var T=new b(M);Q.data(T.getDataAdapter());var P=J.modules.dataSampling;if(P){var N=I.datasampling=h(P.id,F);if(P.configure){var V=s(P.configure);N.properties(V)}N.data(W.id,T.getDataAdapter())}var R;if(W.configure){R=s(W.configure);Q.properties(R)}if(Q.dispatch){var O=Q.dispatch();if(O.initialized){B++;O.on("initialized.xycontainer",q)}if(O.showTooltip){O.on("showTooltip.xycontainer",p)}if(O.hideTooltip){O.on("hideTooltip.xycontainer",t)}}var S=J.modules.dataLabel;if(a.isExist(S)&&a.isExist(Q.dataLabel)){var U=I.dataLabel=h(S.id,F);Q.dataLabel(U);U.plot(Q);if(S.configure){R=s(S.configure);U.properties(R)}}if(I.xAxis&&!r.xAxis){r.xAxis=z.append("g").attr("class",l.class_prefix.module+"xAxis")}if(I.xAxis2&&!r.xAxis2){r.xAxis2=z.append("g").attr("class",l.class_prefix.module+"xAxis2")}if(I.yAxis&&!r.yAxis){r.yAxis=z.append("g").attr("class",l.class_prefix.module+"yAxis")}if(I.yAxis2&&!r.yAxis2){r.yAxis2=z.append("g").attr("class",l.class_prefix.module+"yAxis2")}if(I.plot&&!r.plot){r.plot=z.append("g").attr("class",l.class_prefix.module+"plot")}if(I.background&&!r.background){r.background=z.insert("g",":first-child").attr("class",l.class_prefix.module+"background")}}function H(P){if(I[P]){var O=J.modules[P];var N=O.data;if(N){I[P].data(M.createDataAdapterForModule(N))}}}function n(Q){if(!J.modules[Q]){return}var P=J.modules[Q],O=I[Q]=h(P.id,F,"v-m-"+Q);H(Q);var N=s(P.configure);O.properties(N);if(O.dispatch&&O.dispatch()["initialized"]){B++;O.dispatch().on("initialized.xycontainer",q)}}function u(){if(a.isEmptyObject(I)||!E||!D){return}E=E<0?0:E;D=D<0?0:D;var R={};if(I.xAxis){I.xAxis.drawable(true);R.south={size:I.xAxis.getPreferredSize()}}if(I.yAxis){I.yAxis.drawable(true);R.west={size:I.yAxis.getPreferredSize()}}if(I.xAxis2){I.xAxis2.drawable(true);R.north={size:I.xAxis2.getPreferredSize()}}if(I.yAxis2){I.yAxis2.drawable(true);R.east={size:I.yAxis2.getPreferredSize()}}if(I.plot){R.center={}}var V=d({type:"border",bias:"none",size:{width:E,height:D},prefs:R});var ac=0,X=rightPaddingxAxis2=0;if(!V.east){if(I.xAxis&&V.south){X=I.xAxis.endPadding()}if(I.xAxis2&&V.north){rightPaddingxAxis2=I.xAxis2.endPadding()}ac=X>rightPaddingxAxis2?X:rightPaddingxAxis2}var Z=0;var T=0;if(!V.north){var aa=0;var O=0;if(I.yAxis&&V.west){aa=I.yAxis.endPadding()}if(I.yAxis2&&V.east){O=I.yAxis2.endPadding()}Z=O;if(aa>O){Z=aa}T+=Z}if(T){if(V.east){V.east.bounds.y+=T}if(V.north){V.north.bounds.y+=T}if(V.west){V.west.bounds.y+=T}if(V.center){V.center.bounds.y+=T}}if(V.east){var U=0,ab=0;if(V.south){U=V.east.bounds.height-V.south.bounds.height}if(V.north){U=V.east.bounds.height-V.north.bounds.height}ab=V.east.bounds.y;r.yAxis2.attr("transform","translate("+V.east.bounds.x+","+ab+")");I.yAxis2.width(V.east.bounds.width).height(U);I.yAxis2.gridlineLength(V.center.bounds.width)}else{if(I.yAxis2){I.yAxis2.drawable(false)}}if(V.north){var N=0,ad=0;if(V.west){ad=V.north.bounds.x+V.west.bounds.width}r.xAxis2.attr("transform","translate("+ad+","+V.north.bounds.y+")");I.xAxis2.width(ad).height(V.north.bounds.height);I.xAxis2.gridlineLength(V.center.bounds.height)}else{if(I.xAxis2){I.xAxis2.drawable(false)}}if(V.west){var ae=0,Q=0;if(V.south){ae=V.west.bounds.height-V.south.bounds.height}if(V.north){ae=V.west.bounds.height-V.north.bounds.height}Q=V.west.bounds.y;r.yAxis.attr("transform","translate("+V.west.bounds.x+","+Q+")");I.yAxis.width(V.west.bounds.width).height(ae);I.yAxis.gridlineLength(V.center.bounds.width)}else{if(I.yAxis){I.yAxis.drawable(false)}}if(V.south){var W=0,P=0;if(V.west){P=V.south.bounds.x+V.west.bounds.width}r.xAxis.attr("transform","translate("+P+","+V.south.bounds.y+")");I.xAxis.width(V.south.bounds.width).height(V.south.bounds.height);I.xAxis.gridlineLength(V.center.bounds.height)}else{if(I.xAxis){I.xAxis.drawable(false)}}if(V.center){r.plot.attr("transform","translate("+V.center.bounds.x+","+V.center.bounds.y+")");var S=V.center.bounds.width-ac;var Y=V.center.bounds.height-Z;I.plot.width(S>0?S:0).height(Y>0?Y:0);G=E-S;if(r.background){r.background.attr("transform","translate("+V.center.bounds.x+","+V.center.bounds.y+")");I.background.width(S>0?S:0).height(Y>0?Y:0)}}if(V.west){I.yAxis.gridlineLength(V.center.bounds.width-ac)}if(V.south){I.xAxis.gridlineLength(V.center.bounds.height-Z)}}function A(N){N.each(function(O){L=0;j.drawBound(N,E,D);z=N;if(a.isEmptyObject(I)){m()}K()})}A.width=function(N){if(!arguments.length){return E}E=N;u();return A};A.height=function(N){if(!arguments.length){return D}D=N;u();return A};A.size=function(N){if(!arguments.length){return{width:E,height:D}}D=N.height;E=N.width;u();return A};A.data=function(O){if(!arguments.length){return M}M=O;if(!$.isEmptyObject(I)&&!$.isEmptyObject(v)){var N=new b(M);I.plot.data(N.getDataAdapter());H("xAxis");H("yAxis");H("xAxis2");H("yAxis2")}return A};A.properties=function(N){if(!arguments.length){return w}v=N;if(!$.isEmptyObject(I)&&!$.isEmptyObject(M)){x("xAxis");x("xAxis2");x("yAxis");x("yAxis2");x("plot");x("dataLabel");x("background")}return A};A.config=function(N){if(!arguments.length){return J}J=N;if(a.isEmptyObject(I)&&!$.isEmptyObject(M)&&!$.isEmptyObject(v)&&z!==null){m()}return A};A.modules=function(N){if(!arguments.length){if(a.isEmptyObject(I)){m()}return I}I=N;return A};A.parent=function(N){if(!arguments.length){return z}z=N;return A};A.dispatch=function(N){if(!arguments.length){return C}C=N;return A};A.infoForSizeLegend=function(){return{space:G,number:1,plotHeight:I.plot.height()}};A.rotate=function(N){var O=I.plot;if(!arguments.length){return O.rotate()}O.rotate(N);return A};function K(){for(var N in r){if(r.hasOwnProperty(N)){r[N].datum(I[N].data()).call(I[N])}}if(a.isExist(I.dataLabel)){I.dataLabel()}}function q(){if(B==++L){L=0;C.initialized()}}function p(N){C.showTooltip(N)}function t(N){C.hideTooltip(N)}return A};return c});sap.riv.module({qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.xycontainer",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.xycontainer",type:b.Module.Type.Container,name:"single container",properties:null,css:null,configure:null,events:{showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.util.BackgroundUtil",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.util.ignite",version:"4.0.1"},{qname:"sap.viz.modules.background",version:"4.0.1"}],function Setup(d,b){var c="v-backgroundutil";var a={drawBackground:function(h,g,f){var e=d3.selectAll(h.node().childNodes).filter("."+c);if(e.empty()){e=h.insert("svg:g",":first-child").attr("class",c)}if(!g){g=b("sap.viz.modules.background",f.parentCtx,c)}g.width(f.width).height(f.height).properties(f.properties);e.call(g);return g}};return a});sap.riv.module({qname:"sap.viz.util.EffectManager",version:"4.0.1"},[],function Setup(){function g(m,l){this._defs=m;this._enableGhostEffect=l}function b(m,l,n,p){var o={r:m,g:l,b:n,a:p,toHex:function(){return d3.rgb(o.r,o.g,o.b).toString()},toString:function(){if(o.a<1){return"rgba("+o.r+","+o.g+","+o.b+","+o.a+")"}else{return o.toHex()}},};return o}function d(m){var o=d3.rgb(0,0,0),r=1;if(m!==undefined&&typeof(m)==="object"){if(m.rgb){o=m.rgb()}else{o=m}}else{if(typeof(m)==="string"){m=m.toLowerCase();if(m.indexOf("rgba")>=0){var t=m.substring(m.indexOf("(")+1);var p=t.lastIndexOf(","),n=t.indexOf(")");if(p>=0&&n>=0){var l="rgb("+t.substring(0,p)+")";var s=parseFloat(t.substring(p+1,n));o=d3.rgb(l);r=s}}else{if(m.indexOf("hsla")>=0){var t=m.substring(m.indexOf("(")+1);var p=t.lastIndexOf(","),n=t.indexOf(")");if(p>=0&&n>=0){var q="hsl("+t.substring(0,p)+")";var s=parseFloat(t.substring(p+1,n));o=d3.hsl(q).rgb();r=s}}else{if(m.indexOf("hsl")>=0){o=d3.hsl(m).rgb()}else{o=d3.rgb(m)}}}}}return b(o.r,o.g,o.b,r)}function a(p){var n=p.r,m=p.g,l=p.b,o;if((n===m)&&(m===l)){o=Math.round(n+(255-n)*0.6)}else{o=Math.round((n*299+m*587+l*114+500)/1000)}return b(o,o,o,p.a)}function k(t,s){var q=t.r,p=t.g,m=t.b,o,n,l;if(s>=0){o=Math.round(q+(255-q)*s/100);n=Math.round(p+(255-p)*s/100);l=Math.round(m+(255-m)*s/100)}else{o=Math.round(q*(100+s)/100);n=Math.round(p*(100+s)/100);l=Math.round(m*(100+s)/100)}return b(o,n,l,t.a)}function f(q,l,r,p){var o=r.toHex();var n=k(r,50).toHex();var m=k(r,-30).toHex();var t=q.append("radialGradient");var s=t[0][0];s.setAttribute("id",l);s.setAttribute("cx",0);s.setAttribute("cy",0);s.setAttribute("r",p);s.setAttribute("fx",0);s.setAttribute("fy",0);s.setAttribute("gradientUnits","userSpaceOnUse");t.append("stop").attr("stop-opacity",r.a).attr("offset",0).attr("stop-color",n);t.append("stop").attr("stop-opacity",r.a).attr("offset",0.9).attr("stop-color",o);t.append("stop").attr("stop-opacity",r.a).attr("offset",1).attr("stop-color",m)}function c(s,r,q){var p=q.toHex();var o=k(q,10).toHex();var m=k(q,80).toHex();var n=s.append("radialGradient");var l=n[0][0];l.setAttribute("id",r);l.setAttribute("cx","50%");l.setAttribute("cy","50%");l.setAttribute("r","50%");l.setAttribute("fx","50%");l.setAttribute("fy","20%");n.append("stop").attr("stop-opacity",q.a).attr("offset",0).attr("stop-color",m);n.append("stop").attr("stop-opacity",q.a).attr("offset",0.7).attr("stop-color",o);n.append("stop").attr("stop-opacity",q.a).attr("offset",0.9).attr("stop-color",p);n.append("stop").attr("stop-opacity",q.a).attr("offset",1).attr("stop-color",p)}function j(q,l,r,t){var p=k(r,30).toHex();var o=k(r,50).toHex();var n=k(r,-10).toHex();var m=k(r,10).toHex();var s=q.append("svg:linearGradient").attr("id",l).attr("x1","0%").attr("y1","0%");if(t==="horizontal"){s.attr("y2","0%").attr("x2","100%")}else{s.attr("y2","100%").attr("x2","0%")}s.append("stop").attr("stop-opacity",r.a).attr("offset",0).attr("stop-color",p);s.append("stop").attr("stop-opacity",r.a).attr("offset",0.2).attr("stop-color",o);s.append("stop").attr("stop-opacity",r.a).attr("offset",0.8).attr("stop-color",n);s.append("stop").attr("stop-opacity",r.a).attr("offset",1).attr("stop-color",m)}function h(p,o,n,m){var l=p.append("svg:linearGradient").attr("id",o);if(m==="horizontal"){l.attr("x1","100%").attr("y1","0%").attr("x2","0%").attr("y2","0%")}else{l.attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%")}l.append("stop").attr("stop-opacity",n.a).attr("offset",0).attr("stop-color","#ffffff");l.append("stop").attr("stop-opacity",n.a).attr("offset",1).attr("stop-color",n.toHex())}function e(n,l){var o;if(n.drawingEffect==="glossy"){var m=l.toHex().slice(1)+l.a.toString().replace(".","");switch(n.graphType){case"sector":o=n.drawingEffect+n.graphType+m+Math.round(n.radius);break;case"circle":o=n.drawingEffect+n.graphType+m;break;case"triangle-up":case"triangle-down":o=n.drawingEffect+"triangle"+m+"vertical";break;case"triangle-left":case"triangle-right":o=n.drawingEffect+"triangle"+m+"horizontal";break;case"rectangle":case"diamond":case"cross":case"star":case"intersection":case"background":o=n.drawingEffect+"rectangle"+m+n.direction;break;default:o=n.drawingEffect+"rectangle"+m+n.direction;break;case"line":o=null;break}}return o}g.prototype.register=function(n){var o=n.fillColor;if((typeof(o)==="string")&&(o.toLowerCase()==="transparent")){return o}var l=d(o);if(this._enableGhostEffect){l=a(l)}var p=e(n,l);if(!p){return l.toString()}var m=this._defs.select("#"+p);if(m.empty()){if(n.drawingEffect==="glossy"){switch(n.graphType){case"background":h(this._defs,p,l,n.direction);break;case"sector":f(this._defs,p,l,n.radius);break;case"circle":c(this._defs,p,l,n.direction);break;case"triangle-up":case"triangle-down":j(this._defs,p,l,"vertical");break;case"triangle-left":case"triangle-right":j(this._defs,p,l,"horizontal");break;case"rectangle":case"diamond":case"cross":case"star":case"intersection":j(this._defs,p,l,n.direction);break;default:j(this._defs,p,l,n.direction);break}}else{return l.toString()}}return"url(#"+p+")"};g.prototype.container=function(l){if(!arguments.length){return this._defs}this._defs=l};g.prototype.ghostEffect=function(l){if(!arguments.length){return this._enableGhostEffect}this._enableGhostEffect=l};return g});sap.riv.module({qname:"sap.viz.modules.rootContainer",version:"4.0.1"},[{qname:"sap.viz.modules.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.util.ignite",version:"4.0.1"},{qname:"sap.viz.util.EffectManager",version:"4.0.1"},{qname:"sap.viz.util.append",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.layout",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.modules.util.BackgroundUtil",version:"4.0.1"}],function Setup(d,a,e,g,b,k,h,j,c){var f=function(v,n){var D=0,C=0,J={},t={},H={},u=null,z=null,G={},q={},I=k("initialized","ready"),s=0,r=0,x=null,l={class_prefix:"v-m-",},m=new g();n.effectManager=m;function o(){$.each(H.modules,function(L,M){if(M===null){return}if(a.get(M.id).type===d.Type.Controller){G[L]().module(G[M.configure.clientID])}})}var K=[o];var E=function(N){var P=N.dataset,M=N.props,L=N.conf,O={};$.each(L.modules,function(Q,U){if(U===null){return}var V=e(U.id,n,l.class_prefix+Q),T=U.data?P.createDataAdapterForModule(U.data):P,S={},R=a.get(U.id).type;O[Q]=Q==="tooltip"?V(z):V;if(O[Q].data){O[Q].data(T)}if(R!==d.Type.Controller&&Q!=="tooltip"){q[Q]=b.apply(u,["g",{"class":l.class_prefix+Q}])}if(a.get(U.id).type===d.Type.Container){if(U.configure){S[U.configure.propertyCategory]=U.configure.properties}if(U.modules.dataSampling&&M.dataSampling){j.extend(true,U.modules.dataSampling.configure.properties,M.dataSampling)}O[Q].parent(q[Q]).config(U).properties(j.extend(true,{},S,M));if(O[Q].dispatch&&O[Q].dispatch()["initialized"]){O[Q].dispatch().on("initialized.rootContainer",p)}s++}else{O[Q].properties(j.extend(true,{},U.configure?U.configure.properties:{},U.configure?M[U.configure.propertyCategory]:{}));if(O[Q].parent){O[Q].parent(q[Q])}}});$.each(L.modules,function(Q,R){if(R===null){return}if(a.get(R.id).type===d.Type.Controller){O[Q]().module(O[R.configure.clientID])}});return O};function w(M,L){var N=M;if(L<N*10){N=L/10}return N}var F=function(O){var N=8,W=[0,0,0,0],M=t.general?t.general.layout:null;if(M===null){M=v.props("layout").layout}if(M.padding){if(typeof M.padding!=="number"){W=M.padding}else{var ac=w(M.padding,Math.min(D,C));for(var Z=0;Z<W.length;Z++){W[Z]=ac}}}else{if(M["padding-left"]){W[3]=w(M["padding-left"],D)}if(M["padding-right"]){W[1]=w(M["padding-right"],D)}if(M["padding-top"]){W[0]=w(M["padding-top"],C)}if(M["padding-bottom"]){W[2]=w(M["padding-bottom"],C)}}var U={};if(G.title){U.north={size:G.title.getPreferredSize()}}var Q={width:0,height:0,minWidth:0,maxSizeConstant:1},R={width:0,height:0,titleSize:{width:0,height:0}},L={width:0,height:0,titleSize:{width:0,height:0}};if(G.legend){L=G.legend.getPreferredSize({width:D,height:C});Q.width=Math.max(Q.width,L.width);Q.height=Math.max(Q.height,L.height);Q.minWidth=Math.max(Q.minWidth,L.minWidth);Q.minHeight=L.minHeight;Q.maxSizeConstant=Math.min(Q.maxSizeConstant,L.maxSizeConstant)}U.east={size:Q};if(G.main){U.center={}}function Y(){return h({type:"border",hgap:8,vgap:N,bias:"north",size:{width:D,height:C},padding:W,prefs:U})}var T=Y();if(O&&G.sizeLegend&&G.sizeLegend.isVisible()){if(T.center){G.main.width(T.center.bounds.width-T.center.bounds.x).height(T.center.bounds.height-T.center.bounds.y);R=G.sizeLegend.getPreferredSize({width:D,height:C},N+2*W[0],G.main.infoForSizeLegend());var X=Math.max(R.width,L.width);Q.width=X<D*1/3?X:D*1/3;Q.height=R.height;Q.minWidth=R.minWidth;Q.minHeight=R.minHeight;T=Y()}}if(T.north){u.select(".v-m-title").attr("visibility","visible").attr("transform","translate("+T.north.bounds.x+", "+T.north.bounds.y+")");G.title.width(T.north.bounds.width).height(T.north.bounds.height)}else{u.select(".v-m-title").attr("visibility","hidden")}if(T.east){var S=T.east.bounds.height;var ab=T.east.bounds.y;var P=0;var aa=true;if(R.height+8+L.height>T.east.bounds.height){aa=R.titleSize.height<R.height*1/3&&R.titleSize.height<T.east.bounds.height*1/3}if(G.sizeLegend){G.sizeLegend.hide(false);u.select(".v-m-sizeLegend").attr("transform","translate("+T.east.bounds.x+", "+ab+")");P=R.height;if(!aa){G.sizeLegend.hideTitle();P-=R.titleSize.height}G.sizeLegend.width(T.east.bounds.width).height(P);ab=ab+P+8}var V=true;if((P>0?P+8:0)+L.height>T.east.bounds.height){V=L.titleSize.height<(S-R.height)*0.3}if(G.legend){G.legend.hide(false);u.select(".v-m-legend").attr("transform","translate("+T.east.bounds.x+", "+ab+")");if(!V){G.legend.hideTitle()}G.legend.width(T.east.bounds.width).height(S-R.height)}}else{if(G.legend){G.legend.hide(true)}if(G.sizeLegend){G.sizeLegend.hide(true)}}if(T.center){u.select(".v-m-main").attr("transform","translate("+T.center.bounds.x+", "+T.center.bounds.y+")");G.main.width(T.center.bounds.width-T.center.bounds.x,typeof O==="undefined"?true:undefined).height(T.center.bounds.height-T.center.bounds.y,typeof O==="undefined"?true:undefined);if(G.tooltip){G.tooltip.plotArea(T.center.bounds).zone({width:D,height:C})}}};function B(){var L={width:D,height:C,properties:{border:{left:{visible:false},right:{visible:false},top:{visible:false},bottom:{visible:false}}},parentCtx:n};x=c.drawBackground(u,x,L)}function A(L){L.each(function(M){r=0;u=d3.select(this);B();for(var N in G){if(G.hasOwnProperty(N)&&a.get(H.modules[N].id).type!==d.Type.Controller&&N!=="tooltip"){q[N].call(G[N])}}})}A.width=function(L){if(!arguments.length){return D}D=_;if(!$.isEmptyObject(G)&&C){F()}return A};A.height=function(L){if(!arguments.length){return C}C=_;if(!$.isEmptyObject(G)&&D){F()}return A};A.size=function(L){if(!arguments.length){return{width:D,height:C}}D=L.width;C=L.height;var M=arguments[1];F(M);return A};A.config=function(L){if(!arguments.length){return H}H=L;if(!$.isEmptyObject(t)&&!$.isEmptyObject(J)){E({dataset:J,conf:H,props:t})}return A};A.data=function(L){if(!arguments.length){return J}J=L;if(m){m.ghostEffect(J.fakeData())}if($.isEmptyObject(G)&&!$.isEmptyObject(t)&&!$.isEmptyObject(H)){E({dataset:J,conf:H,props:t})}for(var M in G){if(G.hasOwnProperty(M)){if(H.modules[M].data){G[M].data(J.createDataAdapterForModule(H.modules[M].data))}else{if(G[M].data){G[M].data(J)}}}}return A};A.properties=function(L){if(!arguments.length){return t}t=L;for(var M in G){if(G.hasOwnProperty(M)){if(H.modules[M].modules){G[M].properties(L)}else{G[M].properties(L[H.modules[M].configure.propertyCategory])}}}return A};A.dispatch=function(L){if(!arguments.length){return I}I=L;return A};A.refresh=function(){for(var L=0;L<K.length;L++){K[L]()}return A};A.parent=function(L){if(!arguments.length){return u}u=L;if(m){m.container(u.append("svg:defs"))}return A};A.container=function(L){if(!arguments.length){return z}z=L;return A};A.modules=function(L){if(!arguments.length){if($.isEmptyObject(G)){return G=E({dataset:J,props:t,conf:H})}return G}G=L;return A};function p(){if(++r===s){r=0;I.initialized();I.ready()}}return A};return f});sap.riv.module({qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.rootContainer",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.rootContainer",type:b.Module.Type.Container,name:"rootContainer",description:"Represents the chart scoped properties.",properties:{layout:{name:"layout",description:"Layout properties",supportedValueType:"Object",supportedValues:{padding:{name:"padding",supportedValueType:"PositiveInt or Array",defaultValue:20,description:"Universal padding value settings. The single value will be applied to all laterals of the chart area. If array is provided, the sequence of the value assignment follows top-right-bottom-left, which is a preferred way of padding settings. Explicit settings for all sides are supported."},"padding-top":{name:"padding-top",supportedValueType:"PositiveInt",defaultValue:0,description:"Padding value for the top side"},"padding-left":{name:"padding-left",supportedValueType:"PositiveInt",defaultValue:0,description:"Padding value for the left side"},"padding-right":{name:"padding-right",supportedValueType:"PositiveInt",defaultValue:0,description:"Padding value for the right side"},"padding-bottom":{name:"padding-bottom",supportedValueType:"PositiveInt",defaultValue:0,description:"Padding value for the bottom side"}}}},events:{selectData:b.Module.Event.SelectData.desc,deselectData:b.Module.Event.DeSelectData.desc,showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.datalabel",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.format.FormatManager",version:"4.0.1"},{qname:"sap.viz.manifest",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"}],function Setup(d,a,f,e,c){var b=function(q,B){var s="12px",K="#333333",j='"Open Sans" Arial, Helvetica, sans-serif',L="normal";var g=q.props(null);var l,p,N;var O,Q;var h;var ab;var k="horizontal",D,t,E,P,x,o,n,r,U,w,u,ac,J,ad;var C=false;var X="#ffffff",v=false,G=false,W=2,V=false,S="#ffffff";function T(){}T.removeLabel=function(){if(a.isExist(O.parent())){O.parent().selectAll("g.v-datalabel").remove()}};T.showLabel=function(){if(E&&O.parent()){m();O.parent().selectAll("g.v-datalabel").remove();if(!J){Q=O.parent().select(".v-bound")[0][0].getBoundingClientRect()}else{Q=O.parent().node().getBoundingClientRect()}z();if(l.length===0){return}if(v){K=X}else{if(V){K=S}}h="fill:"+K+"; font-family: "+j+"; font-weight: "+L+"; font-size: "+s+"; text-anchor:start";var ae=O.parent().selectAll(".v-datashapesgroup");ae.each(function(ah,ag){var af=d3.select(this).selectAll("g.v-datalabel").data([p[ag]]);af.enter().append("g").attr("class","v-datalabel");B.styleManager.queryDefault("v-datalabel").toAttrs(af);if(v){af.attr("fill",X)}else{if(V){af.attr("fill",S)}}af.each(function(al,ai){var ak=d3.select(this).selectAll("text").data(al);var aj=ak.enter().append("g").attr("transform",function(am){return am.transformString});aj.each(function(ao,an){var am=O.parent().selectAll(".v-datapoint").data()[an];if(a.isExist(am.decoras)){am.decoras.push(this)}});aj=aj.append("text");aj.text(function(am){return am.value});aj.attr("visibility","hidden");aj.attr("x",function(am){return am.x}).attr("y",function(am){return am.y});if(k==="vertical"){aj.attr("transform",function(am){return"rotate(270 "+am.centerX+","+am.centerY+")"})}})});F()}};function F(){var ah=O.parent().selectAll(".v-datalabel text")[0];var aj=[],af,ai={};var ag;for(ag=0;ag<ah.length;ag++){af={};var ae=ah[ag].getBoundingClientRect();af.top=ae.top;af.left=ae.left;af.right=ae.right;af.bottom=ae.bottom;af.visible=true;af.needMove=false;af.x=0;af.y=0;aj.push(af)}ai.top=Q.top;ai.left=Q.left;ai.right=Q.right;ai.bottom=Q.bottom;H(N,aj,ai);A(aj,ai);for(ag=0;ag<aj.length;ag++){if(aj[ag].visible){if(aj[ag].needMove){ah[ag].setAttribute("x",aj[ag].x);ah[ag].setAttribute("y",aj[ag].y)}ah[ag].setAttribute("visibility","visible")}else{ah[ag].parentNode.parentNode.removeChild(ah[ag].parentNode)}}}function m(){var ae=B.styleManager.query("v-datalabel");if(ae){if(ae.fill){K=ae.fill}if(ae["font-family"]){j=ae["font-family"]}if(ae["font-size"]){s=ae["font-size"]}if(ae["font-weight"]){L=ae["font-weight"]}}}function Z(aj,af){if(a.isExist(o)){var ai,ah,ae,ag;if(a.isArray(af.__data__.val)){ag=J?0:1;ah=o[0];ae=af.__data__.ctx[ag].path.mg>=ah.length?ah.length-1:af.__data__.ctx[ag].path.mg;ai=f.format(aj,ah[ae])}else{ah=o[af.__data__.ctx.path.mg];if(a.isExist(ah)){ae=af.__data__.ctx.path.mi>=ah.length?ah.length-1:af.__data__.ctx.path.mi;ai=f.format(aj,ah[ae])}else{ai=aj}}return ai}return aj}var H=function(ao,am,ag){if(ao!==null&&am!==null){for(var an=0;an<ao.length;an++){if(an<am.length){if(!r&&!n&&x&&D==="horizontal"){if(U&&ao[an].value===0){var al=ao[an].datapointRect;am[an].needMove=true;am[an].x=ao[an].outsideX;am[an].y=ao[an].outsideY;am[an].left=al.right;am[an].right=al.right+ao[an].width}else{if(P==="inside"){if(ao[an].width>ao[an].ownerWidth||R(am[an],ag)){am[an].needMove=true;am[an].x=ao[an].outsideX;am[an].y=ao[an].outsideY;var aj=ao[an].datapointRect;if(ao[an].value>0){am[an].left=aj.left+ao[an].ownerWidth;am[an].right=aj.right+ao[an].width}else{am[an].left=aj.left-ao[an].width;am[an].right=aj.right-ao[an].ownerWidth}}if(R(am[an],ag)){am[an].visible=false}}else{if(P==="outside"){if(R(am[an],ag)){if(ao[an].width<=ao[an].ownerWidth){am[an].needMove=true;am[an].x=ao[an].insideX;am[an].y=ao[an].insideY;var ai=ao[an].datapointRect;if(ao[an].value>0){am[an].left=ai.left+(ao[an].ownerWidth-ao[an].width)/2;am[an].right=ai.right-(ao[an].ownerWidth-ao[an].width)/2}else{am[an].left=ai.left+(ao[an].ownerWidth-ao[an].width)/2;am[an].right=ai.right-(ao[an].ownerWidth-ao[an].width)/2}if(R(am[an],ag)){am[an].visible=false}}else{am[an].visible=false}}}}}}else{if(!r&&!n&&x&&D==="vertical"){if(U&&ao[an].value===0){am[an].needMove=true;am[an].x=ao[an].outsideX;am[an].y=ao[an].outsideY;var ak=ao[an].datapointRect;am[an].top=ak.top+ao[an].height;am[an].bottom=ak.top}else{if(P==="inside"){if(ao[an].height>ao[an].ownerHeight||R(am[an],ag)){am[an].needMove=true;am[an].x=ao[an].outsideX;am[an].y=ao[an].outsideY;var af=ao[an].datapointRect;if(ao[an].value>=0){am[an].top=af.top-ao[an].height;am[an].bottom=af.bottom-ao[an].ownerHeight}else{am[an].top=af.top+ao[an].ownerHeight;am[an].bottom=af.bottom+ao[an].height}}if(R(am[an],ag)){am[an].visible=false}}else{if(P==="outside"){if(R(am[an],ag)){if(ao[an].height<=ao[an].ownerHeight){am[an].needMove=true;am[an].x=ao[an].insideX;am[an].y=ao[an].insideY;var ap=ao[an].datapointRect;if(ao[an].value>0){am[an].top=ap.top+(ao[an].ownerHeight-ao[an].height)/2;am[an].bottom=ap.bottom-(ao[an].ownerHeight-ao[an].height)/2}else{am[an].top=ap.top+(ao[an].ownerHeight-ao[an].height)/2;am[an].bottom=ap.bottom-(ao[an].ownerHeight-ao[an].height)/2}if(R(am[an],ag)){am[an].visible=false}}else{am[an].visible=false}}}}}}else{if(!r&&!n&&!x){if(D==="horizontal"){if(U&&ao[an].value===0&&!J&&ao[an].width===0){var ah=ao[an].datapointRect;am[an].left=ah.right;am[an].right=ah.right+ao[an].width}else{if(!w&&ao[an].width>ao[an].ownerWidth){am[an].visible=false}}}else{if(D==="vertical"){if(U&&ao[an].value===0&&!J&&ao[an].height===0){var ae=ao[an].datapointRect;am[an].top=ae.top+ao[an].height;am[an].bottom=ae.top}else{if(!w){if(v||V){if(G||V){if(ao[an].height>ao[an].ownerHeight/2){am[an].visible=false}}else{if(ao[an].height>ao[an].ownerHeight){am[an].visible=false}}if(ao[an].width>ao[an].ownerWidth){am[an].visible=false}}else{if(ao[an].height>ao[an].ownerHeight){am[an].visible=false}}}}}}if(U&&ao[an].value===0&&P==="inside"&&!J){am[an].needMove=true;am[an].x=ao[an].outsideX;am[an].y=ao[an].outsideY}else{if(!U&&ao[an].value===0){am[an].visible=false}}if(R(am[an],ag)){am[an].visible=false}}else{if(r){if(D==="horizontal"){if(R(am[an],ag)||(ao[an].width>ao[an].ownerWidth)){am[an].visible=false}}else{if(D==="vertical"){if(R(am[an],ag)||(ao[an].height>ao[an].ownerHeight)){am[an].visible=false}}}if(!n&&ao[an].value===0){am[an].visible=false}}else{if(n){if(R(am[an],ag)){am[an].visible=false}}}}}}}}aa()}};var aa=function(){v=false;G=false;V=false};var M=function(ae){D=a.isExist(ae.orientation)?ae.orientation:D;t=a.isExist(ae.paintingMode)?ae.paintingMode:t;E=a.isExist(ae.visible)?ae.visible:E;P=a.isExist(ae.position)?ae.position:P;x=a.isExist(ae.automaticInOutside)?ae.automaticInOutside:x;o=a.isExist(ae.formatString)?ae.formatString:o;n=a.isExist(ae.isPercentMode)?ae.isPercentMode:n;r=a.isExist(ae.isStackMode)?ae.isStackMode:r;C=a.isExist(ae.isDonut)?ae.isDonut:C;U=a.isExist(ae.showZero)?ae.showZero:U;w=a.isExist(ae.outsideVisible)?ae.outsideVisible:w;u=a.isExist(ae.outsidePosition)?ae.outsidePosition:u;J=a.isExist(ae.isGeoChart)?ae.isGeoChart:J;ac=a.isExist(ae.positionPreference)?ae.positionPreference:ac;ad=a.isExist(ae.type)?ae.type:ad};var I=function(ag){var af;if(ag.info){var ae=ag.info.customlabel;if(ae){if(ae.type==="url"){af=ag.val}else{if(ae.type==="string"){af=ae.val}}}else{af=ag.val}}else{af=ag.val}return af};var z=function(){ab=O.parent()[0][0].ownerSVGElement;l=[],p=[],N=[];if(ab!==null&&ab.getBBox().width===0){return}var aU=0,aT=0,aP,ay,af;var aS,ax,ak;var aF=O.parent().selectAll(".v-datashapesgroup");if(aF[0].length===0){aF=O.parent()}var aA=aF.selectAll(".v-datapoint");if(t==="polarCoordinate"){for(aU=0;aU<aF[0].length;aU++){var aH=aF[0][aU].getBBox();if(aH.width===0||aH.height===0){break}ay=aF[0][aU].getTransformToElement(ab);l=[];for(aT=0;aT<aA[aU].length;aT++){aP={};af=aA[aU][aT];aS=af.getTransformToElement(ab);if(!a.isExist(aS)){break}aP.dataShape=af;var aK="";ak=(af.__data__.endAngle-af.__data__.startAngle)/(2*Math.PI);ak=Z(ak,af);if(ad==="label and value"){var aB=af.__data__.dimValueObjects;for(var aR=0;aR<aB.length;aR++){aK+=I(aB[aR]);if(aR!==(aB.length-1)){aK+="/"}}}aP.value=aK+" ("+ak+")";aP.transformString=("translate("+(aS.e-ay.e)+","+(aS.f-ay.f)+")");ax=d.fastMeasure(aP.value,s,L,j);var aO=af.__data__.r;var at=(af.__data__.endAngle+af.__data__.startAngle)/2;var ai=Math.sin(at);var am=Math.cos(at);var aq,ao;if(C){aq=0.65*aO*ai;ao=0.65*aO*am}else{aq=0.5*aO*ai;ao=0.5*aO*am}aP.x=0+aq*aS.a-ax.width/2;aP.y=0-ao*aS.d+ax.height/2;aP.centerX=aq;aP.centerY=ao;aP.datapointRect=af.getBoundingClientRect();l.push(aP);N.push(aP)}p.push(l)}}else{if(t==="rectCoordinate"){for(aU=0;aU<aF[0].length;aU++){var aj=aF[0][aU].getBBox();if(aj.width===0||aj.height===0){break}ay=aF[0][aU].getTransformToElement(ab);l=[];for(aT=0;aT<aA[aU].length;aT++){aP={};af=aA[aU][aT];aS=af.getTransformToElement(ab);if(!a.isExist(aS)){break}aP.dataShape=af;var au=af.getBBox();var al;if(a.isArray(af.__data__.val)){if(J){al=af.__data__.val[0]}else{al=af.__data__.y}}else{if(n&&ad==="value"){al=af.__data__.value}else{al=af.__data__.val}}if(ad!=="value"&&af.__data__.isNegative){al="-"+al}var aG=0,aD=0;if(af.__data__.isOnlyOneCategory!==undefined){v=true;if(af.__data__.isOnlyOneCategory){G=true;var an=O.parent().selectAll("text.v-heatmapdatalabel")[0][0];if(an){var aQ=an.getBBox();aG=aQ.width;aD=aQ.height}}}var ah=0,aL=0;if(af.__data__.isTreeMap!==undefined){V=true;var aV=O.parent().selectAll("text.v-treemapdatalabel")[0][0];if(aV){var az=aV.getBBox();ah=az.width;aL=az.height}}aP.value=Z(al,af);if(ad==="label and value"){aP.value=af.__data__.label+" ("+(aP.value===null?"No value":aP.value)+")"}var aJ=au.x*aS.a,aI=au.y*aS.d,ae=au.width*aS.a,ag=au.height*aS.d;aP.transformString=("translate("+(aS.e-ay.e)+","+(aS.f-ay.f)+")");var ar=0,ap=0,aE=0,aC=0,aN=0,aM=0,aw=0,aZ=0,av=0,aY=0;if(v||V){var aW=aP.value;if(a.isNumber(aW)){aW=aW.toString()}var aX=null;if(v){aX=X}else{if(V){aX=S}}aP.value=d.ellipsis(aW,null,ae-3,"fill:"+aX+";font-family:"+j+";font-size:"+s)}ax=d.fastMeasure(aP.value,s,L,j);if(D==="horizontal"){aP.centerX=aJ+ae/2;aP.centerY=aI+ag/2;if(ac&&P==="outside"){if(u==="right"){aP.centerX=aP.centerX+ae/2+ax.width/2}}else{if(P==="outside"){if(u==="left"||(!a.isExist(af.__data__.isNegative)&&al<0)){aP.centerX=aP.centerX-(ae/2+ax.width/2)}else{if(u==="right"){aP.centerX=aP.centerX+ae/2+ax.width/2}}}}ar=aJ+ae/2;ap=aI+ag/2;if(!(!a.isExist(af.__data__.isNegative)&&al<0)){aZ=aP.centerX+ae/2+ax.width/2;aY=aI+ag/2}else{aw=aP.centerX-(ae/2+ax.width/2);av=aI+ag/2}}else{aP.centerX=aJ+ae/2;aP.centerY=aI+ag/2;if(af.__data__.isNegative){u="down"}if(v&&G){aP.centerY+=ax.height/2}else{if(V){aP.centerY+=(aL/2+ax.height/2)}}if(ac&&P==="outside"){if(u==="up"){aP.centerY=aP.centerY-ag/2-ax.height/2}}else{if(P==="outside"){if(u==="down"||(!a.isExist(af.__data__.isNegative)&&al<0)){aP.centerY=aP.centerY+ag/2+ax.height/2}else{if(u==="up"){aP.centerY=aP.centerY-ag/2-ax.height/2}}}}ap=aI+ag/2;ar=aJ+ae/2;if(!(!a.isExist(af.__data__.isNegative)&&al<0)){aC=aP.centerY-ag/2-ax.height/2;aE=aJ+ae/2}else{aM=aP.centerY+ag/2+ax.height/2;aN=aJ+ae/2}}aP.x=aP.centerX-ax.width/2;aP.y=aP.centerY-ax.y/2;aP.width=ax.width;aP.height=ax.height;aP.ownerWidth=ae;aP.ownerHeight=ag;aP.datapointRect=af.getBoundingClientRect();aP.insideX=ar-ax.width/2;aP.insideY=ap-ax.y/2;if(D==="horizontal"){if(!(!a.isExist(af.__data__.isNegative)&&al<0)){aP.outsideX=aZ-ax.width/2;aP.outsideY=aY-ax.y/2}else{aP.outsideX=aw-ax.width/2;aP.outsideY=av-ax.y/2}}else{if(D==="vertical"){if(!(!a.isExist(af.__data__.isNegative)&&al<0)){aP.outsideX=aE-ax.width/2;aP.outsideY=aC-ax.y/2}else{aP.outsideX=aN-ax.width/2;aP.outsideY=aM-ax.y/2}}}l.push(aP);N.push(aP)}p.push(l)}}}};var Y=function(ag,aj){var an=ag.left,al=ag.top,ai=ag.right,ah=ag.bottom;var am=aj.left,ak=aj.top,af=aj.right,ae=aj.bottom;if(!((an>=af)||(al>=ae)||(ai<=am)||(ah<=ak))){return true}return false};var A=function(aj,ai){if(aj===null||ai===null){return}for(var ah=0;ah<aj.length;ah++){var ag=aj[ah];if(!ag.visible){continue}for(var af=ah+1;af<aj.length;af++){var ae=aj[af];if(!ae.visible){continue}if(Y(ag,ae)){ae.visible=false}}}};var R=function(ae,af){if(ae.top<af.top||ae.left<af.left||ae.right>af.right||ae.bottom>af.bottom){return true}return false};T.plot=function(ae){if(!arguments.length){return O}O=ae};T.parent=function(){};T.properties=function(ae){if(!arguments.length){return g}c.extend(true,g,ae);M(g)};return T};return b});sap.riv.module({qname:"sap.viz.modules.manifests.DataLabel",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.datalabel",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.datalabel",name:"datalabel",type:b.Module.Type.Supplementary,properties:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set whether data label is visible.",},isDonut:{name:"isDonut",supportedValueType:"Boolean",defaultValue:false,description:"Set for donut chart only.",isExported:false},type:{name:"type",supportedValueType:"String",defaultValue:"value",description:"Set the type of label",isExported:false},automaticInOutside:{name:"automaticInOutside",supportedValueType:"Boolean",defaultValue:true,description:"if it is true, the data label will be automatically placed outside when data label postion property is inside and vice versa.",isExported:false},showZero:{name:"showZero",supportedValueType:"Boolean",defaultValue:true,description:"if it is true, the value zero will be shown in data label.",isExported:false},isGeoChart:{name:"isGeoChart",supportedValueType:"Boolean",defaultValue:false,description:"if it is true, it is a geo chart.",isExported:false},isStackMode:{name:"isStackMode",supportedValueType:"Boolean",defaultValue:false,description:"Set for stack chart only.",isExported:false},isPercentMode:{name:"isPercentMode",supportedValueType:"Boolean",defaultValue:false,description:"Set for percent chart only.",isExported:false},positionPreference:{name:"positionPreference",supportedValueType:"Boolean",defaultValue:false,description:"If it is true, the data label position is defined by property outsidePosition no matter whether data label value is negative.",isExported:false},outsideVisible:{name:"outsideVisible",supportedValueType:"Boolean",defaultValue:true,description:"when data label is oustide, it can control whether it is visible or not.",isExported:false},outsidePosition:{name:"outsidePosition",supportedValueType:"List",supportedValues:["up","down","left","right"],defaultValue:"up",description:"when data label is oustide, its position is above the element.",isExported:false},paintingMode:{name:"paintingMode",supportedValueType:"List",supportedValues:["rectCoordinate","polarCoordinate"],defaultValue:"rectCoordinate",description:"Set painting mode of data labels.",isExported:false},position:{name:"position",supportedValueType:"List",supportedValues:["inside","outside"],defaultValue:"inside",description:"Set position of data labels."},orientation:{name:"orientation",supportedValueType:"List",supportedValues:["horizontal","vertical"],defaultValue:"vertical",description:"Set orientation of data labels.",isExported:false},formatString:{name:"formatString",supportedValueType:"Two-Dimensions-Array",defaultValue:null,description:"Set format string of datalabel.As we may have dual axis with serveral measures,the first array is applied to primary axis and the second one is applied to the second axis.If the length of format string list is less than the length of data series, the last format string in the list will be applied to exceeded data series."}},css:{".v-datalabel":{description:"Define style for the data label",value:{fill:"#333333","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"12px","font-weight":"normal"}}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.legend.mbcLegendArea",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.format.FormatManager",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"}],function Setup(d,e,b,a){var c=function(B){var A=400,z=200,l={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",fontsize:"12px",fontweight:"normal",color:"#333333"},j,s=[],E={width:18,height:20},n=10,o=1,g=[],r="selectionMode",u={markerPaddingRight:0.5,paddingTop:1,maxValueSpace:1.6,minValueSpace:0.5,minMarkerHeight:10,space:0},C=-1,f=20,D=false,F=e.get("IDS_ISNOVALUE"),m;var k=null;var x=function(G){G.each(function(){p();q();var P=j,Q,S=0,M="visible",N,V;var I=d3.select(this);var R=I.selectAll("rect.v-indicatedRect");if(R.empty()){R=I.append("rect").attr("class","v-indicatedRect")}R.attr("visibility","hidden").attr("width",E.width+8).attr("height",E.height+2);var O=I.selectAll("g.v-row").data(P,function(Y,X){return Y.val});O.exit().remove();var W=O.enter().append("g").attr("class","v-row");W.append("rect").attr("class",function(Y,X){return"v-marker ID_"+X});W.append("text");var K=O.selectAll("rect.v-marker").attr("width",E.width).attr("height",E.height);var T,H;for(N=0,V=K.length;N<V;N++){S=(E.height+o)*((C!==-1)?(N-1):N);if(P[N].val==="N/A"){S=(E.height+o)*(V>1?V:0)}K[N][0].setAttribute("y",S);T={drawingEffect:"normal",fillColor:s[P.length-N-1]};H=k.register(T);K[N][0].setAttribute("fill",H)}Q=O.selectAll("text").text(function(Z,Y){var X=Z.val;if(X==="N/A"){X=F}if(a.isExist(m.formatString)){X=b.format(X,m.formatString)}return X}).attr("x",E.width+n);S=0;for(N=0,V=Q.length;N<V;N++){S=E.height*((C!==-1)?N:(N+1))+f/2;if(P[N].val==="N/A"){S=(E.height+o)*(V>1?V:0)+f/2+E.height/2}if(D&&N!==V-1&&(P[N].val!=="N/A")){M="hidden"}else{M="visible"}Q[N][0].setAttribute("y",S);Q[N][0].setAttribute("visibility",M)}if(P.length>1){var L=I.selectAll("text.v-topText");if(L.empty()){L=I.append("text").attr("class","v-topText")}var J;if(C!==-1){J=P[1].ctx.ranges.endValue}else{J=P[0].ctx.ranges.endValue}if(a.isExist(m.formatString)){J=b.format(J,m.formatString)}L.text(J).attr("x",E.width+n).attr("y",f/2)}else{if(P.length===1){Q[0][0].setAttribute("y",f/2+E.height/2)}}var U=B.styleManager.queryDefault("v-label");I.attr("font-family",U["font-family"]).attr("font-size",U["font-size"]).attr("font-weight",U["font-weight"]).attr("fill",U.color);I.on("mouseover",h).on("mouseout",t).on("mousedown",v).on("mouseup",h)})};var h=function(){if(r==="single"||r==="none"||m.isHierarchy){return}var J=d3.select(d3.event.target);var H=J.attr("class");if(!H||H.search("marker")===-1){return}var G=J.attr("x"),K=J.attr("y");var I=d3.selectAll(".v-indicatedRect");I.attr("visibility","visible").attr("fill","#cccccc").attr("x",G-4).attr("y",K-1)};var t=function(){if(r==="single"||r==="none"||m.isHierarchy){return}var I=d3.select(d3.event.target);var G=I.attr("class");if(!G||G.search("marker")===-1){return}var H=d3.selectAll(".v-indicatedRect");H.attr("visibility","hidden")};var v=function(){if(r==="single"||r==="none"||m.isHierarchy){return}var J=d3.select(d3.event.target);var H=J.attr("class");if(!H||H.search("marker")===-1){return}var G=J.attr("x"),K=J.attr("y");var I=d3.selectAll(".v-indicatedRect");I.attr("visibility","visible").attr("fill","#808080").attr("x",G-4).attr("y",K-1)};x.clickHandler=function(){if(r==="single"||r==="none"||m.isHierarchy){return}if(d3.event.type==="touchstart"){v()}var G=false;if(w(g,d3.event.target)){G=true}else{g.push(d3.event.target)}return G};x.width=function(G){if(!arguments.length){return A}A=G;return x};x.height=function(G){if(!arguments.length){return z}z=G;return x};x.properties=function(G){if(!arguments.length){return m}m=G;return x};x.data=function(G){if(!arguments.length){return j}j=G;return x};x.setSelectionMode=function(G){r=G};x.getPreferredSize=function(){var N=0,O=0,P=0,H=j;if(H){C=-1;p();var Q=-1,L,J="font-size:"+l.fontsize+"; font-weight:"+l.fontweight+"; font-family:"+l.fontfamily;var K=H.length;for(var G=0;G<K;G++){if(H[G].val==="N/A"){L=d.measure(F,J);C=G}else{var M=H[G].val;if(a.isExist(m.formatString)){M=b.format(M,m.formatString)}L=d.measure(M,J)}if((L===undefined)||(L.width>Q)){Q=L.width}}f=parseInt(l.fontsize,10);var I=(u.maxValueSpace+1)*f;N=E.width+u.markerPaddingRight*f+Q;if(C!==-1){O=(I+o)*(K+1)+f;P=(u.minMarkerHeight+o)*(K+1)+f}else{O=(I+o)*K+f;P=(u.minMarkerHeight+o)*K+f}}return{minHeight:P,minWidth:N,width:N,height:O}};x.color=function(G){if(!arguments.length){return s}s=G;return x};x.effectManager=function(G){if(!arguments.length){return k}k=G;return x};var q=function(){var G=j.length,J=0,K=0;D=false;if(C!==-1){K=(z-(G+2)*f)/(G+1)}else{K=(z-(G+1)*f)/G}J=K+f;var I=u.maxValueSpace*f;if(K>I){K=I;J=K+f}else{var H=u.minValueSpace*f;if(K<H){J=u.minMarkerHeight;K=0;D=true}}u.space=K;E.height=J};var w=function(G,I){for(var H=0;H<G.length;H++){if(G[H]===I){return true}}return false};var p=function(){var G=B.styleManager.query("v-label");if(G){if(G.fill){l.color=G.fill}if(G["font-family"]){l.fontfamily=G["font-family"]}if(G["font-size"]){l.fontsize=G["font-size"]}if(G["font-weight"]){l.fontweight=G["font-weight"]}}};return x};return c});sap.riv.module({qname:"sap.viz.modules.legend.sizeLegendArea",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.format.FormatManager",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"}],function Setup(d,e,b,a){var f=function(u){var h=400,t=200,k={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",fontsize:"14px",fontweight:"normal",color:"#333333"},o=[0,0,0],n,g,j,l=10,m=15,r=0,v;var q=null;var p=function(w){w.each(function(){if(n===undefined){return}s();var A=[],I="font-size:"+k.fontsize+"; font-weight:"+k.fontweight+"; font-family:"+k.fontfamily;if(r===0){r=d.measure("M",I).height}var H=Math.round(t/r);switch(H){case 0:case 1:case 2:case 3:A.push(o[0]);break;case 4:A.push(o[0]);if(o.length>1){A.push(o[o.length-1])}break;default:A=o}var S=[],R=-1,E,N;for(var P=0,Q=A.length;P<Q;P++){S.push(n(A[P])/2);N=c(A[P]);if(a.isExist(v.formatString)){N=b.format(N,v.formatString)}E=d.measure(N,I).width;if(E>R){R=E}}var D=S[0];var J=d3.select(this);var x=parseInt(k.fontsize,10);var F=J.selectAll("g.v-circles");if(F.empty()){F=J.append("g").attr("class","v-circles").data([S])}F.attr("transform","translate("+D+","+(D+x)+")");var C={drawingEffect:v.drawingEffect,graphType:"circle",fillColor:"#748CB2"};var L=q.register(C);var O=F.selectAll("circle").data(S,function(U,T){return U});O.exit().remove();O.enter().append("circle").attr("stroke","white").attr("stroke-width",1).attr("fill",L).attr("opacity","0.85");O.attr("r",function(U,T){return U}).attr("cx",function(U,T){return 0}).attr("cy",function(U,T){return D-U});var M=J.selectAll("g.v-valueLabels");if(M.empty()){M=J.append("g").attr("class","v-valueLabels").data([A])}var K=(D*2+m+l+R)>h?h:(D*2+m+l+R);M.attr("transform","translate("+K+", "+(D+x*3/2)+")");var G=M.selectAll("text").data(A,function(U,T){return U});G.exit().remove();G.enter().append("text").attr("text-anchor","end");G.text(function(V,T){var U=c(V);if(a.isExist(v.formatString)){U=b.format(U,v.formatString)}return U}).attr("dx",0).attr("dy",function(V,U){var T=(U-1)*D-2;if(A.length===2&&U===1){T=D-2}return T});var z=J.selectAll("g.v-guideLines");if(!z.empty()){z.remove()}z=J.append("g").attr("class","v-guideLines").attr("transform","translate("+D+","+(D+x)+")");if(A.length>0){z.append("path").attr("stroke","gray").attr("d","M 0 "+-D+" L "+(D+l)+" "+-D)}if(A.length>1){z.append("path").attr("stroke","gray").attr("d","M 0 "+D+"L"+(D+l)+" "+D)}if(A.length>2){z.append("path").attr("stroke","gray").attr("d","M 0 "+(D-S[1])+" L "+D+" 0 M "+D+" 0  L "+(D+l)+" 0")}var B=u.styleManager.queryDefault("v-label");J.attr("font-family",B["font-family"]).attr("font-size",B["font-size"]).attr("font-weight",B["font-weight"]).attr("fill",B.color)})};p.width=function(w){if(!arguments.length){return h}h=w;return p};p.height=function(w){if(!arguments.length){return t}t=w;return p};p.color=function(w){if(!arguments.length){return g}return p};p.shapes=function(w){if(!arguments.length){return j}return p};p.properties=function(w){if(!arguments.length){return v}v=w;return p};p.data=function(w){if(!arguments.length){return o}o=w;return p};p.scale=function(w){if(!arguments.length){return n}n=w;return p};p.effectManager=function(w){if(!arguments.length){return q}q=w;return p};var s=function(){var w=u.styleManager.query("v-label");if(w){if(w.fill){k.color=w.fill}if(w["font-family"]){k.fontfamily=w["font-family"]}if(w["font-size"]){k.fontsize=w["font-size"]}if(w["font-weight"]){k.fontweight=w["font-weight"]}}};p.getPreferredSize=function(E,A,F,O,N,J,K){if(E){s()}var I=0,C=0,B=0;if(n&&A){r=0;var M=-1,w,x,D=null,P=o,z="font-size:"+k.fontsize+"; font-weight:"+k.fontweight+"; font-family:"+k.fontfamily;for(var G=0,H=P.length;G<H;G++){D=c(P[G]);if(a.isExist(v.formatString)){D=b.format(D,v.formatString)}x=d.measure(D,z);if((x===undefined)||(x.width>M)){M=x.width}}var L=M+m+l;w=E?(E.width-A-F-L-O.space-O.number*J)/(1+(1/N)*O.number):n(P[0]);r=x.height;if(!K&&O.plotHeight){w=Math.min((O.plotHeight-J)*N,w)}C=w+x.height*2;I=w+L;B=I}return{minHeight:C,minWidth:B,height:C,width:I}};return p};var c=function(g){return(g===null)?e.get("IDS_ISNOVALUE"):g};return f});sap.riv.module({qname:"sap.viz.util.DrawUtil",version:"4.0.1"},[],function Setup(){var a={};a.createMarkerData=function(f){var d;var e=f.borderWidth/2;switch(f.type){case"circle":d="M"+(-f.rx-e)+",0 A"+(f.rx+e)+","+(f.ry+e)+" 0 1,0 "+(f.rx+e)+",0 A";d+=(f.rx+e)+","+(f.ry+e)+" 0 1,0 "+(-f.rx-e)+",0z";break;case"cross":d="M"+(-f.rx-e)+","+(-f.ry/3-e)+"H"+(-f.rx/3-e)+"V"+(-f.ry-e)+"H"+(f.rx/3+e);d+="V"+(-f.ry/3-e)+"H"+(f.rx+e)+"V"+(f.ry/3+e)+"H"+(f.rx/3+e);d+="V"+(f.ry+e)+"H"+(-f.rx/3-e)+"V"+(f.ry/3+e)+"H"+(-f.rx-e)+"Z";break;case"diamond":d="M0,"+(-f.ry-e)+"L"+(f.rx+e)+",0 0,"+(f.ry+e)+" "+(-f.rx-e)+",0Z";break;case"square":d="M"+(-f.rx-e)+","+(-f.ry-e)+"L"+(f.rx+e)+",";d+=(-f.ry-e)+"L"+(f.rx+e)+","+(f.ry+e)+"L"+(-f.rx-e)+","+(f.ry+e)+"Z";break;case"triangle-down":d="M0,"+(f.ry+e)+"L"+(f.rx+e)+","+-(f.ry+e)+" "+-(f.rx+e)+","+-(f.ry+e)+"Z";break;case"triangle-up":d="M0,"+-(f.ry+e)+"L"+(f.rx+e)+","+(f.ry+e)+" "+-(f.rx+e)+","+(f.ry+e)+"Z";break;case"triangle-left":d="M"+-(f.rx+e)+",0L"+(f.rx+e)+","+(f.ry+e)+" "+(f.rx+e)+","+-(f.ry+e)+"Z";break;case"triangle-right":d="M"+(f.rx+e)+",0L"+-(f.rx+e)+","+(f.ry+e)+" "+-(f.rx+e)+","+-(f.ry+e)+"Z";break;case"intersection":d="M"+(f.rx+e)+","+(f.ry+e)+"L"+(f.rx/3+e)+",0L"+(f.rx+e)+","+-(f.ry+e)+"L";d+=(f.rx/2-e)+","+-(f.ry+e)+"L0,"+(-f.ry/3-e)+"L"+(-f.rx/2+e)+","+-(f.ry+e)+"L";d+=-(f.rx+e)+","+-(f.ry+e)+"L"+-(f.rx/3+e)+",0L"+-(f.rx+e)+","+(f.ry+e)+"L";d+=(-f.rx/2+e)+","+(f.ry+e)+"L0,"+(f.ry/3+e)+"L"+(f.rx/2-e)+","+(f.ry+e)+"Z";break;case"squareWithRadius":var g=f.rx;var c=g-3;d="M0,"+-g+"L"+-c+","+-g+"Q"+-g+","+-g+" "+-g+","+-c+"L"+-g+","+c+"Q"+-g+","+g+" "+-c+","+g;d+="L"+c+","+g+"Q"+g+","+g+" "+g+","+c+"L"+g+","+-c+"Q"+g+","+-g+" "+c+","+-g+"Z";break}return d};function b(d){var c;switch(d.type){case"circle":c="M0,0A0,0 0 1,0 0,0A0,0 0 1,0 0,0z";break;case"cross":c="M0,0H0V0H0V0H0V0H0V0H0V0H0Z";break;case"diamond":c="M0,0L0,0 0,0 0,0Z";break;case"triangle-down":case"triangle-up":case"triangle-left":case"triangle-right":c="M0,0L0,0 0,0Z";break;case"intersection":c="M0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0Z";break;case"squareWithRadius":c="M0,0L0,0Q0,0 0,0L0,0Q0,0 0,0L0,0Q0,0 0,0L0,0Q0,0 0,0Z";break;case"square":c="M0,0L0,0L0,0L0,0Z";break;default:c="M0,0L0,0L0,0L0,0Z";break}return c}a.createElements=function(d,c){return d.append("path").attr("class",c.className)};a.createElement=function(c,f,e){var d=c.append("path").attr("class",f.className);f.node=d;a.drawGraph(f,e);return d};a.drawGraph=function(e,d){var c={type:e.graphType,rx:Math.round(e.rx),ry:Math.round(e.ry),borderWidth:e.borderWidth?Math.round(e.borderWidth):0};var g=a.createMarkerData(c);var f=d.register(e);e.node.attr("fill",f).attr("stroke-width",e.borderWidth).attr("stroke",e.borderColor).attr("visibility",e.visibility).attr("stroke-opacity",e.strokeOpacity);if(e.animateTime&&e.animateTime>0){e.node.attr("d",b(c));e.node.transition().duration(e.animateTime).attr("d",g).each("end",e.endFunc)}else{e.node.attr("d",g)}return e.node};return a});sap.riv.module({qname:"sap.viz.modules.legend.colorLegendArea",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.util.DrawUtil",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"}],function Setup(c,b,a,e){var d=function(w){var f=400,h=200,O={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",fontsize:"12px",fontweight:"normal",color:"#333333"},A={isHierarchy:undefined,position:"right",legendType:"ColorLegend"},m=1,F=[],J=[],u=0,o=0,N,s=20,I=[],l=true,Q="multiple",n={right:0.5,bottom:0.6,left:1,top:0};var v=null;var L={imageMode:false,imagePalette:[],radio:1};var D=e.guid();var M=0;var k=Infinity;var H=[],x={},K,g;var R=function(S){S.each(function(){q();var T=p();K=false;if(T.length>0&&T.length<x.length){K=true}N=d3.select(this);var Z=N.selectAll("rect.v-indicatedRect");if(Z.empty()){Z=N.append("rect").attr("class","v-indicatedRect")}var af=n.bottom*s;Z.attr("width",f+10).attr("height",s+af).attr("fill","rgba(255, 255, 255, 0)").attr("x",-5).attr("y",-af/2);var X=w.styleManager.queryDefault("v-label");N.attr("font-family",X["font-family"]).attr("font-size",X["font-size"]).attr("font-weight",X["font-weight"]).attr("fill",X.fill);var ad=N.selectAll("g.v-row").data(T,function(aq,ap){return aq.val});ad.exit().remove();var al=ad.enter().append("g");ad.attr("class",function(aq,ap){return D+" v-row ID_"+ap});var ai,ah,ak,an,am;if((A.legendType!=="BubbleColorLegend")&&A.isHierarchy&&(!(A.position==="top"||A.position==="bottom"))){var ae,ag,U=[],Y=0,aa=0;for(ai=0,ak=T.length;ai<ak;ai++){Y=0,aa=0;ae=T[ai].val;ae=ae.replace("-","/");ag=ae.split(" / ");am=d3.select(this).select("g.v-row.ID_"+ai);var V=false;for(ah=0,an=ag.length-1;ah<an;ah++){if(U[ah]!==ag[ah]){V=true;break}}var ac=am.selectAll("g").data(ag);ac.enter().append("g").attr("class",function(aq,ap){return D+" v-label ID_"+ap});for(ah=0,an=ag.length;ah<an;ah++){var W;if(ah===an-1){W=E(am.select("g.v-label.ID_"+ah),ai,true,ag[ah]);W.attr("transform",function(aq,ap){Y=10*ah;if(V){aa=s+aa+n.bottom*s}return"translate("+Y+","+aa+")"})}else{if(V){W=E(am.select("g.v-label.ID_"+ah),ai,false,ag[ah]);W.attr("transform",function(aq,ap){Y=10*ah;if(ah>0){aa=s+aa+n.bottom*s}return"translate("+Y+","+aa+")"})}}if(W){W.attr("visibility",function(ar,ap){var aq="visible";if((H[ai]===undefined)||(H[ai].y+aa>h-s)){aq="hidden";K=true}return aq})}U[ah]=ag[ah]}}ad.attr("transform",function(aq,ap){if(H[ap]){return"translate("+H[ap].x+","+H[ap].y+")"}})}else{for(ai=0,ak=T.length;ai<ak;ai++){am=d3.select(this).selectAll("g.v-row.ID_"+ai);E(am,ai,true,T[ai].val)}ad.attr("transform",function(aq,ap){if(aq.pos){return"translate("+aq.pos.x+","+aq.pos.y+")"}})}al.append("rect").attr("class","v-eventRect");ad.each(function(aq,ap){d3.select(this).selectAll("rect.v-eventRect").attr("class",function(){return D+" v-eventRect ID_"+ap})});var ab=N.selectAll("rect.v-eventRect");ab.attr("height",s).attr("fill","rgba(255, 255, 255, 0)");if(A.position==="top"||A.position==="bottom"){var aj=(m+n.right)*s+n.left*s/2;ab.attr("width",function(ap){return(ap.size===undefined)?f:(ap.size.width+aj)})}else{ab.attr("width",f)}var ao=d3.select(this).selectAll("text.v-itemsEllipsis");if(ao.empty()){ao=d3.select(this).append("text").attr("class","v-itemsEllipsis").text("...").attr("text-anchor","middle")}ao.attr("dx",f/2).attr("dy",h).attr("visibility",function(){var ap="hidden";if(K){ap="visible"}return ap});d3.select(this).on("mouseover",B).on("mouseout",C).on("mousedown",P).on("mouseup",B).on("touchend",C)})};R.width=function(S){if(!arguments.length){return f}f=S;return R};R.height=function(S){if(!arguments.length){return h}h=S;return R};R.color=function(S){if(!arguments.length){return J}J=S;return R};R.shapes=function(S){if(!arguments.length){return F}F=S;return R};R.colorFeedLength=function(S){u=S;return R};R.shapeFeedLength=function(S){o=S;return R};R.data=function(S){if(!arguments.length){return x}x=S;return R};R.imageInfo=function(S){if(!arguments.length){return L}L=S;return R};R.properties=function(S){if(!arguments.length){return A}A=S;return R};R.getPreferredSize=function(S){q();return t(S)};R.setSelectionMode=function(S){Q=S};R.effectManager=function(S){if(!arguments.length){return v}v=S;return R};var p=function(){var T=[],S=g;if(x.length>0){T=x.slice(0,S);M=0;k=S}return T};var q=function(){var S=w.styleManager.query("v-label");if(S){if(S.fill){O.color=S.fill}if(S["font-family"]){O.fontfamily=S["font-family"]}if(S["font-size"]){if(O.fontsize!==S["font-size"]){l=true}O.fontsize=S["font-size"]}if(S["font-weight"]){if(O.fontweight!==S["font-weight"]){l=true}O.fontweight=S["font-weight"]}}};var B=function(){var V=G(d3.event.target);if(V===false){return}var U=d3.select(d3.event.target);var T=N.selectAll(".v-indicatedRect");var S=z(U);T.attr("fill","#cccccc").attr("y",S.y);if(A.position==="top"||A.position==="bottom"){T.attr("x",S.x).attr("width",S.width)}};var C=function(){var U=G(d3.event.target);if(U===false){return}var T=d3.select(d3.event.target);var S=N.selectAll(".v-indicatedRect");S.attr("fill","rgba(0,0,0,0)")};var P=function(){var V=G(d3.event.target);if(V===false){return}var U=d3.select(d3.event.target);var T=N.selectAll(".v-indicatedRect");var S=z(U);T.attr("fill","#808080").attr("y",S.y);if(A.position==="top"||A.position==="bottom"){T.attr("x",S.x).attr("width",S.width)}};R.clickHandler=function(){var T=G(d3.event.target);if(T===false){return}if(d3.event.type==="touchstart"){P()}var S=false;if(j(I,d3.event.target)){S=true}else{I.push(d3.event.target)}return S};R.deselectByCtx=function(V){if(!V){I=[]}else{var U,T=true;for(var X=0,S=I.length;X<S;X++){T=true;U=I[X].__data__.ctx.path;if(!U){U=I[X].__data__.ctx.ranges;if(U!==V.ctx.ranges){T=false}}else{for(var W in U){if(V.ctx.path[W]!==undefined){if(V.ctx.path[W].length>0){if(V.ctx.path[W]!==U[W]){T=false}}else{if(V.ctx.path[W]!==U[W]){T=false}}}}}if(T===true){I.splice(X,1);break}}}};var G=function(V){var U=true;if(Q==="single"||Q==="none"||A.isHierarchy){U=false}var T=d3.select(V);var S=T.attr("class");if(!S||S.search("eventRect")===-1){U=false}return U};var z=function(S){var T=S.datum();var U=(m+n.right)*s+n.left*s/2;return{x:T.pos.x-4,y:T.pos.y-n.bottom*s/2,width:T.size.width+U}};var j=function(S,U){for(var T=0;T<S.length;T++){if(S[T]===U){return true}}return false};var t=function(ap){var ae=0,an=0,ac=0,X={width:0,height:0},V=x,ag=0;if(V&&V.length>0){var Y="font-size:"+O.fontsize+"; font-weight:"+O.fontweight+"; font-family:"+O.fontfamily;s=parseInt(O.fontsize,10);var al=(m+n.right)*s;var ab=[],aa=0,ad=0;H=[];var ak,aj,am,ao;if((A.legendType!=="BubbleColorLegend")&&A.isHierarchy&&(!(A.position==="top"||A.position==="bottom"))){var af,ai,Z,T={width:0,height:0},U=[];for(ak=0,am=V.length;ak<am;ak++){af=V[ak].val;af=af.replace("-","/");ai=af.split(" / ");var W=false;for(aj=0,ao=ai.length-1;aj<ao;aj++){if(U[aj]!==ai[aj]){W=true;break}}var ah=0;for(aj=0,ao=ai.length;aj<ao;aj++){Z=c.measure(ai[aj],Y);if(aj===ao-1){Z.width=Z.width+al;ah=ah+(n.bottom+1)*s}else{if(W){ah=ah+(n.bottom+1)*s}}Z.width=Z.width+10*aj;if(Z.width>T.width){T=Z}U[aj]=ai[aj]}if(T.width>ag){ag=T.width}ab.push(ah);if(ak>0){ad=ad+ab[ak-1]}if(ad+s>ap.height){K=true;break}H.push({x:aa,y:ad});V[ak].pos={x:aa,y:ad}}an=aa+ag;ae=ad+ab[ab.length-1];ac=c.measure("M...",Y).width}else{if(A.position==="top"||A.position==="bottom"){var aq=aa;g=V.length;for(ak=0,am=V.length;ak<am;ak++){if(ak>0){aa=aa+aq}if((V[ak].size===undefined)||(l!==false)){V[ak].size=c.measure(V[ak].val,Y)}aq=aa+al+V[ak].size.width+n.left*s;if(aq>ap.width){g=ak;K=true;break}V[ak].pos={x:aa,y:ad}}an=aa+al+V[g-1].size.width;ae=ad+s;ag=ap.width}else{var S=s+s*n.bottom;g=V.length;for(ak=0,am=V.length;ak<am;ak++){if(ak>0){ad=ad+S}if(ad+S>ap.height){g=ak;K=true;break}if((V[ak].size===undefined)||(l!==false)){V[ak].size=c.measure(V[ak].val,Y)}V[ak].pos={x:aa,y:ad};if(V[ak].size.width>X.width){X=V[ak].size}}ag=al+X.width;an=aa+ag;ae=ad+S}ac=aa+al+c.measure("M...",Y).width}}if(ac>an){ac=an}if(l===true){l=false}return{minHeight:2*s,minWidth:ac,height:ae,width:an}};var r=function(T){var U="";var S=L.imagePalette.length;if(S>0){U=L.imagePalette[T%S]}return U};var E=function(T,Z,U,X){var af=0,W;var aa=m*s;if(U){if(o>0){var ac=Z%o;if(F.length<o){ac=ac%F.length}W=F[ac]}else{if(A.legendType==="BubbleColorLegend"){W=(F[0]===undefined)?"square":F[0]}else{var ae=F[Z%F.length];W=(ae===undefined)?"square":ae;if(W==="square"){W="squareWithRadius"}}}if(!L.imageMode){var V=s/2;var ad=T.selectAll("path").data([X]);a.createElements(ad.enter(),{shape:W,className:null});ad.attr("transform",function(aj,ai){var ag;if(o>0){ai=Math.floor(Z/o);var ah=J.length>u?u:J.length;if(ah>0){ag=J[ai%ah]}else{ag=J[0]}}else{ag=J[Z%(J.length>u?u:J.length)]}var ak={drawingEffect:A.drawingEffect,graphType:W,fillColor:ag,direction:"vertical",rx:aa/2,ry:aa/2,borderWidth:0,borderColor:"transparent",node:d3.select(this)};a.drawGraph(ak,v);return"translate("+V+","+V+")"})}else{var S=T.select("image");if(S.empty()){S=T.append("image")}S.attr("xlink:xlink:href",r(Z)).attr("width",aa).attr("height",aa)}af=aa+n.right*s}var ab=T.selectAll("text").data([X]);ab.enter().append("text");ab.attr("x",af).attr("y",s).text(function(ag){return ag});var Y="font-size:"+O.fontsize+"; font-weight:"+O.fontweight+"; font-family:"+O.fontfamily;ab.each(function(ag){c.ellipsis(ag,this,f-af,Y)});return T};return R};return d});sap.riv.module({qname:"sap.viz.modules.legend",version:"4.0.1"},[{qname:"sap.viz.manifest",version:"4.0.1"},{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.modules.legend.colorLegendArea",version:"4.0.1"},{qname:"sap.viz.modules.legend.sizeLegendArea",version:"4.0.1"},{qname:"sap.viz.modules.legend.mbcLegendArea",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(k,g,a,e,b,m,d,h,c,f,l){var j=function(F,T){var al={imageMode:false,imagePalette:[],radio:1};var o,q,ah={width:200,height:200},af="right",am={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",fontsize:"14px",fontweight:"bold",color:"#333333"},an={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",fontsize:"12px",fontweight:"normal",color:"#333333"},Y={},u=true,H=false,Z=[],aj=[],N=20,w={top:0,right:0,bottom:0,left:1.15},G=0.5,D={x:0,y:0},p,z,U,W,ak,J=false;var V={title:"",labels:""},ao=[],at=null,av=[],A=[],R=0,E=0,ai=true;var ad=m(T);var K=new e("highlightedByLegend");var S=T.effectManager;var n;var M=false;var ar=function(aw){l.drawBound(aw,o,q);aw.each(function(){if(r()||X()){if(V.labels.length===0){u=false}}if(u&&!H){I();if(ai){O({width:o,height:q})}var aE=w.left*N,aA=w.top*N;var ay=d3.select(this).selectAll("g.v-content").data([V]);ay.enter().append("g").attr("class","v-content");if(M){M=false;ay.selectAll(".v-row").remove()}if(Y.isShowTitle&&!J){var aC=parseInt(am.fontsize,10);var aJ="font-weight: "+am.fontweight+"; fill:"+am.color+"; font-family: "+am.fontfamily+"; font-size: "+am.fontsize+";";var aF=(Y.titleText===undefined||Y.titleText===null)?V.title:Y.titleText;var aD=ay.selectAll("text.v-title");if(aD.empty()){aD=ay.append("text").attr("class","v-title viz-legend-title")}var aB=T.styleManager.queryDefault("v-title");aD.text(aF).attr("dx",aE).attr("dy",aA+aC).attr("visibility","visible").attr("font-weight",aB["font-weight"]).attr("fill",aB.fill).attr("font-family",aB["font-family"]).attr("font-size",aB["font-size"]);aD.each(function(aK){g.ellipsis(aF,this,o-aE,aJ)})}else{ay.selectAll("text.v-title").attr("visibility","hidden");if(J){J=false}}var aI=V.labels;var az=ay.selectAll("g.v-groups").data([aI]);az.enter().append("g").attr("class","v-groups v-label viz-legend-valueLabel");az.attr("transform","translate("+D.x+","+D.y+")");var aH=((o===undefined)?ah.width:o)-aE;var aG=((q===undefined)?ah.height:q)-aA;ad.properties(Y).width(aH).height(aG-D.y).effectManager(S);if(ag()){ad.data(ao).scale(p)}else{if(aq()){ad.data(aI).color(ak.range())}else{ad.imageInfo(al);ad.data(aI).color(aj).colorFeedLength(R).shapeFeedLength(E)}}az.call(ad).on("click",Q).on("touchstart",Q);if(Y.position==="left"||Y.position==="right"){switch(Y.alignment){case"end":ay.attr("transform","translate(0, "+(((q-ah.height)>0)?((q-ah.height)):0)+")");break;case"middle":ay.attr("transform","translate(0, "+(((q-ah.height)/2>0)?((q-ah.height)/2):0)+")");break}}}else{var ax=d3.select(this).selectAll("g.v-content");if(!ax.empty()){ax.remove()}}H=false})};var Q=function(az){if(Y.isHierarchy){return}var ay=d3.select(d3.event.target).attr("class");if(ay){var ax=ad.clickHandler();var aw=parseInt(d3.select(d3.event.target).attr("class").split("ID_")[1],10);if(V.labels[aw]!==undefined){K.highlightedByLegend(V.labels[aw],ax)}}};ar.deselectLegend=function(aw){if(!(aq()||ag())){ad.deselectByCtx(aw)}};ar.width=function(aw){if(!arguments.length){return o}o=aw;ai=true;return ar};ar.height=function(aw){if(!arguments.length){return q}q=aw;ai=true;return ar};ar.imageInfo=function(aw){if(!arguments.length){return al}al=aw;ai=true;return ar};ar.position=function(aw){if(!arguments.length){return af}af=aw;return ar};ar.colorPalette=function(aw){if(!arguments.length){return aj}aj=aw;ad.color(aw);return ar};ar.shapes=function(aw){if(!arguments.length){return Z}Z=aw;ad.shapes(aw);return ar};ar.properties=function(aw){if(!arguments.length){return n}if(n&&aw&&n.isHierarchical!==aw.isHierarchical){M=true}f.extend(true,n,aw);Y.visible=n.visible;u=Y.visible;Y.isShowTitle=n.title.visible;Y.titleText=n.title.text;Y.isHierarchy=n.isHierarchical;Y.position=n.position;Y.formatString=n.formatString;if(Y.legendType!==n.type){Y.legendType=n.type;if(at&&V.labels){C(at);ad.data(V.labels)}}Y.alignment=n.alignment;Y.drawingEffect=n.drawingEffect;if(ag()){ad=d(T)}else{if(aq()){ad=h(T)}}ad.properties(Y);return ar};ar.getPreferredSize=function(aw,ay,ax){I();return O(aw,ay,ax)};ar.data=function(aw){if(!arguments.length){return at}at=aw;C(aw);ad.data(V.labels);return ar};ar.sizeLegendInfo=function(aw){if(!arguments.length){return p}p=aw.scale;ad.scale(p);z=aw.bubbleScale;U=aw.space;W=aw.hasHeightFeed;if(aw.data.length===0){u=false}else{u=Y.visible;ao=aw.data;ad.data(ao)}V.title=au(aw.title);return ar};ar.hideTitle=function(){J=true;return ar},ar.hide=function(aw){H=aw;return ar},ar.mbcLegendInfo=function(aw){if(!arguments.length){return ak}if(aw.colorScale===undefined){u=false}else{u=Y.visible;ak=aw.colorScale;V.title=au(aw.title);ap();ad.data(V.labels)}return ar};ar.setSelectionMode=function(aw){if(!(aq()||ag())){ad.setSelectionMode(aw)}};ar.dispatch=function(aw){if(!arguments.length){return K}K=aw;return ar};ar.isVisible=function(){return u};var I=function(){var ax=T.styleManager.query("v-title");if(ax){if(ax.fill){am.color=ax.fill}if(ax["font-family"]){am.fontfamily=ax["font-family"]}if(ax["font-size"]){am.fontsize=ax["font-size"]}if(ax["font-weight"]){am.fontweight=ax["font-weight"]}}var aw=T.styleManager.query("v-label");if(aw){if(aw.fill){an.color=aw.fill}if(aw["font-family"]){an.fontfamily=aw["font-family"]}if(aw["font-size"]){an.fontsize=aw["font-size"]}if(aw["font-weight"]){an.fontweight=aw["font-weight"]}}};var P=function(aw){if(L(aw.key)){A=aw.values}else{if(t(aw.key)){av=aw.values}}};var C=function(aw){if(!aw){return}A=[];av=[];var ax=aw.getAnalysisAxisDataByIdx(0);if(ax){A=ax.values}ax=aw.getAnalysisAxisDataByIdx(1);if(ax){av=ax.values}if(X()){ae()}else{if(!(ag())){ac()}}};var ap=function(){var aB=[],aA={val:undefined,ctx:{}};var az=ak.domain();for(var aw=az.length,ay=0,ax=aw-1;ay<aw;ay++){if(az[ay].length>0){aA.val=az[ay][0];aA.ctx.ranges={startValue:az[ay][0],endValue:az[ay][1],isRightOpen:true,isLeftOpen:false}}else{aA.val="N/A";aA.ctx.ranges={};if(aB[ax+1]!==undefined){aB[ax+1].ctx.ranges.isRightOpen=false}}if(ax===0){aA.ctx.ranges.isRightOpen=false}aB[ax]={};b.extend(true,aB[ax--],aA)}V.labels=aB};var ae=function(){var aC=[],aF="",ax="",aA,az=0,aD,ay={val:undefined,ctx:{path:{}}},aE;R=0,E=0;if(A&&A.length>0&&A[0].rows.length>0){var aB=A[0];aF=au(aB.col.val);aE="dii_a"+(aB.rows[0].ctx.path.aa+1);ay={val:aB.rows[0].val,ctx:{path:{}},info:aB.rows[0].info};ay.ctx.path[aE]=[aB.rows[0].ctx.path.dii];for(aA=1,aD=aB.rows.length;aA<aD;aA++){ax=aB.rows[aA].val;if(ax===ay.val||B(aC,ax)){ay.ctx.path[aE].push(aB.rows[aA].ctx.path.dii)}else{aC[az]={};ay.val=aa(ay);b.extend(true,aC[az++],ay);ay.val=ax;ay.ctx={path:{}};ay.ctx.path[aE]=[aB.rows[aA].ctx.path.dii]}}aC[az]={};ay.val=aa(ay);b.extend(true,aC[az],ay);R=aC.length}if(av&&av.length>0){var aw=av[0],aG=[];aF=(aF==="")?au(aw.col.val):aF+" / "+au(aw.col.val);aE="dii_a"+(aw.rows[0].ctx.path.aa+1);ay={val:aw.rows[0].val,ctx:{path:{}},info:aw.rows[0].info},az=0;ay.ctx.path[aE]=[aw.rows[0].ctx.path.dii];for(aA=1,aD=aw.rows.length;aA<aD;aA++){ax=aw.rows[aA].val;if(ax===ay.val||B(aG,ax)){ay.ctx.path[aE].push(aw.rows[aA].ctx.path.dii)}else{aG[az]={};ay.val=aa(ay);b.extend(true,aG[az++],ay);ay.val=ax;ay.ctx={path:{}};ay.ctx.path[aE]=[aw.rows[aA].ctx.path.dii]}}aG[az]={};ay.val=aa(ay);b.extend(true,aG[az],ay);E=aG.length;if(aC.length>0){aC=ab([aC,aG]," / ")}else{aC=aG}}if(aC.length===0){u=false}else{u=Y.visible}V={title:aF,labels:aC}};var ac=function(){var ay,az=[];var aw=s(ay,A,R);R=aw.feedsLength;var ax=s(ay,av,E);E=ax.feedsLength;if(ax.labels.length>0){if(aw.labels.length>0){if(aw.MNDInfo.MNDIndex===undefined&&ax.MNDInfo.MNDIndex===undefined){az=ab([aw.labels,ax.labels]," / ");ay=aw.title+" / "+ax.title}else{if((aw.MNDInfo.MNDIndex!==undefined&&!aw.MNDInfo.hasOnlyMND)||(ax.MNDInfo.MNDIndex!==undefined&&!ax.MNDInfo.hasOnlyMND)){az=ab([aw.labels,ax.labels]," - ");ay=aw.title+" - "+ax.title}else{if(aw.MNDInfo.MNDIndex!==undefined&&aw.MNDInfo.hasOnlyMND){az=ax.labels;ay=ax.title}else{az=aw.labels;ay=aw.title}}}}else{az=ax.labels;ay=ax.title}}else{az=aw.labels;ay=aw.title}if(az.length===0){u=false}else{u=Y.visible}V={title:ay,labels:az}};var s=function(aF,aG,ay){var aC=[],aH=[],ax=" / ",aw=" - ";var aE,aA=false,aB,az,aD;if(aG&&aG.length>0){for(aB=0,aD=aG.length;aB<aD;aB++){if(aG[aB].type!=="MND"){if(aF===undefined){aF=au(aG[aB].col.val)}else{aF=aF+ax+au(aG[aB].col.val)}aH=aG[aB].rows;for(az=0;az<aH.length;az++){if(aC[az]===undefined){aC[az]={};aC[az].val=aa(aH[az]);aC[az].ctx={path:v(aH[az].ctx.path)}}else{aC[az].val=aC[az].val+ax+aa(aH[az])}}}else{aE=aB}}ay=aC.length}if(aE!==undefined){if(aC.length>0){if(aG[aE].rows.length>1){if(aE===0){aF=c.get("IDS_DEFAULTMND")+aw+aF;aC=ab([x(aG[aE].rows),aC],aw);ay=ay*aG[aE].rows.length}else{if(aE===aG.length-1){aF=aF+aw+c.get("IDS_DEFAULTMND");aC=ab([aC,x(aG[aE].rows)],aw);ay=ay*aG[aE].rows.length}}}}else{aF=c.get("IDS_DEFAULTMND");aH=aG[aE].rows;for(az=0;az<aH.length;az++){aC[az]={};aC[az].val=aa(aH[az]);aC[az].ctx=aH[az].ctx}ay=aH.length;if(aH.length===1){aA=true}}}return{title:aF,labels:aC,feedsLength:ay,MNDInfo:{MNDIndex:aE,hasOnlyMND:aA}}};var v=function(ax){var aw={};switch(ax.aa){case 0:aw.dii_a1=ax.dii;break;case 1:aw.dii_a2=ax.dii;break;case 2:aw.dii_a3=ax.dii;break}return aw};var O=function(aC,aD,az){var aF=0,aG=0,ax=0,aH=0,aw={width:0,height:0},aE={};if(Y.visible){var aB="font-size:"+am.fontsize+"; font-weight:"+am.fontweight+"; font-family:"+am.fontfamily;N=parseInt(an.fontsize,10);var aA=w.left*N,ay=w.top*N;if(Y.isShowTitle){aw=g.measure(((Y.titleText===undefined||Y.titleText===null)?V.title:Y.titleText),aB);if(!J){ay=ay+aw.height+G*N}}D={x:aA,y:ay};aE=ad.getPreferredSize({height:aC.height-ay,width:aC.width},aD,aA,az,z,U,W);if(aE.width>0&&aE.height>0){if(!X()&&Y.isHierarchy){aG=aA+((aw.width>aE.width)?aw.width:aE.width);aF=ay+aE.height}else{if(Y.position==="top"||Y.position==="bottom"){aG=aA+aE.width;aF=aw.height+G*N+N}else{aG=aA+((aw.width>aE.width&&!ag())?aw.width:aE.width);aF=ay+aE.height}}ax=aA+(aE.minWidth?aE.minWidth:0);aH=ay+(aE.minHeight?aE.minHeight:0)}ai=false}ah={maxSizeConstant:1/3,titleSize:aw,minWidth:ax,height:aF,width:aG};if(aE.minHeight){ah.minHeight=aH}return ah};var B=function(aw,ay){for(var ax=0;ax<aw.length;ax++){if(aw[ax].val===ay){return true}}return false};var ab=function(aA,az){var aw=aA[0];var ax=function(aB){var aD=aw;aw=[];for(var aF=0;aF<aD.length;aF++){for(var aE=0;aE<aB.length;aE++){var aH=(aD[aF].val===undefined)?aD[aF].val:aD[aF].val,aG=(aB[aE].val===undefined)?aB[aE].val:aB[aE].val;var aC={path:{}};b.extend(aC.path,aD[aF].ctx.path,aB[aE].ctx.path);aw.push({val:aH+az+aG,ctx:aC})}}};for(var ay=1;ay<aA.length;ay++){ax(aA[ay])}return aw};var L=function(ax){var aw=false;if(ax.search("color")!==-1){aw=true}return aw};var t=function(ax){var aw=false;if(ax.search("shape")!==-1){aw=true}return aw};var r=function(){var aw=false;if(Y.legendType==="ColorLegend"){aw=true}return aw};var ag=function(){var aw=false;if(Y.legendType==="SizeLegend"){aw=true}return aw};var X=function(){var aw=false;if(Y.legendType==="BubbleColorLegend"){aw=true}return aw};var aq=function(){var aw=false;if(Y.legendType==="MeasureBasedColoringLegend"){aw=true}return aw};var au=function(ax){var aw=c.get("IDS_ISNOVALUE");if(ax===null||ax===undefined){return aw}else{return ax}};var aa=function(ay){var ax;if(ay.info){var aw=ay.info.customlabel;if(aw){if(aw.type==="url"){ax=ay.val}else{if(aw.type==="string"){ax=aw.val}}}else{ax=ay.val}}else{ax=ay.val}ax=au(ax);return ax};var x=function(ax){for(var aw=0;aw<ax.length;++aw){ax[aw].val=au(ax[aw].val)}return ax};n=F.props(null);ar.properties(null);return ar};return j});sap.riv.module({qname:"sap.viz.modules.manifests.Legend",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.legend",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.legend",type:b.Module.Type.Supplementary,name:"legend",description:"The legend is a box containing a symbol and name for each series item or point item in the chart.",properties:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of legend."},title:{name:"title",description:"Settings for legend title.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set visibility of legend title."},text:{name:"text",supportedValueType:"String",defaultValue:null,description:"Set text of legend title."}}},formatString:{name:"formatString",supportedValueType:"String",defaultValue:null,description:"Set format string of legend.",isExported:false},isHierarchical:{name:"isHierarchical",supportedValueType:"Boolean",defaultValue:false,description:"Set hierarchy legend. Supported only when legend is located in the right of chart.",isExported:true},position:{name:"position",supportedValueType:"List",supportedValues:["right"],defaultValue:"right",description:"Set legend position. Only support legend is located in the right side.",isExported:false},type:{name:"type",supportedValueType:"List",supportedValues:["ColorLegend","BubbleColorLegend","SizeLegend","MeasureBasedColoringLegend"],defaultValue:"ColorLegend",description:"Set legend type of Bubble chart. Non-bubble chart is not supported.",isExported:false},alignment:{name:"alignment",supportedValueType:"List",supportedValues:["start","middle","end"],defaultValue:"start",description:"Set alignment of legend.",isExported:false},drawingEffect:{name:"drawingEffect",supportedValueType:"List",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Set drawing effect of legend.",isExported:true}},css:{".viz-legend-title.v-title":{description:"Define style for the legend title.",value:{fill:"black","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"14px","font-weight":"bold"}},".viz-legend-valueLabel.v-label":{description:"Define style for the legend label.",value:{fill:"black","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"12px","font-weight":"normal"}}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.title",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(b,c,a,d){var e=function(f,m){var g=500,l=100;var j=null;var o={},n={width:500,height:100},p=undefined;var h=function(q){if(o.visible){d.drawBound(q,g,l);k();var r=this.selectAll("text.v-title").data([p]);r.exit().remove();r.enter().append("text").attr("class","v-title viz-title-label");m.styleManager.queryDefault("v-title").toAttrs(r);r.attr("text-anchor",function(){if(o.alignment=="right"){return"end"}else{if(o.alignment=="left"){return"start"}else{return"middle"}}}).attr("x",function(){if(o.alignment=="right"){return g}else{if(o.alignment=="left"){return 0}else{return(g)/2}}}).attr("y",l/2);b.ellipsis(p,r.node(),g,j)}return h};h.width=function(q){if(!arguments.length){return g}g=q;return h};h.height=function(q){if(!arguments.length){return l}l=q;return h};h.size=function(q){if(!arguments.length){return n}n=q;return h};h.properties=function(q){if(!arguments.length){return o}a.extend(true,o,q);if(o.text===undefined||o.text===null){p=c.get("IDS_DEFAULTCHARTTITLE")}else{p=o.text}return h};h.getPreferredSize=function(){if(o.visible){k();var q=b.measure(p,j);return{hideOversize:true,maxSizeConstant:1/3,width:q.width,height:q.height}}return{width:0,height:0}};function k(){j=m.styleManager.query("v-title").toString()}o=f.props(null);return h};return e});sap.riv.module({qname:"sap.viz.modules.manifests.Title",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.title",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.title",type:b.Module.Type.Supplementary,name:"title",description:"Settings for the chart's main title.",properties:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set visibility of chart title."},text:{name:"text",supportedValueType:"String",defaultValue:null,description:"Set chart title text."},alignment:{name:"alignment",supportedValueType:"List",supportedValues:["left","center","right"],defaultValue:"center",description:"Set chart title alignment."}},css:{".viz-title-label.v-title":{description:"Define style for the title label.",value:{"font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"16px","font-weight":"bold",fill:"#333333"}}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.feeds.Manifest",version:"4.0.1"},[{qname:"sap.viz.manifest",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"}],function Setup(a,c,b){return a.registerCategory("feeds",function(e){var d={};e.feeds.forEach(function(g){d[g.id]=g;var f=g.name;delete g.name;Object.defineProperty(g,"name",{get:function(){var h=b.get(f);if(h){return h}return f},enumerable:true})});Object.defineProperty(e,"feedsMap",{value:d,writable:false,enumerable:false,configurable:false});return e})});sap.riv.module({qname:"sap.viz.manifests.Viz",version:"4.0.1"},[{qname:"sap.viz.manifest",version:"4.0.1"},{qname:"sap.viz.feeds.Manifest",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"}],function Setup(b,h,e,a,j,m,c,g){function n(o,q){for(var p=0;p<o.length;++p){if(o[p].module.type===q){return o[p]}if(o[p].subModules){var s=n(o[p].subModules,q);if(s){return s}}}return null}function d(p,r){if(!r){return}var q,o;for(q in p){if(p.hasOwnProperty(q)&&r.hasOwnProperty(q)){o=p[q];if(o.supportedValueType==="Object"){d(o.supportedValues,r[q])}else{o.defaultValue=r[q]}}}}function l(p,r){var q,o;for(q in p){if(p.hasOwnProperty(q)){if(p[q]===null){delete p[q];continue}o=p[q];if(r){j.extend(true,o,r[q])}if(o.isExported===false){delete p[q]}else{if(o.supportedValueType==="Object"){l(o.supportedValues,r?r[q]:null);if(a.isEmptyObject(o.supportedValues)){delete p[q]}}}}}}function f(t,r){if(r){var q,p,o,u,s;r.forEach(function(v){if(v.config.configure){s=v.moduleRef;q=v.module.properties;p=v.config.configure.properties;u=v.config.configure.propertyCategory;o=v.config.configure.propertiesOverride;t[u]=j.extend(true,null,q);Object.defineProperties(t[u],{moduleRefPath:{get:(function(w){return function(){return w}}(s)),enumerable:false}});l(t[u],o);d(t[u],p)}f(t,v.subModules)})}}function k(p,o,q,r){if(o){o.forEach(function(t){var D=t.module.feeds;var z=q;var u=r;if(D){var w;var A=D.id;if(A!==undefined){var s=D.configure;w=h.get(A).feedsMap;if(s){w=e.extend(true,null,w,s)}}else{w={};D.forEach(function(E){w[E.id]=E})}var v;for(v in w){if(w.hasOwnProperty(v)){var C=w[v];if(C){C=e.extend(true,null,C);p[v]=C;if(C.type===m.Feed.Type.Dimension){var B=C.aaIndex;B+=q;if(z<B){z=B}C.aaIndex=B;var x=C.acceptMND;if(x>=0){if(r>0){x+=r}if(u<x){u=x}C.acceptMND=x}}}}}if(u>=0){u+=1}}k(p,t.subModules,z,u)})}}return b.registerCategory("viz",function(r){var q=[];var p=r.modules;for(var v in p){if(p.hasOwnProperty(v)){var w=p[v];if(w!==null){b.module.loadModule(q,w,v)}}}var o=r.feeds;var x,s,t=r.name;var u;delete r.name;Object.defineProperties(r,{allFeeds:{value:function(){if(!x){x={};k(x,q,0,-1);e.extend(true,x,o);x=d3.values(x).filter(function(A){return A})}var z=!arguments.length||arguments[0]===false?false:true;if(z===false){if(!s){s=d3.values(x).filter(function(A){if(A.min===0&&A.max===0){return false}else{return true}})}return s}else{return x}}},allProperties:{value:function(){if(!u){u={};f(u,q)}return u}},getChartPropCate:{value:function(){return n(q,"CHART").config.configure.propertyCategory}},name:{get:function(){var z=g.get(t);if(z){return z}return t},enumerable:true}});return r})});sap.riv.module({qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Title",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Legend",version:"4.0.1"},{qname:"sap.viz.modules.manifests.DataLabel",version:"4.0.1"}],function Setup(b){var a={id:"riv/base",name:"IDS_BASECHART","abstract":true,modules:{root:{id:"sap.viz.modules.rootContainer",configure:{propertyCategory:"general"},modules:{title:{id:"sap.viz.modules.title",configure:{propertyCategory:"title"}},legend:{id:"sap.viz.modules.legend",configure:{propertyCategory:"legend"}}}}},dependencies:{}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Background",version:"4.0.1"}],function Setup(b){var a={id:"riv/base/multiple",name:"IDS_BASEMULTIPLECHART",base:"riv/base","abstract":true,modules:{root:{id:"sap.viz.modules.rootContainer",configure:{propertyCategory:"general"},modules:{main:{id:"sap.viz.modules.tablecontainer",configure:{propertyCategory:"multiLayout"},modules:{xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the column axis of multiple charts.",propertyCategory:"columnAxis",properties:{title:{visible:false},gridline:{visible:true},color:"#d8d8d8",type:"category",position:"top"},propertiesOverride:{label:{isExported:false},axisline:{isExported:false},gridline:{isExported:false,color:{isExported:false},size:{isExported:false}}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the row axis of multiple charts.",propertyCategory:"rowAxis",properties:{type:"category",position:"left",title:{visible:false},color:"#d8d8d8",gridline:{visible:true}},propertiesOverride:{label:{isExported:false},axisline:{isExported:false},gridline:{isExported:false,color:{isExported:false},size:{isExported:false}}}}},plot:{id:"sap.viz.modules.xycontainer"}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"}],function Setup(b){var a={id:"riv/base/multiple/xy",name:"IDS_BASEMULTIPLEXYCHART",base:"riv/base/multiple","abstract":true,modules:{root:{id:"sap.viz.modules.rootContainer",configure:{propertyCategory:"general"},modules:{tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip"}},main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:"vertical"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rectCoordinate",visible:false,position:"inside",automaticInOutside:true,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true}}}}}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.feeds.XY",version:"4.0.1"},[{qname:"sap.viz.feeds.Manifest",version:"4.0.1"},{qname:"sap.viz.data.feed.Constants",version:"4.0.1"}],function Setup(d,c){var b={id:"regionColor",name:"IDS_REGIONCOLOR",type:c.Type.Dimension,min:0,max:2,aaIndex:2,acceptMND:1};var g={id:"primaryValues",name:"IDS_PRIMARYVALUES",type:c.Type.Measure,min:1,max:c.Constraints.INF,mgIndex:1};var f={id:"secondaryValues",name:"IDS_SECONDARYVALUES",type:c.Type.Measure,min:0,max:c.Constraints.INF,mgIndex:2};var e={id:"axisLabels",name:"IDS_AXISLABELS",type:c.Type.Dimension,min:1,max:2,acceptMND:0,aaIndex:1};var a={id:"xy",feeds:[b,e,g,f]};d.register(a)});sap.riv.module({qname:"sap.viz.modules.manifests.xy.Base",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.feeds.XY",version:"4.0.1"}],function Setup(c,b){var a={id:"sap.viz.modules.xy.base","abstract":true,type:b.Module.Type.Chart,name:"xy base module",datastructure:"DATA STRUCTURE DOC",properties:{colorPalette:{name:"colorPalette",supportedValueType:"StringArray",defaultValue:b.SAPColor,description:"Set color palette for non-dual chart. Or dual chart's color palette when MND is not fed on legend color."},primaryValuesColorPalette:{name:"primaryValuesColorPalette",supportedValueType:"StringArray",defaultValue:b.SAPColorDualAxis1,description:"Set axis 1 color palette for dual chart.",isExported:false},secondaryValuesColorPalette:{name:"secondaryValuesColorPalette",supportedValueType:"StringArray",defaultValue:b.SAPColorDualAxis2,description:"Set axis 2 color palette for dual chart.",isExported:false},drawingEffect:{name:"drawingEffect",supportedValueType:"List",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Set drawing effect of XY.",isExported:true},},events:{initialized:b.Module.Event.Initialized.desc,selectData:b.Module.Event.SelectData.desc,deselectData:b.Module.Event.DeSelectData.desc,showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},feeds:{id:"xy"},css:null,configure:null};c.register(a)});sap.riv.module({qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},[{qname:"sap.viz.data.feed.feeder",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"}],function Setup(b,e,d){var c=function(){var g=[];var h={};var f=e.get("IDS_ISNOVALUE");var j=function(k){if(k===null||k===undefined){return f}else{return k}};h.generateTooltipData=function(o,m,r,q,l,n){var p=function(S){var P;var A=false;if(m[r][0]!==undefined&&m[r][0].length>0){P=d3.merge([m[r][0],m[r][1]]);A=true}else{P=m[r]}var G={body:[],footer:[]};var I=P.length;var B=false;var E=0;var L=[S.getMeasureValuesGroupDataByIdx(0),S.getMeasureValuesGroupDataByIdx(1)];var Q=[S.getAnalysisAxisDataByIdx(0),S.getAnalysisAxisDataByIdx(1)];var H=a(Q);if(L[0]&&L[1]){B=true;E=L[0].values.length}var v=false;var x;var M=0,K=0,J=0,N;var u;var D;var z;var R;var O;var F;if(!H.hasMNDonCate&&!H.hasMNDonColor){if(Q[1]){u=0;if(L[0]){for(M=0;M<L[0].values.length;++M){D={name:j(L[0].values[M].col),val:[]};for(K=0,N=L[0].values[M].rows.length;K<N;++K){z=u*N+K;R=[];for(J=0;J<Q[1].values.length;++J){R.push(Q[1].values[J].rows[K])}O={shape:l[z%l.length],color:q[z%q.length],label:R,value:P[z].val===" "?f:n===undefined?j(P[z].val):n(P[z].val),valueAxis:0};D.val.push(O)}G.body.push(D);++u}}if(L[1]){for(M=0;M<L[1].values.length;++M){D={name:j(L[1].values[M].col),val:[]};for(K=0,N=L[1].values[M].rows.length;K<N;++K){z=u*N+K;R=[];for(J=0;J<Q[1].values.length;++J){R.push(Q[1].values[J].rows[K])}O={shape:l[z%l.length],color:q[z%q.length],label:R,value:P[z].val===" "?f:n===undefined?j(P[z].val):n(P[z].val),valueAxis:1};D.val.push(O)}G.body.push(D);++u}}}else{D={name:j(L[0].values[0].col),val:[]};O={shape:l[0%l.length],color:q[0%q.length],label:null,value:P[0].val===" "?f:n===undefined?j(P[0].val):n(P[0].val),valueAxis:0};D.val.push(O);G.body.push(D)}for(M=0,N=Q[0].values.length;M<N;++M){F={label:Q[0].values[M].col,value:Q[0].values[M].rows[r]};G.footer.unshift(F)}}else{if(H.hasMNDonColor){for(M=0;M<Q[1].values.length;++M){if(Q[1].values[M].type==="MND"){x=Q[1].values[M].rows.length;if(M===0){v=true}break}}u=0;var w;if(L[0]){for(M=0;M<L[0].values.length;++M){D={name:j(L[0].values[M].col),val:[]};for(K=0,N=L[0].values[M].rows.length;K<N;++K){w=undefined;if(v){z=u*N+K}else{if(!A||!B){z=K*x+u}else{z=K*E+u;w=K*x+u}}R=[];for(J=0;J<Q[1].values.length;++J){if(Q[1].values[J].type!=="MND"){R.push(Q[1].values[J].rows[K])}}O={shape:w!==undefined?l[w%l.length]:l[z%l.length],color:w!==undefined?q[w%q.length]:q[z%q.length],label:R,value:P[z].val===" "?f:n===undefined?j(P[z].val):n(P[z].val),valueAxis:0};D.val.push(O)}G.body.push(D);++u}}if(L[1]){for(M=0;M<L[1].values.length;++M){D={name:j(L[1].values[M].col),val:[]};for(K=0,N=L[1].values[M].rows.length;K<N;++K){w=undefined;if(v){z=u*N+K}else{if(!A||!B){z=K*x+u}else{z=K*(x-E)+u-E+parseInt(I*E/x,10);w=K*x+u}}R=[];for(J=0;J<Q[1].values.length;++J){if(Q[1].values[J].type!=="MND"){R.push(Q[1].values[J].rows[K])}}O={shape:w!==undefined?l[w%l.length]:l[z%l.length],color:w!==undefined?q[w%q.length]:q[z%q.length],label:R,value:P[z].val===" "?f:n===undefined?j(P[z].val):n(P[z].val),valueAxis:1};D.val.push(O)}G.body.push(D);++u}}for(M=0,N=Q[0].values.length;M<N;++M){F={label:Q[0].values[M].col,value:Q[0].values[M].rows[r]};G.footer.unshift(F)}}else{var C=null;var s;for(M=0;M<Q[0].values.length;++M){if(Q[0].values[M].type==="MND"){x=Q[0].values[M].rows.length;var t=0;if(m.length!==undefined){t=m.length}else{for(K in m){if(m.hasOwnProperty(K)){++t}}}s=t/x;if(M===0){v=true;C=Q[0].values[M].rows[parseInt(r/s,10)]}else{C=Q[0].values[M].rows[r%x]}break}}D={name:C,val:[]};if(Q[1]){if(L[0]){for(K=0,N=L[0].values[0].rows.length;K<N;++K){z=K;R=[];for(J=0;J<Q[1].values.length;++J){R.push(Q[1].values[J].rows[K])}O={shape:l[z%l.length],color:q[z%q.length],label:R,value:P[z].val===" "?f:n===undefined?j(P[z].val):n(P[z].val),valueAxis:0};D.val.push(O)}}}else{O={shape:l[0%l.length],color:q[0%q.length],label:null,value:P[0].val===" "?f:n===undefined?j(P[0].val):n(P[0].val),valueAxis:0};D.val.push(O)}G.body.push(D);for(M=0,N=Q[0].values.length;M<N;++M){if(Q[0].values[M].type!=="MND"){F={label:Q[0].values[M].col,value:null};if(v){F.value=Q[0].values[M].rows[r%s]}else{F.value=Q[0].values[M].rows[parseInt(r/x,10)]}G.footer.unshift(F)}}}}return G};var k=function(s){if(g[s]===undefined){g[s]=p(o)}return g[s]};return k(r)};return h};function a(k){var g=false;var h,f;if(k[0]){for(h=0,f=k[0].values.length;h<f;++h){if(k[0].values[h].type&&k[0].values[h].type==="MND"){g=true}}}var l=false;if(!g){if(k[1]){for(h=0,f=k[1].values.length;h<f;++h){if(k[1].values[h].type&&k[1].values[h].type==="MND"){l=true}}}}return{hasMNDonCate:g,hasMNDonColor:l}}c.formatTooltipData=function(g){var f={name:d.Module.Event.TooltipShow.name,data:g};return f};c.dataTransform=function(n){var l=n.MG1;var k=n.MG2;var s=[];var p,m;if(n.hasMND&&n.MNDOnColor&&n.MNDInner){var r=0,o=0,g=0;if(n.MG1Number){r=n.MG1Number;g=l.length/r}if(n.MG2Number){o=n.MG2Number;g=k.length/o}for(p=0;p<g;p++){for(m=0;m<r;m++){s.push(l[p*r+m])}for(m=0;m<o;m++){s.push(k[p*o+m])}}}else{if(l){for(p=0;p<l.length;p++){s.push(l[p])}}if(k){for(p=0;p<k.length;p++){s.push(k[p])}}}var q=[];var f;if(l.length!==0){f=l[0].length}else{f=k[0].length}for(m=0;m<f;m++){var h=[];for(p=0;p<s.length;p++){h.push(s[p][m])}q.push(h)}return q};return c});sap.riv.module({qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},[{qname:"sap.viz.Constants",version:"4.0.1"}],function Setup(a){var b={sap32:function(){return d3.scale.ordinal().range(a.SAPColorSingleAxis)},sap32dualaxis1:function(){return d3.scale.ordinal().range(a.SAPColorDualAxis1)},sap32dualaxis2:function(){return d3.scale.ordinal().range(a.SAPColorDualAxis2)},};return b});sap.riv.module({qname:"sap.viz.util.Scaler",version:"4.0.1"},[],function Setup(){var a={getRoughTickNum:function(e,d){var c=2;var b=-1;if(!d||d<c){var g=e.range();var f=Math.abs(g[0]-g[g.length-1]);if(f>10){b=c+Math.round(f/100)}else{b=c}}else{b=d}e.tickHint=b;return b},toFixedNumber:function(c){if((typeof c)==="object"&&c.length){for(var b=0;b<=(c.length-1);b++){if((typeof c[b])==="number"){c[b]=parseFloat(c[b].toFixed(8))}}}else{if((typeof c)==="number"){c=parseFloat(c.toFixed(8))}}return c},perfect:function(p,e,t){var d=p.nice();var h=2;var c=100;var k=p.domain();k=this.toFixedNumber(k);var f=k[0];var j=k[k.length-1];var r=-1;var s=-1;if(!t||t<h){r=this.getRoughTickNum(p,e)}else{s=t}if(s<0){var u=d.ticks(r);u=this.toFixedNumber(u);var n=true;var g;if(u.length==0){n=false}else{if(u.length>1){g=u[1]-u[0]}else{var q=Math.abs(k[0]-u[0]);var b=Math.abs(k[k.length-1]-u[0]);if(q>b){g=q}else{g=b}}}var l=h;if(n){l=u.length;if(k[0]<k[1]){if(u[0]!=k[0]){k[0]=u[0]-g;l++}if(u[u.length-1]!=k[k.length-1]){k[k.length-1]=u[u.length-1]+g;l++}}else{if(u[0]!=k[k.length-1]){k[k.length-1]=u[0]-g;l++}if(u[u.length-1]!=k[0]){k[0]=u[u.length-1]+g;l++}}}d.tickNum=l;d.distance=g;d.tickHint=l-1;k[0]=this.toFixedNumber(k[0]);k[k.length-1]=this.toFixedNumber(k[k.length-1]);d.domain(k)}else{this.perfect(d,s);if(d.tickNum>s){var m=s;for(;m>=h;){m--;this.perfect(d,m);if(d.tickNum<=s){break}}}if(d.tickNum<s){var o=(s-d.tickNum);var k=d.domain();for(;o>0;){if(k[0]<k[1]){if(Math.abs(k[1]-j)>Math.abs(f-k[0])){k[0]-=d.distance}else{k[1]+=d.distance}o--;d.tickNum++}else{if(Math.abs(k[1]-j)>Math.abs(f-k[0])){k[0]+=d.distance}else{k[1]-=d.distance}o--;d.tickNum++}}d.tickHint=d.tickNum-1;k[0]=parseFloat(k[0].toFixed(8));k[k.length-1]=parseFloat(k[k.length-1].toFixed(8));d.domain(k)}}return d},perfectDual:function(f,c){this.perfect(f);this.perfect(c);var q=f.domain();var p=c.domain();var g=f.range();var d=c.range();if((q[0]>q[q.length-1]&&p[0]<p[p.length-1])||(q[0]<q[q.length-1]&&p[0]>p[p.length-1])||(q[0]<0&&q[q.length-1]<0)||(p[0]<0&&p[p.length-1]<0)||(q[0]>0&&q[q.length-1]>0)||(p[0]>0&&p[p.length-1]>0)||(Math.abs(g[0]-g[g.length-1])!=Math.abs(d[0]-d[d.length-1]))){return}var o=0;var n=0;var m=0;var l=0;var k=f.tickNum;var h=c.tickNum;var s=(q[q.length-1]-q[0])/(k-1);s=parseFloat(s.toFixed(8));for(var j=0;j<k;j++){var e=q[0]+j*s;if(e>0){o++}else{if(e<0){n++}}}var r=(p[p.length-1]-p[0])/(h-1);r=parseFloat(r.toFixed(8));for(var j=0;j<h;j++){var e=p[0]+j*r;if(e>0){m++}else{if(e<0){l++}}}if(o>m){var b=o-m;if(p[0]<p[p.length-1]){p[p.length-1]+=(b*Math.abs(r));c.tickNum+=b}else{if(p[0]>p[p.length-1]){p[0]+=(b*Math.abs(r));c.tickNum+=b}}}else{if(o<m){var b=m-o;if(q[0]<q[q.length-1]){q[q.length-1]+=(b*Math.abs(s));f.tickNum+=b}else{if(q[0]>q[q.length-1]){q[0]+=(b*Math.abs(s));f.tickNum+=b}}}}if(n>l){var b=n-l;if(p[0]<p[p.length-1]){p[0]-=(b*Math.abs(r));c.tickNum+=b}else{if(p[0]>p[p.length-1]){p[p.length-1]-=(b*Math.abs(r));c.tickNum+=b}}}else{if(n<l){var b=l-n;if(q[0]<q[q.length-1]){q[0]-=(b*Math.abs(s));f.tickNum+=b}else{if(q[0]>q[q.length-1]){q[q.length-1]-=(b*Math.abs(s));f.tickNum+=b}}}}q[0]=parseFloat(q[0].toFixed(8));q[1]=parseFloat(q[1].toFixed(8));p[0]=parseFloat(p[0].toFixed(8));p[1]=parseFloat(p[1].toFixed(8));f.domain(q);c.domain(p);f.tickHint=f.tickNum-1;c.tickHint=c.tickNum-1}};return a});sap.riv.module({qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},[],function Setup(){return function(j){var e;var d;var c=false;var f=true;var k=false;var l=false;var n=j.getMeasureValuesGroupDataByIdx(1);var p=j.getMeasureValuesGroupDataByIdx(0);var g=j.getAnalysisAxisDataByIdx(1);var b=j.getAnalysisAxisDataByIdx(0);if((n&&n.values&&n.values.length>0)){l=true}if(b&&b.values&&b.values.length>0){if(b.values[0].type==="MND"){c=true;f=false;k=false}else{if(b.values[b.values.length-1].type==="MND"){c=true;f=false;k=true}}}if(g&&g.values&&g.values.length>0){if(g.values[0].type==="MND"){c=true;k=false}else{if(g.values[g.values.length-1].type==="MND"){c=true;k=true}}}function a(u){var v=[];var t,s,r;var w;if(u.values.length<=0){return v}if(c&&!f){for(s=0;s<u.values[0].rows.length;++s){w=new Array(u.values.length*u.values[0].rows[0].length);for(r=0;r<u.values[0].rows[0].length;++r){for(t=0;t<u.values.length;++t){var q={};q.val=u.values[t].rows[s][r].val;q.ctx=u.values[t].rows[s][r].ctx;if(k){w[r*u.values.length+t]=q}else{w[t*u.values[0].rows[0].length+r]=q}}}v.push(w)}}else{v=new Array(u.values.length*u.values[0].rows.length);for(t=0;t<u.values.length;++t){for(s=0;s<u.values[0].rows.length;++s){w=u.values[t].rows[s];if(!c||!k){v[t*u.values[0].rows.length+s]=w}else{v[s*u.values.length+t]=w}}}}return v}function m(s,r){for(var q=0;q<r.length;++q){s[q]=s[q].concat(r[q])}}function h(B){var r=[];var z=p.values.length;var w=n.values.length;var A=p.values[0].rows[0].length;var u=new Array(p.values[0].rows.length);var q=0;var v,t,s;for(v=0;v<u.length;++v){u[v]=[]}if(k){var x=p.values[0].rows.length;for(v=0;v<A;++v){for(t=0;t<z;++t){for(s=0;s<x;++s){u[s][q]=p.values[t].rows[s][v]}r[q]=0;++q}for(t=0;t<w;++t){for(s=0;s<x;++s){u[s][q]=n.values[t].rows[s][v]}r[q]=1;++q}}}else{for(v=0;v<z;++v){for(t=0;t<A;++t){r[q++]=0}m(u,p.values[v].rows)}for(v=0;v<w;++v){for(t=0;t<A;++t){r[q++]=1}m(u,n.values[v].rows)}}B.MG1=u;B.MG1Number=p.values.length;B.color=r}var o={};if(l&&!f){h(o)}else{e=a(p);o.MG1Number=p.values.length;if(l){d=a(n);o.MG2Number=n.values.length}o.MG1=e;o.MG2=d}o.hasMND=c;o.MNDOnColor=f;o.MNDInner=k;return o}});sap.riv.module({qname:"sap.viz.modules.area",version:"4.0.1"},[{qname:"sap.viz.modules.util.dataUtil",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.BoundingBox",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.util.DrawUtil",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.base.UADetector",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(f,g,j,a,q,d,n,k,e,m,p,l,b,h,c,o){return function(I,V){var A="v-marker-selected",av="v-marker-hover",B="v-datapoint";var r,u;var Q=null,Z;var X=b.guid();var v=null;var ai;var af="#FFFFFF";var Y="#cccccc";var ac="#333333";var L=d3.scale.ordinal();var am;var ah;var ar;var U,ao,F;var M=new g("showTooltip","hideTooltip","initialized","startToInit");var T=V.effectManager;var S={data:[],scale:d3.scale.linear(),colorPalette:null,selectedMarkers:null,markers:[],areas:[],bottomValue:null,topValue:null};var J=[];var ag=false;var aq=0;var s=null;var at=false,E=true,ax=false,C=false;var ay;var R=0.4;var ae=false;function K(){var az=false;if(E){az=Z.animation.dataLoading}else{if(C){az=Z.animation.dataUpdating}else{if(ax){az=Z.animation.resizing}}}return az}function ad(az){o.drawBound(az,r,u);ai=p();G(az);at=false,E=false,ax=false,C=false;return ad}function ak(aD,az){var aC=new Array(aD.data[0].length);var aB;for(aB=0;aB<aC.length;++aB){aC[aB]=0}for(aB=0;aB<aD.data.length;++aB){for(var aA=0;aA<aD.data[aB].length;++aA){if(!k.isNoValue(aD.data[aB][aA].val)){aC[aA]+=aD.data[aB][aA].val;if(az.min===null){az.min=aC[aA];az.max=aC[aA]}else{az.min=az.min>aC[aA]?aC[aA]:az.min;az.max=az.max>aC[aA]?az.max:aC[aA]}}}}}function al(aB){var aA={min:null,max:null};if(!aB.data||aB.data.length===0){return aA}if(Z.mode==="percentage"){aA.min=0;aA.max=1;return aA}ak(aB,aA);if(k.isNoValue(aA.max)){return null}if(aA.min>=0){aA.min=0;aA.max+=aA.max*5/(Z.orientation==="vertical"?u:r)}else{if(aA.max<=0){aA.max=0;aA.min+=aA.min*5/(Z.orientation==="vertical"?u:r)}else{var az=(aA.max-aA.min)*5/(Z.orientation==="vertical"?u:r);aA.min-=az;aA.max+=az}}if(aA.min===0&&aA.max===0){aA.max=1}return aA}function t(){J=[];var aA=0,az=0;S.colorPalette=Z.colorPalette;for(aA=0;aA<S.data.length;++aA){J.push(S.colorPalette[aA%S.colorPalette.length])}}function O(aB){var aA=(Z.orientation==="vertical"?[u,0]:[0,r]);if(aB.data&&aB.data.length>0){if(aB.topValue===null||aB.topValue===undefined){var az=al(aB);if(!az){aB.scale.domain([0,1]).range(aA)}else{aB.scale.domain([az.min,az.max]).range(aA)}}else{aB.scale.domain([aB.bottomValue,aB.topValue]).range(aA)}if(!aB.manualRange){q.perfect(aB.scale)}else{q.getRoughTickNum(aB.scale)}}else{aB.scale.domain([0,0]).range([0,0])}return aB.scale}function x(){if(!(a.isExist(r)&&a.isExist(u)&&a.isExist(Q))){return}var aB=[];var az=S.data[0].length;for(var aA=0;aA<az;aA++){aB.push(aA)}L.domain(aB).rangeBands(Z.orientation==="vertical"?[0,r]:[u,0]);O(S)}function aw(aB,aC,aA){if(aB===undefined||aB===null){return}var az=0;for(az=0;az<S.data.length;++az){if(!S.selectedMarkers[az][aB]){ab(az,aB,aA,S);if(aq>0){d3.select(S.markers[az][aB]).attr("opacity",R).attr("visibility",aC)}else{d3.select(S.markers[az][aB]).attr("opacity",1).attr("visibility",aC)}}}}function ab(aA,az,aB,aD){var aC="transparent";if(aB===av){aC=af}else{if(aB===A){aC=ac}}d3.select(aD.markers[aA][az]).attr("class",B+" "+aB).attr("stroke",aC)}function ap(aB){var aA=aB/L.rangeBand();aA=Math.floor(aA);var az=0;az=S.data[0].length;if(aA>az-1){aA=az-1}if(aA<0){aA=0}return(Z.orientation==="vertical"?aA:az-1-aA)}function W(aG,aA){var az=false,aF,aB;for(var aE=0;aE<aG.markers.length&&!az;aE++){var aD=aG.markers[aE];for(var aC=0;aC<aD.length&&!az;aC++){if(aD[aC]===aA){az=true;aF=aE;aB=aC}}}if(!az){return false}if(aG.selectedMarkers[aF][aB]){return true}ab(aF,aB,A,aG);d3.select(aG.markers[aF][aB]).attr("opacity",1).attr("visibility","visible");F.selectAll(".v_areabg").attr("opacity",R).attr("stroke-opacity",R);d3.select(aG.areas[aF][aB]).attr("opacity",1).attr("visibility","visible");aG.selectedMarkers[aF][aB]=true;++aq}function z(aG,aA){var aB=ah;var az=false,aF;for(var aE=0;aE<aG.markers.length&&!az;aE++){var aD=aG.markers[aE];for(var aC=0;aC<aD.length&&!az;aC++){if(aD[aC]===aA){az=true;aF=aE;aB=aC}}}if(!az){return false}if(!aG.selectedMarkers[aF][aB]){return true}if(aB===ah){ab(aF,aB,av,aG)}else{ab(aF,aB,"",aG)}d3.select(aG.markers[aF][aB]).attr("opacity",R);d3.select(aG.areas[aF][aB]).attr("visibility","hidden");if(aB!==ah){d3.select(aG.markers[aF][aB]).attr("visibility","hidden")}aG.selectedMarkers[aF][aB]=false;--aq}function P(aG){var az={data:[],bgAreaData:[],accuVal:[]};var aE,aC;var aF=[];var aA=[];var aB=new Array(aG[0].length);if(Z.mode==="percentage"&&ae){aa(aG);ae=false}for(aE=0;aE<aB.length;++aE){aB[aE]=0}az.bgAreaData=new Array(aG.length);for(aE=0;aE<aG.length;++aE){az.bgAreaData[aE]=[];az.accuVal[aE]=new Array(aG[aE].length);for(aC=0;aC<aG[aE].length;++aC){az.accuVal[aE][aC]=(aE>0?az.accuVal[aE-1][aC]:0);if(!k.isNoValue(aG[aE][aC].val)){aB[aC]++;az.accuVal[aE][aC]+=(Z.mode==="percentage"?Math.abs(aG[aE][aC].val):aG[aE][aC].val)}}}for(aE=0;aE<aG.length;++aE){for(aC=0;aC<aG[aE].length;++aC){if(!k.isNoValue(aG[aE][aC].val)){aA.push({x:aC,y:(aE>0?az.accuVal[aE-1][aC]:0)});aF.push({x:aC,y:az.accuVal[aE][aC]})}else{if(aB[aC]>0){if(aC>0&&!k.isNoValue(aG[aE][aC-1].val)){aF.push({x:aC,y:az.accuVal[aE][aC]});aF=aF.concat(aA.reverse());az.bgAreaData[aE].push(aF);aF=[];aA=[]}if(aC<aG[aE].length-1&&!k.isNoValue(aG[aE][aC+1].val)){aF.push({x:aC,y:az.accuVal[aE][aC]})}}else{if(aF.length>0){aF=aF.concat(aA.reverse());az.bgAreaData[aE].push(aF);aF=[];aA=[]}}}}if(aF.length>0){aF=aF.concat(aA.reverse());az.bgAreaData[aE].push(aF);aF=[];aA=[]}}var aD={};for(aE=0;aE<aG.length;++aE){az.data[aE]=[];for(aC=0;aC<aG[aE].length;++aC){if(aC>0){if(aB[aC-1]>0){aF.push({x:aC-0.5,y:(az.accuVal[aE][aC-1]+az.accuVal[aE][aC])/2});aA.push({x:aC-0.5,y:(aE>0?((az.accuVal[aE-1][aC-1]+az.accuVal[aE-1][aC])/2):0)})}}aF.push({x:aC,y:az.accuVal[aE][aC]});aA.push({x:aC,y:(aE>0?az.accuVal[aE-1][aC]:0)});if(aC<aG[0].length-1){if(aB[aC+1]>0){aF.push({x:aC+0.5,y:(az.accuVal[aE][aC]+az.accuVal[aE][aC+1])/2});aA.push({x:aC+0.5,y:(aE>0?((az.accuVal[aE-1][aC]+az.accuVal[aE-1][aC+1])/2):0)})}}aF=aF.concat(aA.reverse());az.data[aE].push(aF);aF=[];aA=[]}}return az}function H(aF){if(!aF.data||aF.data.length===0){return}var aA=P(aF.data);var aD=F.selectAll(".v-areagroup").data(aA.bgAreaData);aD.enter().append("svg:g").attr("class","v-areagroup");aD.exit().remove();var aB=(Z.orientation==="vertical"?d3.svg.line().x(function(aI,aH){return L(aI.x)+L.rangeBand()/2}).y(function(aH){return aF.scale(aH.y)}):d3.svg.line().y(function(aI,aH){return L(aI.x)+L.rangeBand()/2}).x(function(aH){return aF.scale(aH.y)}));aD.attr("transform",function(aJ,aH){var aI=d3.select(this).selectAll(".v-areabg").data(aJ);aI.enter().append("svg:path").attr("stroke-linejoin","round").attr("class","v-areabg").attr("opacity",1).attr("stroke-opacity",1);aI.exit().remove();aI.attr("transform",function(aL,aK){d3.select(this).attr("d",aB(aL)).attr("stroke",function(){var aM={graphType:"line",fillColor:aF.colorPalette[aH%aF.colorPalette.length]};return T.register(aM)}).attr("stroke-width",1).attr("fill",function(){var aM={drawingEffect:Z.drawingEffect,graphType:"rectangle",direction:Z.orientation,fillColor:aF.colorPalette[aH%aF.colorPalette.length]};return T.register(aM)})})});aB=(Z.orientation==="vertical"?d3.svg.line().x(function(aI,aH){return(aI.x+0.5)*L.rangeBand()}).y(function(aH){return aF.scale(aH.y)}):d3.svg.line().y(function(aI,aH){return u-(aI.x+0.5)*L.rangeBand()}).x(function(aH){return aF.scale(aH.y)}));aF.areas=[];aD=ao.selectAll(".v-area").data(aA.data);aD.enter().append("svg:g").attr("class","v-area");aD.exit().remove();aD.attr("transform",function(aJ,aH){markerArr=[];var aI=d3.select(this).selectAll(".v-areashape").data(aJ);aI.enter().append("svg:path").attr("stroke-linejoin","round").attr("class","v-areashape");aI.exit().remove();aI.attr("transform",function(aK,aL){markerArr.push(d3.select(this).node());d3.select(this).attr("d",aB(aA.data[aH][aL])).attr("stroke",function(){var aM={graphType:"line",fillColor:aF.colorPalette[aH%aF.colorPalette.length]};return T.register(aM)}).attr("stroke-width",1).attr("visibility","hidden").attr("fill",function(){var aM={drawingEffect:Z.drawingEffect,graphType:"rectangle",direction:Z.orientation,fillColor:aF.colorPalette[aH%aF.colorPalette.length]};return T.register(aM)})});aF.areas.push(markerArr)});aF.selectedMarkers=new Array(aF.data.length);aF.markers=[];for(var aC=0;aC<aF.data.length;++aC){aF.selectedMarkers[aC]=[];for(var aE=0;aE<aF.data[0].length;++aE){aF.selectedMarkers[aC][aE]=false}}var az=U.selectAll("g.v-marker").data(aF.data);az.enter().append("svg:g").attr("class","v-marker");az.exit().remove();var aG="hidden";az.attr("transform",function(aK,aH){var aJ=d3.select(this).selectAll(".v-datashape").data(aK);var aI=aJ.enter().append("g").attr("class","v-datashape");m.createElements(aI,{shape:Z.marker.shape,className:B});aJ.exit().remove();markerArr=[];aJ.attr("transform",function(aL,aM){if(k.isNoValue(aL.val)){d3.select(this).remove();markerArr.push(null);return}markerArr.push(d3.select(this).selectAll("path").node());var aN={drawingEffect:Z.drawingEffect,graphType:Z.marker.shape,fillColor:aF.colorPalette[aH%aF.colorPalette.length],direction:"vertical",rx:Z.marker.size/2,ry:Z.marker.size/2,borderWidth:2,borderColor:Z.style.marker.stroke,strokeOpacity:0.3,node:d3.select(this).select("path"),visibility:aG};m.drawGraph(aN,T);return Z.orientation==="vertical"?"translate("+(L(aM)+L.rangeBand()/2)+","+aF.scale(aA.accuVal[aH][aM])+")":"translate("+aF.scale(aA.accuVal[aH][aM])+","+(L(aM)+L.rangeBand()/2)+")"});aF.markers.push(markerArr)})}function an(aC,az){if(aq===0||!aC.selectedMarkers||aC.selectedMarkers.length===0){return}for(var aA=0;aA<aC.selectedMarkers.length;++aA){for(var aB=0;aB<aC.selectedMarkers[0].length;++aB){if(!aC.selectedMarkers[aA][aB]){continue}d3.select(aC.areas[aA][aB]).attr("visibility","hidden");if(aB===az){ab(aA,aB,av,aC);d3.select(aC.markers[aA][aB]).attr("opacity",R).attr("visibility","visible")}else{ab(aA,aB,"",aC);d3.select(aC.markers[aA][aB]).attr("visibility","hidden")}aC.selectedMarkers[aA][aB]=false}}}function aj(){var aA=Z.orientation==="vertical"?(d3.event?d3.event.clientX:0)-ar.node().getBoundingClientRect().left:(d3.event?d3.event.clientY:0)-ar.node().getBoundingClientRect().top;var az=ap(aA);an(S,az);aq=0}function G(aA){s=aA;D();M.startToInit();if(!ar){ar=aA.append("svg:g")}if(!U){F=ar.append("svg:g").attr("class","v-areasbg");ao=ar.append("svg:g").attr("class","v-areas");if(!am){am=ar.append("svg:line").attr("stroke",Y).attr("class","v-hoverline viz-plot-hoverline")}U=ar.append("svg:g").attr("class","v-markers v-datashapesgroup")}if(Z.orientation==="vertical"){am.attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",u).attr("stroke-width",1).attr("visibility","hidden").attr("stroke-linejoin","round")}else{am.attr("x1",0).attr("y1",0).attr("x2",r).attr("y2",0).attr("stroke-width",1).attr("stroke",Y).attr("visibility","hidden").attr("stroke-linejoin","round")}aq=0;w();if(!ay){ay=ar.append("svg:defs").append("svg:clipPath").attr("id","clip1_"+X).append("rect")}if(Z.orientation==="vertical"){ay.attr("x",0).attr("y",0).attr("height",u).attr("width",(K()?0:r))}else{ay.attr("x",0).attr("y",(K()?u:0)).attr("height",(K()?0:u)).attr("width",r)}F.attr("clip-path","url(#clip1_"+X+")").attr("fill","none");U.attr("clip-path","url(#clip1_"+X+")").attr("fill","none");H(S);if(K()){ag=true;var aC=0;var az=(Z.orientation==="vertical"?r/50:u/50);var aB=setInterval(function(aD){if(aC>=(Z.orientation==="vertical"?r:u)){clearInterval(aB);M.initialized();U.attr("clip-path",null)}else{aC+=az;if(Z.orientation==="vertical"){ay.attr("width",aC)}else{ay.attr("height",aC);ay.attr("y",u-aC)}}},20)}else{M.initialized();U.attr("clip-path",null);F.attr("clip-path",null)}}function aa(aD){if(aD===null||aD===undefined||aD[0].length===0){return}var aC=0,aB=0;var az=new Array(aD[0].length);var aA=new Array(aD[0].length);for(aC=0;aC<az.length;++aC){az[aC]=0;aA[aC]=0}for(aC=0;aC<aD.length;++aC){for(aB=0;aB<aD[aC].length;++aB){if(!k.isNoValue(aD[aC][aB].val)){az[aB]+=Math.abs(aD[aC][aB].val);if(aD[aC][aB].val===0){++aA[aB]}}}}for(aC=0;aC<aD.length;++aC){for(aB=0;aB<aD[aC].length;++aB){aD[aC][aB].value=aD[aC][aB].val;if(!k.isNoValue(aD[aC][aB].val)){if(az[aB]>0){aD[aC][aB].value=aD[aC][aB].val;aD[aC][aB].val=aD[aC][aB].val/az[aB]}else{if(aA[aB]>0){aD[aC][aB].val=1/aA[aB]}}}}}}function w(){F.selectAll(".v-areabg").attr("opacity",1).attr("stroke-opacity",1);ao.selectAll(".v-areashape").attr("visibility","hidden");U.selectAll("."+B).attr("opacity",1)}function N(){F.selectAll(".v-areabg").attr("opacity",R).attr("stroke-opacity",R);ao.selectAll(".v-areashape").attr("visibility","hidden");U.selectAll("."+B).attr("opacity",R)}function D(){if(!Z.style){Z.style={}}var az;if(!Z.style.marker){Z.style.marker={}}Z.style.marker.stroke="transparent";az=V.styleManager.queryDefault("v-hoverline");if(az){if(az.stroke){Y=az.stroke}}}function au(){S.topValue=null;S.bottomValue=null}ad.width=function(az){if(!arguments.length){return r}ax=(!ax&&(az===r))?false:true;r=az;x();return ad};ad.height=function(az){if(!arguments.length){return u}ax=(!ax&&(az===u))?false:true;u=az;x();return ad};ad.afterUIComponentAppear=function(){M.initialized()};ad.properties=function(az){if(!arguments.length){return Z}h.extend(true,Z,az);x();Z.marker.size=4;Z.marker.shape="circle";t();return ad};ad.primaryAxisColor=function(){return null};ad.dispatch=function(az){if(!arguments.length){return M}M=az;return ad};ad.data=function(az){if(!arguments.length){return Q}C=true;at=false;if(!f().hasSameSchema(Q,az)){at=true}allDataIsNaN=true;ae=true;Q=az;var aA=j(Q);S.data=aA.MG1;au();v=p.dataTransform(aA);x();t();return ad};ad.dataLabel=function(az){};ad.primaryAxisTitle=function(aA){if(!arguments.length){var aD=Q.getMeasureValuesGroupDataByIdx(0),aC=[];if(aD){for(var aB=0,az=aD.values.length;aB<az;aB++){if(aD.values[aB].col!==null&&aD.values[aB].col!==undefined){aC.push(aD.values[aB].col)}else{aC.push(e.get("IDS_ISNOVALUE"))}}}return aC.join("/")}return this};ad.getColorPalette=function(){if(J.length===0){t()}return J};ad.shapePalette=function(){if(!arguments.length){return[Z.marker.shape]}return ad};ad.primaryScale=function(az){if(!arguments.length){return S.scale}S.scale=az;return ad};ad.categoryScale=function(az){if(!arguments.length){return L}L=az;return ad};ad.primaryDataRange=function(az){if(!arguments.length){return{min:S.scale.domain()[0],max:S.scale.domain()[1]}}if(az!==null){S.topValue=az.max;S.bottomValue=az.min;if(az.from==="axis"){S.manualRange=true}if(a.isExist(r)&&a.isExist(u)){O(S)}}return ad};ad.parent=function(){return s};ad.size=function(az,aA){if(arguments.length===0){return{width:ad.width(),height:ad.height()}}ad.width(az).height(aA);return ad};ad.clear=function(az){aj();if(az===null||az===undefined){w()}else{N()}};ad.highlight=function(aC){var aA;if(aC instanceof Array){aA=aC}else{aA=[];aA.push(aC)}for(var aB=0;aB<aA.length;aB++){var az=aA[aB];W(S,az)}};ad.unhighlight=function(aC){var aA;if(aC instanceof Array){aA=aC}else{aA=[];aA.push(aC)}for(var aB=0;aB<aA.length;aB++){var az=aA[aB];z(S,az)}};ad.hoverOnPoint=function(az){var aD=az.x,aC=az.y;if(Z.orientation==="vertical"){if(aD<0||aD>r){return}}else{if(aC<0||aC>u){return}}var aA=ap(Z.orientation==="vertical"?aD:aC);if(ah===aA){return}var aG=L(aA)+L.rangeBand()/2;aw(ah,"hidden","");aw(aA,"visible",av);ah=aA;if(Z.hoverline.visible){am.attr(Z.orientation==="vertical"?"x1":"y1",aG).attr(Z.orientation==="vertical"?"x2":"y2",aG);am.attr("visibility","visible")}else{am.attr("visibility","hidden")}if(Z.tooltip.enabled){var aF={};var aB=ar.node().getTransformToElement(ar.node().ownerSVGElement);if(Z.orientation==="vertical"){aF.x=L(aA)+L.rangeBand()/2+aB.e;aF.y=u/4+aB.f}else{aF.x=r*3/4+aB.e;aF.y=aG+aB.f}var aE=ai.generateTooltipData(Q,v,aA,J,[Z.marker.shape]);aE.point=aF;aE.plotArea={x:aB.e,y:aB.f,width:r,height:u};M.showTooltip(p.formatTooltipData(aE))}};ad.blurOut=function(){am.attr("visibility","hidden");aw(ah,"hidden","");ah=null;if(Z.tooltip.enabled){M.hideTooltip()}};ad.dataLabel=function(az){};Z=I.props(null);return ad}});sap.riv.module({qname:"sap.viz.modules.manifests.xy.Area",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.area",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Base",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.area",name:"area",base:"sap.viz.modules.xy.base",properties:{tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."}},isExported:false,description:"Settings for tooltip related properties."},mode:{name:"mode",supportedValueType:"List",supportedValues:["comparison","percentage"],defaultValue:"comparison",description:"Set dispaly mode of area chart.",isExported:false},orientation:{name:"orientation",supportedValueType:"List",supportedValues:["vertical","horizontal"],defaultValue:"vertical",description:"vertical or horizontal area chart.",isExported:false},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data loading animation of plot area."},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data updating animation of plot area."},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable resizing animation of plot area."}},description:"Settings for tooltip related properties."},hoverline:{name:"hoverline",supportedValueType:"Object",description:"Settings for hoverline properties.",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set to enabled/disabled hoverline or not."}}},marker:{name:"marker",description:"Settings for marker/data point graphics",supportedValueType:"Object",isExported:false,supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set show marker or not.",isExported:false},shape:{name:"shape",supportedValueType:"List",supportedValues:["circle","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"],defaultValue:"circle",description:"Set marker shapes for chart."},size:{name:"size",supportedValueType:"PositiveInt",defaultValue:"4",min:"4",max:"32",description:"Set marker size of data point, range[4,32]. When beyond the range, the marker size is default size 4."}}}},css:{".viz-plot-hoverline.v-hoverline":{description:"Define style for hoverline in line.",value:{stroke:"#cccccc"}}},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiAreaChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Area",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_area",name:"IDS_MULTIAREACHART",base:"riv/base/multiple/xy",modules:{root:{modules:{legend:{data:{aa:[3]}},tooltip:{configure:{properties:{chartType:"line",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction"}},main:{configure:{properties:{mergeDataRange:["primary"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart.",propertyCategory:"xAxis",properties:{title:{visible:false},gridline:{visible:false},type:"category",position:"bottom"},propertiesOverride:{title:{isExported:false},gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"yAxis",properties:{type:"value",position:"left"},propertiesOverride:{title:{isExported:false}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",orientation:"vertical",automaticInOutside:false,outsidePosition:"down"},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.area",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"getColorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapePalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main",type:"initialized.interaction"},{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main",type:"hideTooltip"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.plot.dataLabel",listener:"showLabel",sourceModule:"root.main.plot.plot",type:"initialized.datalabel"},{targetModule:"root.main.plot.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot.plot",type:"startToInit.datalabel"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiHorizontalAreaChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Area",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiAreaChart",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_horizontal_area",name:"IDS_MULTIHORIZONTALAREACHART",base:"viz/multi_area",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"horizontalline",orientation:"left"}}},main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{background:{configure:{properties:{direction:"horizontal"}}},xAxis:{id:"sap.viz.modules.axis",data:null,configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis",properties:{gridline:{visible:true},type:"value",position:"bottom"},propertiesOverride:{title:{isExported:false},gridline:{isExported:true},label:{isExported:true},axisline:{isExported:true}}}},yAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the catetory axis of an XY chart.",propertyCategory:"yAxis",properties:{gridline:{visible:false},type:"category",position:"left"},propertiesOverride:{title:{isExported:false},gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",orientation:"horizontal",automaticInOutside:false,outsidePosition:"left"},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.area",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{orientation:"horizontal"}}}}}}}}}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"getColorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapePalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main",type:"initialized.interaction"},{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main",type:"hideTooltip"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiPercentageHorizontalAreaChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Area",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiHorizontalAreaChart",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_100_horizontal_area",name:"IDS_MULTIPERCENTAGEHORIZONTALAREACHART",base:"viz/multi_horizontal_area",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"horizontalline",orientation:"left",formatString:[["0.00%"],["0.00%"]]}}},main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.area",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{mode:"percentage"}}}}}}}}}}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiPercentageAreaChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Area",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"},{qname:"sap.viz.manifests.MultiAreaChart",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_100_area",name:"IDS_MULTIPERCENTAGEAREACHART",base:"viz/multi_area",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"line",orientation:"left",formatString:[["0.00%"],["0.00%"]]}}},main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{yAxis:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.area",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true}}}}}}}}}}};a.register(b)});sap.riv.module({qname:"sap.viz.modules.manifests.xy.BaseBar",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Base",version:"4.0.1"}],function Setup(b){var a={id:"sap.viz.modules.xy.bar.base",name:"bar",base:"sap.viz.modules.xy.base","abstract":true,properties:{tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."}},isExported:false,description:"Settings for tooltip related properties."},isRoundCorner:{name:"isRoundCorner",supportedValueType:"Boolean",defaultValue:false,description:"Set enable/disable round corner of bar."},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data loading animation of plot area."},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data updating animation of plot area."},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable resizing animation of plot area."}},description:"Settings for animation of plot area."}},css:{".v-hoverline":{description:"Define style for hoverline in bar.",value:{fill:"rgba(204,204,204,1)"}}}};b.register(a)});sap.riv.module({qname:"sap.viz.modules.util.lassoSelection",version:"4.0.1"},[],function Setup(){return function(){var l={},k={},e=null;var h,r,o,q,b=false,j=null,d=null,c={},n,g,m=null;var p=function(t,s){h=$('<div id="lasso-selection-help" style="position:absolute;pointer-events:none;background:#cccccc;"></div>');n=s&&s.filter?s.filter:".v-datapoint";d=d3.select(t).select(".main").length>0?d3.select(t).select(".main")[0][0]:t;j=d3.select(d);var u=d.getBBox();m=j.insert("rect","g").attr("width",u.width).attr("height",u.height).attr("x",0).attr("y",0).attr("fill-opacity",0);r=s.lassoStart?s.lassoStart:function(){},o=s.lassoMove?s.lassoMove:function(){},lassoEnd=s.lassoEnd?s.lassoEnd:function(){};j.on("mousedown",p.start);j.on("mousemove",p.move);j.on("mouseup",p.end);return p};function f(t,s){return(t.x<=(s.x+s.width)&&s.x<=(t.x+t.width)&&t.y<=(s.y+s.height)&&s.y<=(t.y+t.height))}var a=function(s,u){c.x=s.x;c.y=s.y;c.height=u.height;c.width=u.width;var t=[];if(g==null){g=j.selectAll(n)}g.filter(function(x,v){var z=this.getBoundingClientRect();var w={x:z.left,y:z.top,width:z.width,height:z.height};if(f(w,c)){t.push(this)}});return t};p.start=function(){e=d.ownerSVGElement.getBoundingClientRect();k.x=d3.event.clientX,k.y=d3.event.clientY;l.x=k.x-e.left,l.y=k.y-e.top;h.css({left:l.x,top:l.y,width:0,height:0});h.insertBefore(d.ownerSVGElement.parentNode);var s=a({x:k.x,y:k.y},{width:0,height:0});r(s);b=true};p.move=function(){if(b){e=d.ownerSVGElement.getBoundingClientRect();var t=l.x,w=l.y,s=d3.event.clientX-e.left,v=d3.event.clientY-e.top;if(t>s){var u=s;s=t;t=u}if(w>v){var u=v;v=w;w=u}h.css({left:t,top:w,width:s-t,height:v-w})}};p.end=function(){h.css({width:0,height:0});h.remove();e=d.ownerSVGElement.getBoundingClientRect();var t=l.x,C=l.y,s=d3.event.clientX-e.left,B=d3.event.clientY-e.top;var A=k.x,v=k.y,z=d3.event.clientX,u=d3.event.clientY;if(t>s){var w=s;s=t;t=w;w=z;z=A;A=w}if(C>B){var w=B;B=C;C=w;w=u;u=v;v=w}if(t===s&&C===B){b=false}else{var x=a({x:A,y:v},{width:s-t,height:B-C});lassoEnd(x);b=false}};return p}});sap.riv.module({qname:"sap.viz.modules.bar",version:"4.0.1"},[{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.modules.util.lassoSelection",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.modules.datalabel",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(a,g,j,d,b,k,l,o,c,n,h,e,m){var f=function(H,S){var ax;var ap,ao,az,aa=[],F=0,t=0,T=false,ah=false,W=0,P=0,V=null;var p,u,G=false,s=false,af=Math.floor(Math.random()*10000),J=[],I,aC,w=false,ak=0,aj=0,aB=["squareWithRadius"],q,N=new g("selectData","deselectData","showTooltip","hideTooltip","initialized","startToInit");var R=S.effectManager;var aD=[],an=d3.scale.ordinal(),M=d3.scale.linear(),ar=d3.scale.linear();var E=null,au=[],am=null,O=true,ab=false;var aE=0,x,ai,Z=[],D;var A=true,ag=true,U=true,aw=false,ac=true,Q=1000,aA=false;var al=null,ae=null,aq=c.guid();var Y="normal";var av=false,r=false,B=false;var z;function L(){var aF=false;if(!aA){aF=A}else{if(r||B){aF=ag}else{if(av){aF=U}}}return aF}var ad=function(){aw=q.isRoundCorner;A=q.animation.dataLoading;ag=q.animation.dataUpdating;U=q.animation.resizing;O=q.tooltip.enabled;if(G&&!s){I=q.primaryValuesColorPalette;aC=q.secondaryValuesColorPalette}else{aC=q.colorPalette;I=q.colorPalette}Y=q.drawingEffect;var aJ=0;if(!s){aE=ap.length;aJ=aa[0].length}else{aJ=aa.length*aa[0].length}J=[];var aI=0;if(w){var aG=0,aF=0,aH=0;for(aI=0;aI<aE;aI++){J.push(I[aI%I.length]);aG++;if(aG===ak){aF=0;for(;aH<=(aJ-aE);aH++){if(aF>=aj){aG=0;break}J.push(aC[aH%aC.length]);aF++}}}}else{for(aI=0;aI<aJ;aI++){if(aI<aE){J.push(I[aI%I.length])}else{if(G&&!s){J.push(aC[(aI-aE)%aC.length])}}}}};var K=function(aG){var aH="";var aF=q.imagePalette.length;if(aF>0){aH=q.imagePalette[aG%aF]}return aH};function ay(aG){m.drawBound(aG,p,u);var aH=function(aK){var aJ=0;if(aK>=1){aJ=1;for(;;){if((aK/10)<1){break}else{aK/=10;aJ*=10}}}else{if(aK<1){aJ=0.1;for(;;){if((aK*10)>=1){break}else{aK*=10;aJ/=10}}}}return aJ};var aI=function(aK,aP,aV){var aR=1;var aS=[];for(var aN=0;aN<aK.length;aN++){for(var aL=0;aL<aK[aN].length;aL++){var aT={};aT.rectWidth=aP(aK[aN][aL].val);aT.rectHeight=aV;aT.imageWidth=aV;aT.val=aK[aN][aL].val;aS.push(aT)}}aS.sort(function(aX,aW){return aW.rectWidth-aX.rectWidth});if(aS.length!=0){var aQ=aS[0].rectWidth/aS[0].imageWidth;var aM=aS[0].val;var aU=aH(aQ/aM);var aO=[];aO.push({base:1,gap:Math.abs(aU*aM-aQ)});aO.push({base:2,gap:Math.abs(aU*2*aM-aQ)});aO.push({base:5,gap:Math.abs(aU*5*aM-aQ)});aO.push({base:10,gap:Math.abs(aU*10*aM-aQ)});var aJ=function(aX,aW){return aX.gap-aW.gap};aO.sort(aJ);aR=aU*aO[0].base}return aR};var aF=function(aL,aN,aK,aS){var aP=function(aY,aX){return aq+"-defID-"+aK+aX};var aM=function(aY,aX){return"url(#"+aP(aY,aX)+")"};var aW=function(aY){var aX=aD[aY.valueAxis];return aX(aY.val)};var aJ=function(aX){return aW(aX)+2};var aT=function(a7){var aX=a7.val;if(a7.val<0){aX=-aX}var a0={number:0,interval:aS};a0.number=aX*aQ;var a6=Math.floor(a0.number);var aZ=a0.number-a6;var aY=aW(a7);var a2=aS;var a5=a2*aZ;var a4;if(a6==0){a4=0}else{if(aY>a5){a4=(aY-a5)/a6}else{a4=0}}var a3;if(a6<=1){a3=aY/2}else{if(aY>a2){a3=(aY-a5)/(a6)}else{a3=aY/(a6+1)}}var a1;if(a6===0){a1=0}else{if(a6===1){a1=aY-a5}else{if(aY>a2){a1=(aY-a2)/(a6-1)}else{a1=aY/(a6+1)}}}if(a4>=a2){a0.interval=a4}else{if(a3<a2&&(a5>(a2-a3))){a0.interval=a3}else{a0.interval=a1}}return a0};var aO=[];var aV=function(bb,a1){var a4=function(bd,bc){return aq+"-pathID-"+aK+a1+bc};var a8=function(bd,bc){return"url(#"+a4(bd,bc)+")"};var a6=function(bd,bc){return"L-"+a4(bd,bc)};var a9=function(bd,bc){return"url(#"+a6(bd,bc)+")"};var aY=d3.select(this);var a2=aW(bb);var a7=aS;var aX=aT(bb);var ba=Math.floor(aX.number);var a3=aX.number-ba;aY.selectAll("*").remove();var a0=0;for(;a0<ba;a0++){aY.append("image").attr("xlink:xlink:href",K(a1)).attr("width",a7).attr("height",a7).attr("x",a0*aX.interval)}if(a3){var a5=a0*aX.interval;var aZ=aY.append("g").attr("transform","translate("+a5+",0)");aZ.append("defs").append("pattern").attr("id",a6).attr("patternUnits","userSpaceOnUse").attr("width",a7+2).attr("height",a7+2).append("image").attr("xlink:xlink:href",K(a1)).attr("width",a7).attr("height",a7);aZ.append("rect").attr("width",a7*a3).attr("height",a7).attr("fill",a9)}};aL.selectAll("defs").remove();var aR=aL.append("defs").append("pattern").attr("id",aP).attr("patternUnits","userSpaceOnUse").attr("width",aJ).attr("height",aS+2);var aQ=1;aR.each(function(aY){var aX=aD[aY.valueAxis];aQ=aI(aa,aX,aS)});aR.each(aV);aN.attr("fill",aM);var aU=false;if(aU){aN.attr("stroke","#555555");aN.attr("stroke-width","1")}};ax=b();if(aD.length===0){return}N.startToInit();aG.each(function(){x=aa[0].length;ai=aa.length;D=8*(an.rangeBand())/(9*x+7);var aJ=(V=d3.select(this));if(E===null){E=d3.select(this).append("rect").attr("visibility","hidden").attr("width",p).attr("height",an.rangeBand()-D/2).attr("fill",S.styleManager.queryDefault("v-hoverline").fill).attr("class","v-hoverline")}else{E.attr("width",p).attr("height",an.rangeBand()-D/2).attr("visibility","hidden")}if(al===null){al=aJ.append("defs").append("clipPath").append("rect").attr("width",p).attr("height",u)}else{al.attr("width",p).attr("height",u)}if(ae===null){ae=aJ.append("defs")}else{if(r||av||B||!aw){ae.remove();ae=aJ.append("defs")}}var aM=Math.log(D)/Math.log(2);if(aM<0){aw=false}var aK;var aL=aJ.selectAll("g.v-datashapesgroup");if(!a.isExist(aL[0][0])){aL=aJ.append("g").attr("class","v-datashapesgroup")}var aN=aL.selectAll("g.v-bar").data(aa),aO=aa.length-1;aN.enter().append("g");aN.attr("class","v-bar").each(function(aZ,aQ){var aY,aS=[];var aU=d3.select(this).selectAll("g.v-datashape").data(aZ);aU.enter().append("g").attr("class","v-datashape").append("rect").attr("class","v-datapoint");aU.exit().remove();aU.attr("transform",function(a3,a2){var a1;aK=aD[a3.valueAxis];if(a3.val<0){a1=aK(a3.val)}else{a1=aK(0)}var a4=an(aQ)+D*(x-a2-1);a4=a4+D/8*(x-a2-1)+D/2;aS.push(a4);return"translate("+a1+","+a4+")"});var aV=aU.select("rect.v-datapoint"),aX=aa[0].length-1;aV.attr("fill",function(a1,a2){a1.fillColor=J[a2%J.length];var a3={drawingEffect:Y,fillColor:a1.fillColor,direction:"vertical"};return R.register(a3)}).attr("shape-rendering","crispEdges").attr("fill-opacity",1);var aT=function(){aV.attr("width",function(a1){aK=aD[a1.valueAxis];if(a1.val!==" "&&a1.val!==0){var a2=Math.abs(aK(a1.val)-aK(0));return a2}else{return 0}}).attr("x",0).attr("height",D).attr("y",0);if(aw){aV.attr("clip-path",function(a2,a1){var a3="roundCorner-clip-"+a1+aQ+aq;ae.append("clipPath").attr("id",a3).append("rect").attr("rx",aM).attr("ry",aM).attr("width",function(){aK=aD[a2.valueAxis];if(a2.val!==" "&&a2.val!==0){var a4=Math.abs(aK(a2.val)-aK(0));return(a4+aM)}else{return 0}}).attr("height",D).attr("y",0).attr("x",function(){aK=aD[a2.valueAxis];if(a2.val<0){return 0}else{return 0-aM}});return"url(#"+a3+")"})}};var aR=function(){aV.attr("y",function(a3,a2){var a4=an(aQ)-aS[a2]+D*(x-a2-1);a4=a4+D/8*(x-a2-1)+D/2;return a4}).attr("x",function(a2){aK=aD[a2.valueAxis];if(a2.val>0){return 0}else{return aK(0)-aK(a2.val)}}).attr("height",D).attr("width",0).attr("class",function(a3,a2){return"v-datapoint series-"+a2});if(aw){aV.attr("clip-path",function(a5,a3){var a4=this.getAttribute("width"),a6=this.getAttribute("height"),a2=this.getAttribute("x"),a8=this.getAttribute("y");var a7="roundCorner-clip-"+a3+aQ+aq;ae.append("clipPath").attr("id",a7).append("rect").attr("rx",aM).attr("ry",aM).attr("width",a4+aM).attr("height",D).attr("y",0).attr("x",a2).transition().delay(function(ba,a9){return(a9+x*aQ)*a1}).attr("x",function(){aK=aD[a5.valueAxis];if(a5.val<0){return 0}else{return 0-aM}}).attr("width",function(){aK=aD[a5.valueAxis];if(a5.val!==" "&&a5.val!==0){var a9=Math.abs(aK(a5.val)-aK(0));return a9+aM}else{return 0}});return"url(#"+a7+")"})}var a1=Q/(x*ai);aY=aV.transition();aY.delay(function(a3,a2){return(a2+x*aQ)*a1}).attr("x",0).attr("y",0).attr("width",function(a2){aK=aD[a2.valueAxis];if(a2.val!==" "&&a2.val!==0){var a3=Math.abs(aK(a2.val)-aK(0));return a3}else{return 0}}).each("end",function(a3,a2){if(a2===aX&&aQ===aO){C()}})};if(L()){if(r){aR()}else{if(av){if(!at()){if(aw){aV.attr("clip-path",function(a4,a2){var a3=parseFloat(this.getAttribute("width")),a5=this.getAttribute("height"),a1=this.getAttribute("x"),a7=this.getAttribute("y");var a6="roundCorner-clip-"+a2+aQ+aq;ae.append("clipPath").attr("id",a6).append("rect").attr("rx",aM).attr("ry",aM).attr("width",a3+aM).attr("height",a5).attr("y",a7).attr("x",a1).transition().duration(Q).attr("x",function(){if(a4.val<0){return 0}else{return 0-aM}}).attr("width",function(){aK=aD[a4.valueAxis];if(a4.val!==" "&&a4.val!==0){var a8=Math.abs(aK(a4.val)-aK(0));return a8+aM}else{return 0}}).attr("height",D).attr("y",0);return"url(#"+a6+")"})}aY=aV.transition();aY.duration(Q).attr("x",0).attr("y",0).attr("width",function(a2,a1){aK=aD[a2.valueAxis];if(a2.val!==" "&&a2.val!==0){var a3=Math.abs(aK(a2.val)-aK(0));return a3}else{return 0}}).attr("height",D).each("end",function(a2,a1){if(a1===aX&&aQ===aO){C()}})}else{var a0=500;aT();var aW=aN.attr("opacity",0.3);aW=aW.transition();aW=aW.delay(0).duration(a0).attr("opacity",1).each("end",C)}}else{if(B){if(!at()){if(aw){aV.attr("clip-path",function(a4,a2){var a3=parseFloat(this.getAttribute("width")),a5=this.getAttribute("height"),a1=this.getAttribute("x"),a7=this.getAttribute("y");var a6="roundCorner-clip-"+a2+aQ+aq;ae.append("clipPath").attr("id",a6).append("rect").attr("rx",aM).attr("ry",aM).attr("x",-aM).attr("width",a3+aM).attr("height",a5).attr("y",a7).transition().duration(Q).attr("width",function(){aK=aD[a4.valueAxis];if(a4.val!==" "&&a4.val!==0){var a8=Math.abs(aK(a4.val)-aK(0));return(a8+aM)}else{return 0}}).attr("height",D).attr("y",0);return"url(#"+a6+")"})}aY=aV.transition();aY.duration(Q).attr("width",function(a1){aK=aD[a1.valueAxis];if(a1.val!==" "&&a1.val!==0){var a2=Math.abs(aK(a1.val)-aK(0));return a2}else{return 0}}).attr("x",0).attr("y",0).each("end",function(a2,a1){if(a1===aX&&aQ===aO){C()}})}else{var aP=500;aT();var aW=aN.attr("opacity",0.3);aW=aW.transition();aW=aW.delay(0).duration(aP).attr("opacity",1).each("end",C)}}else{if(aw){aV.attr("clip-path",function(a2,a1){var a3="roundCorner-clip-"+a1+aQ+aq;ae.append("clipPath").attr("id",a3).append("rect").attr("rx",aM).attr("ry",aM).attr("width",function(){aK=aD[a2.valueAxis];if(a2.val!==" "&&a2.val!==0){var a4=Math.abs(aK(a2.val)-aK(0));return(a4+aM)}else{return 0}}).attr("height",D).attr("y",0).attr("x",function(){aK=aD[a2.valueAxis];if(a2.val<0){return 0}else{return 0-aM}});return"url(#"+a3+")";if(a1===aX&&aQ===aO){C()}})}}}}}else{aT()}if(at()){aF(aU,aV,aQ,D)}});aN.exit().remove()});if(!L()){C()}av=false,r=false,B=false;aA=true;return ay}function C(){N.initialized()}var at=function(){return(q.imageFill&&!G)};ay.afterUIComponentAppear=function(){N.initialized()};ay.imageInfo=function(){var aF={imageMode:q.imageFill,imagePalette:q.imagePalette,radio:1};return aF};ay.dataLabel=function(aF){if(!arguments.length){return aF}z=aF};ay.hoverOnPoint=function(aF){var aI=aF.x,aG=aF.y;var aJ=-1;while(aJ<aa.length){if(Math.abs(aG-an.rangeBand()*aJ-0.5*an.rangeBand())<=0.5*an.rangeBand()){break}aJ++}if(aJ>(aa.length-1)||aJ<0){E.attr("visibility","hidden");return}E.attr("y",an.rangeBand()*aJ+D/4).attr("visibility","visible");if(aJ!==am){if(O){am=aJ;var aH=V[0][0].getTransformToElement(V[0][0].ownerSVGElement);var aL=aH.f;var aK=ax.generateTooltipData(az,aa,ai-1-aJ,J,aB);aK.point={x:d3.event.layerX,y:an.rangeBand()*aJ+0.5*an.rangeBand()+aL};aK.plotArea={x:aH.e,y:aH.f,width:p,height:u};N.showTooltip(b.formatTooltipData(aK))}}};ay.parent=function(){return V};ay.highlight=function(aG){if(aG instanceof Array){for(var aH=0,aF=aG.length;aH<aF;aH++){aG[aH].setAttribute("fill-opacity",1)}}else{aG.setAttribute("fill-opacity",1)}};ay.unhighlight=function(aG){if(aG instanceof Array){for(var aH=0,aF=aG.length;aH<aF;aH++){aG[aH].setAttribute("fill-opacity",0.4)}}else{aG.setAttribute("fill-opacity",0.4)}};ay.clear=function(aF){if(aF==null){V.selectAll(".v-datapoint").attr("fill-opacity",1)}else{V.selectAll(".v-datapoint").attr("fill-opacity",0.4)}};ay.blurOut=function(){am=null;E.attr("visibility","hidden");if(O){N.hideTooltip()}};ay.width=function(aF){if(!arguments.length){return p}av=(p===aF)&&!av?false:true;p=aF;if(a.isExist(p)&&a.isExist(u)&&a.isExist(aa)){X()}return ay};ay.height=function(aF){if(!arguments.length){return u}av=(u===aF)&&!av?false:true;u=aF;if(a.isExist(p)&&a.isExist(u)&&a.isExist(aa)){X()}return ay};ay.data=function(aG){if(!arguments.length){return az}az=aG;var aH=j(az);ap=aH.MG1;ao=aH.MG2;ak=aH.MG1Number;aj=aH.MG2Number||0;w=aH.MNDOnColor&&aH.MNDInner;if(a.isExist(aH.color)){s=true;G=true}else{s=false;if(a.isExist(ao)){G=true}else{G=false}}var aF=v(ap,ao,aH.color);if(aa.length!==aF.length||aF[0].length!==aa[0].length){r=true}else{B=true}aa=aF;if(a.isExist(p)&&a.isExist(u)){X()}ad();return ay};ay.properties=function(aF){if(!arguments.length){return q}h.extend(true,q,aF);ad();return ay};var X=function(){var aG=[];aD=[];for(var aF=0;aF<aa.length;aF++){aG.push(aF)}an.domain(aG).rangeBands([u,0]);if(t===0&&F===0){M.domain([0,1]).range([0,p])}else{M.domain([t,F]).range([0,p])}if(a.isExist(ao)||G){if(W===0&&P===0){ar.domain(M.domain()).range(M.range())}else{ar.domain([P,W]).range([0,p]);if(t===0&&F===0){M.domain(ar.domain()).range(ar.range())}}if(!ah&&!T){o.perfectDual(M,ar)}else{if(!ah&&T){o.perfect(ar);o.getRoughTickNum(M)}else{if(ah&&!T){o.perfect(M);o.getRoughTickNum(ar)}else{o.getRoughTickNum(M);o.getRoughTickNum(ar)}}}}else{if(!T){o.perfect(M)}else{o.getRoughTickNum(M)}ar.range([0,0])}aD.push(M);aD.push(ar)};ay.categoryScale=function(aF){if(!arguments.length){return an}an=aF;return ay};ay.primaryScale=function(aF){if(!arguments.length){return M}M=aF;aD[0]=M;return ay};ay.secondScale=function(aF){if(!arguments.length){return ar}ar=aF;aD[1]=ar;return ay};ay.primaryAxisColor=function(){if(G&&!s){return J[0]}else{return undefined}};ay.secondAxisColor=function(){if(!s){return J[aa[0].length-1]}else{return undefined}};ay.primaryDataRange=function(aF){if(!arguments.length){return{min:t,max:F}}if(aF!==null){F=aF.max;t=aF.min;if(aF.from==="axis"){T=true}if(a.isExist(p)&&a.isExist(u)){X()}}return ay};ay.secondDataRange=function(aF){if(!arguments.length){return{min:P,max:W}}if(aF!==null){W=aF.max;P=aF.min;if(aF.from==="axis"){ah=true}if(a.isExist(p)&&a.isExist(u)){X()}}return ay};ay.getPreferredSize=function(){};ay.dispatch=function(aF){if(!arguments.length){return N}N=aF;return this};ay.colorPalette=function(aF){if(!arguments.length){return J}J=aF;return this};ay.shapePalette=function(aF){if(!arguments.length){return aB}aB=aF;return this};ay.primaryAxisTitle=function(aG){if(!arguments.length){var aJ=az.getMeasureValuesGroupDataByIdx(0),aI=[];if(aJ){for(var aH=0,aF=aJ.values.length;aH<aF;aH++){if(aJ.values[aH].col!==null&&aJ.values[aH].col!==undefined){aI.push(aJ.values[aH].col)}else{aI.push(e.get("IDS_ISNOVALUE"))}}}return aI.join("/")}return this};ay.secondAxisTitle=function(aG){if(!arguments.length){var aJ=az.getMeasureValuesGroupDataByIdx(1),aI=[];if(aJ){for(var aH=0,aF=aJ.values.length;aH<aF;aH++){if(aJ.values[aH].col!==null&&aJ.values[aH].col!==undefined){aI.push(aJ.values[aH].col)}else{aI.push(e.get("IDS_ISNOVALUE"))}}}return aI.join("/")}return this};var v=function(aJ,aI,aP){F=t=0;W=P=0;var aN=[];var aG=0;if(aJ[0]&&aJ[0].length){aG=aJ[0].length}else{if(aI[0]&&aI[0].length){aG=aI[0].length}}var aS=[];var aU=0,aK=0;var aR=0,aQ=0;for(aR=0;aR<aJ.length;aR++){if(s){for(aQ=0;aQ<aJ[aR].length;aQ++){if(aP[aQ]===0){aU=aJ[aR][aQ].val;aJ[aR][aQ].valueAxis=0;if(F<aU){F=aU}if(t>aU){t=aU}aE++}else{aK=aJ[aR][aQ].val;aJ[aR][aQ].valueAxis=1;if(W<aK){W=aK}if(P>aK){P=aK}}}}else{aU=d3.max(aJ[aR],function(aV){return aV.val});aK=d3.min(aJ[aR],function(aV){return aV.val});if(F<aU){F=aU}if(t>aK){t=aK}}aS.push(aJ[aR])}if(aI!==undefined){for(aR=0;aR<aI.length;aR++){aU=d3.max(aI[aR],function(aV){return aV.val});aK=d3.min(aI[aR],function(aV){return aV.val});if(W<aU){W=aU}if(P>aK){P=aK}aS.push(aI[aR])}}for(aQ=0;aQ<aG;aQ++){var aM=[];for(aR=0;aR<aS.length;aR++){if(!s){if(aR<aJ.length){aS[aR][aQ].valueAxis=0}else{aS[aR][aQ].valueAxis=1}}if(k.isNoValue(aS[aR][aQ].val)){aS[aR][aQ].val=" "}aM.push(aS[aR][aQ])}if(w){var aT=[],aH=0,aF=0;var aL=0;for(var aO=0;aO<aJ.length;aO++){aT.push(aM[aO]);aH++;if(aH===ak&&aI!==undefined){aF=0;for(;aL<aI.length;aL++){if(aF>=aj){aH=0;break}aT.push(aM[aJ.length+aL]);aF++}}}aN.push(aT)}else{aN.push(aM)}}return aN};q=H.props(null);return ay};return f});sap.riv.module({qname:"sap.viz.modules.manifests.xy.Bar",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.bar",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.BaseBar",version:"4.0.1"}],function Setup(c,b){var a={id:"sap.viz.modules.bar",name:"bar",base:"sap.viz.modules.xy.bar.base",properties:{imageFill:{name:"imageFill",supportedValueType:"Boolean",defaultValue:false,isExported:false,description:"Set enabled/disabled image fill."},imagePalette:{name:"imagePalette",supportedValueType:"StringArray",defaultValue:["http://www.sap.com/global/ui/images/global/sap-logo.png"],isExported:false,description:"images to fill the bar",}},fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Bar",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_bar",name:"IDS_MULTIBARCHART",base:"riv/base/multiple/xy",modules:{root:{modules:{legend:{data:{aa:[3]}},tooltip:{configure:{properties:{chartType:"bar",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove","touchstart"]}}},main:{configure:{properties:{mergeDataRange:["primary"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{background:{configure:{properties:{direction:"horizontal"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{orientation:"horizontal",outsidePosition:"right"}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis",properties:{title:{visible:false},type:"value",position:"bottom"},propertiesOverride:{title:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart.",propertyCategory:"yAxis",properties:{type:"category",position:"left",gridline:{visible:false}},propertiesOverride:{title:{isExported:false},gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},plot:{id:"sap.viz.modules.bar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main",type:"initialized.interaction"},{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main",type:"hideTooltip"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.plot.dataLabel",listener:"showLabel",sourceModule:"root.main.plot.plot",type:"initialized.datalabel"},{targetModule:"root.main.plot.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot.plot",type:"startToInit.datalabel"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.modules.verticalbar",version:"4.0.1"},[{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(a,f,h,b,d,m,c,j,g,e,k){var l=function(D,P){var aw;var ao,an,ay,W=[],B=0,q=0,Q=false,ac=false,S=0,K=0,L=null;var n=undefined,r=undefined,aa=Math.floor(Math.random()*10000),ae=0,ad=0,C=false,F=[],E,aB,t=false,aj=0,ai=0,aA=["squareWithRadius"],o,I=new f("showTooltip","hideTooltip","initialized","startToInit");var O=P.effectManager;var aC=[],H=d3.scale.ordinal(),am=d3.scale.linear(),ar=d3.scale.linear();var A,M,aq=[],J=true,al=null;var aD=0,u,ag,V,af=[];var v=true,ab=true,R=true,au=false,X=true,N=1000,av=false,az=false;var ak,Z,ap=c.guid();var U="normal";var at=false,p=false,w=false;function G(){var x=false;if(!az){x=v}else{if(p||w){x=ab}else{if(at){x=R}}}return x}ax.hoverOnPoint=function(x){var aG=x.x,aE=x.y;var aH=-1;while(aH<W.length){if(Math.abs(aG-H.rangeBand()*aH-0.5*H.rangeBand())<=0.5*H.rangeBand()){break}aH++}if(aH>(W.length-1)||aH<0){A.attr("visibility","hidden");return}A.attr("x",H.rangeBand()*aH+V/4).attr("visibility","visible");if(al!==aH){if(J){al=aH;var aF=L[0][0].getTransformToElement(L[0][0].ownerSVGElement);var aJ=aF.e;var aI=aw.generateTooltipData(ay,W,aH,F,aA);aI.point={x:H.rangeBand()*aH+0.5*H.rangeBand()+aJ,y:d3.event.layerY};aI.plotArea={x:aF.e,y:aF.f,width:n,height:r};I.showTooltip(b.formatTooltipData(aI))}}};ax.parent=function(){return L};ax.highlight=function(aE){if(aE instanceof Array){for(var aF=0,x=aE.length;aF<x;aF++){aE[aF].setAttribute("fill-opacity",1)}}else{aE.setAttribute("fill-opacity",1)}};ax.unhighlight=function(aE){if(aE instanceof Array){for(var aF=0,x=aE.length;aF<x;aF++){aE[aF].setAttribute("fill-opacity",0.4)}}else{aE.setAttribute("fill-opacity",0.4)}};ax.clear=function(x){if(x==null){L.selectAll(".v-datapoint").attr("fill-opacity",1)}else{L.selectAll(".v-datapoint").attr("fill-opacity",0.4)}};ax.blurOut=function(){A.attr("visibility","hidden");al=null;if(J){I.hideTooltip()}};var Y=function(){au=o.isRoundCorner;v=o.animation.dataLoading;ab=o.animation.dataUpdating;R=o.animation.resizing;J=o.tooltip.enabled;U=o.drawingEffect;if(C&&!hasMNDonCategoryAxis){E=o.primaryValuesColorPalette;aB=o.secondaryValuesColorPalette}else{aB=o.colorPalette;E=o.colorPalette}var aH=0;if(!hasMNDonCategoryAxis){aD=ao.length;aH=W[0].length}else{aH=W.length*W[0].length}F=[];if(t){var aE=0,x=0,aF=0;for(var aG=0;aG<aD;aG++){F.push(E[aG%E.length]);aE++;if(aE==aj){x=0;for(;aF<=(aH-aD);aF++){if(x>=ai){aE=0;break}F.push(aB[aF%aB.length]);x++}}}}else{for(var aG=0;aG<aH;aG++){if(aG<aD){F.push(E[aG%E.length])}else{if(C&&!hasMNDonCategoryAxis){F.push(aB[(aG-aD)%aB.length])}}}}};function ax(x){k.drawBound(x,n,r);aw=b();if(aC.length==0){return}I.startToInit();x.each(function(){u=W[0].length;ag=W.length;V=8*(H.rangeBand())/(9*u+7);var aE=L=d3.select(this);if(A==null){A=aE.append("rect").attr("width",H.rangeBand()-V/2).attr("height",r).attr("visibility","hidden").attr("fill",P.styleManager.queryDefault("v-hoverline").fill).attr("class","v-hoverline")}else{A.attr("width",H.rangeBand()-V/2).attr("height",r).attr("visibility","hidden")}if(ak==null){ak=aE.append("defs").append("clipPath").append("rect").attr("width",n).attr("height",r)}else{ak.attr("width",n).attr("height",r)}if(Z==null){Z=aE.append("defs")}else{if(p||at||w||!au){Z.remove();Z=aE.append("defs")}}var aI=Math.log(V)/Math.log(2);if(aI<0){au=false}var aF;var aH=aE.selectAll("g.v-datashapesgroup");if(!a.isExist(aH[0][0])){aH=aE.append("g").attr("class","v-datashapesgroup")}var aJ=aH.selectAll("g.v-column").data(W),aK=W.length-1,aG=W[0].length-1;aJ.enter().append("g");aJ.attr("class","v-column").each(function(aL,aP){var aS=[],aR=[];var aN=d3.select(this).selectAll("g.v-datashape").data(aL);aN.enter().append("g").attr("class","v-datashape").append("rect").attr("class","v-datapoint");aN.exit().remove();if(av){aN.each(function(){aR.push(this.getTransformToElement(this.parentNode).f)})}aN.attr("transform",function(aV,aU){var aW;aF=aC[aV.valueAxis];if(aV.val>=0){aW=aF(aV.val)}else{aW=aF(0)}var aT=H(aP)+V*aU;aT=aT+V/8*(aU)+V/2;aS.push(aT);return"translate("+aT+","+aW+")"});var aQ=aN.select("rect.v-datapoint");aQ.attr("fill",function(aU,aT){aU.fillColor=F[aT%F.length];var aV={drawingEffect:U,fillColor:aU.fillColor,direction:"horizontal"};return O.register(aV)}).attr("shape-rendering","crispEdges").attr("fill-opacity",1);if(G()){if(p){aQ.attr("width",V).attr("height",0).attr("x",function(aV,aU){var aT=H(aP)-aS[aU]+V*aU;aT=aT+V/8*(aU)+V/2;return aT}).attr("y",function(aU){aF=aC[aU.valueAxis];if(aU.val!==" "&&aU.val!=0&&aU.val>0){var aT=Math.abs(aF(aU.val)-aF(0));return aT}else{return 0}});if(au){aQ.attr("clip-path",function(aW,aU){var aV=this.getAttribute("width"),aX=this.getAttribute("height"),aT=this.getAttribute("x"),aZ=this.getAttribute("y");var aY="roundCorner-clip-"+aU+aP+ap;Z.append("clipPath").attr("id",aY).append("rect").attr("rx",aI).attr("ry",aI).attr("x",0).attr("width",V).attr("y",aX).transition().delay(function(a1,a0){return(a0+u*aP)*aM}).attr("height",function(){aF=aC[aW.valueAxis];if(aW.val!==" "&&aW.val!=0){var a0=Math.abs(aF(aW.val)-aF(0));return(a0+aI)}else{return 0}}).attr("y",function(){if(aW.val>0){return 0}else{return 0-aI}});return"url(#"+aY+")"})}var aM=N/(u*ag);aQ.transition().delay(function(aU,aT){return(aT+u*aP)*aM}).attr("height",function(aV,aU){aF=aC[aV.valueAxis];if(aV.val!==" "&&aV.val!=0){var aT=Math.abs(aF(aV.val)-aF(0));return aT}else{return 0}}).attr("y",0).attr("x",0).each("end",function(aU,aT){if(aT===aG&&aP===aK){z()}})}else{if(at){if(au){aQ.attr("clip-path",function(aW,aU){var aV=this.getAttribute("width"),aX=this.getAttribute("height"),aT=this.getAttribute("x"),aZ=this.getAttribute("y");var aY="roundCorner-clip-"+aU+aP+ap;Z.append("clipPath").attr("id",aY).append("rect").attr("rx",aI).attr("ry",aI).attr("width",aV).attr("x",aT).attr("height",aX).attr("y",function(){if(aW.val>0){return 0}else{return 0-aI}}).transition().duration(N).attr("width",V).attr("height",function(){aF=aC[aW.valueAxis];if(aW.val!==" "&&aW.val!=0){var a0=Math.abs(aF(aW.val)-aF(0));return(a0+aI)}else{return 0}});return"url(#"+aY+")"})}aQ.transition().duration(N).attr("width",V).attr("height",function(aU){aF=aC[aU.valueAxis];if(aU.val!==" "&&aU.val!=0){var aT=Math.abs(aF(aU.val)-aF(0));return aT}else{return 0}}).attr("y",0).attr("x",0).each("end",function(aU,aT){if(aT===aG&&aP===aK){z()}})}else{if(w){var aO=[];aQ.attr("y",function(aU,aT){var aV=aR[aT]-this.parentNode.getTransformToElement(this.parentNode.parentNode).f;aO.push(aV);return aV});if(au){aQ.attr("clip-path",function(aW,aU){var aV=this.getAttribute("width"),aX=this.getAttribute("height"),aT=this.getAttribute("x"),aZ=this.getAttribute("y");var aY="roundCorner-clip-"+aU+aP+ap;Z.append("clipPath").attr("id",aY).append("rect").attr("rx",aI).attr("ry",aI).attr("x",aT).attr("width",V).attr("height",function(){aF=aC[aW.valueAxis];var a0=Math.abs(aF(aW.val)-aF(0));if(parseFloat(aX)>a0){return aX}else{return a0}}).attr("y",function(){return aO[aU]}).transition().duration(N).attr("height",function(){aF=aC[aW.valueAxis];if(aW.val!==" "&&aW.val!=0){var a0=Math.abs(aF(aW.val)-aF(0));return(a0+aI)}else{return 0}}).attr("y",function(){aF=aC[aW.valueAxis];if(aW.val>=0){return 0}else{return 0-aI}});return"url(#"+aY+")"})}aQ.transition().duration(N).attr("height",function(aV,aU){aF=aC[aV.valueAxis];if(aV.val!==" "&&aV.val!=0){var aT=Math.abs(aF(aV.val)-aF(0));aV.height=aT;return aT}else{return 0}}).attr("y",0).attr("x",0).each("end",function(aU,aT){if(aT===aG&&aP===aK){z()}})}else{if(au){aQ.attr("clip-path",function(aU,aT){var aV="roundCorner-clip-"+aT+aP+ap;Z.append("clipPath").attr("id",aV).append("rect").attr("rx",aI).attr("ry",aI).attr("width",V).attr("height",function(){aF=aC[aU.valueAxis];if(aU.val!==" "&&aU.val!=0){var aW=Math.abs(aF(aU.val)-aF(0));return(aW+aI)}else{return 0}}).attr("y",function(){aF=aC[aU.valueAxis];if(aU.val>=0){return 0}else{return 0-aI}}).attr("x",0);return"url(#"+aV+")";if(aT===aG&&aP===aK){z()}})}}}}}else{aQ.attr("width",V).attr("height",function(aU){aF=aC[aU.valueAxis];if(aU.val!==" "&&aU.val!=0){var aT=Math.abs(aF(aU.val)-aF(0));aU.height=aT;return aT}else{return 0}}).attr("y",0).attr("x",0);if(au){aQ.attr("clip-path",function(aU,aT){var aV="roundCorner-clip-"+aT+aP+ap;Z.append("clipPath").attr("id",aV).append("rect").attr("rx",aI).attr("ry",aI).attr("width",V).attr("height",function(){aF=aC[aU.valueAxis];if(aU.val!==" "&&aU.val!=0){var aW=Math.abs(aF(aU.val)-aF(0));return(aW+aI)}else{return 0}}).attr("y",function(){aF=aC[aU.valueAxis];if(aU.val>=0){return 0}else{return 0-aI}}).attr("x",0);return"url(#"+aV+")"})}}});aJ.exit().remove()});if(!G()){z()}at=false,w=false,p=false;az=true;return ax}function z(){I.initialized();av=true}ax.afterUIComponentAppear=function(){I.initialized()};function ah(aF,x){var aE=d3.interpolate(r,(x>=aD)?ar(aF.val):am(aF.val));return function(aG){return aE(aG)}}ax.width=function(x){if(!arguments.length){return n}at=(n===x)&&!at?false:true;n=x;if(a.isExist(n)&&a.isExist(r)&&a.isExist(W)){T()}return ax};ax.height=function(x){if(!arguments.length){return r}at=(r===x)&&!at?false:true;r=x;if(a.isExist(n)&&a.isExist(r)&&a.isExist(W)){T()}return ax};ax.data=function(aE){if(!arguments.length){return ay}ay=aE;var aF=h(ay);ao=aF.MG1;an=aF.MG2;aj=aF.MG1Number;ai=aF.MG2Number||0;t=aF.MNDOnColor&&aF.MNDInner;if(a.isExist(aF.color)){hasMNDonCategoryAxis=true;C=true}else{hasMNDonCategoryAxis=false;if(a.isExist(an)){C=true}else{C=false}}var x=s(ao,an,aF.color);if(W.length!==x.length||x[0].length!==W[0].length){p=true}else{w=true}W=x;if(a.isExist(n)&&a.isExist(r)){T()}Y();return ax};ax.properties=function(x){if(!arguments.length){return o}g.extend(true,o,x);Y();return ax};var T=function(){var aE=[];for(var x=0;x<W.length;x++){aE.push(x)}aC=[];H.domain(aE).rangeBands([0,n]);if(q===0&&B===0){am.domain([0,1]).range([r,0])}else{am.domain([q,B]).range([r,0])}if(a.isExist(an)||C){if(S===0&&K===0){ar.domain(am.domain()).range(am.range())}else{ar.domain([K,S]).range([r,0]);if(q===0&&B===0){am.domain(ar.domain()).range(ar.range())}}if(!ac&&!Q){m.perfectDual(am,ar)}else{if(!ac&&Q){m.getRoughTickNum(am);m.perfect(ar)}else{if(ac&&!Q){m.perfect(am);m.getRoughTickNum(ar)}else{m.getRoughTickNum(am);m.getRoughTickNum(ar)}}}}else{if(!Q){m.perfect(am)}else{m.getRoughTickNum(am)}ar.range([0,0])}aC.push(am);aC.push(ar)};ax.categoryScale=function(x){if(!arguments.length){return H}H=x;return ax};ax.primaryScale=function(x){if(!arguments.length){return am}am=x;aC[0]=am;return ax};ax.secondScale=function(x){if(!arguments.length){return ar}ar=x;aC[1]=ar;return ax};ax.primaryAxisColor=function(){if(C&&!hasMNDonCategoryAxis){return F[0]}else{return undefined}};ax.secondAxisColor=function(){if(!hasMNDonCategoryAxis){return F[W[0].length-1]}else{return undefined}};ax.primaryDataRange=function(x){if(!arguments.length){return{min:q,max:B}}if(x!==null){B=x.max;q=x.min;if(x.from==="axis"){Q=true}if(a.isExist(n)&&a.isExist(r)){T()}}return ax};ax.secondDataRange=function(x){if(!arguments.length){return{min:K,max:S}}if(x!==null){S=x.max;K=x.min;if(x.from==="axis"){ac=true}if(a.isExist(n)&&a.isExist(r)){T()}}return ax};ax.getPreferredSize=function(){};ax.x=function(x){if(!arguments.length){return ae}ae=x;return this};ax.y=function(x){if(!arguments.length){return ad}ad=x;return this};ax.dispatch=function(x){if(!arguments.length){return I}I=x;return this};ax.dataLabel=function(x){};ax.eventTarget=function(x){if(x.type=="mousemove"){return ax.hoverOnPoint}else{if(x.type=="mouseout"){return blurOut}}};ax.colorPalette=function(x){if(!arguments.length){return F}F=x;return this};ax.shapePalette=function(x){if(!arguments.length){return aA}aA=x;return this};ax.primaryAxisTitle=function(aE){if(!arguments.length){var aH=ay.getMeasureValuesGroupDataByIdx(0),aG=[];if(aH){for(var aF=0,x=aH.values.length;aF<x;aF++){if(aH.values[aF].col!==null&&aH.values[aF].col!==undefined){aG.push(aH.values[aF].col)}else{aG.push(e.get("IDS_ISNOVALUE"))}}}return aG.join("/")}return this};ax.secondAxisTitle=function(aE){if(!arguments.length){var aH=ay.getMeasureValuesGroupDataByIdx(1),aG=[];if(aH){for(var aF=0,x=aH.values.length;aF<x;aF++){if(aH.values[aF].col!==null&&aH.values[aF].col!==undefined){aG.push(aH.values[aF].col)}else{aG.push(e.get("IDS_ISNOVALUE"))}}}return aG.join("/")}return this};var s=function(aI,aG,aN){B=q=0;S=K=0;var aL=[];var aE=0;if(aI[0]&&aI[0].length){aE=aI[0].length}else{if(aG[0]&&aG[0].length){aE=aG[0].length}}var aQ=[];var aS=aH=0;for(var aP=0;aP<aI.length;aP++){if(hasMNDonCategoryAxis){for(var aO=0;aO<aI[aP].length;aO++){if(aN[aO]==0){aS=aI[aP][aO].val;aI[aP][aO].valueAxis=0;if(B<aS){B=aS}if(q>aS){q=aS}aD++}else{aH=aI[aP][aO].val;aI[aP][aO].valueAxis=1;if(S<aH){S=aH}if(K>aH){K=aH}}}}else{aS=d3.max(aI[aP],function(aT){return aT.val});aH=d3.min(aI[aP],function(aT){return aT.val});if(B<aS){B=aS}if(q>aH){q=aH}}aQ.push(aI[aP])}if(aG!=undefined){for(aP=0;aP<aG.length;aP++){var aS=d3.max(aG[aP],function(aT){return aT.val});var aH=d3.min(aG[aP],function(aT){return aT.val});if(S<aS){S=aS}if(K>aH){K=aH}aQ.push(aG[aP])}}for(var aO=0;aO<aE;aO++){var aK=[];for(aP=0;aP<aQ.length;aP++){if(!hasMNDonCategoryAxis){if(aP<aI.length){aQ[aP][aO].valueAxis=0}else{aQ[aP][aO].valueAxis=1}}if(j.isNoValue(aQ[aP][aO].val)){aQ[aP][aO].val=" "}aK.push(aQ[aP][aO])}if(t){var aR=[],aF=0,x=0;var aJ=0;for(var aM=0;aM<aI.length;aM++){aR.push(aK[aM]);aF++;if(aF==aj&&aG!=undefined){x=0;for(;aJ<aG.length;aJ++){if(x>=ai){aF=0;break}aR.push(aK[aI.length+aJ]);x++}}}aL.push(aR)}else{aL.push(aK)}}return aL};o=D.props(null);return ax};return l});sap.riv.module({qname:"sap.viz.modules.manifests.xy.VerticalBar",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.verticalbar",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.BaseBar",version:"4.0.1"}],function Setup(c,b){var a={id:"sap.viz.modules.verticalbar",name:"vertical bar",base:"sap.viz.modules.xy.bar.base",fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiVerticalBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.VerticalBar",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiBarChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/multi_column",name:"IDS_MULTIVERTICALBARCHART",base:"viz/multi_bar",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"verticalbar",orientation:"left"}}},main:{modules:{plot:{modules:{background:{configure:{properties:{direction:"vertical"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{orientation:"vertical",outsidePosition:"up"}}},xAxis:{data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart.",properties:{type:"category",gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},yAxis:{data:null,configure:{description:"Settings for the value axis of an XY chart.",properties:{type:"value",gridline:{visible:true}},propertiesOverride:{gridline:{isExported:true},label:{isExported:true},axisline:{isExported:true}}}},plot:{id:"sap.viz.modules.verticalbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1},secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiDualVerticalBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.VerticalBar",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiVerticalBarChart",version:"4.0.1"}],function Setup(c,b){var a={id:"viz/multi_dual_column",name:"IDS_MULTIDUALVERTICALBARCHART",base:"viz/multi_column",modules:{root:{modules:{main:{configure:{properties:{mergeDataRange:["primary","second"]}},modules:{plot:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis."}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"yAxis2",properties:{title:{visible:false},type:"value",position:"right"},propertiesOverride:{title:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main",target:"secondDataRange",sourceModule:"root.main.plot.plot",source:"secondDataRange"},{targetModule:"root.main.plot.plot",target:"secondDataRange",sourceModule:"root.main",source:"secondDataRange"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.yAxis2",target:"scale",sourceModule:"root.main.plot.plot",source:"secondScale"},{targetModule:"root.main.plot.yAxis2",target:"title",sourceModule:"root.main.plot.plot",source:"secondAxisTitle"},{targetModule:"root.main.plot.yAxis",target:"color",sourceModule:"root.main.plot.plot",source:"primaryAxisColor"},{targetModule:"root.main.plot.yAxis2",target:"color",sourceModule:"root.main.plot.plot",source:"secondAxisColor"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"}]}};c.register(a)});sap.riv.module({qname:"sap.viz.modules.stackedverticalbar",version:"4.0.1"},[{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(a,c,g,j,b,d,m,c,k,h,e,l){var f=function(G,R){var ay;var aA,ar=[[]],aq=[[]],ab=[],u=[],E=0,s=0,S=false,ah=false,W=0,O=0,U=null;var n=undefined,t=undefined,aj=0,ai=0,F=false,r=false,J=[],I,aD,v=false,an=0,am=0,aC=["squareWithRadius"],o,L=new g("selectData","deselectData","showTooltip","hideTooltip","initialized","startToInit");var Q=R.effectManager;var aE=new Array(2);xScale=d3.scale.ordinal(),yScale=d3.scale.linear(),yScale2=d3.scale.linear();var C,au=[],N=true,ap=null;var w,al,V,ak=[],H=[],p=[],aa;var ao,af,at=c.guid();var z=true,ag=true,T=true,aw=false,ad=true,aB=false,ax=false,P=800;var D="comparison";var Z="normal";var av=false,q=false,A=false,Y=false;function K(){var x=false;if(!aB){x=z}else{if(q||A){x=ag}else{if(av){x=T}}}return x}az.hoverOnPoint=function(aN){var aM=aN.x,aG=aN.y;var aJ=-1;while(aJ<ab.length){if(Math.abs(aM-xScale.rangeBand()*aJ-0.5*xScale.rangeBand())<=0.5*xScale.rangeBand()){break}aJ++}if(aJ>(ab.length-1)||aJ<0){C.attr("visibility","hidden");return}C.attr("x",xScale.rangeBand()*aJ+aa/4).attr("visibility","visible");if(ap!==aJ){if(N){ap=aJ;var aH=U.node().getTransformToElement(U.node().ownerSVGElement);var aK=aH.e;var aF=100,x=100,aI=0;var aL=ay.generateTooltipData(aA,u,aJ,J,aC);aL.point={x:xScale.rangeBand()*aJ+0.5*xScale.rangeBand()+aK,y:d3.event.layerY};aL.plotArea={x:aH.e,y:aH.f,width:n,height:t};aL.valueAxis0Count=ab[0][0].length;aL.valueAxis1Count=a.isExist(ab[0][1])?ab[0][1].length:0;L.showTooltip(b.formatTooltipData(aL))}}};function ac(){for(var aJ=0,x=ab.length;aJ<x;aJ++){for(var aG=0,aI=ab[aJ],aL=u[aJ];aG<aI.length;aG++){var aK=0,aH=0;for(var aF=0;aF<aI[aG].length;aF++){aK+=Math.abs(aI[aG][aF].val);if(!aI[aG][aF].isNaN){aH++}}if(aK===0){for(var aF=0;aF<aI[aG].length;aF++){aI[aG][aF].value=a.isExist(aI[aG][aF].value)?aI[aG][aF].value:aI[aG][aF].val;aI[aG][aF].val=aI[aG][aF].isNaN?0:1/aH;if(a.isExist(aL[aG])&&a.isExist(aL[aG][aF])){aL[aG][aF].val=aL[aG][aF].isNaN?" ":1/aH}}}else{for(var aF=0;aF<aI[aG].length;aF++){if(aI[aG][aF].val<0){aI[aG][aF].isNegative=true}aI[aG][aF].value=a.isExist(aI[aG][aF].value)?aI[aG][aF].value:aI[aG][aF].val;aI[aG][aF].val=Math.abs(aI[aG][aF].val/aK);if(a.isExist(aL[aG])&&a.isExist(aL[aG][aF])){aL[aG][aF].val=aL[aG][aF].isNaN?" ":aL[aG][aF].val/aK}}}}}}az.parent=function(){return U};az.blurOut=function(){C.attr("visibility","hidden");ap=null;if(N){L.hideTooltip()}};az.highlight=function(aF){if(aF instanceof Array){for(var aG=0,x=aF.length;aG<x;aG++){aF[aG].setAttribute("fill-opacity",1)}}else{aF.setAttribute("fill-opacity",1)}};az.unhighlight=function(aF){if(aF instanceof Array){for(var aG=0,x=aF.length;aG<x;aG++){aF[aG].setAttribute("fill-opacity",0.4)}}else{aF.setAttribute("fill-opacity",0.4)}};az.clear=function(x){if(x==null){U.selectAll(".v-datapoint").attr("fill-opacity",1)}else{U.selectAll(".v-datapoint").attr("fill-opacity",0.4)}};var ae=function(){aw=o.isRoundCorner;D=o.mode==="percentage"?"percentage":"comparison";z=o.animation.dataLoading;ag=o.animation.dataUpdating;T=o.animation.resizing;N=o.tooltip.enabled;if(F&&!r){I=o.primaryValuesColorPalette;aD=o.secondaryValuesColorPalette}else{aD=o.colorPalette;I=o.colorPalette}Z=o.drawingEffect;J=[];indexforSecondaryAxis=ar.length;if(v){var aF=0,x=0,aG=0;for(var aH=0;aH<ab[0][0].length;aH++){J.push(I[aH%I.length]);aF++;if(aF==an&&F&&a.isExist(ab[0][1])){x=0;for(;aG<=ab[0][1].length;aG++){if(x>=am){aF=0;break}J.push(aD[aG%aD.length]);x++}}}}else{for(var aH=0;aH<ab[0].length;aH++){for(var aG=0;aG<ab[0][0].length;aG++){J.push(I[aG%I.length])}if(F&&a.isExist(ab[0][1])){for(var aG=0;aG<ab[0][1].length;aG++){J.push(aD[aG%aD.length])}}}}};function az(x){l.drawBound(x,n,t);ay=b();if(D==="percentage"){ac()}if(!a.isExist(yScale)&&!a.isExist(yScale2)){return}L.startToInit();x.each(function(){var aI=ar.length;V=ab[0][0].length+((a.isExist(ab[0][1]))?ab[0][1].length:0);var aN=8*(xScale.rangeBand())/(9*V+7);w=(a.isExist(aq))?2:1;aa=8*(xScale.rangeBand())/(9*w+7);var aK=U=d3.select(this);if(C==null){C=aK.append("rect").attr("width",xScale.rangeBand()-aa/2).attr("height",t).attr("visibility","hidden").attr("fill",R.styleManager.queryDefault("v-hoverline").fill).attr("class","v-hoverline")}else{C.attr("width",xScale.rangeBand()-aa/2).attr("height",t).attr("visibility","hidden")}if(ao==null){ao=aK.append("defs").append("clipPath").append("rect").attr("width",n).attr("height",t)}else{ao.attr("width",n).attr("height",t)}if(af==null){af=aK.append("defs")}else{if(q||av||A||!aw){af.remove();af=aK.append("defs")}}var aF=Math.log(aa)/Math.log(2);if(aF<0){aw=false}var aJ,aG=tempNeg=0,aL=postiveIndex=0;var aH=aK.selectAll("g.v-datashapesgroup");if(!a.isExist(aH[0][0])){aH=aK.append("g").attr("class","v-datashapesgroup")}var aM=aH.selectAll("g.v-stackedcolumn").data(ab);aM.enter().append("g");aM.attr("class","v-stackedcolumn").each(function(aO,aP){var aQ=d3.select(this).selectAll("g.v-axisGroup").data(aO);aQ.enter().append("g");aQ.attr("class","v-axisGroup").each(function(a4,aV){var a0=(aV==0)?yScale:yScale2;var aR=(aV==0)?aa/2:(aa/2+aa+aa/8);var a5=(aV==0)?xScale(aP):(xScale(aP)+aa/2+aa);var aX=(aV==0)?I:aD;var aT=0,aU=0,a3=0,a6=0;var aZ=[],aS=[];var aY=d3.select(this).selectAll("g.v-datashape").data(a4);aY.enter().append("g").attr("class","v-datashape").append("rect").attr("class","v-datapoint");aY.exit().remove();if(ax){aY.each(function(){aZ.push(this.getTransformToElement(this.parentNode).f)})}aY.attr("transform",function(a9,a8){var ba;if(a9.val>=0){a3+=a4[a8].val;aT=a0(a3);ba=aT}else{aU=a0(a6);a6+=a4[a8].val;ba=aU}var a7=xScale(aP)+aR;aS.push(a7);return"translate("+a7+","+ba+")"});var a2=aY.select("rect.v-datapoint");a2.attr("fill",function(a7,a9){a7.fillColor=aX[a9%aX.length];var a8={drawingEffect:Z,fillColor:a7.fillColor,direction:"horizontal"};return Q.register(a8)}).attr("shape-rendering","crispEdges").attr("fill-opacity",1);if(K()){if(q){a2.attr("x",function(a9,a8){var a7=a5-aS[a8]+aN*a8;a7=a7+aN/8*(a8)+aN/2;return a7}).attr("width",aN).attr("height",0).attr("y",function(a7){if(a7.val>0){return Math.abs(a0(a7.val)-a0(0))}else{return 0}});if(aw){a2.attr("clip-path",function(a8,a7){if(a7===p[aV][aP]||a7===H[aV][aP]){var ba="roundCorner-clip-"+a7+aP+aV+at;var a9=af.append("clipPath").attr("id",ba).append("rect").attr("class","v-roundCorner-clip").attr("rx",aF).attr("ry",aF).attr("y",Math.abs(a0(a8.val)-a0(0))+aF).attr("height",aF).attr("width",aN).attr("x",this.x.baseVal.value).transition().duration(P/2).attr("y",function(){if(a7===p[aV][aP]){return 0-aF}else{return 0}}).attr("height",function(){return Math.abs(a0(a8.val)-a0(0))+aF}).transition().delay(P/2).duration(P/2).attr("x",0).attr("width",aa);return"url(#"+ba+")"}})}a2.transition().duration(P/2).attr("height",function(a7){if(aP==0){Y=true}return Math.abs(a0(a7.val)-a0(0))}).attr("y",0);a2.transition().delay(P/2).duration(P/2).attr("width",aa).attr("x",0).each("end",function(a8,a7){if(Y==false){this.setAttribute("height",Math.abs(a0(a8.val)-a0(0)))}if(a7===ab[0][0].length-1&&aP==0){B()}})}else{if(av){a2.attr("y",function(a8,a7){return aZ[a7]-this.parentNode.getTransformToElement(this.parentNode.parentNode).f}).attr("height",function(a9,a8){var a7=Math.abs(a0(a9.val)-a0(0));if(parseFloat(this.height.baseVal.value)>a7){return this.height.baseVal.value}else{return a7}});var aW=a2.transition();aW.duration(P/2).attr("width",aa).attr("x",0).attr("height",function(a7){if(aP==0){Y=true}return Math.abs(a0(a7.val)-a0(0))}).attr("y",0).each("end",function(a8,a7){if(Y==false){this.setAttribute("height",Math.abs(a0(a8.val)-a0(0)))}if(a7===ab[0][0].length-1&&aP==0){B()}});if(aw){aW.attr("clip-path",function(a8,a7){if(a7===p[aV][aP]||a7===H[aV][aP]){var bb="roundCorner-clip-"+a7+aP+aV+at;var ba=parseFloat(this.y.baseVal.value);var a9=af.append("clipPath").attr("id",bb).append("rect").attr("class","v-roundCorner-clip").attr("rx",aF).attr("ry",aF).attr("y",function(){return ba-((a7===p[aV][aP])?aF:0)}).attr("height",this.height.baseVal.value+aF).attr("width",this.width.baseVal.value).attr("x",this.x.baseVal.value).transition().duration(P/2).attr("y",function(){if(a7===p[aV][aP]){return 0-aF}else{return 0}}).attr("height",function(){return Math.abs(a0(a8.val)-a0(0))+aF}).attr("x",0).attr("width",aa);return"url(#"+bb+")"}})}}else{if(A){a2.attr("y",function(a8,a7){return aZ[a7]-this.parentNode.getTransformToElement(this.parentNode.parentNode).f});var a1=a2.transition();a1.duration(P/2).attr("height",function(a7){if(aP==0){Y=true}return Math.abs(a0(a7.val)-a0(0))}).attr("y",0).each("end",function(a8,a7){if(Y==false){this.setAttribute("height",Math.abs(a0(a8.val)-a0(0)))}if(a7===ab[0][0].length-1&&aP==0){B()}});if(aw){a1.attr("clip-path",function(a8,a7){if(a7===p[aV][aP]||a7===H[aV][aP]){var bb="roundCorner-clip-"+a7+aP+aV+at;var ba=parseFloat(this.y.baseVal.value);var a9=af.append("clipPath").attr("id",bb).append("rect").attr("class","v-roundCorner-clip").attr("rx",aF).attr("ry",aF).attr("y",function(){return ba-((a7===p[aV][aP])?aF:0)}).attr("height",this.height.baseVal.value+aF).attr("width",this.width.baseVal.value).attr("x",this.x.baseVal.value).transition().duration(P/2).attr("y",function(){if(a7===p[aV][aP]){return 0-aF}else{return 0}}).attr("x",0).attr("height",function(){return Math.abs(a0(a8.val)-a0(0))+aF});return"url(#"+bb+")"}})}}else{if(aw){a2.attr("clip-path",function(a8,a7){if(a7===p[aV][aP]||a7===H[aV][aP]){var ba="roundCorner-clip-"+a7+aP+aV+at;var a9=af.append("clipPath").attr("id",ba).append("rect").attr("class","v-roundCorner-clip").attr("rx",aF).attr("ry",aF).attr("y",function(){if(a7===p[aV][aP]){return 0-aF}else{return 0}}).attr("height",function(){return Math.abs(a0(a8.val)-a0(0))+aF}).attr("x",0).attr("width",aa);return"url(#"+ba+")"}if(a7===lastBarIndex&&aP===lastBarGroupIndex){B()}})}}}}}else{a2.attr("y",0).attr("x",0).attr("width",aa).attr("height",function(a7){return Math.abs(a0(a7.val)-a0(0))});if(aw){a2.attr("clip-path",function(a8,a7){if(a7===p[aV][aP]||a7===H[aV][aP]){var ba="roundCorner-clip-"+a7+aP+aV+at;var a9=af.append("clipPath").attr("id",ba).append("rect").attr("class","v-roundCorner-clip").attr("rx",aF).attr("ry",aF).attr("y",function(){if(a7===p[aV][aP]){return 0-aF}else{return 0}}).attr("height",function(){return Math.abs(a0(a8.val)-a0(0))+aF}).attr("x",0).attr("width",aa);return"url(#"+ba+")"}})}}})});aM.exit().remove()});if(!K()){B()}av=false,A=false,q=false,Y=false;aB=true;return az}function B(){L.initialized();ax=true}az.afterUIComponentAppear=function(){L.initialized()};az.width=function(x){if(!arguments.length){return n}av=(n===x)&&!av?false:true;n=x;if(a.isExist(n)&&a.isExist(t)&&a.isExist(ab)){X()}return az};az.height=function(x){if(!arguments.length){return t}av=(t===x)&&!av?false:true;t=x;if(a.isExist(n)&&a.isExist(t)&&a.isExist(ab)){X()}return az};az.data=function(aO){if(!arguments.length){return aA}aA=aO;var aH=j(aA);var aM=aH.MG1;var aJ=aH.MG2;an=aH.MG1Number;am=aH.MG2Number||0;v=aH.MNDOnColor&&aH.MNDInner;u=[];if(a.isExist(aH.color)){r=true;F=true;var aN=[],aL=[];var aK=[],aI=[];for(var aG=0;aG<aM.length;aG++){aN=[];aL=[];for(var aF=0;aF<aM[aG].length;aF++){if(aH.color[aF]==0){aN.push(aM[aG][aF]);aL.push({val:null,hasMNDonCategoryAxis:true})}else{aN.push({val:null,hasMNDonCategoryAxis:true});aL.push(aM[aG][aF])}}aK.push(aN);aI.push(aL)}aM=aK;aJ=aI}else{r=false;if(a.isExist(aJ)){if(!q&&(aq.length!==aJ.length||aq[0].length!==aJ[0].length)){q=true}F=true}else{F=false}}if(ar.length!==aM.length||ar[0].length!==aM[0].length){q=true}var x=M(aM,aJ);ab=x;ar=aM;aq=aJ;if(!q){A=true}if(r){for(var aG=0;aG<ab.length;aG++){var aP=ab[aG];if(aP[0][0].hasMNDonCategoryAxis){u.push(aP[1])}else{u.push(aP[0])}}}else{u=c.extend(true,{},ab)}if(a.isExist(n)&&a.isExist(t)){X()}ae();return az};az.properties=function(x){if(!arguments.length){return o}h.extend(true,o,x);ae();return az};var X=function(){var aF=[];for(var x=0;x<ab.length;x++){aF.push(x)}xScale.domain(aF).rangeBands([0,n]);if(D==="percentage"){yScale.domain([0,1]).range([t,0]);yScale2.domain([0,1]).range([t,0]);m.perfect(yScale);m.perfect(yScale2)}else{if(s===0&&E===0){yScale.domain([0,1]).range([t,0])}else{yScale.domain([s,E]).range([t,0])}if(a.isExist(aq)||F){if(W===0&&O===0){yScale2.domain(yScale.domain()).range(yScale.range())}else{yScale2.domain([O,W]).range([t,0]);if(s===0&&E===0){yScale.domain(yScale2.domain()).range(yScale2.range())}}if(!S&&!ah){m.perfectDual(yScale,yScale2)}else{if(!S&&ah){m.perfect(yScale);m.getRoughTickNum(yScale2)}else{if(S&&!ah){m.perfect(yScale2);m.getRoughTickNum(yScale)}else{m.getRoughTickNum(yScale);m.getRoughTickNum(yScale2)}}}}else{if(!S){m.perfect(yScale)}else{m.getRoughTickNum(yScale)}}}if(!a.isExist(aq)){yScale2.range([0,0])}};az.colorPalette=function(x){if(!arguments.length){return J}J=x;return az};az.primaryDataRange=function(aF){if(!arguments.length){var x,aG;if(D==="percentage"){x=1;aG=0}else{aG=s<0?s:0;x=E}return{min:aG,max:x}}if(aF!==null){E=aF.max;s=aF.min;if(aF.from==="axis"){S=true}if(a.isExist(n)&&a.isExist(t)){X()}}return az};az.secondDataRange=function(aF){if(!arguments.length){var x,aG;if(D==="percentage"){x=1;aG=0}else{aG=O<0?O:0;x=W}return{min:aG,max:x}}if(aF!==null){W=aF.max;O=aF.min;if(aF.from==="axis"){ah=true}if(a.isExist(n)&&a.isExist(t)){X()}}return az};az.categoryScale=function(x){if(!arguments.length){return xScale}xScale=x;return az};az.primaryScale=function(x){if(!arguments.length){return yScale}yScale=x;aE[0]=yScale;return az};az.secondScale=function(x){if(!arguments.length){return yScale2}yScale2=x;aE[0]=yScale2;return az};az.primaryAxisColor=function(){if(F&&!r){return J[0]}else{return undefined}};az.secondAxisColor=function(){if(a.isExist(ab[0][1])&&!r){return aD[ab[0][1].length-1]}else{return undefined}};az.getPreferredSize=function(){};az.dataLabel=function(x){};az.x=function(x){if(!arguments.length){return aj}aj=x;return this};az.y=function(x){if(!arguments.length){return ai}ai=x;return this};az.dispatch=function(x){if(!arguments.length){return L}L=x;return this};az.primaryAxisTitle=function(aF){if(!arguments.length){var aI=aA.getMeasureValuesGroupDataByIdx(0),aH=[];if(aI){for(var aG=0,x=aI.values.length;aG<x;aG++){if(aI.values[aG].col!==null&&aI.values[aG].col!==undefined){aH.push(aI.values[aG].col)}else{aH.push(e.get("IDS_ISNOVALUE"))}}}return aH.join("/")}return this};az.secondAxisTitle=function(aF){if(!arguments.length){var aI=aA.getMeasureValuesGroupDataByIdx(1),aH=[];if(aI){for(var aG=0,x=aI.values.length;aG<x;aG++){if(aI.values[aG].col!==null&&aI.values[aG].col!==undefined){aH.push(aI.values[aG].col)}else{aH.push(e.get("IDS_ISNOVALUE"))}}}return aH.join("/")}return this};var M=function(aN,aL,aG){var aK=-1,aJ=-1;H=[[],[]],p=[[],[]];E=s=0;W=O=0;var aF=[];al=aN[0].length;var aQ,x;for(var aH=0;aH<al;aH++){var aO=[],aM=[];var aP=[];aQ=0,x=0;aK=-1,aJ=-1;for(var aI=0;aI<aN.length;aI++){if(k.isNoValue(aN[aI][aH].val)){aN[aI][aH].val=null;aN[aI][aH].isNaN=true}else{if(aN[aI][aH].val>=0){aQ+=aN[aI][aH].val;aK=aI}else{x+=aN[aI][aH].val;aJ=aI}}aO.push(aN[aI][aH])}H[0].push(aK);p[0].push(aJ);if(E<aQ){E=aQ}if(s>x){s=x}aP.push(aO);if(a.isExist(aL)){aQ=0,x=0;aK=-1,aJ=-1;for(aI=0;aI<aL.length;aI++){if(k.isNoValue(aL[aI][aH].val)){aL[aI][aH].val=null;aL[aI][aH].isNaN=true}else{if(aL[aI][aH].val>=0){aQ+=aL[aI][aH].val;aK=aI}else{x+=aL[aI][aH].val;aJ=aI}}aM.push(aL[aI][aH])}H[1].push(aK);p[1].push(aJ);if(W<aQ){W=aQ}if(O>x){O=x}aP.push(aM)}aF.push(aP)}return aF};o=G.props(null);return az};return f});sap.riv.module({qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.stackedverticalbar",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.VerticalBar",version:"4.0.1"}],function Setup(c,b){var a={id:"sap.viz.modules.stackedverticalbar",name:"stacked vertical bar",base:"sap.viz.modules.verticalbar",properties:{mode:{name:"mode",supportedValueType:"List",supportedValues:["comparison","percentage"],defaultValue:"comparison",description:"Set dispaly mode of stacked vertical bar.",isExported:true}},fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiDualStackedVerticalBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiDualVerticalBarChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/multi_dual_stacked_column",name:"IDS_MULTIDUALSTACKEDVERTICALBARCHART",base:"viz/multi_dual_column",modules:{root:{modules:{main:{modules:{plot:{modules:{plot:{id:"sap.viz.modules.stackedverticalbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiDualPercentageStackedVerticalBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiDualStackedVerticalBarChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/multi_100_dual_stacked_column",name:"IDS_MULTIDUALPERCENTAGESTACKEDVERTICALBARCHART",base:"viz/multi_dual_stacked_column",modules:{root:{modules:{main:{modules:{plot:{modules:{yAxis:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true}}},yAxis2:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.stackedverticalbar",configure:{properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true,type:"value",showZero:true}}}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{formatString:[["0.00%"],["0.00%"]]}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiDualBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Bar",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiBarChart",version:"4.0.1"}],function Setup(b,a){var c={id:"viz/multi_dual_bar",name:"IDS_MULTIDUALBARCHART",base:"viz/multi_bar",modules:{root:{modules:{main:{configure:{properties:{mergeDataRange:["primary","second"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis."}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"xAxis2",properties:{title:{visible:false},gridline:{visible:false},type:"value",position:"top"},propertiesOverride:{title:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main",target:"secondDataRange",sourceModule:"root.main.plot.plot",source:"secondDataRange"},{targetModule:"root.main.plot.plot",target:"secondDataRange",sourceModule:"root.main",source:"secondDataRange"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.xAxis2",target:"scale",sourceModule:"root.main.plot.plot",source:"secondScale"},{targetModule:"root.main.plot.xAxis2",target:"title",sourceModule:"root.main.plot.plot",source:"secondAxisTitle"},{targetModule:"root.main.plot.xAxis",target:"color",sourceModule:"root.main.plot.plot",source:"primaryAxisColor"},{targetModule:"root.main.plot.xAxis2",target:"color",sourceModule:"root.main.plot.plot",source:"secondAxisColor"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"}]}};b.register(c)});sap.riv.module({qname:"sap.viz.modules.stackedbar",version:"4.0.1"},[{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(a,c,g,j,b,d,m,c,k,h,e,l){var f=function(I,V){var S=null;var aE,aw=[[]],av=[[]],ad=[],u=[],F=0,s=0,W=false,al=false,aa=0,R=0,Y=null;var n,t,aj=Math.floor(Math.random()*10000),an=0,am=0,H=false,L=[],K,aH,v=false,aq=0,ap=0,aG=["squareWithRadius"],o,O=new g("selectData","deselectData","showTooltip","hideTooltip","initialized","startToInit");var U=V.effectManager;var au=d3.scale.ordinal(),N=d3.scale.linear(),ay=d3.scale.linear();var D=null,az=[],G=[],at=null,af=false;var w=1,ao,Z,C,J=[],p=[];var z=true,ak=true,X=true,aB=false,ag=true,r=false,aF=false,aC=false,Q,T=1000;var ar=null,ai=null,ax=c.guid();var E="comparison";var ac="normal";var aA=false,q=false,A=false;function M(){var x=false;if(!aF){x=z}else{if(q||A){x=ak}else{if(aA){x=X}}}return x}var ah=function(){aB=o.isRoundCorner;E=o.mode==="percentage"?"percentage":"comparison";z=o.animation.dataLoading;ak=o.animation.dataUpdating;X=o.animation.resizing;Q=o.tooltip.enabled;if(H&&!r){K=o.primaryValuesColorPalette;aH=o.secondaryValuesColorPalette}else{aH=o.colorPalette;K=o.colorPalette}ac=o.drawingEffect;var aK=aw.length;L=[];var aL,aJ;if(v){var aI=0,x=0;for(aL=0;aL<ad[0][0].length;aL++){L.push(K[aL%K.length]);aI++;if(aI===aq&&H&&a.isExist(ad[0][1])){x=0;for(aJ=0;aJ<=ad[0][1].length;aJ++){if(x>=ap){aI=0;break}L.push(aH[aJ%aH.length]);x++}}}}else{for(aL=0;aL<ad[0].length;aL++){for(aJ=0;aJ<ad[0][0].length;aJ++){L.push(K[aJ%K.length])}if(H&&a.isExist(ad[0][1])){for(aJ=0;aJ<ad[0][1].length;aJ++){L.push(aH[aJ%aH.length])}}}}};function aD(x){l.drawBound(x,n,t);if(E==="percentage"){ae()}S=b();if(!a.isExist(N)&&!a.isExist(ay)){return}O.startToInit();x.each(function(){w=(a.isExist(av))?2:1;C=8*(au.rangeBand())/(9*w+7);Z=ad[0][0].length+((a.isExist(ad[0][1]))?ad[0][1].length:0);var aJ=8*(au.rangeBand())/(9*Z+7);var aI=(Y=d3.select(this));if(D===null){D=aI.append("rect").attr("width",n).attr("height",au.rangeBand()-C/2).attr("visibility","hidden").attr("fill",V.styleManager.queryDefault("v-hoverline").fill).attr("class","v-hoverline")}else{D.attr("width",n).attr("height",au.rangeBand()-C/2).attr("visibility","hidden")}if(ar===null){ar=aI.append("defs").append("clipPath").append("rect").attr("width",n).attr("height",t)}else{ar.attr("width",n).attr("height",t)}if(ai===null){ai=aI.append("defs").attr("id","round-corner-clip"+ax)}else{if(q||aA||A||!aB){ai.remove();ai=aI.append("defs").attr("id","round-corner-clip"+ax)}}var aL=Math.log(C)/Math.log(2);if(aL<0){aB=false}var aK=aI.selectAll("g.v-datashapesgroup");if(!a.isExist(aK[0][0])){aK=aI.append("g").attr("class","v-datashapesgroup")}var aM;aM=aK.selectAll("g.v-stackedbar").data(ad);aM.enter().append("g");aM.attr("class","v-stackedbar").each(function(aN,aO){var aP=d3.select(this).selectAll("g.v-axisGroup").data(aN);aP.enter().append("g");aP.attr("class","v-axisGroup").each(function(a3,aW){var a0=(aW===0)?N:ay;var aQ=(aW===0)?C/2:(C/2+C+C/8);var a4=(aW===0)?au(aO):(au(aO)+C/2+C);var aX=(aW===0)?K:aH;var aS=0,aT=0,a2=0,a5=0;var aZ=[],aR=[];var aY=d3.select(this).selectAll("g.v-datashape").data(a3);aY.enter().append("g").attr("class","v-datashape").append("rect").attr("class","v-datapoint");aY.exit().remove();if(aC){aY.each(function(){aR.push(this.getTransformToElement(this.parentNode).e)})}aY.attr("transform",function(a8,a7){var a9=au(aO)+aQ;aZ.push(a9);var a6;if(a8.val>=0){aS=a0(a2);a2+=a3[a7].val;a6=aS}else{a5+=a3[a7].val;a6=a0(a5)}return"translate("+a6+","+a9+")"});var a1=aY.select("rect.v-datapoint");a1.attr("fill",function(a6,a8){a6.fillColor=aX[a8%aX.length];var a7={drawingEffect:ac,fillColor:a6.fillColor,direction:"vertical"};return U.register(a7)}).attr("shape-rendering","crispEdges").attr("fill-opacity",1);if(M()){if(q){a1.attr("height",aJ).attr("y",function(a7,a6){var a8=a4-aZ[a6]+aJ*a6;a8=a8+aJ/8*(a6)+aJ/2;return a8}).attr("x",function(a6){if(a6.val>0){return 0}else{return a0(0)-a0(a6.val)}}).attr("width",0);if(aB){a1.attr("clip-path",function(a7,a6){if(a6===p[aW][aO]||a6===J[aW][aO]){var a9="roundCorner-clip-"+a6+aO+aW+ax;var a8=ai.append("clipPath").attr("id",a9).append("rect").attr("class","roundCorner-clip").attr("rx",aL).attr("ry",aL).attr("y",this.y.baseVal.value).attr("height",aJ).attr("width",0).attr("x",this.x.baseVal.value).transition().duration(T/2).attr("x",function(){if(a6===p[aW][aO]){return 0}else{return 0-aL}}).attr("width",function(){return Math.abs(a0(a7.val)-a0(0))+aL}).transition().delay(T/2).duration(T/2).attr("height",C).attr("y",0);return"url(#"+a9+")"}})}a5=0;a1.transition().duration(T/2).attr("width",function(a6){return Math.abs(a0(a6.val)-a0(0))}).attr("x",0);a1.transition().delay(T/2).duration(T/2).attr("height",C).attr("y",0).each("end",function(a7,a6){this.setAttribute("width",Math.abs(a0(a7.val)-a0(0)));if(a6===ad[0][0].length-1&&aO===0){B()}})}else{if(aA){a1.attr("x",function(a7,a6){return aR[a6]-this.parentNode.getTransformToElement(this.parentNode.parentNode).e}).attr("width",function(a6){var a7=Math.abs(a0(a6.val)-a0(0));if(parseFloat(this.width.baseVal.value)>a7){return this.width.baseVal.value}else{return a7}});var aV=a1.transition();aV.duration(T/2).attr("width",function(a6){return Math.abs(a0(a6.val)-a0(0))}).attr("x",0).attr("y",0).attr("height",C).each("end",function(a7,a6){this.setAttribute("width",Math.abs(a0(a7.val)-a0(0)));if(a6===ad[0][0].length-1&&aO===0){B()}});if(aB){aV.attr("clip-path",function(a8,a7){if(a7===p[aW][aO]||a7===J[aW][aO]){var ba="roundCorner-clip-"+a7+aO+aW+ax;var a6=parseFloat(this.x.baseVal.value);var a9=ai.append("clipPath").attr("id",ba).append("rect").attr("class","v-roundCorner-clip").attr("rx",aL).attr("ry",aL).attr("y",this.y.baseVal.value).attr("height",this.height.baseVal.value).attr("width",this.width.baseVal.value+aL).attr("x",function(){return a6-((a7===p[aW][aO])?0:aL)}).transition().duration(T/2).attr("x",function(){if(a7===p[aW][aO]){return 0}else{return 0-aL}}).attr("width",function(){return Math.abs(a0(a8.val)-a0(0))+aL}).attr("height",C).attr("y",0);return"url(#"+ba+")"}})}}else{if(A){a1.attr("x",function(a7,a6){return aR[a6]-this.parentNode.getTransformToElement(this.parentNode.parentNode).e});var aU=a1.transition();aU.duration(T/2).attr("width",function(a6){return Math.abs(a0(a6.val)-a0(0))}).attr("x",0).each("end",function(a7,a6){this.setAttribute("width",Math.abs(a0(a7.val)-a0(0)));if(a6===ad[0][0].length-1&&aO===0){B()}});if(aB){aU.attr("clip-path",function(a8,a7){if(a7===p[aW][aO]||a7===J[aW][aO]){var ba="roundCorner-clip-"+a7+aO+aW+ax;var a6=parseFloat(this.x.baseVal.value);var a9=ai.append("clipPath").attr("id",ba).append("rect").attr("class","v-roundCorner-clip").attr("rx",aL).attr("ry",aL).attr("y",this.y.baseVal.value).attr("height",C).attr("width",this.width.baseVal.value+aL).attr("x",function(){return a6-((a7===p[aW][aO])?0:aL)}).transition().duration(T/2).attr("x",function(){if(a7===p[aW][aO]){return 0}else{return 0-aL}}).attr("width",function(){return Math.abs(a0(a8.val)-a0(0))+aL});return"url(#"+ba+")"}})}}else{if(aB){a1.attr("clip-path",function(a7,a6){if(a6===p[aW][aO]||a6===J[aW][aO]){var a9="roundCorner-clip-"+a6+aO+aW+ax;var a8=ai.append("clipPath").attr("id",a9).append("rect").attr("class","v-roundCorner-clip").attr("rx",aL).attr("ry",aL).attr("y",this.y.baseVal.value).attr("height",C).attr("width",function(){return Math.abs(a0(a7.val)-a0(0))+aL});if(a6===p[aW][aO]){a8.attr("x",0)}else{a8.attr("x",0-aL)}return"url(#"+a9+")"}if(a6===lastBarIndex&&aO===lastBarGroupIndex){B()}})}}}}}else{a1.attr("y",0).attr("x",0).attr("width",function(a7,a6){var a8=Math.abs(a0(a7.val)-a0(0));return a8}).attr("height",C);if(aB){a1.attr("clip-path",function(a7,a6){if(a6===p[aW][aO]||a6===J[aW][aO]){var a9="roundCorner-clip-"+a6+aO+aW+ax;var a8=ai.append("clipPath").attr("id",a9).append("rect").attr("class","v-roundCorner-clip").attr("rx",aL).attr("ry",aL).attr("y",this.y.baseVal.value).attr("height",C).attr("width",function(){return Math.abs(a0(a7.val)-a0(0))+aL});if(a6===p[aW][aO]){a8.attr("x",0)}else{a8.attr("x",0-aL)}return"url(#"+a9+")"}})}}});aP.exit().remove()});aM.exit().remove()});if(!M()){B()}aA=false,A=false,q=false;aF=true;return aD}aD.hoverOnPoint=function(aQ){var aP=aQ.x,aK=aQ.y;var aN=-1;while(aN<ad.length){if(Math.abs(aK-au.rangeBand()*aN-0.5*au.rangeBand())<=0.5*au.rangeBand()){break}aN++}if(aN>(ad.length-1)||aN<0){D.attr("visibility","hidden");return}D.attr("y",au.rangeBand()*aN+C/4).attr("visibility","visible");if(aN!==at){if(Q){at=aN;var aL=Y[0][0].getTransformToElement(Y[0][0].ownerSVGElement);var x=aL.f;var aJ=1,aI=1,aM=0;var aO=S.generateTooltipData(aE,u,ao-1-aN,L,aG);aO.point={x:d3.event.layerX,y:au.rangeBand()*aN+0.5*au.rangeBand()+x};aO.plotArea={x:aL.e,y:aL.f,width:n,height:t};aO.valueAxis0Count=ad[0][0].length;aO.valueAxis1Count=a.isExist(ad[0][1])?ad[0][1].length:0;O.showTooltip(b.formatTooltipData(aO))}}};aD.blurOut=function(){D.attr("visibility","hidden");at=null;if(Q){O.hideTooltip()}};aD.parent=function(){return Y};aD.highlight=function(aI){if(aI instanceof Array){for(var aJ=0,x=aI.length;aJ<x;aJ++){aI[aJ].setAttribute("fill-opacity",1)}}else{aI.setAttribute("fill-opacity",1)}};aD.unhighlight=function(aI){if(aI instanceof Array){for(var aJ=0,x=aI.length;aJ<x;aJ++){aI[aJ].setAttribute("fill-opacity",0.4)}}else{aI.setAttribute("fill-opacity",0.4)}};aD.clear=function(x){if(x==null){Y.selectAll(".v-datapoint").attr("fill-opacity",1)}else{Y.selectAll(".v-datapoint").attr("fill-opacity",0.4)}};function ae(){for(var aM=0,x=ad.length;aM<x;aM++){for(var aJ=0,aL=ad[aM],aO=u[aM];aJ<aL.length;aJ++){var aN=0,aK=0,aI;for(aI=0;aI<aL[aJ].length;aI++){aN+=Math.abs(aL[aJ][aI].val);if(!aL[aJ][aI].isNaN){aK++}}if(aN===0){for(aI=0;aI<aL[aJ].length;aI++){aL[aJ][aI].value=a.isExist(aL[aJ][aI].value)?aL[aJ][aI].value:aL[aJ][aI].val;aL[aJ][aI].val=aL[aJ][aI].isNaN?0:1/aK;if(a.isExist(aO[aJ])&&a.isExist(aO[aJ][aI])){aO[aJ][aI].val=aO[aJ][aI].isNaN?" ":1/aK}}}else{for(aI=0;aI<aL[aJ].length;aI++){if(aL[aJ][aI].val<0){aL[aJ][aI].isNegative=true}aL[aJ][aI].value=a.isExist(aL[aJ][aI].value)?aL[aJ][aI].value:aL[aJ][aI].val;aL[aJ][aI].val=Math.abs(aL[aJ][aI].val/aN);if(a.isExist(aO[aJ])&&a.isExist(aO[aJ][aI])){aO[aJ][aI].val=aO[aJ][aI].isNaN?" ":aO[aJ][aI].val/aN}}}}}}function B(){O.initialized();aC=true}aD.afterUIComponentAppear=function(){O.initialized()};aD.width=function(x){if(!arguments.length){return n}aA=(n===x)&&!aA?false:true;n=x;if(a.isExist(n)&&a.isExist(t)&&a.isExist(ad)){ab()}return aD};aD.height=function(x){if(!arguments.length){return t}aA=(t===x)&&!aA?false:true;t=x;if(a.isExist(n)&&a.isExist(t)&&a.isExist(ad)){ab()}return aD};aD.data=function(aR){if(!arguments.length){return aE}aE=aR;var aK=j(aE);var aP=aK.MG1;var aM=aK.MG2;aq=aK.MG1Number;ap=aK.MG2Number||0;v=aK.MNDOnColor&&aK.MNDInner;u=[];var aL;if(a.isExist(aK.color)){r=true;H=true;var aQ=[],aO=[];var aN=[],aJ=[];for(aL=0;aL<aP.length;aL++){aQ=[];aO=[];for(var aI=0;aI<aP[aL].length;aI++){if(aK.color[aI]===0){aQ.push(aP[aL][aI]);aO.push({val:null,hasMNDonCategoryAxis:true})}else{aQ.push({val:null,hasMNDonCategoryAxis:true});aO.push(aP[aL][aI])}}aN.push(aQ);aJ.push(aO)}aP=aN;aM=aJ}else{r=false;if(a.isExist(aM)){if(!q&&(av.length!==aM.length||av[0].length!==aM[0].length)){q=true}H=true}else{H=false}}if(aw.length!==aP.length||aw[0].length!==aP[0].length){q=true}var x=P(aP,aM,aK.color);if(!q){A=true}ad=x;aw=aP;av=aM;if(r){for(aL=0;aL<ad.length;aL++){var aS=ad[aL];if(aS[0][0].hasMNDonCategoryAxis){u.push(aS[1])}else{u.push(aS[0])}}}else{u=c.extend(true,{},ad)}if(a.isExist(n)&&a.isExist(t)){ab()}ah();return aD};aD.properties=function(x){if(!arguments.length){return o}h.extend(true,o,x);ah();return aD};var ab=function(){var aI=[];for(var x=0;x<ad.length;x++){aI.push(x)}au.domain(aI).rangeBands([t,0]);if(E==="percentage"){N.domain([0,1]).range([0,n]);ay.domain([0,1]).range([0,n]);m.perfect(N);m.perfect(ay)}else{if(s===0&&F===0){N.domain([0,1]).range([0,n])}else{N.domain([s,F]).range([0,n])}if(a.isExist(av)||H){if(aa===0&&R===0){ay.domain(N.domain()).range(N.range())}else{ay.domain([R,aa]).range([0,n]);if(s===0&&F===0){N.domain(ay.domain()).range(ay.range())}}if(!W&&!al){m.perfectDual(N,ay)}else{if(!W&&al){m.perfect(N);m.getRoughTickNum(ay)}else{if(W&&!al){m.perfect(ay);m.getRoughTickNum(N)}else{m.getRoughTickNum(N);m.getRoughTickNum(ay)}}}}else{if(!W){m.perfect(N)}else{m.getRoughTickNum(N)}}}if(!a.isExist(av)){ay.range([0,0])}};aD.colorPalette=function(x){if(!arguments.length){return L}L=x;return aD};aD.categoryScale=function(x){if(!arguments.length){return au}au=x;return aD};aD.primaryDataRange=function(aI){if(!arguments.length){var x,aJ;if(E==="percentage"){x=1;aJ=0}else{aJ=s<0?s:0;x=F}return{min:aJ,max:x}}if(aI!==null){F=aI.max;s=aI.min;if(aI.from==="axis"){W=true}if(a.isExist(n)&&a.isExist(t)){ab()}}return aD};aD.secondDataRange=function(aI){if(!arguments.length){var x,aJ;if(E==="percentage"){x=1;aJ=0}else{aJ=R<0?R:0;x=aa}return{min:aJ,max:x}}if(aI!==null){aa=aI.max;R=aI.min;if(aI.from==="axis"){al=true}if(a.isExist(n)&&a.isExist(t)){ab()}}return aD};aD.primaryScale=function(x){if(!arguments.length){return N}N=x;return aD};aD.secondScale=function(x){if(!arguments.length){return ay}ay=x;return aD};aD.primaryAxisColor=function(){if(H&&!r){return L[0]}else{return undefined}};aD.secondAxisColor=function(){if(a.isExist(ad[0][1])&&!r){return aH[ad[0][1].length-1]}else{return undefined}};aD.getPreferredSize=function(){};aD.x=function(x){if(!arguments.length){return an}an=x;return this};aD.y=function(x){if(!arguments.length){return am}am=x;return this};aD.dispatch=function(x){if(!arguments.length){return O}O=x;return this};aD.dataLabel=function(x){};aD.primaryAxisTitle=function(aI){if(!arguments.length){var aL=aE.getMeasureValuesGroupDataByIdx(0),aK=[];if(aL){for(var aJ=0,x=aL.values.length;aJ<x;aJ++){if(aL.values[aJ].col!==null&&aL.values[aJ].col!==undefined){aK.push(aL.values[aJ].col)}else{aK.push(e.get("IDS_ISNOVALUE"))}}}return aK.join("/")}return this};aD.secondAxisTitle=function(aI){if(!arguments.length){var aL=aE.getMeasureValuesGroupDataByIdx(1),aK=[];if(aL){for(var aJ=0,x=aL.values.length;aJ<x;aJ++){if(aL.values[aJ].col!==null&&aL.values[aJ].col!==undefined){aK.push(aL.values[aJ].col)}else{aK.push(e.get("IDS_ISNOVALUE"))}}}return aK.join("/")}return this};var P=function(aQ,aO,aJ){var aN=-1,aM=-1;J=[[],[]],p=[[],[]];F=s=0;aa=R=0;var aI=[];ao=aQ[0].length;var aT,x;for(var aK=0;aK<ao;aK++){var aR=[],aP=[];var aS=[];aT=0,x=0;aN=-1,aM=-1;for(var aL=0;aL<aQ.length;aL++){if(k.isNoValue(aQ[aL][aK].val)){aQ[aL][aK].val=null;aQ[aL][aK].isNaN=true}else{if(aQ[aL][aK].val>=0){aT+=aQ[aL][aK].val;aN=aL}else{x+=aQ[aL][aK].val;aM=aL}}aR.push(aQ[aL][aK])}J[0].push(aN);p[0].push(aM);if(F<aT){F=aT}if(s>x){s=x}aS.push(aR);if(a.isExist(aO)){aT=0,x=0;aN=-1,aM=-1;for(aL=0;aL<aO.length;aL++){aN=0,aM=-1;if(k.isNoValue(aO[aL][aK].val)){aO[aL][aK].val=null;aO[aL][aK].isNaN=true}else{if(aO[aL][aK].val>=0){aT+=aO[aL][aK].val;aN=aL}else{x+=aO[aL][aK].val;aM=aL}}aP.push(aO[aL][aK])}J[1].push(aN);p[1].push(aM);if(aa<aT){aa=aT}if(R>x){R=x}aS.push(aP)}aI.push(aS)}return aI};o=I.props(null);return aD};return f});sap.riv.module({qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.stackedbar",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Bar",version:"4.0.1"}],function Setup(c,b){var a={id:"sap.viz.modules.stackedbar",name:"stacked bar",base:"sap.viz.modules.bar",properties:{mode:{name:"mode",supportedValueType:"List",supportedValues:["comparison","percentage"],defaultValue:"comparison",description:"Set dispaly mode of stacked bar.",isExported:true}},fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiDualStackedBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiDualBarChart",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_dual_stacked_bar",name:"IDS_MULTIDUALSTACKEDBARCHART",base:"viz/multi_dual_bar",modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{id:"sap.viz.modules.stackedbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}}}}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiDualPercentageStackedBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiDualStackedBarChart",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_100_dual_stacked_bar",name:"IDS_MULTIDUALPERCENTAGESTACKEDBARCHART",base:"viz/multi_dual_stacked_bar",modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true}}},xAxis2:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.stackedbar",configure:{properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true,type:"value",showZero:true}}}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{formatString:[["0.00%"],["0.00%"]]}}}}}}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiStackedVerticalBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiVerticalBarChart",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_stacked_column",name:"IDS_MULTISTACKEDVERTICALBARCHART",base:"viz/multi_column",modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{id:"sap.viz.modules.stackedverticalbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1},secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiPercentageStackedVerticalBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiStackedVerticalBarChart",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_100_stacked_column",name:"IDS_MULTIPERCENTAGESTACKEDVERTICALBARCHART",base:"viz/multi_stacked_column",feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{yAxis:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.stackedverticalbar",configure:{properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true,showZero:true}}}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{formatString:[["0.00%"],["0.00%"]]}}}}}}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiStackedBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiBarChart",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_stacked_bar",name:"IDS_MULTISTACKEDBARCHART",base:"viz/multi_bar",modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{id:"sap.viz.modules.stackedbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1},secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiPercentageStackedBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiStackedBarChart",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_100_stacked_bar",name:"IDS_MULTIPERCENTAGESTACKEDBARCHART",base:"viz/multi_stacked_bar",feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.stackedbar",configure:{properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true,type:"value",showZero:true}}}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{formatString:[["0.00%"],["0.00%"]]}}}}}}};a.register(b)});sap.riv.module({qname:"sap.viz.feeds.Radar",version:"4.0.1"},[{qname:"sap.viz.feeds.Manifest",version:"4.0.1"},{qname:"sap.viz.data.feed.Constants",version:"4.0.1"}],function Setup(f,e){var c={id:"regionColor",name:"IDS_REGIONCOLOR",type:e.Type.Dimension,min:0,max:2,aaIndex:2,acceptMND:2},b={id:"regionShape",name:"IDS_REGIONSHAPE",type:e.Type.Dimension,min:0,max:2,aaIndex:3,acceptMND:0},g={id:"radarAxes",name:"IDS_RADARAXES",type:e.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:1},d={id:"radarAxesValues",name:"IDS_RADARAXESVALUE",type:e.Type.Measure,min:1,max:e.Constraints.INF,mgIndex:1};var a={id:"radar",feeds:[c,b,g,d]};f.register(a)});sap.riv.module({qname:"sap.viz.util.ShapeSeriesGenerator",version:"4.0.1"},[],function Setup(){var a={sapShapes:function(){return d3.scale.ordinal().range(["circle","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"])}};return a});sap.riv.module({qname:"sap.viz.modules.radar",version:"4.0.1"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.axis",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.ShapeSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.util.DrawUtil",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(h,g,e,c,d,l,n,k,a,m,f,b,j,o){return function(C,P){var G="v-marker-selected",H="v-marker-hover",V="v-datapoint";var N=0,M=0,Y={},x={},S,E,B={},Q,J,T=d3.scale.linear(),D,q={},O=[],I=[],W,X,F=null,s,v={},z="multiple",w,R=P.effectManager;X=c("selectData","deselectData","showTooltip","hideTooltip","initialized","startToInit");Q={clazz:"spiderweb",node:null,color:l.sap32(),shape:n.sapShapes(),radiusLength:0,radius:d3.scale.linear(),anchor:{x:0,y:0},radians:[],series:[],categories:[],caption:{node:null,name:"category-axis-title",width:0,height:0},labels:{},locked:false,};J={clazz:"v-valueaxis",anchor:{x:0,y:0},ref:d(a.get("sap.viz.modules.axis"),P),node:null,width:0,height:0};x=C.props(null);css={axisTitle:"viz-axis-title"},B={spacing:{hgap:5,vgap:5},alignment:{horizontal:"center"},polaraxis:{clazz:"polar_axis",color:"#6c6c6c",weight:"1px",labels:{css:{key:"viz-polar-axis-label",def:null}},title:{css:{key:"viz-polar-axis-title",def:null}}},polargrid:{clazz:"polar_grid",color:"#d8d8d8",weight:"1px"},line:{clazz:"dataline"},valueaxis:{clazz:"value_axis",title:{css:{key:"viz-axis-title",def:null}}},marker:{clazz:V,css:{key:"viz-radar-marker",def:null},stroke:"transparent"},labels:{color:"#333333",fontSize:"14px",fontWeight:"normal",fontFamily:"Arial"},tooltip:{radialOffset:1*10}};s={dataline:{weight:[1,7]},marker:{size:[4,32]}};D={options:$.extend(true,{},x),styles:$.extend(true,{},B),wording:{dash:" - ",dot:".",slash:" / ",ellipsis:"...",series:"s",data:"d",measureIndex:" mi",and:" & "}};E=function(){var ab=Q.series,aa=arguments[0],Z=arguments[1];Q.max=typeof Z!=="undefined"?Z:d3.max(d3.merge(d3.merge(ab)),function(ac){return ac.val});Q.min=typeof aa!=="undefined"?aa:d3.min(d3.merge(d3.merge(ab)),function(ac){return ac.val});if(Q.min===Q.max){if(Q.min===0){Q.max=100}if(Q.min<0){Q.max=0}if(Q.min>0){Q.min=0}}if(!Q.min||Q.min==="NaN"){Q.min=0}if(!Q.max||Q.max==="NaN"){Q.max=0}};W=function(aa,Z){return e.fastMeasure(aa,Z["font-size"]||Z.fontSize,Z["font-weight"]||Z.fontWeight,Z["font-family"]||Z.fontFamily)};w=function(){var ap=arguments[0],ae=ap.valueaxis,ah=ap.lblW,ac=ap.lblH,an=ap.caption,am={},ak,ab,aj,al,ag=B.spacing.hgap,ao=B.spacing.vgap,aa=-1,ai=[];(function ad(){aa++;if(ac-1/3*M>0){ac=0}if(an.height-1/3*M>0){an.height=0}if(an.width-2/3*N>0){an.width=0}if(N-M>=0){ab=(M-2*(ac+2*ao)-(an.height!==0?an.height+2*ao:0))/2;ak=2*ab+2*(ah+2*ag)+ae;if(ak>N){aj=ak-N;ab=(M-aj-2*(ac+2*ao)-(an.height!==0?an.height+2*ao:0))/2}}else{ab=(N-2*(ah+2*ag)-ae)/2}ai[aa]=ab;if(typeof ai[aa-2]!=="undefined"&&ai[aa-2]<=0){return 0}if(ah>ab||ab<=0){ah=0,ac=0;an.width=0,an.height=0;ab=ad();if(ae>ab){ae=0;ab=ad();if(N>=M){if(ab<M/2){ab=M/2,ao=0}}else{if(ab<N/2){ab=N/2,ag=0}}}}return ab})();al={width:ae+2*ab+4*ag+2*ah,height:2*(ac+ab)+4*ao+(an.height!==0?an.height+2*ao:0)};Q.radiusLength=ab;J.width=ae;J.anchor.x=0;J.anchor.y=ac+2*ao;Q.caption.width=an.width;Q.caption.height=an.height;am.x=ae+ah+ab+ag*2;am.y=ac+ab+ao*2;an.x=am.x;an.y=am.y+ab+ac+2*ao+an.height/2;var af=0,Z=0;if(ae){J.ref.gridlineLength(am.x-ae);if(N>M){af=N/2-al.width/2;J.anchor.x+=af;am.x+=af;an.x+=af}}else{if(N>M){af=N/2-am.x;am.x+=af;an.x+=af}}Q.caption.node.attr("x",an.x);Q.caption.node.attr("y",an.y);J.node.attr("transform","translate("+J.anchor.x+","+J.anchor.y+")");Q.node.attr("transform","translate("+am.x+","+am.y+")");Q.pole=am;Q.labels.width=ah;Q.labels.height=ac};S=function(ae,ac,ad){var ab=[],aa=[],Z;if(!ae.length){return d3.scale.linear().domain([0,ad]).range([0,2*Math.PI])}for(Z=0;Z<ad;Z++){ab.push(Z);aa.push(Z/ad*2*Math.PI)}for(Z=ae.length-1;Z>=0;Z--){aa.splice(ae[Z].order,1)}return d3.scale.ordinal().domain(ab).range(aa)};function L(Z){o.drawBound(Z,N,M);X.startToInit();Z.each(function(av){var ah=d3.select(this),aq=D.wording;J.node=null;Q.node=null;Q.radiusLength=0;F=ah;ah.select(aq.dot.concat(J.clazz)).remove();ah.select(aq.dot.concat(Q.clazz)).remove();ah.select(aq.dot+Q.caption.name).remove();J.node=ah.append("g").attr("class",J.clazz);Q.node=ah.append("g").attr("class",Q.clazz+" v-datashapesgroup");Q.caption.node=ah.append("text").attr("class",Q.caption.name);B.valueaxis.title.css.def=P.styleManager.query(B.valueaxis.title.css.key);B.polaraxis.labels.css.def=P.styleManager.query(B.polaraxis.labels.css.key);var an,ae,ak,al,at,ar,ao={},ax=Q.categories,ai=Q.series,ab=B.spacing.hgap,ad=B.spacing.vgap,az=(Q.radians=[]);var ag=[];for(at=0;at<ax.length;at++){ag.push(W(ax[at],B.polaraxis.labels.css.def))}ae=d3.max(ag,function(aA){return aA.width});ak=d3.max(ag,function(aA){return aA.height});T.domain([Q.min,Q.max]).range([200,0]);k.perfect(T);var ac={label:{visible:true,formatString:x.valueAxis.label.formatString},title:{visible:x.valueAxis.title.visible,text:x.valueAxis.title.text},type:"value",position:"left",gridline:{visible:true,showFirstLine:true,showLastLine:true,type:"dotted"}};if(x.valueAxis.gridline&&x.valueAxis.gridline.color){ac.gridline.color=x.valueAxis.gridline.color}J.ref.scale(T).properties(ac);J.width=x.valueAxis.visible?J.ref.getPreferredSize().width:0;if(J.width>0.5*N){J.width=0}w({valueaxis:J.width,lblW:ae,lblH:ak,caption:{width:W(x.polarAxis.title.visible?x.polarAxis.title.text:0,B.polaraxis.labels.css.def).width,height:W(x.polarAxis.title.visible?x.polarAxis.title.text:0,B.polaraxis.labels.css.def).height,}});if(x.polarAxis.title.visible&&Q.caption.width&&Q.caption.height){Q.caption.node.text(x.polarAxis.title.text).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("font-family",B.valueaxis.title.css.def["font-family"]).attr("font-size",B.valueaxis.title.css.def["font-size"]).attr("font-weight",B.valueaxis.title.css.def["font-weight"]).attr("fill",B.valueaxis.title.css.def.fill)}T.range([Q.radiusLength,0]);k.perfect(T);J.ref.scale(T);if(x.valueAxis.visible&&J.width){J.node.call(J.ref)}var aj=Q.node.append("g").attr("class","polaraxes-group").selectAll(B.polaraxis.clazz).data(ax);aj.enter().append("g").attr("transform",function(aC,aB){var aA=aB/ax.length*360-90;if(aA>-180&&aA<180){az.push({axisIdx:aB,radian:-1*aA*Math.PI/180})}else{az.push({axisIdx:aB,radian:(360-aA)*Math.PI/180})}return"rotate("+aA+") translate("+Q.radiusLength+")"});aj.append("svg:line").attr("x2",-1*Q.radiusLength).attr("stroke",R.register({drawingEffect:"normal",fillColor:B.polaraxis.color})).attr("stroke-width",B.polaraxis.weight).attr("fill","transparent");az.sort(function(aB,aA){return aB.radian-aA.radian});var au;if(Q.labels.width&&Q.labels.height){aj.append("g").attr("class","categoryLabel").append("text").text(function(aB,aA){return aB}).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("transform",function(aB,aA){au=aA/ax.length*360-90;if(au%90===0){if(au===-90||au===270){return"rotate(90) translate(0,"+(-1*(W(aB,B.polaraxis.labels.css.def).height/2+ad))+")"}else{if(au===0){return"translate("+(W(aB,B.polaraxis.labels.css.def).width/2+ab)+")"}else{if(au===180){return"rotate(180) translate("+(-1*(W(aB,B.polaraxis.labels.css.def).width/2+ab))+")"}else{return"rotate(-90) translate(0,"+(W(aB,B.polaraxis.labels.css.def).height/2+ad)+")"}}}}if((au>-90&&au<0)||(au>0&&au<90)){return"rotate("+(-1*au)+") translate("+(W(aB,B.polaraxis.labels.css.def).width/2+ab)+",0)"}return"rotate("+(-1*au)+") translate("+(-1*(W(aB,B.polaraxis.labels.css.def).width/2+ab))+",0)"}).attr("font-family",B.polaraxis.labels.css.def["font-family"]).attr("font-size",B.polaraxis.labels.css.def["font-size"]).attr("fill",R.register({drawingEffect:"normal",fillColor:B.polaraxis.labels.css.def.fill}))}if(!Q.min&&!Q.max){X.initialized();return}T.domain([Q.max,Q.min]);k.perfect(T);an=Q.categories.length;au=S([],an,an);var ap=d3.svg.line.radial().interpolate("linear").radius(T).angle(function(aB,aA){return au(aA)});var aa=T.ticks(T.tickNum),am=[],af=[];for(at=0;at<aa.length;at++){af=[];for(ar=0;ar<ax.length;ar++){af.push(aa[at])}am.push(af)}if(x.polarGrid.visible){Q.node.append("g").attr("class","polargrid-group").selectAll("."+B.polargrid.clazz).data(am).enter().append("path").attr("class",B.polargrid.childClazz).attr("d",function(aA){return ap(aA)+"Z"}).attr("fill","none").attr("stroke",R.register({drawingEffect:"normal",fillColor:B.polargrid.color})).attr("stroke-width",B.polargrid.weight)}Q.node.append("g").attr("class","dataline-group").selectAll("."+B.line.clazz).data(ai).enter().append("path").attr("class",function(aB,aA){return aq.series.concat(aA+" ").concat(B.line.clazz)}).attr("d",function(aC,aB){if(!aC.length){return}var aA=[];au=S([],an,an);for(var aD=0;aD<aC.length;aD++){aA.push(aC[aD].val)}if(aA.length!==Q.categories.length){au=S(L.vacants[aB],aA.length,an)}return ap(aA)+"Z"}).attr("fill",function(aB,aA){if(!aB.length){return}if(x.surface.fill.visible){return R.register({drawingEffect:"normal",fillColor:aB[0].color})}}).attr("fill-opacity",function(aB,aA){if(x.surface.fill.visible){return x.surface.fill.transparency}return 0}).attr("stroke",function(aB,aA){if(!aB.length){return}return R.register({drawingEffect:"normal",fillColor:aB[0].color})}).attr("stroke-width",x.line.width>s.dataline.weight[1]||x.line.width<s.dataline.weight[0]?D.options.line.width:x.line.width);var aw=Q.node.append("g").attr("class","marker-container").selectAll("."+B.marker.clazz).data(ai).enter().append("g");aw.attr("class","marker-group").each(function(aA,aB){var aE=L.vacants[aB],aD=[];$.each(Q.categories,function(aF,aG){aD.push(aF/an*2*Math.PI-0.5*Math.PI)});for(var aC=aE.length-1;aC>=0;aC--){aD.splice(aE[aC].order,1)}d3.select(this).append("g").attr("class","marker-series").selectAll("."+B.marker.clazz).data(aA).enter().append("g").attr("class","datashape").attr("transform",function(aH,aG){var aF=T(aH.val)*Math.cos(aD[aG]);y=T(aH.val)*Math.sin(aD[aG]);return"translate("+aF+", "+y+") rotate(0)"}).append("path").attr("class",function(aG,aF){return(aq.series+aB+" "+aq.data+aG.order+" "+aq.measureIndex+aG.ctx.path.mi+" "+B.marker.clazz)}).attr("d",function(aG,aF){return m.createMarkerData({type:aG.shape,rx:B.marker.size/2,ry:B.marker.size/2,borderWidth:2})}).attr("fill",function(aG){var aF={drawingEffect:x.drawingEffect,graphType:aG.shape,fillColor:aG.color,direction:"vertical",};return R.register(aF)})});var ay=Q.node.append("g").attr("class","phantom-marker-group").selectAll(".phantom-marker-series").data(L.vacants).enter().append("g");ay.attr("class","phantom-marker-series").each(function(aA,aB){d3.select(this).selectAll(".phantom-marker").data(aA).enter().append("path").attr("class",function(aD,aC){return(aq.series+aB+" "+aq.data+aD.order+" "+aq.measureIndex+aD.ctx.path.mi)}).attr("fill","none")});X.initialized()});Q.locked=false}L.dataLabel=function(Z){};L.data=function(aw){if(!arguments.length){return Y}Y=aw,Q.series=[],Q.categories=[],I=[],O=[],L.vacants=[];if(!L.caliberated){return L}var an=Y.getAnalysisAxisDataByIdx(0).values,av=Y.getMeasureValuesGroupDataByIdx(0).values,ak=Y.getAnalysisAxisDataByIdx(1),aj=Y.getAnalysisAxisDataByIdx(2),ah=[],ay,al,ax,af=[],ai={aa2:{fed:ak!==null&&ak.values.length?true:false,axesFed:false,hasMND:false},aa3:{fed:aj!==null&&aj.values.length?true:false,axesFed:false,hasMND:false}},aq,ap,ag;Q.mndized=an[0].type&&an[0].type.toLowerCase()==="mnd"?true:false;for(aq=0;aq<an.length;aq++){ax=[];for(ap=0;ap<an[aq].rows.length;ap++){ax.push(an[aq].rows[ap].val)}af.push(ax)}ay=af.length,al=af[0].length;if(ay===1){for(aq=0;aq<al;aq++){Q.categories.push(af[0][aq]===""||af[0][aq]===null?f.get("IDS_ISNOVALUE"):af[0][aq])}}else{var aa=[];for(aq=0;aq<al;aq++){for(ap=0;ap<ay;ap++){aa.push(af[ap][aq])}Q.categories.push(aa.join(D.wording.slash));aa=[]}}al=av[0].rows[0].length;if(Q.mndized){if(!ai.aa2.fed&&!ai.aa3.fed){O.push(Q.color(0));I.push(Q.shape(0))}if(ai.aa2.fed){for(aq=0;aq<ak.values[0].rows.length;aq++){O.push(Q.color(aq))}if(!ai.aa3.fed){I.push(Q.shape(0))}}if(ai.aa3.fed){for(aq=0;aq<aj.values[0].rows.length;aq++){I.push(Q.shape(aq))}if(!ai.aa2.fed){O.push(Q.color(0))}}for(aq=0;aq<av.length;aq++){for(ap=0;ap<av[aq].rows.length;ap++){for(ag=0;ag<al;ag++){av[aq].rows[ap][ag].color=O[ag]||Q.color(0);if(ai.aa2.fed){av[aq].rows[ap][ag].shape=I[ap]||Q.shape(0)}else{av[aq].rows[ap][ag].shape=I[ag]||Q.shape(0)}}}}var Z,au=[],at=[];for(aq=0;aq<av[0].rows.length;aq++){Z=[];for(ap=0;ap<av.length;ap++){Z.push(av[ap].rows[aq])}au.push(Z)}for(aq=0;aq<au.length;aq++){for(ag=0;ag<al;ag++){for(ap=0;ap<au[aq].length;ap++,ae=[]){at.push(au[aq][ap][ag])}ah.push(at);at=[]}}$.each(ah,function(aA,aC){var az=aC,aD=[];for(var aB=0;aB<az.length;aB++){az[aB].order=aB;if(az[aB].val===null){aD.push(az[aB])}}for(aB=az.length-1;aB>=0;aB--){if(az[aB].val===null){az.splice(aB,1)}}L.vacants.push(aD)});if(x.polarAxis.title.text==="Categories"){x.polarAxis.title.text=f.get("IDS_DEFAULTMND")}}else{if(ai.aa2.fed){for(aq=0;aq<ak.values.length;aq++){if(ak.values[aq].type&&ak.values[aq].type.toLowerCase()==="mnd"){ai.aa2.hasMND=true}}if(ai.aa2.hasMND){if(ak.values.length>=2){ai.aa2.axesFed=true}else{ai.aa2.axesFed=false}}else{ai.aa2.axesFed=true}}if(ai.aa3.fed){for(aq=0;aq<aj.values.length;aq++){if(aj.values[aq].type&&aj.values[aq].type.toLowerCase()==="mnd"){ai.aa3.hasMND=true}}if(ai.aa3.hasMND){if(aj.values.length>=2){ai.aa3.axesFed=true}else{ai.aa3.axesFed=false}}else{ai.aa3.axesFed=true}}var ab=0,ac=0,ag,ar=ai.aa2.hasMND&&!ai.aa2.axesFed,ad=ai.aa3.hasMND&&!ai.aa3.axesFed,ae=[];for(aq=0;aq<av.length;aq++){if(ar){O.push(Q.color(aq))}if(ad){I.push(Q.shape(aq))}for(ap=0;ap<av[aq].rows.length;ap++,ae=[]){for(ag=0;ag<av[aq].rows[ap].length;ag++){if(av[aq].rows[ap][ag].val===null){ae.push(av[aq].rows[ap][ag])}av[aq].rows[ap][ag].order=ag}ah.push(av[aq].rows[ap]);L.vacants.push(ae);if(ai.aa2.fed){if(ar){for(ag=0;ag<av[aq].rows[ap].length;ag++){av[aq].rows[ap][ag].color=Q.color(aq)}}else{if(ai.aa2.hasMND&&ai.aa2.axesFed){ab++;O.push(Q.color(ab));for(ag=0;ag<av[aq].rows[ap].length;ag++){av[aq].rows[ap][ag].color=Q.color(ab)}}else{O.push(Q.color(ap));for(ag=0;ag<av[aq].rows[ap].length;ag++){av[aq].rows[ap][ag].color=Q.color(ap)}}}}else{O.push(Q.color(0));for(ag=0;ag<av[aq].rows[ap].length;ag++){av[aq].rows[ap][ag].color=Q.color(0)}}if(ai.aa3.fed){if(ad){for(ag=0;ag<av[aq].rows[ap].length;ag++){av[aq].rows[ap][ag].shape=Q.shape(aq)}}else{if(ai.aa3.hasMND&&ai.aa3.axesFed){ac++;I.push(Q.shape(ac));for(ag=0;ag<av[aq].rows[ap].length;ag++){av[aq].rows[ap][ag].shape=Q.shape(ac)}}else{if(ai.aa2.fed){if(ai.aa2.hasMND){I.push(Q.shape(ap));for(ag=0;ag<av[aq].rows[ap].length;ag++){av[aq].rows[ap][ag].shape=Q.shape(ap)}}else{for(ag=0;ag<av[aq].rows[ap].length;ag++){I.push(Q.shape(ag));av[aq].rows[ap][ag].shape=Q.shape(ag)}}}}}}else{I.push(Q.shape(0));for(ag=0;ag<av[aq].rows[ap].length;ag++){av[aq].rows[ap][ag].shape=Q.shape(0)}}}}for(aq=0;aq<ah.length;aq++){for(ap=ah[aq].length-1;ap>=0;ap--){for(var ao=0;ao<L.vacants[aq].length;ao++){if(L.vacants[aq][ao].order===ap){ah[aq].splice(ap,1)}}}}if(x.polarAxis.title.text==="Categories"){x.polarAxis.title.text=A(an)}}if(x.valueAxis.title.text==="Value"){var am=[];for(aq=0;aq<av.length;aq++){am.push(av[aq].col===""||av[aq].col===null?f.get("IDS_ISNOVALUE"):av[aq].col)}x.valueAxis.title.text=am.join(D.wording.and)}Q.series=ah;Q.feedings=ai;if(!Q.locked){E()}return L};function A(aa){var ab="";for(var Z=0;Z<aa.length;Z++){ab=ab.concat(aa[Z].col.val===null?f.get("IDS_ISNOVALUE"):aa[Z].col.val+D.wording.slash)}return ab.lastIndexOf(D.wording.slash)>0?ab.substr(0,ab.lastIndexOf(D.wording.slash)):ab}L.primaryDataRange=function(Z){if(!arguments.length){return{min:Q.min,max:Q.max}}Q.min=Z.min;Q.max=Z.max;E(Z.min,Z.max);Q.locked=true;return L};L.colorPalette=function(Z){if(!arguments.length){return O}O=Z;return L};L.shapes=function(Z){if(!arguments.length){return I}I=Z;return L};L.dispatch=function(Z){if(!arguments.length){return X}X=Z;return L};L.properties=function(Z){if(!arguments.length){return x}j.extend(true,x,Z);if(x.colorPalette.length){Q.color.range(x.colorPalette)}if(x.shapePalette.length){Q.shape.range(x.shapePalette)}B.marker.size=x.marker.size;if(B.marker.size>s.marker.size[1]||B.marker.size<s.marker.size[0]){B.marker.size=6}B.polargrid.color=x.polarGrid.color;L.caliberated=true;L.data(Y);return L};L.afterUIComponentAppear=function(){X.initialized()};L.width=function(Z){if(!arguments.length){return N}var aa=N===Z?false:true;N=Z;if(g.isEmptyObject(Y)&&M){L.data(Y)}if(aa&&!Q.locked){E()}return L};L.height=function(Z){if(!arguments.length){return M}var aa=M===Z?false:true;M=Z;if(g.isEmptyObject(Y)&&N){L.data(Y)}if(aa&&!Q.locked){E()}return L};L.size=function(Z){if(!arguments.length){return{width:N,height:M}}N=Z;M=Z;if(g.isEmptyObject(Y)&&N&&M){L.data(Y)}if(N&&M&&Q.series.length){E()}return L};L.parent=function(Z){if(!arguments.length){return F}F=Z;return L};L.hoverOnPoint=function(am){var an=Q.pole,ab,aa,ag=D.wording,ad=Q.radians,aj={x:am.x-an.x,y:an.y-am.y};aa=Math.sqrt(Math.pow(aj.x,2)+Math.pow(aj.y,2));if(aa>Q.radiusLength){if(typeof L.last!=="undefined"&&(g.isEmptyObject(v))){q.straight(ag.dot+ag.data+L.last,true)}if(x.tooltip.enabled){Q.prompt()}return}ab=Math.atan2(aj.y,aj.x);var af=d3.bisector(function(ao){return ao.radian}).right,Z=af(ad,ab),ai,ac,al,ah;if(Z===0){ac=ad.length-1,al=0;if(ad[ac].radian===Math.PI){ai=-1*(Math.PI+Math.abs(ad[al].radian))/2;ah=ab>ai?ah=ad[al].axisIdx:ah=ad[ac].axisIdx}else{ah=ad[0].axisIdx}}else{if(Z===ad.length){ah=ad[ad.length-1].axisIdx}else{ac=Z-1,al=Z;ai=(ad[ac].radian+ad[al].radian)/2;ah=ab>ai?ah=ad[al].axisIdx:ah=ad[ac].axisIdx}}if(typeof L.last!=="undefined"&&L.last!==ah){q.straight(ag.dot+ag.data+L.last,true)}q.focus(ag.dot+ag.data+ah,true);if(!g.isEmptyObject(v)){q.dim(ag.dot+ag.data+ah,true);for(var ak in v){for(var ae=0;ae<v[ak].length;ae++){q.highlight(v[ak])}}}if(x.tooltip.enabled){Q.prompt(ah)}L.last=ah};L.clear=function(){if(!arguments[0]){q.straight().bright();v={}}else{q.dim()}};L.highlight=function(ai){if(!Q.min&&!Q.max){return}var ae=ai instanceof Array?ai:[ai],af=/[sS][0-9]+/,ah;z=typeof arguments[1]==="boolean"?"multiple":(typeof arguments[1]==="string"?arguments[1].toLowerCase():typeof arguments[2]==="string"?arguments[2].toLowerCase():"multiple");q.highlight(ae);for(var ad=0,ag=false;ad<ae.length;ad++,ag=false){ah=ae[ad].className.baseVal.match(af)[0];if(v[ah]){for(var ac=0;ac<v[ah].length;ac++){if(v[ah][ac]===ae[ad]){ag=true}}if(!ag){v[ah].push(ae[ad])}}else{v[ah]=[];v[ah].push(ae[ad])}}if(z==="single"){return}var aa,Z;for(var ab in v){if(v.hasOwnProperty(ab)){Z=ab.substr(1);aa=Q.series[Z].length;u(ab,v[ab],aa)}}};function u(Z,aa,ab){if(aa.length===ab){q.highlight2(D.wording.dot+Z,true)}else{q.highlight(aa)}}L.unhighlight=function(Z){var aa=Z instanceof Array?Z:[Z];q.straight(aa).dim(aa);if(z==="single"){v=[];return}$.each(aa,function(ab,af){var ae=af.className.baseVal.match(/[sS][0-9]+/)[0];for(var ad in v){for(var ac=0;ac<v[ad].length;ac++){if(v[ad][ac]===Z){v[ad].splice(ac,1);break}}}q.straight2(D.wording.dot+ae).dim(D.wording.dot+ae)})};L.blurOut=function(){X.hideTooltip()};Q.prompt=function(){if(typeof arguments[0]==="undefined"){X.hideTooltip();return}var an,at={},af,av=arguments[0],am=D.wording,ac={},ap=0,ag=Q.radiusLength-B.tooltip.radialOffset,ad=F[0][0].getTransformToElement(F[0][0].ownerSVGElement),ao;for(ao=0;ao<Q.radians.length;ao++){if(Q.radians[ao].axisIdx===av){ap=Q.radians[ao].radian;break}}ac.x=ag*Math.cos(ap);ac.y=ag*Math.sin(ap);orient=ap<=0.5*Math.PI&&ap>-0.5*Math.PI?"left":"right";an={body:[],plotArea:{x:ad.e,y:ad.f,width:N,height:M},point:{x:ac.x+Q.pole.x+ad.e,y:ac.y<0?Math.abs(ac.y)+Q.pole.y+ad.f:Q.pole.y-ac.y+ad.f,orientation:orient,angle:ap,range:{x:ap===0.5*Math.PI||ap===-0.5*Math.PI?0:Math.abs(ac.x),y:ap===0||ap===Math.PI||ap===-1*Math.PI?0:Math.abs(ac.y)}},footer:[]};var ak=Y.getAnalysisAxisDataByIdx(0).values,ai=Q.feedings.aa2.fed?Y.getAnalysisAxisDataByIdx(1).values:null,ah=Q.feedings.aa3.fed?Y.getAnalysisAxisDataByIdx(2).values:null,au=Y.getMeasureValuesGroupDataByIdx(0).values;af=Q.node.selectAll("."+am.data+av);var Z,ab,aj,aa,ao,al,ar;if(Q.mndized){at={name:Q.categories[av]===""||Q.categories[av]===null?f.get("IDS_ISNOVALUE"):Q.categories[av],val:[]};af.each(function(ax){var aw={};aw.color=ax.color;aw.shape=ax.shape;aw.value=ax.val!==null?ax.val:f.get("IDS_ISNOVALUE");if(!Q.feedings.aa2.fed&&!Q.feedings.aa3.fed){aw.label=null}if(Q.feedings.aa2.fed){aa=x.multichart?ax.ctx.path.dii_a2:ax.ctx.path.dii_a1;for(ao=0,ar=[];ao<ai.length;ao++){ar.push(ai[ao].rows[aa])}Z=ar;if(!Q.feedings.aa3.fed){aw.label=Z}}if(Q.feedings.aa3.fed){aa=Q.feedings.aa2.fed?ax.ctx.path.dii_a2:ax.ctx.path.dii_a1;for(ao=0,ar=[];ao<ah.length;ao++){ar.push(ah[ao].rows[aa])}if(Q.feedings.aa2.fed){ab=ar;aw.label=[];aw.label=aw.label.concat(Z);aw.label=aw.label.concat(ab)}else{Z=ar;aw.label=Z}}at.val.push(aw)});an.body.push(at)}else{if(!Q.feedings.aa2.axesFed&&!Q.feedings.aa3.axesFed){af.each(function(ay){var ax={},aw={name:au[ay.ctx.path.mi].col,val:[]};ax.color=ay.color;ax.shape=ay.shape;ax.value=ay.val!==null?ay.val:f.get("IDS_ISNOVALUE");ax.label=null;aw.val.push(ax);an.body.push(aw)})}else{for(var ae=0;ae<au.length;ae++){at={name:au[ae].col===null?f.get("IDS_ISNOVALUE"):au[ae].col,val:[]};af.each(function(az){var ax={};ax.color=az.color;ax.shape=az.shape;ax.value=az.val!==null?az.val:f.get("IDS_ISNOVALUE");var aw=d3.select(this)[0][0].className.baseVal.match(/\smi[0-9]+/);if(aw!==null){aw=aw[0]}else{return}ar=[];if(aw===(am.measureIndex+ae)){var ay=ai!==null?ai:ah;for(ao=0;ao<ay.length;ao++){if(az.ctx.path.dii_a2>ay[ao].rows.length-1){az.ctx.path.dii_a2=ay[ao].rows.length-1}ar.push(ay[ao].rows[az.ctx.path.dii_a2])}ax.label=ar}else{return}at.val.push(ax)});an.body.push(at)}}var aq={};for(ao=0;ao<ak.length;ao++){aq={};aq.label=ak[ao].col;aq.value=ak[ao].rows[av];an.footer.push(aq)}}X.showTooltip(b.formatTooltipData(an))};q.params={stroke:{invisible:"transparent",natural:"#ffffff",heavy:"#333333"},weight:{natural:x.line.width,heavy:"2px"},opacity:{natural:1,low:0.2}};q.dim=function(){var aa=D.wording;if(!arguments.length){Q.node.selectAll(aa.dot+B.line.clazz).attr("opacity",q.params.opacity.low);Q.node.selectAll(aa.dot+B.marker.clazz).attr("opacity",q.params.opacity.low)}else{if(arguments[0] instanceof Array){for(var Z=0;Z<arguments[0].length;Z++){d3.select(arguments[0][Z]).attr("opacity",q.params.opacity.low)}}else{if(arguments[1]){Q.node.selectAll(arguments[0]).attr("opacity",q.params.opacity.low)}else{Q.node.select(arguments[0]).attr("opacity",q.params.opacity.low)}}}return q};q.bright=function(){var aa=D.wording;if(!arguments.length){Q.node.selectAll(aa.dot+B.line.clazz).attr("opacity",q.params.opacity.natural);Q.node.selectAll(aa.dot+B.marker.clazz).attr("opacity",q.params.opacity.natural)}else{if(arguments[0] instanceof Array){for(var Z=0;Z<arguments[0].length;Z++){d3.select(arguments[0][Z]).attr("opacity",q.params.opacity.natural)}}else{if(arguments[1]){Q.node.selectAll(arguments[0]).attr("opacity",q.params.opacity.natural)}else{Q.node.select(arguments[0]).attr("opacity",q.params.opacity.natural)}}}return q};q.straight=function(){var aa=D.wording;if(!arguments.length){Q.node.selectAll(aa.dot+B.marker.clazz).each(function(){p(d3.select(this))})}else{if(arguments[0] instanceof Array){for(var Z=0;Z<arguments[0].length;Z++){p(d3.select(arguments[0][Z]))}}else{if(arguments[1]){Q.node.selectAll(arguments[0]).each(function(){p(d3.select(this))})}else{p(Q.node.select(arguments[0]))}}}return q};function p(aa){aa.attr("stroke",q.params.stroke.invisible);var ab=aa.attr("class");var Z=ab.indexOf(V);if(Z>=0){aa.attr("class",ab.substring(0,Z)+V)}}q.straight2=function(){var aa=D.wording;if(!arguments.length){Q.node.selectAll(aa.dot+B.marker.clazz).each(function(){U(d3.select(this))})}else{if(arguments[0] instanceof Array){for(var Z=0;Z<arguments[0].length;Z++){U(d3.select(arguments[0][Z]))}}else{if(arguments[1]){Q.node.selectAll(arguments[0]).each(function(){U(d3.select(this))})}else{U(Q.node.select(arguments[0]))}}}return q};function U(aa){aa.attr("stroke-width",q.params.weight.natural);var ab=aa.attr("class");var Z=ab.indexOf(V);if(Z>=0){aa.attr("class",ab.substring(0,Z)+V)}}q.highlight=function(){if(!arguments.length){return}if(arguments[0] instanceof Array){for(var Z=0;Z<arguments[0].length;Z++){K(d3.select(arguments[0][Z]))}}else{if(arguments[1]){Q.node.selectAll(arguments[0]).each(function(){K(d3.select(this))})}else{K(Q.node.select(arguments[0]))}}return q};function K(aa){aa.attr("stroke",q.params.stroke.heavy).attr("stroke-width",q.params.weight.heavy).attr("opacity",q.params.opacity.natural);var ab=aa.attr("class");var Z=ab.indexOf(V);if(Z>=0){aa.attr("class",ab.substring(0,Z)+V+" "+G)}}q.highlight2=function(){if(!arguments.length){return}if(arguments[0] instanceof Array){for(var Z=0;Z<arguments[0].length;Z++){r(d3.select(arguments[0][Z]))}}else{if(arguments[1]){Q.node.selectAll(arguments[0]).each(function(){r(d3.select(this))})}else{r(Q.node.select(arguments[0]))}}return q};function r(aa){aa.attr("stroke-width",q.params.weight.heavy).attr("opacity",q.params.opacity.natural);var ab=aa.attr("class");var Z=ab.indexOf(V);if(Z>=0){aa.attr("class",ab.substring(0,Z)+V+" "+G)}}q.focus=function(){if(!arguments.length){return}if(arguments[0] instanceof Array){for(var Z=0;Z<arguments[0].length;Z++){t(d3.select(arguments[0][Z]))}}else{if(arguments[1]){Q.node.selectAll(arguments[0]).each(function(){t(d3.select(this))})}else{t(Q.node.select(arguments[0]))}}return q};function t(aa){aa.attr("stroke",q.params.stroke.natural).attr("stroke-width",q.params.weight.natural);var ab=aa.attr("class");var Z=ab.indexOf(V);if(Z>=0){aa.attr("class",ab.substring(0,Z)+V+" "+H)}}return L}});sap.riv.module({qname:"sap.viz.modules.manifests.Radar",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.radar",version:"4.0.1"},{qname:"sap.viz.feeds.Radar",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.radar",type:b.Module.Type.Chart,name:"radar",description:"Radar module properties",properties:{drawingEffect:{name:"drawingEffect",supportedValueType:"List",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Set drawing effect of radar.",isExported:true},polarGrid:{name:"polarGrid",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set polar gridline visibility switch."},color:{name:"color",supportedValueType:"String",defaultValue:"#d8d8d8",description:"Set polar gridline color."}},description:"Settings for Polar gridline customizations."},valueAxis:{name:"valueAxis",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set value axis visibility switch."},title:{name:"title",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set value axis title visibility switch."},text:{name:"text",supportedValueType:"String",defaultValue:"Value",description:"Set value axis title text."},},description:"Settings for value axis title."},label:{name:"label",supportedValueType:"Object",supportedValues:{formatString:{name:"formatString",supportedValueType:"String",defaultValue:null,description:"Set format string of value axis. If number format and format string are both set, number format will be ignored. "}},description:"Settings for axis label."}},description:"Settings for value axis at side bar."},polarAxis:{name:"polarAxis",supportedValueType:"Object",supportedValues:{title:{name:"title",description:"Settings for polar axis title.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set category axis visibility switch."},text:{name:"text",supportedValueType:"String",defaultValue:"Categories",description:"Set category axis text."}}}},description:"Settings for polar axes customizations."},colorPalette:{name:"colorPalette",defaultValue:b.SAPColor,description:"Set marker color customizations."},shapePalette:{name:"shapePalette",supportedValueType:"StringArray",defaultValue:["circle","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"],supportedValues:["circle","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"],description:"Set marker shape customizations."},line:{name:"line",description:"Settings for line customizations.",supportedValueType:"Object",supportedValues:{width:{name:"width",supportedValueType:"PositiveInt",defaultValue:2,description:"Line weight settings. Range is [1, 7]"}}},surface:{name:"surface",supportedValueType:"Object",supportedValues:{fill:{name:"fill",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable fill effect for polar area."},transparency:{name:"transparency",supportedValueType:"Double",defaultValue:0.3,description:"Set alpha value for polar area fill color."},}}},description:"Settings for Surface customizations."},marker:{name:"marker",supportedValueType:"Object",supportedValues:{size:{name:"size",supportedValueType:"PositiveInt",defaultValue:6,min:4,max:32,description:"Set marker size customization."}},description:"Settings for marker/data point graphics."},tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",supportedValues:[true,false],defaultValue:true,description:"Set tooltip enablement."}},isExported:false,description:"Settings for tooltip customization."},},events:{initialized:b.Module.Event.Initialized.desc,selectData:b.Module.Event.SelectData.desc,deselectData:b.Module.Event.DeSelectData.desc,showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},feeds:{id:"radar"},css:{".viz-axis-title.v-title":{description:"Font style for polar axis title.",value:{fill:"#333333","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"14px","font-weight":"bold"}},".viz-axis-label.v-label":{description:"Define style for the axis label.",value:{fill:"#333333","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"12px","font-weight":"normal"}},".viz-polar-axis-label":{description:"Font styles for polar axis labels.",value:{"font-family":"'Open Sans', Arial, Helvetica, sans-serif",fill:"#333333","font-size":"11px","font-weight":"bold"}}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiRadarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Radar",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Background",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_radar",name:"IDS_MULTIRADARCHART",base:"riv/base/multiple/xy",modules:{root:{modules:{legend:{data:{aa:[3]}},tooltip:{id:"sap.viz.modules.tooltip",configure:{properties:{chartType:"radar",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove","touchstart"]}}},main:{configure:{properties:{mergeDataRange:["primary"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{orientation:"vertical",position:"outside",automaticInOutside:false,outsidePosition:"up",positionPreference:true}}},plot:{id:"sap.viz.modules.radar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{multichart:true}}},background:{configure:{propertyCategory:"background",properties:{visible:false}}}}}}}}}},feeds:{multiplier:{acceptMND:0,max:2},regionShape:{max:0}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapes"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main",type:"initialized.interaction"},{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main",type:"hideTooltip"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.plot.dataLabel",listener:"showLabel",sourceModule:"root.main.plot.plot",type:"initialized.datalabel"},{targetModule:"root.main.plot.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot.plot",type:"startToInit.datalabel"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.modules.controller.rotate",version:"4.0.1"},[{qname:"sap.viz.util.Objects",version:"4.0.1"}],function Setup(a){return function(b){var h=null,l=null,n=b.props(null),o=0,e=0,d=false;var k=function(){return k};k.registerEvent=function(){l.on("mousedown.rotate",c).on("mousemove.rotate",f).on("mouseup.rotate",j);$(l.node()).mouseleave(j);var g=h.rotate();o=g.xAngle;e=g.yAngle};function c(){oldX=d3.event.layerX;oldY=d3.event.layerY;d=true}function f(){if(d==true){var g=d3.event.layerX;var m=d3.event.layerY;e+=(oldX-g)/2;if(e>180){e-=360}else{if(e<-180){e+=360}}o+=(m-oldY)/2;if(o>90){o=90}else{if(o<-90){o=-90}}oldX=g;oldY=m;h.rotate({xAngle:o,yAngle:e})}}function j(){d=false}k.module=function(g){if(!arguments.length){return h}h=g;l=h.parent();return k};k.properties=function(g){if(!arguments.length){return n}a.extend(true,n,g);return k};return k}});sap.riv.module({qname:"sap.viz.modules.manifests.controller.Rotate",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.controller.rotate",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Base",version:"4.0.1"}],function Setup(c,b){var a={id:"sap.viz.modules.controller.rotate",name:"selection",base:"sap.viz.modules.controller.base",description:"Settings for the interactions of the chart.",properties:{},fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.modules.threeD.Vector3D",version:"4.0.1"},[{qname:"sap.viz.modules.threeD.Vector",version:"4.0.1"},{qname:"sap.viz.modules.threeD.Point",version:"4.0.1"}],function Setup(a,b){function c(){a.apply(this,arguments)}c.prototype=Object.create(a.prototype);c.prototype.transform=function(d){var f=new b(0,0,0).transform(d);var e=new b(this.value(0),this.value(1),this.value(2)).transform(d);this.value(0,e.x-f.x);this.value(1,e.y-f.y);this.value(2,e.z-f.z);return this};return c});sap.riv.module({qname:"sap.viz.modules.threeD.cube",version:"4.0.1"},[{qname:"sap.viz.modules.threeD.Vector4D",version:"4.0.1"},{qname:"sap.viz.modules.threeD.Vector3D",version:"4.0.1"},{qname:"sap.viz.modules.threeD.matrix",version:"4.0.1"},{qname:"sap.viz.modules.threeD.Point",version:"4.0.1"}],function Setup(d,b,a,c){return function(){var j,f,k,h,g;function e(n){var o=n.selectAll("g.v-cube").data(function(u,s){var t=d3.functor(j).apply(this,arguments);var q=d3.functor(f).apply(this,arguments);var r=d3.functor(k).apply(this,arguments);var p=d3.functor(h).apply(this,arguments);var v=d3.functor(g).apply(this,arguments);return[{wv:t,hv:q,dv:r,m:p,data:u,c:v}]});o.exit().remove();o.enter().append("g").attr("class","v-cube v-datapoint v-normal");var m=function(p,q,r){return[[0,0,0],[0,q,0],[0,q,r],[0,0,r],[p,0,0],[p,q,0],[p,q,r],[p,0,r]]};var l=o.selectAll('rect[class|="v-cube-surface"]').data(function(u){var r=u.wv;var w=u.hv;var p=u.dv;var v=u.c;var z=d3.rgb(v).hsl();var q=z.l;var s=d3.hsl(z.h,z.s,q*1.06).rgb().toString();var t=d3.hsl(z.h,z.s,q*0.94).rgb().toString();var x=new Array({m:a().rotateX(90).translate(0,w,0).transform(u.m),type:"bottom"},{m:a().rotateY(180).translate(0,0,p).transform(u.m),type:"back"},{m:a().rotateY(90).transform(u.m),type:"left"},{type:"front",m:u.m},{m:a().rotateY(-90).translate(r,0,0).transform(u.m),type:"right"},{m:a().rotateX(-90).transform(u.m),type:"top"});x.forEach(function(A){A.normal=new b(0,0,-1).transform(A.m)});x=x.filter(function(A){return A.normal.value(2)<0});x.forEach(function(B){switch(B.type){case"bottom":B.x=0;B.y=0;B.w=r;B.h=p;break;case"back":B.x=-r;B.y=0;B.w=r;B.h=w;break;case"left":B.x=-p;B.y=0;B.w=p;B.h=w;break;case"front":B.x=0;B.y=0;B.w=r;B.h=w;break;case"right":B.x=0;B.y=0;B.w=p;B.h=w;break;case"top":B.x=0;B.y=-p;B.w=r;B.h=p;break}var A=B.normal.value(0);B.fill=A===0?s:(A<0?v:t)});return x});l.exit().remove();l.enter().append("rect").attr("class",function(p){return"v-cube-surface-"+p.type});l.attr("x",function(p){return p.x}).attr("y",function(p){return p.y}).attr("width",function(p){return p.w}).attr("height",function(p){return p.h}).attr("transform",function(p){if(p.m){return p.m.projection()}}).attr("fill",function(p){return p.fill});o.each(function(t){var r=0;if(t.m){var q=t.m.row(2);r=new d(0,t.hv,0,1).dotProduct(q)}d3.select(this.parentNode).datum().flbpz=r;var p=m(t.wv,t.hv,t.dv),s=[];p.forEach(function(u){s.push(new c(u[0],u[1],u[2]).transform(t.m))});s.sort(function(v,u){return(u.x-v.x)});s.splice(2);s.sort(function(v,u){return(v.y-u.y)});t.rtp=s[0]});n.sort(function(q,p){return d3.descending(q.flbpz,p.flbpz)})}e.width=function(){if(arguments.length===0){return j}j=arguments[0];return e};e.height=function(){if(arguments.length===0){return f}f=arguments[0];return e};e.depth=function(){if(arguments.length===0){return k}k=arguments[0];return e};e.matrix=function(){if(arguments.length===0){return h}h=arguments[0];return e};e.color=function(){if(arguments.length===0){return g}g=arguments[0];return e};return e}});sap.riv.module({qname:"sap.viz.modules.bar3d",version:"4.0.1"},[{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.modules.threeD.cube",version:"4.0.1"},{qname:"sap.viz.modules.threeD.matrix",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.modules.tooltip",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"}],function Setup(h,m,g,b,j,e,d,f,a,l,c){var k=0.5;return function(s){var G=0,F=0,Q,x=s.props(null),H=j();var M,L=f("initialized","showTooltip","hideTooltip","valueScaleChange","primaryCategoryScaleChange","secondaryCategoryScaleChange");var C=null;var u=null;var z={"sap.viz.modules.column3d.dimension":{key:"sap.viz.modules.column3d.dimension",values:[{col:{val:""},rows:[]}]}};var D={"sap.viz.modules.column3d.dimension":{key:"sap.viz.modules.column3d.dimension",values:[{col:{val:""},rows:[]}]}};var o=d3.scale.ordinal(),J=d3.scale.ordinal(),N=d3.scale.linear();var w=b();var I=d3.scale.ordinal();function E(Z){C=Z;var ab=Z.selectAll("style").data([".v-normal rect{stroke:#FFF; opacity:1} .v-selected rect{stroke:#000; opacity:1} .v-deselected rect{stroke:#FFF; opacity:0.4}"]);ab.exit().remove();ab.enter().append("style");ab.text(String);I.range(x.colorPalette);var U=o.rangeBand();var S=J.rangeBand();var Y=B();var T=U/(1+2*k);var X=T;var V=T*k;var aa=Y?function(ac){return F-N(ac.data.val)}:function(ac){return N(ac.data.val)};w.width(Y?T:aa).height(Y?aa:T).depth(X).matrix(function(af){var ad=af.aa1*U+V;var ac=Y?ad:0;var ag=Y?N(af.data.val):F-ad;var ae=af.aa2*S+V;return j().translate(ac,ag,ae).transform(H)}).color(function(ac){return I(ac.aa2)});var W=Z.select("g.v-datashapesgroup");if(!a.isExist(W[0][0])){W=Z.append("g").attr("class","v-datashapesgroup")}var R=W.selectAll("g.v-datashape").data(M);R.exit().remove();R.enter().append("g").attr("class","v-datashape");w(R);L.initialized()}E.afterUIComponentAppear=function(){L.initialized()};E.width=function(R){if(!arguments.length){return G}G=R;if(B()){r();p()}else{q()}return E};E.height=function(R){if(!arguments.length){return F}F=R;if(B()){q()}else{r();p()}return E};E.primaryCategoryScale=function(R){if(!arguments.length){return o}o=R;return E};E.secondaryCategoryScale=function(R){if(!arguments.length){return J}J=R;return E};E.valueScale=function(R){if(!arguments.length){return N}N=R;return E};E.data=function(ae){if(!arguments.length){return Q}Q=ae;var ah=h(Q);A(ah,Q);var ag=ah.MG1;var aa;var S=ag[0].length;var W=new Array(S);for(aa=0;aa<S;aa++){W[aa]=aa}o.domain(W);var U=ag.length;var ab=new Array(U);for(aa=0;aa<U;aa++){ab[aa]=aa}J.domain(ab);p();M=[];for(var aa=0,Z=ag.length;aa<Z;aa++){var T=ag[aa];for(var Y=0,V=T.length;Y<V;Y++){M.push({data:T[Y],aa2:aa,aa1:Y})}}var af=d3.extent(M,function(ai){return ai.data.val});var X=af[0],ad=af[1];var R=X>=0?0:X;var ac=ad<=0?0:ad;if(R===0&&ac===0){ac=100}N.domain([R,ac]);m.perfect(N);return E};E.properties=function(R){if(!arguments.length){return x}g.extend(true,x,R);r();p();q();return E};E.colorPalette=function(R){if(!arguments.length){return x.colorPalette}x.colorPalette=R;return this};E.matrix=function(R){if(!arguments.length){return H}H=R;return this};E.secondaryCategoryData=function(R){if(!arguments.length){return z}z=R;return this};E.primaryCategoryData=function(R){if(!arguments.length){return D}D=R;return E};E.dispatch=function(R){if(!arguments.length){return L}L=R;return E};E.parent=function(){if(!arguments.length){return C}C=_;return E};E.highlight=function(R){if(R instanceof Array){for(var S=0;S<R.length;S++){var T=R[S].getAttribute("class");T=T.replace("v-normal","v-selected");T=T.replace("v-deselected","v-selected");R[S].setAttribute("class",T)}}else{var T=R.getAttribute("class");T=T.replace("v-normal","v-selected");T=T.replace("v-deselected","v-selected");R.setAttribute("class",T)}};E.unhighlight=function(R){if(R instanceof Array){for(var S=0;S<R.length;S++){var T=R[S].getAttribute("class");T=T.replace("v-selected","v-deselected");T=T.replace("v-nomral","v-deselected");R[S].setAttribute("class",T)}}else{var T=R.getAttribute("class");T=T.replace("v-selected","v-deselected");T=T.replace("v-nomral","v-deselected");R.setAttribute("class",T)}};E.clear=function(R){if(R==null){C.selectAll(".v-datapoint").each(function(T){var S=this.getAttribute("class");if(S.indexOf("v-deselected")!=-1){S=S.replace("v-deselected","v-normal")}else{S=S.replace("v-selected","v-normal")}this.setAttribute("class",S)})}else{C.selectAll(".v-datapoint").each(function(T){var S=this.getAttribute("class");S=S.replace("v-selected","v-deselected");S=S.replace("v-normal","v-deselected");this.setAttribute("class",S)})}};E.mouseover=function(W){if(u===W){return}var S={body:[],footer:[]};var X=W.__data__.data,Z=S.body,ac=S.footer;var ae=X.data.ctx.path;Z.push({name:Q.getMeasureValuesGroupDataByIdx(0).values[ae.mi].col,val:[{value:X.data.val,color:W.__data__.c,shape:"squareWithRadius"}]});var R=Q.getAnalysisAxisDataByIdx(0),V=ae.dii_a1;if(R){for(var Y=0,ab=R.values.length;Y<ab;Y++){ac.push({label:R.values[Y].col.val,value:R.values[Y].rows[V].val,})}}var ad=Q.getAnalysisAxisDataByIdx(1),T=ae.dii_a2;if(ad){for(var Y=0,ab=ad.values.length;Y<ab;Y++){if(ad.values[Y].type==="MND"){continue}ac.push({label:ad.values[Y].col.val,value:ad.values[Y].rows[T].val,})}}var U=C.node().getTransformToElement(C.node().ownerSVGElement);var aa=W.__data__.rtp;S.point={x:aa.x+U.e,y:aa.y+U.f};S.plotArea={x:U.e,y:U.f,width:G,height:F};u=W;L.showTooltip(c.formatTooltipData(S))};E.mouseout=function(R){u=null;L.hideTooltip()};function B(){return x.direction==="vertical"}function r(){o.rangeBands(B()?[0,G]:[F,0]);L.primaryCategoryScaleChange(o,B()?[0,G]:[F,0])}function p(){J.rangeBands([0,o.rangeBand()*J.domain().length]);L.secondaryCategoryScaleChange(J,[0,o.rangeBand()*J.domain().length])}function q(){N.range(B()?[F,0]:[0,G]);L.valueScaleChange(N,B()?[F,0]:[0,G])}var n=function(S){var R=e.get("IDS_ISNOVALUE");if(S===null||S===undefined){return R}else{return S}};var t=function(S){for(var R=0;R<S.length;++R){S[R].val=n(S[R].val)}return S};var v=function(S){var R={};switch(S.aa){case 0:R.dii_a1=S.dii;break;case 1:R.dii_a2=S.dii;break;case 2:R.dii_a3=S.dii;break}return R};var P=function(V,R){var X,Y=[],U,T;var S=O(X,V,U);U=S.feedsLength;var W=O(X,R,T);T=W.feedsLength;z["sap.viz.modules.column3d.dimension"].values[0].rows=W.labels;D["sap.viz.modules.column3d.dimension"].values[0].rows=S.labels};var K=function(V,U){var R=V[0];var S=function(W){var Y=R;R=[];for(var aa=0;aa<Y.length;aa++){for(var Z=0;Z<W.length;Z++){var ac=(Y[aa].val===undefined)?Y[aa].val:Y[aa].val,ab=(W[Z].val===undefined)?W[Z].val:W[Z].val;var X={path:{}};d.extend(X.path,Y[aa].ctx.path,W[Z].ctx.path);R.push({val:ac+U+ab,ctx:X})}}};for(var T=1;T<V.length;T++){S(V[T])}return R};var O=function(aa,ab,T){var X=[],ac=[],S=" / ",R=" - ";var Z,V=false,W,U,Y;if(ab&&ab.length>0){for(W=0,Y=ab.length;W<Y;W++){if(ab[W].type!=="MND"){if(aa===undefined){aa=n(ab[W].col.val)}else{aa=aa+S+n(ab[W].col.val)}ac=ab[W].rows;for(U=0;U<ac.length;U++){if(X[U]===undefined){X[U]={};X[U].val=n(ac[U].val);X[U].ctx={path:v(ac[U].ctx.path)}}else{X[U].val=X[U].val+S+n(ac[U].val)}}}else{Z=W}}T=X.length}if(Z!==undefined){if(X.length>0){if(ab[Z].rows.length>1){if(Z===0){aa=e.get("IDS_DEFAULTMND")+R+aa;X=K([t(ab[Z].rows),X],R);T=T*ab[Z].rows.length}else{if(Z===ab.length-1){aa=aa+R+e.get("IDS_DEFAULTMND");X=K([X,t(ab[Z].rows)],R);T=T*ab[Z].rows.length}}}}else{aa=e.get("IDS_DEFAULTMND");ac=ab[Z].rows;for(U=0;U<ac.length;U++){ac[U].val=n(ac[U].val);X.push(ac[U])}T=ac.length;if(ac.length===1){V=true}}}return{title:aa,labels:X,feedsLength:T,MNDInfo:{MNDIndex:Z,hasOnlyMND:V}}};function A(){var S=null,R=null;var T=Q.getAnalysisAxisDataByIdx(0);if(T){S=T.values}T=Q.getAnalysisAxisDataByIdx(1);if(T){R=T.values}P(S,R)}return E}});sap.riv.module({qname:"sap.viz.modules.manifests.xyz.Bar3D",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.bar3d",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.BaseBar",version:"4.0.1"}],function Setup(d,c,b){var a={id:"sap.viz.modules.bar3d",name:"3d bar",type:b.Module.Type.Chart,fn:c,properties:{colorPalette:{name:"colorPalette",supportedValueType:"StringArray",defaultValue:b.SAPColor,description:"Set color palette."},direction:{name:"direction",supportedValueType:"List",supportedValues:["vertical","horizontal"],defaultValue:"vertical",description:"Set direction.",isExported:false}},feeds:{id:"xy",configure:{secondaryValues:null}}};d.register(a)});sap.riv.module({qname:"sap.viz.modules.xyzlayout",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.modules.threeD.matrix",version:"4.0.1"},{qname:"sap.viz.modules.threeD.Point",version:"4.0.1"}],function Setup(a,f,d){var e=function(l,k,n){var m=[{x:0,y:0,z:0},{x:0,y:0,z:n},{x:l,y:0,z:0},{x:l,y:0,z:n},{x:0,y:k,z:0},{x:0,y:k,z:n},{x:l,y:k,z:0},{x:l,y:k,z:n}];return m.map(function(o){return new d(o.x,o.y,o.z)})};var c=function(k,l){var r=k[0];r.transform(l);var t=r.x,s=r.y,q=r.x,p=r.y;for(var n=1,o=k.length;n<o;n++){r=k[n];r.transform(l);t=Math.min(t,r.x);s=Math.min(s,r.y);q=Math.max(q,r.x);p=Math.max(p,r.y)}return{x:t,y:s,z:q,w:p}};var b=function(l,m,k,n){return{top:0,left:l.west.size.width,bottom:l.south.size.height>l.east.size.height?l.south.size.height:l.east.size.height,right:l.east.size.height}};var g=function(m,u,s,o){var l=s.z-s.x;var k=s.w-s.y;var n=u-o.bottom-o.top;var t=m-o.left-o.right;var r=t/l;var q=n/k;var p=Math.min(r,q);return{x:p,y:q,z:p}};var h=function(n,v,t,p,o,l,w,x){var k=e(n,v,t);var u=c(k,p);var s={x:u.x,y:u.y,x:u.z,w:u.w};var r=b(x,o,l,w);var q=g(n,v,u,r);return q};var j=function(q){var I={resize:true,type:"grid",padding:[0,0,0,0],hgap:0,vgap:0};var aa=q.hgap||I.hgap,M=q.vgap||I.vgap,V=q.padding||I.padding,p=q.bias||"none";var W=q.m_xaxis,H=q.m_yaxis,v=q.m_zaxis,s=q.m_plot,Z=q.m_background;var U=q.size.width,t=q.size.height;var l=q.xAngle,F=q.yAngle;var O={},D=q.prefs;var I={resize:true,type:"grid",padding:[0,0,0,0],hgap:0,vgap:0};var aa=q.hgap||I.hgap,M=q.vgap||I.vgap,V=q.padding||I.padding,p=q.bias||"none";var W=q.m_xaxis,H=q.m_yaxis,v=q.m_zaxis,s=q.m_plot,Z=q.m_background;var U=q.size.width,t=q.size.height;var l=q.xAngle,F=q.yAngle;var O={},D=q.prefs;if(!q.finalLayout){G=O.center={};G.bounds={x:0,y:0,width:U,height:t};return O}var ac=D.west.size.width,L=D.west.size.height,ae=D.south.size.width,N=D.south.size.height,Y=D.east.size.width,K=D.east.size.height;var R=f();R.transform(f().rotateY(F).rotateX(l));var J=e(U,t,Y);var ah=c(J,R);var n=b(D,W,H,v);var ab=g(U,t,ah,n);O.scale=ab;L=t-N;R.scale(ab.x,ab.y,ab.z);W.scale(ab.x,ab.y,ab.z);H.scale(ab.x,ab.y,ab.z);v.scale(ab.x,ab.y,ab.z);s.scale(ab.x,ab.y,ab.z);J=e(U,t,Y);var E=c(J,R);var k=E.w-E.y;var o=E.z-E.x;var C=(U-o)/2;var A=(t-k)/2+Math.abs(new d(0,0,Y).transform(R).y);var G=O.west={};var w=new d(0,0,0).transform(R);var B=new d(0,L,0).transform(R);var x=Math.sqrt(Math.pow(B.y-w.y,2)+Math.pow(B.x-w.x,2));G.bounds={x:w.x-ac,y:w.y-7.5,width:Y,height:x};H.rotateY(-90).translate(w.x,w.y,0).transform(f().rotateY(F).rotateX(l));G=O.south={};var r=f().rotateY(F).rotateX(l);var ag=new d(0,L,0).transform(R);var X=new d(0,L,0).transform(r);var S=new d(ae,L,0).transform(r);var Q=Math.sqrt(Math.pow(S.y-X.y,2)+Math.pow(S.x-X.x,2));G.bounds={x:ag.x,y:ag.y,width:Q*ab.x,height:N};G.angle=Math.atan(r.value(1,0)/r.value(0,0))*180/Math.PI;G.labelAngle=Math.atan(r.value(1,2)/r.value(0,2))*180/Math.PI;G.tickAngle=Math.atan(r.value(1,2)/r.value(0,2))*180/Math.PI;W.rotateX(-90).transform(f().rotateY(F).rotateX(l)).translate(X.x,X.y,0);G=O.center={};var T=new d(0,0,0).transform(R);G.bounds={x:T.x,y:T.y,width:ae,height:L-D.west.endPadding};s.transform(f().rotateY(F).rotateX(l)).translate(T.x,T.y,0);G=O.east={};var P=new d(ae,L-D.west.endPadding,0).transform(R);var z=new d(ae,0,0).transform(r);var af=new d(ae,0,Y).transform(r);var ad=Math.sqrt(Math.pow(af.y-z.y,2)+Math.pow(af.x-z.x,2));G.bounds={x:P.x,y:P.y,width:ad*ab.z,height:K};G.angle=Math.atan(r.value(1,2)/r.value(0,2))*180/Math.PI;G.labelAngle=Math.atan(r.value(1,0)/r.value(0,0))*180/Math.PI;G.tickAngle=Math.atan(r.value(1,0)/r.value(0,0))*180/Math.PI;v.rotateY(-90).rotateZ(-90).transform(f().rotateY(F).rotateX(l)).translate(z.x,z.y,0);G=O.background={};var u=new d(ac+Y,0,0).transform(H);G.bounds={x:u.x,y:u.y,width:ae,height:L-D.west.endPadding};Z.scale(O.scale.x,O.scale.y,O.scale.z).transform(f().rotateY(F).rotateX(l)).translate(u.x,u.y,0);return O};return j});sap.riv.module({qname:"sap.viz.modules.xyzcontainer",version:"4.0.1"},[{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.modules.xyzlayout",version:"4.0.1"},{qname:"sap.viz.manifest",version:"4.0.1"},{qname:"sap.viz.data.handler.SingleChartDataHandler",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.threeD.matrix",version:"4.0.1"},{qname:"sap.viz.modules.threeD.Point",version:"4.0.1"},{qname:"sap.viz.modules.threeD.Vector3D",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"},{qname:"sap.viz.util.ignite",version:"4.0.1"}],function Setup(a,h,d,n,m,c,e,k,b,g,l,f){var j=function(D,K){var o=0,q=0,p={},aa={},T={},P={},t={},U,C=null;var H=new e("initialized","showTooltip","hideTooltip"),Y=0;var s=D.props(null);var r=20,Q=50;var W=0;var z=d3.scale.linear();var ae=d3.scale.ordinal();var L=d3.scale.ordinal();var ac=function(ak,ah){var ag={},aj,af,ai;if(ah){if(ak){aj=ak.propertyCategory;af=p;ai={};ai[aj]=ak.properties;h.extend(true,ag,ai,af)}else{ag=p}}else{if(ak){aj=ak.propertyCategory;af=p[aj];ai=ak.properties;h.extend(true,ag,ai,af)}}return ag};var X=function(ak,ah){var af=T.modules;var ag,aj,ai;if(af[ak]&&P[ak]){aj=af[ak].configure;if(ah){ag=p}else{if(aj){ai=aj.propertyCategory;ag=h.extend(true,{},p[ai])}else{ag={}}}P[ak].properties(ag)}};function v(){if(a.isEmptyObject(T)){d.error("Container configuration missing")}Y=0;E("xAxis");E("yAxis");E("zAxis");E("background");var aj=T.modules.plot;if(!aj){return}var ak=P.plot=f(aj.id,K,"plot");var af=new c(aa);ak.data(af.getDataAdapter());var ai;if(aj.configure){ai=ac(aj.configure);ak.properties(ai)}if(ak.dispatch){var ag=ak.dispatch();if(ag.initialized){Y++;ag.on("initialized.xycontainer",B)}if(ag.showTooltip){ag.on("showTooltip.xycontainer",ad)}if(ag.hideTooltip){ag.on("hideTooltip.xycontainer",G)}}var al=T.modules.dataLabel;if(a.isExist(al)&&a.isExist(ak.dataLabel)){var ah=P.dataLabel=f(al.id,K);ak.dataLabel(ah);ah.plot(ak);if(al.configure){ai=ac(al.configure);ah.properties(ai)}}if(P.xAxis&&!t.xAxis){t.xAxis=C.append("g").attr("class","v-m-xAxis")}if(P.yAxis&&!t.yAxis){t.yAxis=C.append("g").attr("class","v-m-yAxis")}if(P.zAxis&&!t.zAxis){t.zAxis=C.append("g").attr("class","v-zAxis")}if(P.plot&&!t.plot){t.plot=C.append("g").attr("class","v-m-plot")}if(P.background&&!t.background){t.background=C.insert("g",":first-child").attr("class","background")}}function u(ah){if(P[ah]){var ag=T.modules[ah];var af=ag.data;if(af){P[ah].data(aa.createDataAdapterForModule(af))}}}function E(ai){if(!T.modules[ai]){return}var ah=T.modules[ai],ag=P[ai]=f(ah.id,K,ai);u(ai);var af=ac(ah.configure);ag.properties(af);if(ag.dispatch&&ag.dispatch()["initialized"]){Y++;ag.dispatch().on("initialized.xycontainer",B)}}var I=function(ag,af,ai){var ah=[{x:0,y:0,z:0},{x:0,y:0,z:ai},{x:ag,y:0,z:0},{x:ag,y:0,z:ai},{x:0,y:af,z:0},{x:0,y:af,z:ai},{x:ag,y:af,z:0},{x:ag,y:af,z:ai}];return ah.map(function(aj){return new b(aj.x,aj.y,aj.z)})};var ab=function(af,ag){var al=af[0];al.transform(ag);var an=al.x,am=al.y,ak=al.x,aj=al.y;for(var ah=1,ai=af.length;ah<ai;ah++){al=af[ah];al.transform(ag);an=Math.min(an,al.x);am=Math.min(am,al.y);ak=Math.max(ak,al.x);aj=Math.max(aj,al.y)}return{x:an,y:am,z:ak,w:aj}};function J(af){return af*Math.PI/180}var Z=function(ax,an,ap,au,ar,af,am,ak,ag){var ay=M("south",ax,"xAxis",ae,ap,0,0,au,ar,af,an.x0,an.x1,an.y0,an.z0,an.z1);var at=Math.abs(J(ay));var al=M("west",ax,"yAxis",z,ap,0,0,au,ar,af,an.x0,an.x1,an.y0,an.z0,an.z1);var ah=Math.abs(J(al));var av=M("none",ax,"zAxis",L,ap,0,0,au,ar,af,an.x0,an.x1,an.y0,an.z0,an.z1);var aq=Math.abs(J(av));var ai=0,ao=0,aw=0,aj=0;ai=ak.width*Math.cos(ah);if(av<=1&&ay>0&&!(av==1&&ay==91&&r>0)){ai=(ai>am.height*Math.cos(at))?ai:am.height*Math.cos(at);aw=ag.height*Math.cos(aq);aj=(am.height*Math.sin(at)>ag.height*Math.sin(aq))?am.height*Math.sin(at):ag.height*Math.sin(aq)}else{ai=(ai>ag.height*Math.cos(aq))?ai:ag.height*Math.cos(aq);aw=am.height*Math.cos(at);aj=(am.height*Math.sin(at)>ag.height*Math.sin(aq))?am.height*Math.sin(at):ag.height*Math.sin(aq)}return{top:0,left:ai,bottom:aj,right:aw}};var A=function(ao,ai,am,aj,ah){var ag=am.z-am.x;var af=am.w-am.y;var an=ao/ag;var al=ai/af;var ak=Math.min(an,al);return{x:ak,y:al,z:ak}};var x=function(ag,an,al,ah){var af=I(ag,an,al);var am=ab(af,ah);var ak={x:am.x,y:am.y,x:am.z,w:am.w};var aj=Z();var ai=A(ag,an,am,aj);return ai};var N=function(ai){var am=new g(0,0,1);var ak=false,an=false,al=false;var ao=new b(0,0,0);var af=new b(1,0,0);var aq=new b(0,-1,0);var ap=new b(0,0,1);ao.transform(ai);af.transform(ai);aq.transform(ai);ap.transform(ai);var aj=new g(af.x-ao.x,af.y-ao.y,af.z-ao.z),ah=new g(aq.x-ao.x,aq.y-ao.y,aq.z-ao.z),ag=new g(ap.x-ao.x,ap.y-ao.y,ap.z-ao.z);if(am.dotProduct(aj)<0){ak=true}if(am.dotProduct(ah)<0){an=true}if(am.dotProduct(ag)>0){al=true}return{isRenderRT:ak,isRenderTP:an,isRenderFT:al,renderingOrderX:aj,renderingOrderY:ah,renderingOrderz:ag}};function O(aq,ag,ao,ah,am,aj){var ai,af,ap,an,al,ak;ap=ao+am;if(aq.isRenderFT){ai=ag;if(aq.isRenderTP){al=0}else{al=aj}}else{ai=ag+ah;if(aq.isRenderTP){al=aj}else{al=0}}if(aq.isRenderRT){ak=0;if(aq.isRenderTP){af=ag+ah}else{af=ag}}else{ak=aj;if(aq.isRenderTP){af=ag}else{af=ag+ah}}return{x0:ai,x1:af,y0:ap,z0:al,z1:ak}}function M(al,aB,ah,aD,at,az,aj,aA,am,an,ay,aw,ai,ap,ao){var aC,au,av,ag;var ak,ax,af,aq,ar;switch(al){case"south":aC=new b(az,ai,ap);ar=(0==ap)?-an:an;av=new b(az,ai,ap+ar);au=new b(az+aA,ai,ap);break;case"north":aC=new b(az,am-ai,an-ap);ar=(0==ap)?-an:an;av=new b(az,ai,an-ap+ar);au=new b(az+aA,am-ai,an-ap);break;case"west":aC=new b(ay,aj,ao);av=new b(ay-aA,aj,ao);au=new b(ay,aj-am,ao);break;case"east":aC=new b(aA-ay,aj+am,an-ao);av=new b(aA,aj+am,an-ao);au=new b(aA-ay,aj,an-ao);break;default:aC=new b(aw,ai,0);ar=(az==aw)?-aA:aA;av=new b(aw+ar,ai,0);au=new b(aw,ai,an);break}aC.transform(at);av.transform(at);au.transform(at);if(al=="west"){af=0;aq=0}else{ag=new g(av.x-aC.x,av.y-aC.y,au.z-aC.z);af=Math.atan2(ag.values[0],ag.values[1])*180/Math.PI+90;if(af>90){af-=180}else{if(af<-90){af+=180}}af=F(af);aq=Math.atan2(ag.values[1],ag.values[0])*180/Math.PI}P[ah].labelAngle(af).tickAngle(aq);ag=new g(au.x-aC.x,au.y-aC.y,au.z-aC.z);t[ah].attr("transform","translate("+aC.x+" "+aC.y+")");ax=Math.atan2(ag.values[1],ag.values[0])*180/Math.PI+90;if(al==="none"&&ax==0){ax=-1}P[ah].angle(ax);P[ah].labelAlign("start");ak=(au.x-aC.x)*(au.x-aC.x)+(au.y-aC.y)*(au.y-aC.y);if(ak<0.01){ak=0}if(al=="west"){P[ah].height(Math.sqrt(ak))}else{P[ah].width(Math.sqrt(ak))}if(aD.rangeBands){aD.rangeBands([0,Math.sqrt(ak)])}else{aD.range([Math.sqrt(ak),0])}return af}function F(af){var ag=af%360;if(-271<ag&&ag<-270){return -271}else{if(-270<=ag&&ag<-269){return -269}}if(-181<ag&&ag<-180){return -181}else{if(-180<=ag&&ag<-179){return -179}else{if(-91<ag&&ag<-90){return -91}else{if(-90<=ag&&ag<-89){return -89}else{if(-1<ag&&ag<0){return -1}else{if(0<=ag&&ag<1){return 1}else{if(89<ag&&ag<90){return 89}else{if(90<=ag&&ag<91){return 91}else{if(179<ag&&ag<180){return 179}else{if(180<=ag&&ag<181){return 181}else{if(269<ag&&ag<270){return 269}else{if(270<=ag&&ag<271){return 271}else{if(359<ag&&ag<360){return 359}}}}}}}}}}}}}return Math.round(af)}function V(au){W++;if(a.isEmptyObject(P)||!o||!q){return}o=o<0?0:o;q=q<0?0:q;if(W%4!=0){P.plot.width(o).height(q)}else{var an=P.xAxis.getPreferredSize();var al=P.yAxis.getPreferredSize();var ag=P.zAxis.getPreferredSize();var ax=an.width,aw=al.height,af=ag.width;var aq=k().rotateY(Q).rotateX(r);var aA=N(aq);var ao=O(aA,0,0,ax,aw,af);var ak=I(ax,aw,af);var aj=ab(ak,aq);var ah={x:aj.x,y:aj.y,x:aj.z,w:aj.w};var ap=Z(aA,ao,aq,ax,aw,af,an,al,ag);var ar=q-ap.bottom-ap.top;var aB=o-ap.left-ap.right;var aC=A(aB,ar,aj,ap);var ai=aq.unit().scale(aC.x,aC.y,aC.z).clone();aq.rotateY(Q).rotateX(r);var az=0,ay=0;var av=0;while(av<10){ak=I(ax,aw,af);aj=ab(ak,aq);az=0-aj.x+ap.left+(aB-aj.z+aj.x)/2;ay=0-aj.y+ap.top+(ar-aj.w+aj.y)/2;if(az>0&&ay>0){break}aC=A(aB,ar,aj,ap);aq=ai.clone();aq.scale(aC.x,aC.y,aC.z);ai=aq.clone();aq.rotateY(Q).rotateX(r);av++}P.plot.matrix(aq);M("south",aA,"xAxis",ae,aq,0,0,ax,aw,af,ao.x0,ao.x1,ao.y0,ao.z0,ao.z1);M("west",aA,"yAxis",z,aq,0,0,ax,aw,af,ao.x0,ao.x1,ao.y0,ao.z0,ao.z1);M("none",aA,"zAxis",L,aq,0,0,ax,aw,af,ao.x0,ao.x1,ao.y0,ao.z0,ao.z1);var at=t.yAxis.node(),am=at.getTransformToElement(at.parentNode);t.yAxis.attr("transform","translate("+(am.e-al.width)+","+am.f+")");ak=I(ax,aw,af);aj=ab(ak,aq);at=t.yAxis.node(),am=at.getTransformToElement(at.parentNode);t.yAxis.attr("transform","translate("+(am.e+az)+","+(am.f+ay)+")");at=t.xAxis.node(),am=at.getTransformToElement(at.parentNode);t.xAxis.attr("transform","translate("+(am.e+az)+","+(am.f+ay)+")");at=t.zAxis.node(),am=at.getTransformToElement(at.parentNode);t.zAxis.attr("transform","translate("+(am.e+az)+","+(am.f+ay)+")");at=t.plot.node();t.plot.attr("transform","translate("+(az)+","+(ay)+")")}}function S(af){af.each(function(ag){C=af;l.drawBound(af,o,q);if(a.isEmptyObject(P)){v()}R()});return S}S.width=function(af,ag){if(!arguments.length){return o}o=af;V(ag);return S};S.height=function(af,ag){if(!arguments.length){return q}q=af;V(ag);return S};S.size=function(af){if(!arguments.length){return{width:o,height:q}}q=af.height;o=af.width;V();return S};S.data=function(ag){if(!arguments.length){return aa}aa=ag;if(!a.isEmptyObject(P)){var af=new c(aa);P.plot.data(af.getDataAdapter());u("xAxis");u("yAxis");u("zAxis")}return S};S.properties=function(af){if(!arguments.length){return s}p=af;if(!a.isEmptyObject(P)){X("xAxis");X("yAxis");X("zAxis");X("plot");X("datalabel");X("background")}h.extend(true,s,af.xyzcontainer);r=s&&s.xAngle?s.xAngle:r;Q=s&&s.yAngle?s.yAngle:Q;return S};S.config=function(af){if(!arguments.length){return T}T=af;return S};S.modules=function(af){if(!arguments.length){if(a.isEmptyObject(P)){v()}return P}P=af;return S};S.parent=function(af){if(!arguments.length){return C}C=af;return S};S.rotate=function(af){if(!arguments.length){return{xAngle:r,yAngle:Q}}W=2;r=af.xAngle;Q=af.yAngle;V();V();R();return S};S.dispatch=function(af){if(!arguments.length){return H}H=af;return S};S.infoForSizeLegend=function(){return{space:U,number:1,plotHeight:P.plot.height()}};S.yAxis=function(af){if(!arguments.length){return z}z=af.copy();return S};S.xAxis=function(af){if(!arguments.length){return ae}ae=af.copy();return S};S.zAxis=function(af){if(!arguments.length){return L}L=af.copy();return S};S.xAxisScaleChange=function(ag,af){if(ae.rangeBands){ae.rangeBands(af)}else{ae.range(af)}};S.zAxisScaleChange=function(ag,af){L.rangeBands(af)};S.yAxisScaleChange=function(ag,af){if(z.rangeBands){z.rangeBands(af)}else{z.range(af)}};function R(){for(var af in t){if(t.hasOwnProperty(af)){t[af].datum(P[af].data()).call(P[af])}}if(a.isExist(P.dataLabel)){P.dataLabel()}}var w=0;function B(){if(Y==++w){w=0;H.initialized()}}function ad(af){H.showTooltip(af)}function G(af){H.hideTooltip(af)}return S};return j});sap.riv.module({qname:"sap.viz.modules.manifests.XYZContainer",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.xyzcontainer",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.xyzcontainer",type:b.Module.Type.Container,name:"single container",properties:{xAngle:{name:"xAngle",supportedValueType:"Number",defaultValue:20},yAngle:{name:"yAngle",supportedValueType:"Number",defaultValue:50}},css:null,configure:null,events:{showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.xyz.Base3DChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Title",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Legend",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYZContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Background",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xyz.Bar3D",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Rotate",version:"4.0.1"}],function Setup(a){return function(d){var f=d==="vertical";var e,g;if(f){e="xAxis";g="yAxis"}else{e="yAxis";g="xAxis"}var c={id:"viz/3d_"+(f?"column":"bar"),name:"IDS_3D_"+(f?"COLUMN":"BAR"),modules:{root:{id:"sap.viz.modules.rootContainer",modules:{title:{id:"sap.viz.modules.title",configure:{propertyCategory:"title"}},legend:{id:"sap.viz.modules.legend",data:{aa:[2]},configure:{propertyCategory:"legend"}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{selectability:{mode:"multiple",selectWithCtrlKey:true},preserveSelectionWhenDragging:true}}},rotate:{id:"sap.viz.modules.controller.rotate",configure:{clientID:"main",propertyCategory:"rotate"}},main:{id:"sap.viz.modules.xyzcontainer",modules:{plot:{id:"sap.viz.modules.bar3d",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{direction:d}}},zAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the category axis of an XYZ chart.",propertyCategory:"zAxis",properties:{type:"category",position:"bottom",forceVerticalFont:true,gridline:{visible:false},shapeRendering:false,isIndependentMode:true}}},background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:d}}}},configure:{propertyCategory:"xyzcontainer",properties:{xAngle:20,yAngle:50}}}}}},dependencies:{attributes:[{targetModule:"root.main",target:e,sourceModule:"root.main.plot",source:"primaryCategoryScale"},{targetModule:"root.main",target:g,sourceModule:"root.main.plot",source:"valueScale"},{targetModule:"root.main."+g,target:"scale",sourceModule:"root.main",source:g},{targetModule:"root.main."+e,target:"scale",sourceModule:"root.main",source:e},{targetModule:"root.main",target:"zAxis",sourceModule:"root.main.plot",source:"secondaryCategoryScale"},{targetModule:"root.main.zAxis",target:"scale",sourceModule:"root.main",source:"zAxis"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.main.zAxis",target:"independentData",sourceModule:"root.main.plot",source:"secondaryCategoryData"},{targetModule:"root.main."+e,target:"independentData",sourceModule:"root.main.plot",source:"primaryCategoryData"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.rotate",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.rotate"},{targetModule:"root.main",listener:f?"xAxisScaleChange":"yAxisScaleChange",sourceModule:"root.main.plot",type:"primaryCategoryScaleChange.xyzcontainer"},{targetModule:"root.main",listener:f?"yAxisScaleChange":"xAxisScaleChange",sourceModule:"root.main.plot",type:"valueScaleChange.xyzcontainer"},{targetModule:"root.main",listener:"zAxisScaleChange",sourceModule:"root.main.plot",type:"secondaryCategoryScaleChange.xyzcontainer"},{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip.tooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip.tooltip"}]}};var b=c.modules.root.modules.main.modules;b[e]={id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the value axis of an XYZ chart.",propertyCategory:e,properties:{type:"category",isIndependentMode:true,position:f?"bottom":"left",forceVerticalFont:(f?true:undefined),gridline:{visible:false,showFirstLine:(f?false:true),showLastLine:(f?false:true)},shapeRendering:false},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}};b[g]={id:"sap.viz.modules.axis",configure:{description:"Settings for the category axis of an XYZ chart.",propertyCategory:g,properties:{type:"value",position:(f?"left":"bottom"),forceVerticalFont:(f?undefined:true),shapeRendering:false,gridline:{showFirstLine:(f?true:false),showLastLine:(f?true:false)}}}};a.register(c)}});sap.riv.module({qname:"sap.viz.manifests.xyz.Bar3DChart",version:"4.0.1"},[{qname:"sap.viz.manifests.xyz.Base3DChart",version:"4.0.1"}],function Setup(a){a("horizontal")});sap.riv.module({qname:"sap.viz.manifests.xyz.Column3DChart",version:"4.0.1"},[{qname:"sap.viz.manifests.xyz.Base3DChart",version:"4.0.1"}],function Setup(a){a("vertical")});sap.riv.module({qname:"sap.viz.manifests.xy.BaseHorizontalChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Title",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Legend",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Background",version:"4.0.1"},{qname:"sap.viz.modules.manifests.DataLabel",version:"4.0.1"}],function Setup(b){var a={id:"riv/basehorizontalchart",name:"IDS_BASEHORIZONTALCHART","abstract":true,modules:{root:{id:"sap.viz.modules.rootContainer",configure:{propertyCategory:"general"},modules:{title:{id:"sap.viz.modules.title",configure:{propertyCategory:"title"}},legend:{id:"sap.viz.modules.legend",data:{aa:[2]},configure:{propertyCategory:"legend"}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"bar",orientation:"left"}}},main:{id:"sap.viz.modules.xycontainer",modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rectCoordinate",visible:false,orientation:"horizontal",position:"inside",automaticInOutside:true,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true,outsidePosition:"right"}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis",properties:{type:"value",position:"bottom"}}},yAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart.",propertyCategory:"yAxis",properties:{type:"category",position:"left",gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:"horizontal"}}}}}}}},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.HorizontalAreaChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Area",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseHorizontalChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"}],function Setup(b){var a={id:"viz/horizontal_area",name:"IDS_HORIZONTALAREACHART",base:"riv/basehorizontalchart",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"horizontalline",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove"]}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",automaticInOutside:false,outsidePosition:"left",showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.area",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",propertiesOverride:{bStacked:true},properties:{orientation:"horizontal"}}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"getColorPalette"},{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.xAxis",source:"range"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.PercentageHorizontalAreaChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.xy.HorizontalAreaChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/100_horizontal_area",name:"IDS_PERCENTAGEHORIZONTALAREACHART",base:"viz/horizontal_area",modules:{root:{modules:{main:{modules:{plot:{configure:{properties:{mode:"percentage"}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis",properties:{isPercentMode:true}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"horizontalline",orientation:"left",formatString:[["0.00%"],["0.00%"]]}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Title",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Legend",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Background",version:"4.0.1"},{qname:"sap.viz.modules.manifests.DataLabel",version:"4.0.1"}],function Setup(b){var a={id:"riv/baseverticalchart",name:"IDS_BASEVERTICALCHART","abstract":true,modules:{root:{id:"sap.viz.modules.rootContainer",configure:{propertyCategory:"general"},modules:{title:{id:"sap.viz.modules.title",configure:{propertyCategory:"title"}},legend:{id:"sap.viz.modules.legend",data:{aa:[2]},configure:{propertyCategory:"legend"}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"verticalbar",orientation:"left"}}},main:{id:"sap.viz.modules.xycontainer",modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rectCoordinate",visible:false,orientation:"vertical",position:"inside",automaticInOutside:true,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true,outsidePosition:"up"}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"yAxis",properties:{type:"value",position:"left"}}},xAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart.",propertyCategory:"xAxis",properties:{type:"category",position:"bottom",gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:"vertical"}}}}}}}},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.AreaChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Area",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"}],function Setup(b){var a={id:"viz/area",name:"IDS_AREACHART",base:"riv/baseverticalchart",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"line",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove"]}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",automaticInOutside:false,outsidePosition:"down",showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.area",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",propertiesOverride:{bStacked:true}}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"getColorPalette"},{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.yAxis",source:"range"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.PercentageAreaChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.xy.AreaChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/100_area",name:"IDS_PERCENTAGEAREACHART",base:"viz/area",modules:{root:{modules:{main:{modules:{plot:{configure:{properties:{mode:"percentage"}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"yAxis",properties:{isPercentMode:true}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"line",orientation:"left",formatString:[["0.00%"],["0.00%"]]}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.modules.mekko",version:"4.0.1"},[{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(a,c,g,j,b,e,m,c,k,h,f,l){var d=function(I,V){var aH="v-hoverline";var aC,aw=[[]],av=[[]],ae,v=[],E=0,s=0,Z=0,S=0,X=null;var ad=f.get("IDS_ISNOVALUE");var n,t,an=0,al=0,K=[],J,aE=["squareWithRadius"],o,O=new g("selectData","deselectData","showTooltip","hideTooltip","initialized","startToInit");var au={};var U=V.effectManager;var aG=d3.scale.ordinal(),u=d3.scale.linear();aG.noEqual=true;var B=null,ar=null;var w=1,ap,Y,C,L=[],p=[];var z=true,ak=true,W=true,az=false,ag=true,r=false,aD=false,R=true,T=1000;var aq=null,aj=null,ax=c.guid();var D="comparison";var ac="normal";var ay=false,q=false,A=false,ab=false;var Q={"sap.viz.modules.mekko.dimension":{key:"sap.viz.modules.mekko.dimension",values:[{col:{val:""},rows:[]}]}};var H=[],ai=[],at=[];var am=true,aA=false;function M(){var x=false;if(!aD){x=z}else{if(q||A){x=ak}else{if(ay){x=W}}}return x}var ah=function(){if(D!==o.mode){ab=true}D=o.mode==="percentage"?"percentage":"comparison";am=o.orientation==="horizontal"?true:false;az=o.isRoundCorner;z=o.animation.dataLoading;ak=o.animation.dataUpdating;W=o.animation.resizing;R=o.tooltip.enabled;J=o.colorPalette;ac=o.drawingEffect;K=[];var aI,x;for(aI=0;aI<ae[0].length;aI++){for(x=0;x<ae[0][0].length;x++){K.push(J[x%J.length])}}};function aB(x){l.drawBound(x,n,t);if(D==="percentage"){af()}if(D==="comparison"){N()}if(!a.isExist(u)){return}O.startToInit();x.each(function(){w=(a.isExist(av))?2:1;C=8*(aG.rangeBand())/(9*w+7);Y=ae[0][0].length+((a.isExist(ae[0][1]))?ae[0][1].length:0);var aI=ae.length;var aJ=(X=d3.select(this));if(B===null){B=aJ.append("rect").attr("visibility","hidden").attr("fill",au.hoverline.fill).attr("class",aH);if(am){B.attr("width",n).attr("height",aG.rangeBand()-C/2)}else{B.attr("width",aG.rangeBand()-C/2).attr("height",t)}}else{if(am){B.attr("width",n).attr("height",aG.rangeBand()-C/2).attr("visibility","hidden")}else{B.attr("width",aG.rangeBand()-C/2).attr("height",t).attr("visibility","hidden")}}if(aq===null){aq=aJ.append("defs").append("clipPath").append("rect").attr("width",n).attr("height",t)}else{aq.attr("width",n).attr("height",t)}if(aj===null){aj=aJ.append("defs").attr("id","round-corner-clip"+ax)}else{if(q||ay||A||!az){aj.remove();aj=aJ.append("defs").attr("id","round-corner-clip"+ax)}}var aK=aJ.selectAll("g.v-datashapesgroup");if(!a.isExist(aK[0][0])){aK=aJ.append("g").attr("class","v-datashapesgroup")}var aL;if(M()){aL=aK.selectAll("g.v-bar").data(ae);aL.enter().append("g");aL.attr("class","v-bar").each(function(aO,aP){var aN=am?8*(H[aI-aP-1]-H[aI-aP])/(9*Y+7):8*(H[aP+1]-H[aP])/(9*Y+7);var aM=am?H[aI-aP-1]-H[aI-aP]:H[aP+1]-H[aP];if(aM>1){aM=aM-1}var aQ=Math.log(aM)/Math.log(2);if(aQ<0){az=false}var aR=d3.select(this).selectAll("g.v-axisGroup").data(aO);aR.enter().append("g");aR.attr("class","v-axisGroup").each(function(a2,aW){var aX=J;var aS=C/2;var a3=aG(aP);var aU=0,aV=0,a1=0,a5=0;var aZ=[],aT=[];var aY=d3.select(this).selectAll("g.v-datashape").data(a2);aY.enter().append("g").attr("class","v-datashape");aY.each(function(a7){var a6=d3.select(this).selectAll("rect").data([a7]);a6.enter().append("rect");a6.exit().remove()});aY.exit().remove();if(aA){aY.each(function(){if(a.isExist(this.getTransformToElement(this.parentNode))){aT.push(this.getTransformToElement(this.parentNode).e);aZ.push(this.getTransformToElement(this.parentNode).f)}else{aT.push(0);aZ.push(0)}})}aY.attr("transform",function(a8,a7){if(am){var a9=t-H[aI-aP-1];var a6;if(a8.val>=0){aU=u(a1);a1+=a8.val;a6=aU}else{a5+=a8.val;aV=u(a5);a6=aV}}else{var a6=H[aP];var a9;if(a8.val>=0){a1+=a8.val;positiveY=u(a1);a9=positiveY}else{negativeY=u(a5);a5+=a8.val;a9=negativeY}}return"translate("+a6+","+a9+")"});var a0=d3.select(this).selectAll("rect");a0.attr("fill",function(a6,a8){a6.fillColor=aX[a8%aX.length];var a7={drawingEffect:ac,fillColor:a6.fillColor,direction:am?"vertical":"horizontal"};return U.register(a7)}).attr("class","v-datapoint").attr("fill-opacity",1);if(q){if(am){a0.attr("height",aN).attr("y",function(a7,a6){return aN*a6}).attr("x",0).attr("width",0);if(az){a0.attr("clip-path",function(a7,a6){if(a6===p[aW][aP]||a6===L[aW][aP]){var a9="roundCorner-clip-"+a6+aP+aW+ax;var a8=aj.append("clipPath").attr("id",a9).append("rect").attr("class","v-roundCorner-clip").attr("rx",aQ).attr("ry",aQ).attr("y",this.y.baseVal.value).attr("height",aN).attr("width",0).attr("x",this.x.baseVal.value).transition().duration(T/2).attr("x",function(){if(a6===p[aW][aP]){return 0}else{return 0-aQ}}).attr("width",function(){return Math.abs(u(a7.val)-u(0))+aQ}).transition().delay(T/2).duration(T/2).attr("height",aM).attr("y",0);return"url(#"+a9+")"}})}a5=0;a0.transition().duration(T/2).attr("width",function(a7,a6){return Math.abs(u(a7.val)-u(0))}).attr("x",0).transition().delay(T/2).duration(T/2).attr("height",function(a7,a6){var a8=H[aI-aP-1]-H[aI-aP];if(a8>1){return H[aI-aP-1]-H[aI-aP]-1}else{return H[aI-aP-1]-H[aI-aP]}}).attr("y",0).attr("width",function(a7,a6){return Math.abs(u(a7.val)-u(0))}).each("end",function(a7,a6){if(aP===0&&a6===Y-1){G()}})}else{a0.attr("width",aN).attr("x",function(a7,a6){return aN*a6}).attr("y",function(a7,a6){return Math.abs(u(a7.val)-u(0))}).attr("height",0);if(az){a0.attr("clip-path",function(a7,a6){if(a6===p[aW][aP]||a6===L[aW][aP]){var a9="roundCorner-clip-"+a6+aP+aW+ax;var a8=aj.append("clipPath").attr("id",a9).append("rect").attr("class","v-roundCorner-clip").attr("rx",aQ).attr("ry",aQ).attr("y",this.y.baseVal.value).attr("width",aN).attr("height",0).attr("x",this.x.baseVal.value).transition().duration(T/2).attr("y",function(){if(a6===p[aW][aP]){return 0-aQ}else{return 0}}).attr("height",function(){return Math.abs(u(a7.val)-u(0))+aQ}).transition().delay(T/2).duration(T/2).attr("width",aM).attr("x",0);return"url(#"+a9+")"}})}a5=0;a0.transition().duration(T/2).attr("height",function(a7,a6){return Math.abs(u(a7.val)-u(0))}).attr("y",0).transition().delay(T/2).duration(T/2).attr("width",function(a8,a6){var a7=H[aP+1]-H[aP];if(a7>1){return H[aP+1]-H[aP]-1}else{return H[aP+1]-H[aP]}}).attr("x",0).attr("height",function(a7,a6){return Math.abs(u(a7.val)-u(0))}).each("end",function(a7,a6){if(aP===0&&a6===Y-1){G()}})}}else{if(A){a0.attr("x",function(a7,a6){return aT[a6]-this.parentNode.getTransformToElement(this.parentNode.parentNode).e}).attr("y",function(a7,a6){return aZ[a6]-this.parentNode.getTransformToElement(this.parentNode.parentNode).f});var a4=a0.transition();if(am){a4.duration(T/2).attr("width",function(a7,a6){return Math.abs(u(a7.val)-u(0))}).attr("x",0).attr("height",function(a7,a6){var a8=H[aI-aP-1]-H[aI-aP];if(a8>1){return H[aI-aP-1]-H[aI-aP]-1}else{return H[aI-aP-1]-H[aI-aP]}}).attr("y",0).each("end",function(a7,a6){if(aP===0&&a6===Y-1){G()}});if(az){a4.attr("clip-path",function(a8,a7){if(a7===p[aW][aP]||a7===L[aW][aP]){var ba="roundCorner-clip-"+a7+aP+aW+ax;var a6=parseFloat(this.x.baseVal.value);var a9=aj.append("clipPath").attr("id",ba).append("rect").attr("class","v-roundCorner-clip").attr("rx",aQ).attr("ry",aQ).attr("height",this.height.baseVal.value).attr("width",this.width.baseVal.value+aQ).attr("x",function(){return a6-((a7===p[aW][aP])?0:aQ)}).attr("y",this.y.baseVal.value).transition().duration(T/2).attr("x",function(){if(a7===p[aW][aP]){return 0}else{return 0-aQ}}).attr("width",function(){return Math.abs(u(a8.val)-u(0))+aQ}).attr("height",aM).attr("y",0);return"url(#"+ba+")"}})}}else{a4.duration(T/2).attr("height",function(a7,a6){return Math.abs(u(a7.val)-u(0))}).attr("y",0).attr("width",function(a8,a6){var a7=H[aP+1]-H[aP];if(a7>1){return H[aP+1]-H[aP]-1}else{return H[aP+1]-H[aP]}}).attr("x",0).each("end",function(a7,a6){if(aP===0&&a6===Y-1){G()}});if(az){a4.attr("clip-path",function(a7,a6){if(a6===p[aW][aP]||a6===L[aW][aP]){var ba="roundCorner-clip-"+a6+aP+aW+ax;var a9=parseFloat(this.y.baseVal.value);var a8=aj.append("clipPath").attr("id",ba).append("rect").attr("class","v-roundCorner-clip").attr("rx",aQ).attr("ry",aQ).attr("width",this.width.baseVal.value).attr("height",this.height.baseVal.value+aQ).attr("y",function(){return a9-((a6===p[aW][aP])?aQ:0)}).attr("x",this.x.baseVal.value).transition().duration(T/2).attr("y",function(){if(a6===p[aW][aP]){return 0-aQ}else{return 0}}).attr("height",function(){return Math.abs(u(a7.val)-u(0))+aQ}).attr("width",aM).attr("x",0);return"url(#"+ba+")"}})}}}else{if(ay){if(am){a0.attr("x",function(a7,a6){return aT[a6]-this.parentNode.getTransformToElement(this.parentNode.parentNode).e}).attr("width",function(a6){var a7=Math.abs(u(a6.val)-u(0));if(parseFloat(this.width.baseVal.value)>a7){return this.width.baseVal.value}else{return a7}});var a4=a0.transition();a4.duration(T/2).attr("width",function(a7,a6){return Math.abs(u(a7.val)-u(0))}).attr("x",0).attr("height",function(a7,a6){var a8=H[aI-aP-1]-H[aI-aP];if(a8>1){return H[aI-aP-1]-H[aI-aP]-1}else{return H[aI-aP-1]-H[aI-aP]}}).attr("y",0).each("end",function(a7,a6){if(aP===0&&a6===Y-1){G()}});if(az){a4.attr("clip-path",function(a8,a7){if(a7===p[aW][aP]||a7===L[aW][aP]){var ba="roundCorner-clip-"+a7+aP+aW+ax;var a6=parseFloat(this.x.baseVal.value);var a9=aj.append("clipPath").attr("id",ba).append("rect").attr("class","v-roundCorner-clip").attr("rx",aQ).attr("ry",aQ).attr("height",this.height.baseVal.value).attr("width",this.width.baseVal.value+aQ).attr("x",function(){return a6-((a7===p[aW][aP])?0:aQ)}).attr("y",this.y.baseVal.value).transition().duration(T/2).attr("x",function(){if(a7===p[aW][aP]){return 0}else{return 0-aQ}}).attr("width",function(){return Math.abs(u(a8.val)-u(0))+aQ}).attr("height",aM).attr("y",0);return"url(#"+ba+")"}})}}else{a0.attr("y",function(a7,a6){return aZ[a6]-this.parentNode.getTransformToElement(this.parentNode.parentNode).f}).attr("height",function(a7){var a6=Math.abs(u(a7.val)-u(0));if(parseFloat(this.height.baseVal.value)>a6){return this.height.baseVal.value}else{return a6}});var a4=a0.transition();a4.duration(T/2).attr("height",function(a7,a6){return Math.abs(u(a7.val)-u(0))}).attr("y",0).attr("width",function(a8,a6){var a7=H[aP+1]-H[aP];if(a7>1){return H[aP+1]-H[aP]-1}else{return H[aP+1]-H[aP]}}).attr("x",0).each("end",function(a7,a6){if(aP===0&&a6===Y-1){G()}});if(az){a4.attr("clip-path",function(a7,a6){if(a6===p[aW][aP]||a6===L[aW][aP]){var ba="roundCorner-clip-"+a6+aP+aW+ax;var a9=parseFloat(this.y.baseVal.value);var a8=aj.append("clipPath").attr("id",ba).append("rect").attr("class","v-roundCorner-clip").attr("rx",aQ).attr("ry",aQ).attr("width",this.width.baseVal.value).attr("height",this.height.baseVal.value+aQ).attr("y",function(){return a9-((a6===p[aW][aP])?aQ:0)}).attr("x",this.x.baseVal.value).transition().duration(T/2).attr("y",function(){if(a6===p[aW][aP]){return 0-aQ}else{return 0}}).attr("height",function(){return Math.abs(u(a7.val)-u(0))+aQ}).attr("width",aM).attr("x",0);return"url(#"+ba+")"}})}}}else{if(ab){if(am){a0.attr("x",function(a7,a6){return aT[a6]-this.parentNode.getTransformToElement(this.parentNode.parentNode).e});var a4=a0.transition();a4.duration(T/2).attr("width",function(a7,a6){return Math.abs(u(a7.val)-u(0))}).attr("x",0).attr("height",function(a7,a6){var a8=H[aI-aP-1]-H[aI-aP];if(a8>1){return H[aI-aP-1]-H[aI-aP]-1}else{return H[aI-aP-1]-H[aI-aP]}}).attr("y",0).each("end",function(a7,a6){if(aP===0&&a6===Y-1){G()}});if(az){a4.attr("clip-path",function(a8,a7){if(a7===p[aW][aP]||a7===L[aW][aP]){var ba="roundCorner-clip-"+a7+aP+aW+ax;var a6=parseFloat(this.x.baseVal.value);var a9=aj.append("clipPath").attr("id",ba).append("rect").attr("class","v-roundCorner-clip").attr("rx",aQ).attr("ry",aQ).attr("height",this.height.baseVal.value).attr("width",this.width.baseVal.value+aQ).attr("x",function(){return a6-((a7===p[aW][aP])?0:aQ)}).attr("y",this.y.baseVal.value).transition().duration(T/2).attr("x",function(){if(a7===p[aW][aP]){return 0}else{return 0-aQ}}).attr("width",function(){return Math.abs(u(a8.val)-u(0))+aQ}).attr("height",aM).attr("y",0);return"url(#"+ba+")"}})}}else{a0.attr("y",function(a7,a6){return aZ[a6]-this.parentNode.getTransformToElement(this.parentNode.parentNode).f});var a4=a0.transition();a4.duration(T/2).attr("height",function(a7,a6){return Math.abs(u(a7.val)-u(0))}).attr("y",0).attr("width",function(a8,a6){var a7=H[aP+1]-H[aP];if(a7>1){return H[aP+1]-H[aP]-1}else{return H[aP+1]-H[aP]}}).attr("x",0).each("end",function(a7,a6){if(aP===0&&a6===Y-1){G()}});if(az){a4.attr("clip-path",function(a7,a6){if(a6===p[aW][aP]||a6===L[aW][aP]){var ba="roundCorner-clip-"+a6+aP+aW+ax;var a9=parseFloat(this.y.baseVal.value);var a8=aj.append("clipPath").attr("id",ba).append("rect").attr("class","v-roundCorner-clip").attr("rx",aQ).attr("ry",aQ).attr("width",this.width.baseVal.value).attr("height",this.height.baseVal.value+aQ).attr("y",function(){return a9-((a6===p[aW][aP])?aQ:0)}).attr("x",this.x.baseVal.value).transition().duration(T/2).attr("y",function(){if(a6===p[aW][aP]){return 0-aQ}else{return 0}}).attr("height",function(){return Math.abs(u(a7.val)-u(0))+aQ}).attr("width",aM).attr("x",0);return"url(#"+ba+")"}})}}}else{if(az){if(am){a0.attr("clip-path",function(a7,a6){if(a6===p[aW][aP]||a6===L[aW][aP]){var a9="roundCorner-clip-"+a6+aP+aW+ax;var a8=aj.append("clipPath").attr("id",a9).append("rect").attr("class","v-roundCorner-clip").attr("rx",aQ).attr("ry",aQ).attr("x",function(){if(a6===p[aW][aP]){return 0}else{return 0-aQ}}).attr("width",function(){return Math.abs(u(a7.val)-u(0))+aQ}).attr("height",aM).attr("y",0);return"url(#"+a9+")"}if(aP===0&&a6===Y-1){G()}})}else{a0.attr("clip-path",function(a7,a6){if(a6===p[aW][aP]||a6===L[aW][aP]){var a9="roundCorner-clip-"+a6+aP+aW+ax;var a8=aj.append("clipPath").attr("id",a9).append("rect").attr("class","v-roundCorner-clip").attr("rx",aQ).attr("ry",aQ).attr("y",function(){if(a6===p[aW][aP]){return 0-aQ}else{return 0}}).attr("height",function(){return Math.abs(u(a7.val)-u(0))+aQ}).attr("width",aM).attr("x",0);return"url(#"+a9+")"}if(aP===0&&a6===Y-1){G()}})}}}}}}});aR.exit().remove()});aL.exit().remove()}else{aL=aK.selectAll("g.v-bar").data(ae);aL.enter().append("g");aL.attr("class","v-bar").each(function(aN,aO){var aM=am?H[aI-aO-1]-H[aI-aO]:H[aO+1]-H[aO];if(aM>1){aM=aM-1}var aP=Math.log(aM)/Math.log(2);if(aP<0){az=false}var aQ=d3.select(this).selectAll("g.v-axisGroup").data(aN);aQ.enter().append("g");aQ.attr("class","v-axisGroup").each(function(a2,aU){var aV=J;var aS=0,aT=0,a1=0,a3=0;var a0=0,aZ=-1;var aX=[],aR=[];var aW=d3.select(this).selectAll("g.v-datashape").data(a2);aW.enter().append("g").attr("class","v-datashape");aW.each(function(a5){var a4=d3.select(this).selectAll("rect").data([a5]);a4.enter().append("rect");a4.exit().remove()});aW.exit().remove();aW.attr("transform",function(a6,a5){if(am){var a7=t-H[aI-aO-1];var a4;if(a6.val>=0){aS=u(a1);a1+=a6.val;a4=aS}else{a3+=a6.val;aT=u(a3);a4=aT}}else{var a4=H[aO];var a7;if(a6.val>=0){a1+=a6.val;positiveY=u(a1);a7=positiveY}else{negativeY=u(a3);a3+=a6.val;a7=negativeY}}return"translate("+a4+","+a7+")"});var aY=d3.select(this).selectAll("rect");if(am){aY.attr("width",function(a5,a4){return Math.abs(u(a5.val)-u(0))}).attr("x",0).attr("height",function(a5,a4){var a6=H[aI-aO-1]-H[aI-aO];if(a6>1){return H[aI-aO-1]-H[aI-aO]-1}else{return H[aI-aO-1]-H[aI-aO]}}).attr("y",0).attr("fill",function(a4,a6){a4.fillColor=aV[a6%aV.length];var a5={drawingEffect:ac,fillColor:a4.fillColor,direction:"vertical"};return U.register(a5)}).attr("class","v-datapoint").attr("fill-opacity",1);if(az){aY.attr("clip-path",function(a5,a4){if(a4===p[aU][aO]||a4===L[aU][aO]){var a7="roundCorner-clip-"+a4+aO+aU+ax;var a6=aj.append("clipPath").attr("id",a7).append("rect").attr("class","v-roundCorner-clip").attr("rx",aP).attr("ry",aP).attr("x",function(){if(a4===p[aU][aO]){return 0}else{return 0-aP}}).attr("width",function(){return Math.abs(u(a5.val)-u(0))+aP}).attr("height",aM).attr("y",0);return"url(#"+a7+")"}})}}else{aY.attr("height",function(a5,a4){return Math.abs(u(a5.val)-u(0))}).attr("x",0).attr("width",function(a6,a4){var a5=H[aO+1]-H[aO];if(a5>1){return H[aO+1]-H[aO]-1}else{return H[aO+1]-H[aO]}}).attr("y",0).attr("fill",function(a4,a6){a4.fillColor=aV[a6%aV.length];var a5={drawingEffect:ac,fillColor:a4.fillColor,direction:"horizontal"};return U.register(a5)}).attr("class","v-datapoint").attr("fill-opacity",1);if(az){aY.attr("clip-path",function(a5,a4){if(a4===p[aU][aO]||a4===L[aU][aO]){var a7="roundCorner-clip-"+a4+aO+aU+ax;var a6=aj.append("clipPath").attr("id",a7).append("rect").attr("class","v-roundCorner-clip").attr("rx",aP).attr("ry",aP).attr("y",function(){if(a4===p[aU][aO]){return 0-aP}else{return 0}}).attr("height",function(){return Math.abs(u(a5.val)-u(0))+aP}).attr("width",aM).attr("x",0);return"url(#"+a7+")"}})}}});aQ.exit().remove()});aL.exit().remove();G()}});ay=false,A=false,q=false;aD=true;return aB}aB.hoverOnPoint=function(aQ){var aP=aQ.x,aI=aQ.y;var aL=0,aM=H.length-1,aK=0;if(am){while(aL<aM){if(aI>=(t-H[aL])&&aI<(t-H[aL+1])){aK=H[aL]-H[aL+1];break}aL++}}else{while(aL<aM){if(aP>=(H[aL])&&aP<(H[aL+1])){aK=H[aL+1]-H[aL];break}aL++}}if(aL>(ae.length-1)||aL<0){B.attr("visibility","hidden");return}if(am){B.attr("y",t-H[aL]).attr("visibility","visible").attr("height",aK)}else{B.attr("x",H[aL]).attr("visibility","visible").attr("width",aK)}if(aL!==ar){if(R){ar=aL;var aJ=X[0][0].getTransformToElement(X[0][0].ownerSVGElement);var x=aJ.f;var aN=aJ.e;var aO=am?ao(ap-aL-1):ao(aL);aO.point={x:am?d3.event.layerX:H[aL]+aK/2+aN,y:am?t-H[aL]+aK/2+x:d3.event.layerY};aO.plotArea={x:aJ.e,y:aJ.f,width:n,height:t};aO.valueAxis0Count=ae[0][0].length;aO.valueAxis1Count=a.isExist(ae[0][1])?ae[0][1].length:0;O.showTooltip(b.formatTooltipData(aO))}}};var ao=function(aI){var aP={body:[],footer:[]};var x=aC.getAnalysisAxisDataByIdx(0).values;var aT=aC.getMeasureValuesGroupDataByIdx(0).values;var aR=aC.getMeasureValuesGroupDataByIdx(1).values;if(a.isExist(aC.getAnalysisAxisDataByIdx(1))){var aV=aC.getAnalysisAxisDataByIdx(1).values}var aX=v[0][0].length;for(var aN=0,aJ=aT.length;aN<aJ;aN++){var aM={},aW=[];aM.name=aT[aN].col;aM.val=aW;for(var aL=0;aL<aX;aL++){var aQ="";if(a.isExist(aV)){for(var aU=0,aK=aV.length;aU<aK;aU++){if(aU===0){aQ+=aV[aU].rows[aL].val}else{aQ+=" / "+aV[aU].rows[aL].val}}}aW.push({value:v[aI][0][aL].isNaN?ad:v[aI][0][aL].val,label:aQ,shape:"squareWithRadius",color:K[aL]})}aP.body.push(aM)}var aM={},aW=[];aM.name=aR[0].col;aM.val=aW;aW.push({value:a.isExist(rangeSum[aI])?rangeSum[aI]:ad,valueAxis:1});aP.body.push(aM);for(var aN=0,aO=x.length;aN<aO;aN++){var aS={};aS.label=x[aN].col.val;aS.value=x[aN].rows[aI].val;aP.footer.push(aS)}return aP};aB.blurOut=function(){B.attr("visibility","hidden");ar=null;if(R){O.hideTooltip()}};aB.parent=function(){return X};aB.highlight=function(aI){if(aI instanceof Array){for(var aJ=0,x=aI.length;aJ<x;aJ++){aI[aJ].setAttribute("fill-opacity",1)}}else{aI.setAttribute("fill-opacity",1)}};aB.unhighlight=function(aI){if(aI instanceof Array){for(var aJ=0,x=aI.length;aJ<x;aJ++){aI[aJ].setAttribute("fill-opacity",0.4)}}else{aI.setAttribute("fill-opacity",0.4)}};aB.clear=function(x){if(x==null){X.selectAll(".v-datapoint").attr("fill-opacity",1)}else{X.selectAll(".v-datapoint").attr("fill-opacity",0.4)}};function af(){for(var aM=0,x=ae.length;aM<x;aM++){for(var aJ=0,aL=ae[aM],aO=v[aM];aJ<aL.length;aJ++){var aN=0,aK=0,aI;for(aI=0;aI<aL[aJ].length;aI++){aN+=Math.abs(aL[aJ][aI].val);if(!aL[aJ][aI].isNaN){aK++}}if(aN===0){for(aI=0;aI<aL[aJ].length;aI++){aL[aJ][aI].value=a.isExist(aL[aJ][aI].value)?aL[aJ][aI].value:aL[aJ][aI].val;aL[aJ][aI].val=aL[aJ][aI].isNaN?0:1/aK;if(a.isExist(aO[aJ])&&a.isExist(aO[aJ][aI])){aO[aJ][aI].val=aO[aJ][aI].isNaN?" ":1/aK}}}else{for(aI=0;aI<aL[aJ].length;aI++){if(aL[aJ][aI].val<0){aL[aJ][aI].isNegative=true}aL[aJ][aI].value=a.isExist(aL[aJ][aI].value)?aL[aJ][aI].value:aL[aJ][aI].val;aL[aJ][aI].val=Math.abs(aL[aJ][aI].val/aN);if(a.isExist(aO[aJ])&&a.isExist(aO[aJ][aI])){aO[aJ][aI].val=aO[aJ][aI].isNaN?" ":aO[aJ][aI].val/aN}}}}}}function N(){var aK=c.extend(true,{},j(aC));var aJ=aK.MG1;var aI=aK.MG2;measureOnAxis1=aK.MG1Number;v=[];var x=P(aJ,null,aK.color);ae=x;aw=aJ;av=aI;v=c.extend(true,{},ae)}function G(){O.initialized();aA=true}aB.afterUIComponentAppear=function(){O.initialized()};aB.width=function(x){if(!arguments.length){return n}ay=(n===x)&&!ay?false:true;n=x;aa();return aB};aB.height=function(x){if(!arguments.length){return t}ay=(t===x)&&!ay?false:true;t=x;aa();return aB};aB.data=function(aK){if(!arguments.length){return aC}aC=aK;var aL=c.extend(true,{},j(aC));var aJ=aL.MG1;var aI=aL.MG2;measureOnAxis1=aL.MG1Number;v=[];var x=P(aJ,null,aL.color);if(aw.length!==aJ.length||aw[0].length!==aJ[0].length){q=true}else{A=true}ae=x;aw=aJ;av=aI;v=c.extend(true,{},ae);aa();ah();return aB};aB.properties=function(x){if(!arguments.length){return o}h.extend(true,o,x);ah();aa();return aB};var aF=function(aI){for(var x=0;x<aI.length;x++){if(!k.isNoValue(aI[x])&&aI[x]!=0){return}}for(var x=1;x<aI.length;x++){aI[x]=x*(am?t/(aI.length-1):n/(aI.length-1))}};var aa=function(){if(a.isExist(n)&&a.isExist(t)&&a.isExist(ae)){var aN=[],aL=0,aI=0;H=[],rangeSum=[],H[0]=0;var aM=Q["sap.viz.modules.mekko.dimension"].values[0].rows=[];Q["sap.viz.modules.mekko.dimension"].values[0].col.val=aC.getMeasureValuesGroupDataByIdx(1).values[0].col;for(var aK=0,x=av.length;aK<x;aK++){for(var aJ=0;aJ<av[aK].length;aJ++){if(a.isExist(rangeSum[aJ])){rangeSum[aJ]+=av[aK][aJ].val}else{rangeSum[aJ]=av[aK][aJ].val}}}for(var aK=0,x=rangeSum.length;aK<x;aK++){aN.push(aK);aL+=rangeSum[aK]>0?rangeSum[aK]:(0-rangeSum[aK])}for(var aJ=0,x=rangeSum.length;aI+=Math.abs(rangeSum[aJ]),aJ<x;aJ++){aI=parseFloat(aI.toFixed(8));H[aJ+1]=aL==0?null:Math.abs(am?aI/aL*t:aI/aL*n);aM.push({val:a.isExist(rangeSum[aJ])?rangeSum[aJ]:ad})}aF(H);if(am){aG.domain(aN).range(H.reverse());if(D==="percentage"){u.domain([0,1]).range([0,n]).nice();m.perfect(u)}else{if(s===0&&E===0){u.domain([0,1]).range([0,n]).nice()}else{u.domain([s,E]).range([0,n]).nice()}m.perfect(u)}}else{aG.domain(aN).range(H);if(D==="percentage"){u.domain([1,0]).range([0,t]).nice();m.perfect(u)}else{if(s===0&&E===0){u.domain([1,0]).range([0,t]).nice()}else{u.domain([E,s]).range([0,t]).nice()}m.perfect(u)}}}};aB.colorPalette=function(x){if(!arguments.length){return K}K=x;return aB};aB.categoryScale=function(x){if(!arguments.length){return aG}aG=x;return aB};aB.dimensionData=function(x){if(!arguments.length){return Q}Q=x;return aB};aB.secondCategoryScale=function(){if(!arguments.length){return aG}aG=_;return aB};aB.primaryDataRange=function(aI){if(!arguments.length){var x,aJ;if(D==="percentage"){x=1;aJ=0}else{aJ=s<0?s:0;x=E}return{min:aJ,max:x}}E=aI.max;s=aI.min;aa();return aB};aB.secondDataRange=function(aI){if(!arguments.length){var x,aJ;if(D==="percentage"){x=1;aJ=0}else{aJ=S<0?S:0;x=Z}return{min:aJ,max:x}}Z=aI.max;S=aI.min;aa();return aB};aB.primaryScale=function(x){if(!arguments.length){return u}u=x;return aB};aB.primaryAxisColor=function(){return undefined};aB.getPreferredSize=function(){};aB.x=function(x){if(!arguments.length){return an}an=x;return this};aB.y=function(x){if(!arguments.length){return al}al=x;return this};aB.dispatch=function(x){if(!arguments.length){return O}O=x;return this};aB.dataLabel=function(x){};aB.primaryAxisTitle=function(aI){if(!arguments.length){var aL=aC.getMeasureValuesGroupDataByIdx(0),aK=[];if(aL){for(var aJ=0,x=aL.values.length;aJ<x;aJ++){if(aL.values[aJ].col!==null&&aL.values[aJ].col!==undefined){aK.push(aL.values[aJ].col)}else{aK.push(f.get("IDS_ISNOVALUE"))}}}return aK.join("/")}return this};aB.secondAxisTitle=function(aI){if(!arguments.length){var aL=aC.getMeasureValuesGroupDataByIdx(1),aK=[];if(aL){for(var aJ=0,x=aL.values.length;aJ<x;aJ++){if(aL.values[aJ].col!==null&&aL.values[aJ].col!==undefined){aK.push(aL.values[aJ].col)}else{aK.push(f.get("IDS_ISNOVALUE"))}}}return aK.join("/")}return this};var P=function(aQ,aO,aJ){var aN=-1,aM=-1;L=[[],[]],p=[[],[]];E=s=0;Z=S=0;var aI=[];ap=aQ[0].length;var aT,x;for(var aK=0;aK<ap;aK++){var aR=[],aP=[];var aS=[];aT=0,x=0;aN=-1,aM=-1;for(var aL=0;aL<aQ.length;aL++){if(k.isNoValue(aQ[aL][aK].val)){aQ[aL][aK].val=0;aQ[aL][aK].isNaN=true}else{if(aQ[aL][aK].val>=0){aT+=aQ[aL][aK].val;aN=aL}else{x+=aQ[aL][aK].val;aM=aL}}aR.push(aQ[aL][aK])}L[0].push(aN);p[0].push(aM);if(E<aT){E=aT}if(s>x){s=x}aS.push(aR);if(a.isExist(aO)){aT=0,x=0;aN=-1,aM=-1;for(aL=0;aL<aO.length;aL++){aN=0,aM=-1;if(k.isNoValue(aO[aL][aK].val)){aO[aL][aK].val=0;aO[aL][aK].isNaN=true}else{if(aO[aL][aK].val>=0){aT+=aO[aL][aK].val;aN=aL}else{x+=aO[aL][aK].val;aM=aL}}aP.push(aO[aL][aK])}L[1].push(aN);p[1].push(aM);if(Z<aT){Z=aT}if(S>x){S=x}aS.push(aP)}aI.push(aS)}return aI};function F(){au.hoverline=V.styleManager.queryDefault(aH)}F();o=I.props(null);return aB};return d});sap.riv.module({qname:"sap.viz.modules.manifests.xy.Mekko",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.mekko",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.BaseBar",version:"4.0.1"}],function Setup(c,b){var a={id:"sap.viz.modules.mekko",name:"mekko",base:"sap.viz.modules.xy.bar.base",properties:{mode:{name:"mode",supportedValueType:"List",supportedValues:["comparison","percentage"],defaultValue:"comparison",description:"Set dispaly mode of mekko chart."},orientation:{name:"orientation",supportedValueType:"List",supportedValues:["vertical","horizontal"],defaultValue:"horizontal",description:"vertical or horizontal mekko chart."},},fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.BarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Bar",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseHorizontalChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"}],function Setup(b){var a={id:"viz/bar",name:"IDS_BARCHART",base:"riv/basehorizontalchart",modules:{root:{id:"sap.viz.modules.rootContainer",modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove","touchstart"]}}},main:{modules:{plot:{id:"sap.viz.modules.bar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.HorizontalMekkoChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BarChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Mekko",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/horizontal_mekko",name:"IDS_HORIZONTALMEKKOCHART",base:"viz/bar",modules:{root:{modules:{main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.mekko",configure:{propertyCategory:"plotArea",propertiesOverride:{primaryValuesColorPalette:{isExported:false},mode:{isExported:false},orientation:{isExported:false}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis."}},yAxis:{id:"sap.viz.modules.axis",configure:{properties:{type:"category",position:"left",label:{hideStrategy:"greedy"}}}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"yAxis2",properties:{isIndependentMode:true,type:"category",position:"right",gridline:{visible:false},label:{hideStrategy:"greedy"}},propertiesOverride:{gridline:{isExported:false},axisline:{isExported:false},label:{numberFormat:{isExported:false}}}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"mekko",orientation:"left"}}}}}},feeds:{secondaryValues:{min:1,max:1},primaryValues:{min:1,max:1},regionColor:{min:0,max:1,acceptMND:-1},axisLabels:{min:1,max:1,acceptMND:-1}},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.yAxis2",target:"scale",sourceModule:"root.main.plot",source:"secondCategoryScale"},{targetModule:"root.main.xAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.yAxis2",target:"title",sourceModule:"root.main.plot",source:"secondAxisTitle"},{targetModule:"root.main.yAxis2",target:"independentData",sourceModule:"root.main.plot",source:"dimensionData"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.PercentageHorizontalMekkoChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.xy.HorizontalMekkoChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/100_horizontal_mekko",name:"IDS_PERCENTAGEHORIZONTALMEKKOCHART",base:"viz/horizontal_mekko",modules:{root:{modules:{tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"mekko",formatString:[["0.00%"],[""]]}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.mekko",configure:{propertyCategory:"plotArea",properties:{mode:"percentage"},propertiesOverride:{primaryValuesColorPalette:{isExported:false},mode:{isExported:false},orientation:{isExported:false}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis",properties:{isPercentMode:true}}}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.VerticalBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.VerticalBar",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"}],function Setup(b){var a={id:"viz/column",name:"IDS_VERTICALBARCHART",base:"riv/baseverticalchart",modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{}}},main:{modules:{plot:{id:"sap.viz.modules.verticalbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.yAxis",source:"range"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.yAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.MekkoChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.xy.VerticalBarChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Mekko",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/mekko",name:"IDS_MEKKOCHART",base:"viz/column",modules:{root:{modules:{main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.mekko",configure:{propertyCategory:"plotArea",properties:{orientation:"vertical"},propertiesOverride:{primaryValuesColorPalette:{isExported:false},mode:{isExported:false},orientation:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis.",properties:{position:"left"}}},xAxis:{id:"sap.viz.modules.axis",configure:{properties:{type:"category",position:"bottom",label:{hideStrategy:"greedy"}}}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"xAxis2",properties:{isIndependentMode:true,type:"category",position:"top",gridline:{visible:false},label:{hideStrategy:"greedy"}},propertiesOverride:{gridline:{isExported:false},axisline:{isExported:false},label:{numberFormat:{isExported:false}}}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"mekko",orientation:"bottom"}}}}}},feeds:{secondaryValues:{min:1,max:1},primaryValues:{min:1,max:1},regionColor:{min:0,max:1,acceptMND:-1},axisLabels:{min:1,max:1,acceptMND:-1}},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main.plot",source:"secondCategoryScale"},{targetModule:"root.main.yAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.xAxis2",target:"title",sourceModule:"root.main.plot",source:"secondAxisTitle"},{targetModule:"root.main.xAxis2",target:"independentData",sourceModule:"root.main.plot",source:"dimensionData"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.PercentageMekkoChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.xy.MekkoChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/100_mekko",name:"IDS_PERCENTAGEMEKKOCHART",base:"viz/mekko",modules:{root:{modules:{tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{formatString:[["0.00%"],[""]]}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.mekko",configure:{propertyCategory:"plotArea",properties:{mode:"percentage"},propertiesOverride:{primaryValuesColorPalette:{isExported:false},mode:{isExported:false},orientation:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"yAxis",properties:{isPercentMode:true}}}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.modules.horizontalboxplot",version:"4.0.1"},[{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(a,f,h,c,l,j,b,g,e,k){var d=function(E,T){var ax="v-hoverline";var P=null,ae=[],ay=[],ac=[],aw=[],p=[],N=[],O=[],F=[],t=[],at=null;var aj={"sap.viz.modules.horizontalboxplot.dimension":{key:"sap.viz.modules.horizontalboxplot.dimension",values:null}};var n,s,ao=d3.scale.ordinal(),J=d3.scale.linear(),aa=d3.scale.ordinal(),B,af,G,am=null,M=true,z={min:0,max:0},S=T.effectManager,Z="normal";var Y={},K=new f("showTooltip","hideTooltip","initialized");var an={};var H={width:"1",color:"#000000"};var x={width:"0",midLineColor:"#000000"};var m=[],ak=[],V=[],X=[],R=[],w=[],I=[];var o=["Maximum:","3rd Quartile:","Median:","1st Quartile:","Minimum:"],ad="No value";var W=function(){var aA=[];for(var az=0;az<ac.length;az++){aA.push(az)}ao.domain(aA).rangeBands([0,s]);aa.domain(ay).rangeBands([0,s]);if(!z||(z.min===0&&z.max===0)){J.domain([0,1]).range([0,n]).nice()}else{J.domain([z.min,z.max]).range([0,n]).nice()}l.perfect(J)};ar.dimensionData=function(az){if(!arguments.length){return aj}aj=az;return ar};function U(aC){if(a.isExist(aC)){length=aC.length;var az=false;for(var aB=0;aB<length;aB++){if(aC[aB].length>0){if(!az){z=v(aC[aB]);az=true}else{var aA=v(aC[aB]);if(aA){if(aA.min<z.min){z.min=aA.min}if(aA.max>z.max){z.max=aA.max}}}}}}}function v(aA){var az={min:0,max:0};if(a.isExist(aA)){aA.sort(function(aC,aB){return aC.val-aB.val});az={min:aA[0].val,max:aA[aA.length-1].val}}return az}function A(){m=[];ak=[];V=[];X=[];R=[];w=[];I=[]}function C(){ae=[];ay=[];ac=[];aw=[];p=[];N=[];O=[]}function ah(az){return(az&1)==0}function ai(az,aE,aA){var aD=aA-aE+1;if(aD<=0){return -1}var aB;var aC=az[aE+Math.floor((aD+1)/2)-1].ctx;if(ah(aD)){aB=(az[aE+Math.floor((aD+1)/2)-1].val+az[aE+Math.floor((aD+1)/2)].val)/2}else{aB=az[aE+Math.floor((aD+1)/2)-1].val}return{ctx:aC,val:aB}}function aq(aA){if(aA&&aA.length>0){var aB=aA.length,aF={"Maximum:":null,"3rd Quartile:":null,"Median:":null,"1st Quartile:":null,"Minimum:":null};midLine=ai(aA,0,aB-1);aF["Median:"]=midLine;var aJ=aA[Math.floor(aB/2)];aA[Math.floor(aB/2)]=midLine;var aH=ai(aA,0,Math.floor(aB/2));aA[Math.floor(aB/2)]=aJ;aJ=aA[Math.floor((aB-1)/2)];aA[Math.floor((aB-1)/2)]=midLine;var aI=ai(aA,Math.floor((aB-1)/2),aB-1);aA[Math.floor((aB-1)/2)]=aJ;aF["3rd Quartile:"]=aI;aF["1st Quartile:"]=aH;var aG=aI.val-aH.val;var az=aH.val-1.5*aG;var aK=aI.val+1.5*aG;var aE=0;while(aA[aE].val<az){aE++}lowWhisker=aA[aE];aF["Minimum:"]=lowWhisker;if(lowWhisker){if(aH){if(aH.val!=lowWhisker.val){X.push({pair:[aH,lowWhisker],ctx:[aH.ctx,lowWhisker.ctx],val:[aH.val,lowWhisker.val]})}}}for(var aC=0;aC<aE;aC++){I.push(aA[aC])}var aD=aB-1;while(aA[aD].val>aK){aD--}highWhisker=aA[aD];aF["Maximum:"]=highWhisker;for(var aC=0;aC<aB-aD-1;aC++){I.push(aA[aD+1+aC])}if(I.length>0){aF["outLiers(s)"]=I.length}if(highWhisker){if(aI){if(aI.val!=highWhisker.val){R.push({pair:[highWhisker,aI],ctx:[highWhisker.ctx,aI.ctx],val:[highWhisker.val,aI.val]})}}}if(aH&&aI&&midLine){if(aH.val==aI.val){w.push({pair:[aH,aH],midLine:null,ctx:[aH.ctx],val:[aH.val]})}else{if(midLine.val==aI.val||midLine.val==aH.val){w.push({pair:[aI,aH],midLine:null,ctx:[aI.ctx,aH.ctx],val:[aI.val,aH.val]})}else{w.push({pair:[aI,midLine],midLine:midLine,ctx:[aI.ctx],val:[aI.val]});w.push({pair:[midLine,aH],midLine:midLine,ctx:[aH.ctx],val:[aH.val]})}}}O.push(aF)}}function ar(az){k.drawBound(az,n,s);az.each(function(){boxNumber=1,boxGroupNumber=ac.length,G=8*(ao.rangeBand())/(9*boxNumber+7);var aA=P=d3.select(this);aA.selectAll("g.v-box").remove();if(B==null){B=aA.append("rect").attr("width",n).attr("height",ao.rangeBand()-G/2).style("visibility","hidden").attr("fill",an.hoverline.fill).attr("class",ax)}else{B.attr("width",n).attr("height",ao.rangeBand()-G/2).style("visibility","hidden")}var aB=aA.selectAll("g.v-box").data(ac);aB.enter().append("g");aB.attr("class","v-box").each(function(aD,aN){if(aD.length==0){O.push({});return}aD=aD.sort(function(aX,aW){return aX.val-aW.val});var aS=aD.length,aQ=aD[0],aR=aD[aS-1];aq(aD);var aP=d3.select(this).selectAll("circle.outliers").data(I);aP.enter().append("circle");aP.attr("cy",function(aW){var aX=ao(aN)+G;return aX}).attr("cx",function(aY,aX){var aW=J(aY.val);return aW}).attr("r","2").attr("stroke",S.register({drawingEffect:"normal",fillColor:H.color})).attr("stroke-width",H.width).attr("fill","none").attr("class","v-datapoint v-outliers");aP.exit().remove();var aU=d3.select(this).selectAll("rect.quartile").data(w);aU.enter().append("rect");aU.attr("y",function(aW){var aX=ao(aN)+G/2;return aX}).attr("x",function(aY,aX){var aW=J(aY.pair[1].val);return aW}).attr("height",G).attr("width",function(aX,aW){var aZ=0;var aY=aX.pair[0].val-aX.pair[1].val;if(aY==0){aZ=1}else{aZ=J(aX.pair[0].val)-J(aX.pair[1].val)}return aZ}).attr("shape-rendering","crispEdges").attr("fill",function(aW){var aX={drawingEffect:Z,fillColor:t[aN%t.length],direction:"vertical"};return S.register(aX)}).attr("stroke-width",x.width).attr("class","v-datapoint v-quartile");if(w.length==2){var aK=ao(aN)+G/2;var aG=aK+G;var aI=midLineXEnd=J(w[0].midLine.val);var aM=d3.select(this);aM.append("line").attr("x1",aI).attr("y1",aK).attr("x2",midLineXEnd).attr("y2",aG).attr("stroke","#ffffff").attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-midline")}aU.exit().remove();var aJ=0,aL=0,aO=0,aT=0;var aC=0,aF=0,aE=0,aH=0;var aV=d3.select(this).selectAll("rect.v-rectlowwhisker").data(X);aV.enter().append("rect");aV.attr("y",function(aW){var aX=ao(aN)+G/2;aF=aH=aX+G/2;aL=aX;aT=aX+G;return aX}).attr("x",function(aX){var aW=J(aX.pair[1].val);aC=aW;aJ=aO=aW;return aW}).attr("height",G).attr("width",function(aW){var aY=J(aW.pair[0].val)-J(aW.pair[1].val);aE=J(aW.pair[1].val)+aY;var aX=d3.select(this.parentNode);aX.append("line").attr("x1",aJ).attr("y1",aL).attr("x2",aO).attr("y2",aT).attr("stroke",function(aZ){var a0={drawingEffect:"normal",fillColor:t[aN%t.length]};return S.register(a0)}).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-lineverticallowwhisker");var aX=d3.select(this.parentNode);aX.append("line").attr("x1",aC).attr("y1",aF).attr("x2",aE).attr("y2",aH).attr("stroke",S.register({drawingEffect:"normal",fillColor:"#000000"})).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-linehorizontallowwhisker v-innerwhisker");return aY}).attr("shape-rendering","crispEdges").attr("fill-opacity","0").attr("stroke-width","0").attr("class","v-datapoint v-rectlowwhisker");aV.exit().remove();var aJ=0,aL=0,aO=0,aT=0;var aC=0,aF=0,aE=0,aH=0;var aV=d3.select(this).selectAll("rect.v-recthighwhisker").data(R);aV.enter().append("rect");aV.attr("y",function(aW){var aX=ao(aN)+G/2;aF=aH=aX+G/2;aL=aX;aT=aX+G;return aX}).attr("x",function(aX,aY){var aW=J(aX.pair[1].val);aC=aW;aJ=aO=J(aX.pair[0].val);return aW}).attr("height",G).attr("width",function(aW,aY){var aZ=J(aW.pair[0].val)-J(aW.pair[1].val);aE=J(aW.pair[1].val)+aZ;var aX=d3.select(this.parentNode);aX.append("line").attr("x1",aJ).attr("y1",aL).attr("x2",aO).attr("y2",aT).attr("stroke",function(a0){var a1={drawingEffect:"normal",fillColor:t[aN%t.length]};return S.register(a1)}).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-lineverticalhighwhisker");var aX=d3.select(this.parentNode);aX.append("line").attr("x1",aC).attr("y1",aF).attr("x2",aE).attr("y2",aH).attr("stroke",S.register({drawingEffect:"normal",fillColor:"#000000"})).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-linehorizontalhighwhisker v-innerwhisker");return aZ}).attr("shape-rendering","crispEdges").attr("fill-opacity","0").attr("stroke-width","0").attr("class","v-datapoint v-recthighwhisker");aV.exit().remove();A()});K.initialized();aB.exit().remove()});return ar}ar.width=function(az){if(!arguments.length){return n}n=az;if(a.isExist(n)&&a.isExist(s)&&a.isExist(ac)){W()}return ar};ar.height=function(az){if(!arguments.length){return s}s=az;if(a.isExist(n)&&a.isExist(s)&&a.isExist(ac)){W()}return ar};var av=function(az){if(az===null||az===undefined){return defaultString}else{return az}};function ab(aD){var az={body:[],footer:[]},aE=0;if(p){var aC={name:null,val:[]};aE=aD%p.length;aC.name=p[aE].name;if(p[aE].label!=null&&p[aE].shape!=null&&t[aE]!=null){var aG={shape:null,color:null,label:null,value:null};aG.shape=p[aE].shape;aG.color=t[aE];aG.label=p[aE].label;aC.val.push(aG)}if(O){if(O[aD]){var aH=false;for(var aB in O[aD]){var aG={shape:null,color:null,label:null,value:null};aH=true;aG.label=aB;if(O[aD][aB]){if(aB=="outLiers(s)"){aG.value=O[aD][aB]}else{aG.value=O[aD][aB].val}}aC.val.push(aG)}if(!aH){for(var aA=0;aA<o.length;aA++){var aG={};aG.label=o[aA];aG.value=ad;aG.color=null;aG.shape=null;aC.val.push(aG)}}}}az.body.push(aC)}if(N){aE=Math.floor(aD/p.length);for(var aB=0;aB<N.length;aB++){if(N[aB].rows.length>0){var aF={label:null,value:null};aF.label=N[aB].col;aF.value=N[aB].rows[aE];az.footer.push(aF)}}}return az}function al(){if(aj){for(var aD in aj){N=aj[aD].values}}if(aw){var aB=aw.values;if(aB.length>1){if(aB[0].type=="MND"){for(var aF=0;aF<aB[0].rows.length;aF++){for(var az=0;az<aB[1].rows.length;az++){var aE={name:null,shape:null,color:null,label:null};aE.name=aB[0].rows[aF];var aC=[];for(var aG=1;aG<aB.length;aG++){aC.push(aB[aG].rows[az])}aE.label=aC;p.push(aE)}}}else{if(aB[aB.length-1].type=="MND"){for(var az=0;az<aB[0].rows.length;az++){var aC=[];for(var aG=0;aG<aB.length-1;aG++){aC.push(aB[aG].rows[az])}for(var aF=0;aF<aB[aB.length-1].rows.length;aF++){var aE={name:null,shape:null,color:null,label:null};aE.label=aC;aE.name=aB[aB.length-1].rows[aF];p.push(aE)}}}}}else{for(var az=0;az<aB[0].rows.length;az++){var aE={name:null,shape:null,color:null,label:null};aE.name=aB[0].rows[az];p.push(aE)}}}for(var aA=0;aA<p.length;aA++){p[aA].shape="squareWithRadius"}}function au(aC,aE,aF){if(aC){var aD=aC.getAttribute("class");if(aD.indexOf("v-recthighwhisker")==-1&&aD.indexOf("v-rectlowwhisker")==-1&&aD.indexOf("v-linehorizontalhighwhisker")==-1&&aD.indexOf("v-lineverticalhighwhisker")==-1&&aD.indexOf("v-linehorizontallowwhisker")==-1&&aD.indexOf("v-lineverticallowwhisker")==-1){aC.setAttribute(aE,aF)}else{if(aD.indexOf("v-recthighwhisker")!=-1){var aB=aC.parentNode.querySelectorAll("line");if(aB){for(var aA=0,aG=aB.length;aA<aG;aA++){var az=aB[aA].getAttribute("class");if(az.indexOf("v-linehorizontalhighwhisker")!=-1||az.indexOf("v-lineverticalhighwhisker")!=-1){aB[aA].setAttribute(aE,aF)}}}}else{if(aD.indexOf("v-rectlowwhisker")!=-1){var aB=aC.parentNode.querySelectorAll("line");if(aB){for(var aA=0,aG=aB.length;aA<aG;aA++){var az=aB[aA].getAttribute("class");if(az.indexOf("v-linehorizontallowwhisker")!=-1||az.indexOf("v-lineverticallowwhisker")!=-1){aB[aA].setAttribute(aE,aF)}}}}}}}}ar.parent=function(){return P};ar.highlight=function(az){if(az instanceof Array){for(var aA=0,aC=az.length;aA<aC;aA++){var aB=az[aA];au(aB,"opacity",1)}}else{au(az,"opacity",1)}};ar.unhighlight=function(aA){if(aA instanceof Array){for(var aB=0,az=aA.length;aB<az;aB++){var aC=aA[aB];au(aC,"opacity",0.4)}}else{au(aA,"opacity",0.4)}};ar.clear=function(az){if(az==null){P.selectAll(".v-datapoint").attr("opacity",1);P.selectAll(".v-lineverticallowwhisker").attr("opacity",1);P.selectAll(".v-lineverticalhighwhisker").attr("opacity",1);P.selectAll(".v-linehorizontallowwhisker").attr("opacity",1);P.selectAll(".v-linehorizontalhighwhisker").attr("opacity",1)}else{P.selectAll(".v-datapoint").attr("opacity",0.4);P.selectAll(".v-lineverticallowwhisker").attr("opacity",0.4);P.selectAll(".v-lineverticalhighwhisker").attr("opacity",0.4);P.selectAll(".v-linehorizontallowwhisker").attr("opacity",0.4);P.selectAll(".v-linehorizontalhighwhisker").attr("opacity",0.4)}P.selectAll(".v-recthighwhisker").attr("opacity",0);P.selectAll(".v-rectlowwhisker").attr("opacity",0)};ar.hoverOnPoint=function(az){var aC=az.x,aA=az.y;var aD=-1;while(aD<ac.length){if(Math.abs(aA-ao.rangeBand()*aD-0.5*ao.rangeBand())<=0.5*ao.rangeBand()){break}aD++}if(aD>(ac.length-1)||aD<0){B.style("visibility","hidden");return}B.attr("y",ao.rangeBand()*aD+G/4).style("visibility","visible");if(am!==aD){if(M){am=aD;var aB=P[0][0].getTransformToElement(P[0][0].ownerSVGElement);var aF=aB.f;var aE=ab(aD);aE.point={x:d3.event.layerX,y:ao.rangeBand()*aD+0.5*ao.rangeBand()+aF};aE.plotArea={x:aB.e,y:aB.f,width:n,height:s};K.showTooltip(b.formatTooltipData(aE))}}};ar.blurOut=function(){B.style("visibility","hidden");am=null;if(M){K.hideTooltip()}};function ap(aC,aE,aA,az,aB){if(aC&&aE<=aA&&aA<aC.length){var aD=subEnd=pos=aE;while(pos<=aA){while(((pos+1)<=aA)&&(aC[pos+1].val==aC[pos].val)){subEnd++;pos++}az.push({val:aC[aD],parentGroupIndex:aB,start:aD,end:subEnd});pos++;aD=subEnd=pos}}}function L(aG){var aF=[];if(aG){var aC=ae.length;var aH=aC>0?ae[aC-1].val:null;if(aH){for(var aD=0,aE=aH.length;aD<aE;aD++){var aB=aH[aD];var az=aB.start;var aA=aB.end;ap(aG,az,aA,aF,aD)}}else{ap(aG,0,aG.length-1,aF,null)}}return aF}function u(aB){if(aB){var aD=aB.getAnalysisAxisDataByIdx(0);aw=aB.getAnalysisAxisDataByIdx(1);if(aD){var az=aD.values.length;if(az==1){ae.push({col:aD.values[0].col.val,val:[]})}else{for(var aA=0;aA<az-1;aA++){var aC=aD.values[aA].rows;ae.push({col:aD.values[aA].col.val,val:L(aC)})}}}}}function Q(aE,aA){var az=ae.length,aC=0,aB=0,aD=ae[az-1].val;while(aD[aB].start!=aE){aB++}while(aD[aB].end!=aA){aC++;aB++}aC++;return aC}function r(){if(ae){var aK=ae.length,aB=null;aB=ae[aK-1].val;if(aB.length==0){ay.push(0);ay.push(1)}else{for(var aI=0,aA=aB.length;aI<aA;aI++){ay.push(aI)}}if(aB.length==0){aj["sap.viz.modules.horizontalboxplot.dimension"].values=[{col:{val:ae[aK-1].col},rows:[]}]}else{var aM=[];for(var aG=0;aG<aK;aG++){var aH={col:{val:""},rows:[]};aH.col.val=ae[aG].col;var aF=ae[aG].val;for(var aE=0,aL=aF.length;aE<aL;aE++){var az=aF[aE].start,aD=aF[aE].end,aJ=Q(az,aD);for(var aC=0;aC<aJ;aC++){aH.rows.push({val:av(aF[aE].val.val),info:aF[aE].val.info})}}aM.push(aH)}aj["sap.viz.modules.horizontalboxplot.dimension"].values=aM}}}function q(aA){t=[];if(F.length>0){for(var az=0;az<aA;++az){t.push(F[az%F.length])}}}function ag(){M=Y.tooltip.enabled;F=Y.colorPalette;Z=Y.drawingEffect}ar.data=function(aJ){if(!arguments.length){return at}C();ag();at=aJ;var aG=h(at);u(at);dataMG1=aG.MG1;var aI=dataMG1.length;var aB=ae[ae.length-1].val;if(aB.length!=0){for(var aH=0,aA=aB.length;aH<aA;aH++){var az=aB[aH].start,aE=aB[aH].end;for(var aF=0;aF<aI;aF++){var aL=[],aD=az,aK=aE;for(;aD<=aK;aD++){if(!j.isNoValue(dataMG1[aF][aD].val)){aL.push(dataMG1[aF][aD])}}ac.push(aL)}}}else{for(var aF=0;aF<aI;aF++){var aL=[];for(var aC=0;aC<dataMG1[aF].length;aC++){if(!j.isNoValue(dataMG1[aF][aC].val)){aL.push(dataMG1[aF][aC])}}ac.push(aL)}}U(ac);r();if(a.isExist(n)&&a.isExist(s)){W()}al();q(p.length);return ar};ar.primaryAxisTitle=function(aA){if(!arguments.length){var aD=at.getMeasureValuesGroupDataByIdx(0),aC=[];if(aD){for(var aB=0,az=aD.values.length;aB<az;aB++){if(aD.values[aB].col!==null&&aD.values[aB].col!==undefined){aC.push(aD.values[aB].col)}else{aC.push(e.get("IDS_ISNOVALUE"))}}}return aC.join("/")}return this};ar.secondAxisTitle=function(aA){if(!arguments.length){var aD=at.getMeasureValuesGroupDataByIdx(1),aC=[];if(aD){for(var aB=0,az=aD.values.length;aB<az;aB++){if(aD.values[aB].col!==null&&aD.values[aB].col!==undefined){aC.push(aD.values[aB].col)}else{aC.push(e.get("IDS_ISNOVALUE"))}}}return aC.join("/")}return this};ar.properties=function(az){if(!arguments.length){return Y}g.extend(true,Y,az);ag();q(p.length);return ar};ar.categoryScale=function(az){if(!arguments.length){return aa}aa=az;return ar};ar.primaryScale=function(az){if(!arguments.length){return J}J=az;return ar};ar.colorPalette=function(az){if(!arguments.length){return F}F=az;return ar};ar.dispatch=function(az){if(!arguments.length){return K}K=az;return this};function D(){an.hoverline=T.styleManager.queryDefault(ax)}D();Y=E.props(null);return ar};return d});sap.riv.module({qname:"sap.viz.modules.manifests.xy.HorizontalBoxplot",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.horizontalboxplot",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Base",version:"4.0.1"}],function Setup(c,b){var a={id:"sap.viz.modules.horizontalboxplot",name:"horizontal boxplot",base:"sap.viz.modules.xy.base",properties:{primaryValuesColorPalette:null,secondaryValuesColorPalette:null,tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."}},isExported:false,description:"Settings for tooltip related properties."}},feeds:{configure:{secondaryValues:null,axisLabels:{acceptMND:-1,min:1,max:1}}},css:{".v-hoverline":{description:"Define style for hover line color.",value:{fill:"#cccccc",}}},fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.HorizontalBoxplotChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.HorizontalBoxplot",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseHorizontalChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"}],function Setup(b){var a={id:"viz/horizontal_boxplot",name:"IDS_HORIZONTALBOXPLOTCHART",base:"riv/basehorizontalchart",modules:{root:{modules:{tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"horizontalboxplot",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction"}},main:{modules:{dataLabel:null,yAxis:{id:"sap.viz.modules.axis",configure:{properties:{isIndependentMode:true}}},plot:{id:"sap.viz.modules.horizontalboxplot",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.yAxis",target:"independentData",sourceModule:"root.main.plot",source:"dimensionData"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.modules.verticalboxplot",version:"4.0.1"},[{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(a,f,h,c,l,j,e,b,g,k){var d=function(E,S){var ax="v-hoverline";var O=null,ad=[],ay=[],ab=[],aw=[],p=[],M=[],N=[],F=[],t=[],at=null;var ai={"sap.viz.modules.verticalboxplot.dimension":{key:"sap.viz.modules.verticalboxplot.dimension",values:null}};var n,s,I=d3.scale.ordinal(),an=d3.scale.linear(),ap=d3.scale.ordinal(),B,ae,al=null,L=true,z={min:0,max:0},R=S.effectManager,Y="normal",Z=e.get("IDS_ISNOVALUE");var X={},J=new f("showTooltip","hideTooltip","initialized");var am={};var G={width:"1",color:"#000000"};var x={width:"0",midLineColor:"#000000"};var m=[],aj=[],U=[],W=[],Q=[],w=[],H=[];var o=["Maximum:","3rd Quartile:","Median:","1st Quartile:","Minimum:"],ac="No value";var V=function(){var aA=[];for(var az=0;az<ab.length;az++){aA.push(az)}I.domain(aA).rangeBands([0,n]);ap.domain(ay).rangeBands([0,n]);if(!z||(z.min===0&&z.max===0)){an.domain([0,1]).range([s,0]).nice()}else{an.domain([z.min,z.max]).range([s,0]).nice()}l.perfect(an)};ar.dimensionData=function(az){if(!arguments.length){return ai}ai=az;return ar};function T(aC){if(a.isExist(aC)){length=aC.length;var az=false;for(var aB=0;aB<length;aB++){if(aC[aB].length>0){if(!az){z=v(aC[aB]);az=true}else{var aA=v(aC[aB]);if(aA){if(aA.min<z.min){z.min=aA.min}if(aA.max>z.max){z.max=aA.max}}}}}}}function v(aA){var az={min:0,max:0};if(a.isExist(aA)){aA.sort(function(aC,aB){return aC.val-aB.val});az={min:aA[0].val,max:aA[aA.length-1].val}}return az}function A(){m=[];aj=[];U=[];W=[];Q=[];w=[];H=[]}function C(){ad=[];ay=[];ab=[];aw=[];p=[];M=[];N=[]}function ag(az){return(az&1)==0}function ah(az,aE,aA){var aD=aA-aE+1;if(aD<=0){return -1}var aB;var aC=az[aE+Math.floor((aD+1)/2)-1].ctx;if(ag(aD)){aB=(az[aE+Math.floor((aD+1)/2)-1].val+az[aE+Math.floor((aD+1)/2)].val)/2}else{aB=az[aE+Math.floor((aD+1)/2)-1].val}return{ctx:aC,val:aB}}function aq(aA){if(aA&&aA.length>0){var aB=aA.length,aF={"Maximum:":null,"3rd Quartile:":null,"Median:":null,"1st Quartile:":null,"Minimum:":null};midLine=ah(aA,0,aB-1);aF["Median:"]=midLine;var aJ=aA[Math.floor(aB/2)];aA[Math.floor(aB/2)]=midLine;var aH=ah(aA,0,Math.floor(aB/2));aA[Math.floor(aB/2)]=aJ;aJ=aA[Math.floor((aB-1)/2)];aA[Math.floor((aB-1)/2)]=midLine;var aI=ah(aA,Math.floor((aB-1)/2),aB-1);aA[Math.floor((aB-1)/2)]=aJ;aF["3rd Quartile:"]=aI;aF["1st Quartile:"]=aH;var aG=aI.val-aH.val;var az=aH.val-1.5*aG;var aK=aI.val+1.5*aG;var aE=0;while(aA[aE].val<az){aE++}lowWhisker=aA[aE];aF["Minimum:"]=lowWhisker;if(lowWhisker){if(aH){if(aH.val!=lowWhisker.val){W.push({pair:[aH,lowWhisker],ctx:[aH.ctx,lowWhisker.ctx],val:[aH.val,lowWhisker.val]})}}}for(var aC=0;aC<aE;aC++){H.push(aA[aC])}var aD=aB-1;while(aA[aD].val>aK){aD--}highWhisker=aA[aD];aF["Maximum:"]=highWhisker;for(var aC=0;aC<aB-aD-1;aC++){H.push(aA[aD+1+aC])}if(H.length>0){aF["outLiers(s)"]=H.length}if(highWhisker){if(aI){if(aI.val!=highWhisker.val){Q.push({pair:[highWhisker,aI],ctx:[highWhisker.ctx,aI.ctx],val:[highWhisker.val,aI.val]})}}}if(aH&&aI&&midLine){if(aH.val==aI.val){w.push({pair:[aH,aH],midLine:null,ctx:[aH.ctx],val:[aH.val]})}else{if(midLine.val==aI.val||midLine.val==aH.val){w.push({pair:[aI,aH],midLine:null,ctx:[aI.ctx,aH.ctx],val:[aI.val,aH.val]})}else{w.push({pair:[aI,midLine],midLine:midLine,ctx:[aI.ctx],val:[aI.val]});w.push({pair:[midLine,aH],midLine:midLine,ctx:[aH.ctx],val:[aH.val]})}}}N.push(aF)}}function ar(az){az.each(function(){k.drawBound(az,n,s);boxNumber=1,boxGroupNumber=ab.length,ae=8*(I.rangeBand())/(9*boxNumber+7);var aA=O=d3.select(this);aA.selectAll("g.v-box").remove();if(B==null){B=aA.append("rect").attr("width",I.rangeBand()-ae/2).attr("height",s).style("visibility","hidden").attr("fill",am.hoverline.fill).attr("class",ax)}else{B.attr("width",I.rangeBand()-ae/2).attr("height",s).style("visibility","hidden")}var aB=aA.selectAll("g.v-box").data(ab);aB.enter().append("g");aB.attr("class","v-box").each(function(aD,aN){if(aD.length==0){N.push({});return}aD=aD.sort(function(aX,aW){return aX.val-aW.val});var aS=aD.length,aQ=aD[0],aR=aD[aS-1];aq(aD);var aP=d3.select(this).selectAll("circle.outliers").data(H);aP.enter().append("circle");aP.attr("cx",function(aX){var aW=I(aN)+ae;return aW}).attr("cy",function(aX,aW){var aY=an(aX.val);return aY}).attr("r","2").attr("stroke",R.register({drawingEffect:"normal",fillColor:G.color})).attr("stroke-width",G.width).attr("fill","none").attr("class","v-datapoint v-outliers");aP.exit().remove();var aU=d3.select(this).selectAll("rect.quartile").data(w);aU.enter().append("rect");aU.attr("x",function(aX){var aW=I(aN)+ae/2;return aW}).attr("y",function(aX,aW){var aY=an(aX.pair[0].val);return aY}).attr("width",ae).attr("height",function(aY,aX){var aW=0;var aZ=aY.pair[1].val-aY.pair[0].val;if(aZ==0){aW=1}else{aW=an(aY.pair[1].val)-an(aY.pair[0].val)}return aW}).attr("shape-rendering","crispEdges").attr("fill",function(aW){var aX={drawingEffect:Y,fillColor:t[aN%t.length],direction:"horizontal"};return R.register(aX)}).attr("stroke-width",x.width).attr("class","v-datapoint v-quartile");if(w.length==2){var aI=I(aN)+ae/2;var aE=aI+ae;var aK=midLineYEnd=an(w[0].midLine.val);var aM=d3.select(this);aM.append("line").attr("x1",aI).attr("y1",aK).attr("x2",aE).attr("y2",midLineYEnd).attr("stroke","#ffffff").attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-midline")}aU.exit().remove();var aJ=0,aL=0,aO=0,aT=0;var aC=0,aG=0,aF=0,aH=0;var aV=d3.select(this).selectAll("rect.v-rectlowwhisker").data(W);aV.enter().append("rect");aV.attr("x",function(aX){var aW=I(aN)+ae/2;aC=aW;aF=aW+ae;aJ=aO=aW+ae/2;return aW}).attr("y",function(aW){var aX=aW.pair;var aY=an(aX[0].val);aL=aY;aG=aH=an(aX[1].val);return aY}).attr("width",ae).attr("height",function(aX){var aW=an(aX.pair[1].val)-an(aX.pair[0].val);aT=an(aX.pair[1].val);var aY=d3.select(this.parentNode);aY.append("line").attr("x1",aJ).attr("y1",aL).attr("x2",aO).attr("y2",aT).attr("stroke",R.register({drawingEffect:"normal",fillColor:"#000000"})).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-lineverticallowwhisker v-innerwhisker");var aY=d3.select(this.parentNode);aY.append("line").attr("x1",aC).attr("y1",aG).attr("x2",aF).attr("y2",aH).attr("stroke",function(aZ){var a0={drawingEffect:"normal",fillColor:t[aN%t.length]};return R.register(a0)}).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-linehorizontallowwhisker");return aW}).attr("shape-rendering","crispEdges").attr("fill-opacity","0").attr("stroke-width","0").attr("class","v-datapoint v-rectlowwhisker");aV.exit().remove();var aJ=0,aL=0,aO=0,aT=0;var aC=0,aG=0,aF=0,aH=0;var aV=d3.select(this).selectAll("rect.v-recthighwhisker").data(Q);aV.enter().append("rect");aV.attr("x",function(aX){var aW=I(aN)+ae/2;aC=aW;aF=aW+ae;aJ=aO=aW+ae/2;return aW}).attr("y",function(aW,aX){var aY=aW.pair;var aZ=an(aY[0].val);aL=aZ;aG=aH=an(aY[0].val);return aZ}).attr("width",ae).attr("height",function(aZ,aY){var aW=an(aZ.pair[1].val)-an(aZ.pair[0].val);aT=aL+aW;var aX=d3.select(this.parentNode);aX.append("line").attr("x1",aJ).attr("y1",aL).attr("x2",aO).attr("y2",aT).attr("stroke",R.register({drawingEffect:"normal",fillColor:"#000000"})).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-lineverticalhighwhisker v-innerwhisker");var aX=d3.select(this.parentNode);aX.append("line").attr("x1",aC).attr("y1",aG).attr("x2",aF).attr("y2",aH).attr("stroke",function(a0){var a1={drawingEffect:"normal",fillColor:t[aN%t.length]};return R.register(a1)}).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","v-linehorizontalhighwhisker");return aW}).attr("shape-rendering","crispEdges").attr("fill-opacity","0").attr("stroke-width","0").attr("class","v-datapoint v-recthighwhisker");aV.exit().remove();A()});J.initialized();aB.exit().remove()});return ar}ar.width=function(az){if(!arguments.length){return n}n=az;if(a.isExist(n)&&a.isExist(s)&&a.isExist(ab)){V()}return ar};ar.height=function(az){if(!arguments.length){return s}s=az;if(a.isExist(n)&&a.isExist(s)&&a.isExist(ab)){V()}return ar};var av=function(az){if(az===null||az===undefined){return Z}else{return az}};function aa(aD){var az={body:[],footer:[]},aE=0;if(p){var aC={name:null,val:[]};aE=aD%p.length;aC.name=p[aE].name;if(p[aE].label!=null&&p[aE].shape!=null&&t[aE]!=null){var aG={shape:null,color:null,label:null,value:null};aG.shape=p[aE].shape;aG.color=t[aE];aG.label=p[aE].label;aC.val.push(aG)}if(N){if(N[aD]){var aH=false;for(var aB in N[aD]){var aG={shape:null,color:null,label:null,value:null};aH=true;aG.label=aB;if(N[aD][aB]){if(aB=="outLiers(s)"){aG.value=N[aD][aB]}else{aG.value=N[aD][aB].val}}aC.val.push(aG)}if(!aH){for(var aA=0;aA<o.length;aA++){var aG={};aG.label=o[aA];aG.value=ac;aG.color=null;aG.shape=null;aC.val.push(aG)}}}}az.body.push(aC)}if(M){aE=Math.floor(aD/p.length);for(var aB=0;aB<M.length;aB++){if(M[aB].rows.length>0){var aF={label:null,value:null};aF.label=M[aB].col;aF.value=M[aB].rows[aE];az.footer.push(aF)}}}return az}function ak(){if(ai){for(var aD in ai){M=ai[aD].values}}if(aw){var aB=aw.values;if(aB.length>1){if(aB[0].type=="MND"){for(var aF=0;aF<aB[0].rows.length;aF++){for(var az=0;az<aB[1].rows.length;az++){var aE={name:null,shape:null,color:null,label:null};aE.name=aB[0].rows[aF];var aC=[];for(var aG=1;aG<aB.length;aG++){aC.push(aB[aG].rows[az])}aE.label=aC;p.push(aE)}}}else{if(aB[aB.length-1].type=="MND"){for(var az=0;az<aB[0].rows.length;az++){var aC=[];for(var aG=0;aG<aB.length-1;aG++){aC.push(aB[aG].rows[az])}for(var aF=0;aF<aB[aB.length-1].rows.length;aF++){var aE={name:null,shape:null,color:null,label:null};aE.label=aC;aE.name=aB[aB.length-1].rows[aF];p.push(aE)}}}}}else{for(var az=0;az<aB[0].rows.length;az++){var aE={name:null,shape:null,color:null,label:null};aE.name=aB[0].rows[az];p.push(aE)}}}for(var aA=0;aA<p.length;aA++){p[aA].shape="squareWithRadius"}}function au(aC,aE,aF){if(aC){var aD=aC.getAttribute("class");if(aD.indexOf("v-recthighwhisker")==-1&&aD.indexOf("v-rectlowwhisker")==-1&&aD.indexOf("v-linehorizontalhighwhisker")==-1&&aD.indexOf("v-lineverticalhighwhisker")==-1&&aD.indexOf("v-linehorizontallowwhisker")==-1&&aD.indexOf("v-lineverticallowwhisker")==-1){aC.setAttribute(aE,aF)}else{if(aD.indexOf("v-recthighwhisker")!=-1){var aB=aC.parentNode.querySelectorAll("line");if(aB){for(var aA=0,aG=aB.length;aA<aG;aA++){var az=aB[aA].getAttribute("class");if(az.indexOf("v-linehorizontalhighwhisker")!=-1||az.indexOf("v-lineverticalhighwhisker")!=-1){aB[aA].setAttribute(aE,aF)}}}}else{if(aD.indexOf("v-rectlowwhisker")!=-1){var aB=aC.parentNode.querySelectorAll("line");if(aB){for(var aA=0,aG=aB.length;aA<aG;aA++){var az=aB[aA].getAttribute("class");if(az.indexOf("v-linehorizontallowwhisker")!=-1||az.indexOf("v-lineverticallowwhisker")!=-1){aB[aA].setAttribute(aE,aF)}}}}}}}}ar.parent=function(){return O};ar.highlight=function(az){if(az instanceof Array){for(var aA=0,aC=az.length;aA<aC;aA++){var aB=az[aA];au(aB,"opacity",1)}}else{au(az,"opacity",1)}};ar.unhighlight=function(aA){if(aA instanceof Array){for(var aB=0,az=aA.length;aB<az;aB++){var aC=aA[aB];au(aC,"opacity",0.4)}}else{au(aA,"opacity",0.4)}};ar.clear=function(az){if(az==null){O.selectAll(".v-datapoint").attr("opacity",1);O.selectAll(".v-lineverticallowwhisker").attr("opacity",1);O.selectAll(".v-lineverticalhighwhisker").attr("opacity",1);O.selectAll(".v-linehorizontallowwhisker").attr("opacity",1);O.selectAll(".v-linehorizontalhighwhisker").attr("opacity",1)}else{O.selectAll(".v-datapoint").attr("opacity",0.4);O.selectAll(".v-lineverticallowwhisker").attr("opacity",0.4);O.selectAll(".v-lineverticalhighwhisker").attr("opacity",0.4);O.selectAll(".v-linehorizontallowwhisker").attr("opacity",0.4);O.selectAll(".v-linehorizontalhighwhisker").attr("opacity",0.4)}O.selectAll(".v-recthighwhisker").attr("opacity",0);O.selectAll(".v-rectlowwhisker").attr("opacity",0)};ar.hoverOnPoint=function(az){var aC=az.x,aA=az.y;var aD=-1;while(aD<ab.length){if(Math.abs(aC-I.rangeBand()*aD-0.5*I.rangeBand())<=0.5*I.rangeBand()){break}aD++}if(aD>(ab.length-1)||aD<0){B.style("visibility","hidden");return}B.attr("x",I.rangeBand()*aD+ae/4).style("visibility","visible");if(al!==aD){if(L){al=aD;var aB=O[0][0].getTransformToElement(O[0][0].ownerSVGElement);var aF=aB.e;var aE=aa(aD);aE.point={x:I.rangeBand()*aD+0.5*I.rangeBand()+aF,y:d3.event.layerY};aE.plotArea={x:aB.e,y:aB.f,width:n,height:s};J.showTooltip(b.formatTooltipData(aE))}}};ar.blurOut=function(){B.style("visibility","hidden");al=null;if(L){J.hideTooltip()}};function ao(aC,aE,aA,az,aB){if(aC&&aE<=aA&&aA<aC.length){var aD=subEnd=pos=aE;while(pos<=aA){while(((pos+1)<=aA)&&(aC[pos+1].val==aC[pos].val)){subEnd++;pos++}az.push({val:aC[aD],parentGroupIndex:aB,start:aD,end:subEnd});pos++;aD=subEnd=pos}}}function K(aG){var aF=[];if(aG){var aC=ad.length;var aH=aC>0?ad[aC-1].val:null;if(aH){for(var aD=0,aE=aH.length;aD<aE;aD++){var aB=aH[aD];var az=aB.start;var aA=aB.end;ao(aG,az,aA,aF,aD)}}else{ao(aG,0,aG.length-1,aF,null)}}return aF}function u(aB){if(aB){var aD=aB.getAnalysisAxisDataByIdx(0);aw=aB.getAnalysisAxisDataByIdx(1);if(aD){var az=aD.values.length;if(az==1){ad.push({col:aD.values[0].col.val,val:[]})}else{for(var aA=0;aA<az-1;aA++){var aC=aD.values[aA].rows;ad.push({col:aD.values[aA].col.val,val:K(aC)})}}}}}function P(aE,aA){var az=ad.length,aC=0,aB=0,aD=ad[az-1].val;while(aD[aB].start!=aE){aB++}while(aD[aB].end!=aA){aC++;aB++}aC++;return aC}function r(){if(ad){var aK=ad.length,aB=null;aB=ad[aK-1].val;if(aB.length==0){ay.push(0);ay.push(1)}else{for(var aI=0,aA=aB.length;aI<aA;aI++){ay.push(aI)}}if(aB.length==0){ai["sap.viz.modules.verticalboxplot.dimension"].values=[{col:{val:ad[aK-1].col},rows:[]}]}else{var aM=[];for(var aG=0;aG<aK;aG++){var aH={col:{val:""},rows:[]};aH.col.val=ad[aG].col;var aF=ad[aG].val;for(var aE=0,aL=aF.length;aE<aL;aE++){var az=aF[aE].start,aD=aF[aE].end,aJ=P(az,aD);for(var aC=0;aC<aJ;aC++){aH.rows.push({val:av(aF[aE].val.val),info:aF[aE].val.info})}}aM.push(aH)}ai["sap.viz.modules.verticalboxplot.dimension"].values=aM}}}function q(aA){t=[];if(F.length>0){for(var az=0;az<aA;++az){t.push(F[az%F.length])}}}function af(){L=X.tooltip.enabled;F=X.colorPalette;Y=X.drawingEffect}ar.data=function(aJ){if(!arguments.length){return at}C();af();at=aJ;var aG=h(at);u(at);dataMG1=aG.MG1;var aI=dataMG1.length;var aB=ad[ad.length-1].val;if(aB.length!=0){for(var aH=0,aA=aB.length;aH<aA;aH++){var az=aB[aH].start,aE=aB[aH].end;for(var aF=0;aF<aI;aF++){var aL=[],aD=az,aK=aE;for(;aD<=aK;aD++){if(!j.isNoValue(dataMG1[aF][aD].val)){aL.push(dataMG1[aF][aD])}}ab.push(aL)}}}else{for(var aF=0;aF<aI;aF++){var aL=[];for(var aC=0;aC<dataMG1[aF].length;aC++){if(!j.isNoValue(dataMG1[aF][aC].val)){aL.push(dataMG1[aF][aC])}}ab.push(aL)}}T(ab);r();if(a.isExist(n)&&a.isExist(s)){V()}ak();q(p.length);return ar};ar.primaryAxisTitle=function(aA){if(!arguments.length){var aD=at.getMeasureValuesGroupDataByIdx(0),aC=[];if(aD){for(var aB=0,az=aD.values.length;aB<az;aB++){if(aD.values[aB].col!==null&&aD.values[aB].col!==undefined){aC.push(aD.values[aB].col)}else{aC.push(e.get("IDS_ISNOVALUE"))}}}return aC.join("/")}return this};ar.secondAxisTitle=function(aA){if(!arguments.length){var aD=at.getMeasureValuesGroupDataByIdx(1),aC=[];if(aD){for(var aB=0,az=aD.values.length;aB<az;aB++){if(aD.values[aB].col!==null&&aD.values[aB].col!==undefined){aC.push(aD.values[aB].col)}else{aC.push(e.get("IDS_ISNOVALUE"))}}}return aC.join("/")}return this};ar.properties=function(az){if(!arguments.length){return X}g.extend(true,X,az);af();q(p.length);return ar};ar.categoryScale=function(az){if(!arguments.length){return ap}ap=az;return ar};ar.primaryScale=function(az){if(!arguments.length){return an}an=az;return ar};ar.colorPalette=function(az){if(!arguments.length){return F}F=az;return ar};ar.dispatch=function(az){if(!arguments.length){return J}J=az;return this};function D(){am.hoverline=S.styleManager.queryDefault(ax)}D();X=E.props(null);return ar};return d});sap.riv.module({qname:"sap.viz.modules.manifests.xy.VerticalBoxplot",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.verticalboxplot",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Base",version:"4.0.1"}],function Setup(c,b){var a={id:"sap.viz.modules.verticalboxplot",name:"vertical boxplot",base:"sap.viz.modules.xy.base",properties:{primaryValuesColorPalette:null,secondaryValuesColorPalette:null,tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."}},isExported:false,description:"Settings for tooltip related properties."}},feeds:{configure:{secondaryValues:null,axisLabels:{acceptMND:-1,min:1,max:1}}},css:{".v-hoverline":{description:"Define style for hover line color.",value:{fill:"#cccccc",}}},fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.VerticalBoxplotChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.VerticalBoxplot",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"}],function Setup(b){var a={id:"viz/boxplot",name:"IDS_VERTICALBOXPLOTCHART",base:"riv/baseverticalchart",modules:{root:{modules:{tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"verticalboxplot",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction"}},main:{modules:{dataLabel:null,xAxis:{id:"sap.viz.modules.axis",configure:{properties:{isIndependentMode:true}}},plot:{id:"sap.viz.modules.verticalboxplot",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.xAxis",target:"independentData",sourceModule:"root.main.plot",source:"dimensionData"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.modules.combination",version:"4.0.1"},[{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.data.MultiAxesDataAdapter",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"},{qname:"sap.viz.modules.util.dataUtil",version:"4.0.1"}],function Setup(g,d,c,l,a,b,m,p,o,k,j,e,n,f){var h=function(D,L){function u(ag){n.drawBound(ag,r,E);X=p();ag.each(function(ah){if(ah!==undefined){T(ah)}J=d3.select(this);w()});ae=false,C=false,af=false,B=false;return u}u.afterUIComponentAppear=function(){q.initialized()};u.width=function(ag){if(!arguments.length){return r}af=(!af&&(ag===r))?false:true;r=ag;if(a.isExist(r)&&a.isExist(E)&&a.isExist(z)){v()}return u};u.height=function(ag){if(!arguments.length){return E}af=(!af&&(ag===E))?false:true;E=ag;if(a.isExist(r)&&a.isExist(E)&&a.isExist(z)){v()}return u};u.size=function(ag){if(!arguments.length){return{width:r,height:E}}r=ag.width;E=ag.height;if(a.isExist(r)&&a.isExist(E)&&a.isExist(z)){v()}return u};u.properties=function(ag){if(!arguments.length){return V()}ad(j.extend(true,V(),ag));T(z,true);return u};u.dataLabel=function(ag){};u.data=function(ag){if(!arguments.length){return z}B=true;ae=false;if(!f().hasSameSchema(z,ag)){ae=true}T(ag);return u};u.primaryAxisTitle=function(ah){if(!arguments.length){var ak=z.getMeasureValuesGroupDataByIdx(0),aj=[];if(ak){for(var ai=0,ag=ak.values.length;ai<ag;ai++){if(ak.values[ai].col!==null&&ak.values[ai].col!==undefined){aj.push(ak.values[ai].col)}else{aj.push(e.get("IDS_ISNOVALUE"))}}}return aj.join("/")}return this};u.secondAxisTitle=function(ah){if(!arguments.length){var ak=z.getMeasureValuesGroupDataByIdx(1),aj=[];if(ak){for(var ai=0,ag=ak.values.length;ai<ag;ai++){if(ak.values[ai].col!==null&&ak.values[ai].col!==undefined){aj.push(ak.values[ai].col)}else{aj.push(e.get("IDS_ISNOVALUE"))}}}return aj.join("/")}return this};u.dispatch=function(ag){if(!arguments.length){return q}q=ag;return u};u.primaryScale=function(ag){if(!arguments.length){return O.scale}O.scale=ag;return u};u.secondaryScale=function(ag){if(!arguments.length){return N.scale}N.scale=ag;return u};u.categoryScale=function(ag){if(!arguments.length){return Q}Q=ag;return u};u.primaryDataRange=function(ag){if(!arguments.length){return{min:O.scale.domain()[0],max:O.scale.domain()[1]}}if(ag!==null){O.topValue=ag.max;O.bottomValue=ag.min;if(ag.from==="axis"){O.manualRange=true}if(a.isExist(r)&&a.isExist(E)){H(O,O.scale)}}return u};u.secondDataRange=function(ag){if(!arguments.length){return{min:N.scale.domain()[0],max:N.scale.domain()[1]}}if(ag!==null){N.topValue=ag.max;N.bottomValue=ag.min;if(ag.from==="axis"){N.manualRange=true}if(a.isExist(r)&&a.isExist(E)){H(N,N.scale)}}return u};u.primaryAxisColor=function(){if(!S.MNDOnCategory){return S.primaryValuesColorPalette[0]}else{return null}};u.secondAxisColor=function(){if(!S.MNDOnCategory){return S.secondaryValuesColorPalette[0]}else{return null}};u.colorPalette=function(ag){if(!arguments.length){return aa}return u};u.shapePalette=function(ag){if(!arguments.length){return R}return u};u.parent=function(){return J};u.clear=function(ag){for(var ah in G){if(ag===undefined){G[ah].module.clear()}else{G[ah].module.clear("grayall")}}};u.highlight=function(al){var ak,ai;var ah;if(al instanceof Array){ah=al}else{ah=[];ah.push(al)}if(ah.length===0){return}for(ak in G){if(G.hasOwnProperty(ak)){G[ak].highlightArray=[]}}for(ak=0;ak<ah.length;ak++){var aj=ah[ak];for(ai in G){if(G.hasOwnProperty(ai)){var ag=G[ai].dataPointElements;if(t(ag,aj)){G[ai].highlightArray.push(aj);break}}}}for(ak in G){if(G.hasOwnProperty(ak)){G[ak].module.highlight(G[ak].highlightArray)}}};u.unhighlight=function(al){var ak,ai;var ah;if(al instanceof Array){ah=al}else{ah=[];ah.push(al)}for(ak in G){if(G.hasOwnProperty(ak)){G[ak].unhighlightArray=[]}}for(ak=0;ak<ah.length;ak++){var aj=ah[ak];for(ai in G){if(G.hasOwnProperty(ai)){var ag=G[ai].dataPointElements;if(t(ag,aj)){G[ai].unhighlightArray.push(aj);break}}}}for(ak in G){if(G.hasOwnProperty(ak)){G[ak].module.unhighlight(G[ak].unhighlightArray)}}};u.hoverOnPoint=function(ag){var aj;if(S.tooltip.enabled){var al=ag.x,ak=ag.y;if(al<0||al>r){return}var ah=ac(al);if(P===ah){return}P=ah;var am=X.generateTooltipData(z,M,ah,aa,R);var ai=J.node().getTransformToElement(J.node().ownerSVGElement);am.point={x:Q.rangeBand()*(ah+0.5)+ai.e,y:E/4+ai.f};q.showTooltip(p.formatTooltipData(am))}for(aj in G){if(G.hasOwnProperty(aj)){G[aj].module.hoverOnPoint(ag)}}return true};u.blurOut=function(){var ag;if(S.tooltip.enabled){q.hideTooltip();P=-1}for(ag in G){if(G.hasOwnProperty(ag)){G[ag].module.blurOut()}}return true};var Q=d3.scale.ordinal(),O={scale:d3.scale.linear()},N={scale:d3.scale.linear()};var Z="v-module";var X;var q=new g("showTooltip","hideTooltip","initialized","startToInit");var r,E;var S={priorityMap:{bar:5,line:0},defaultShape:"line",MNDOnCategory:false,MNDInner:false};var W=L.effectManager;var ae=false,C=true,af=false,B=false;var z,M;var J;var aa,R;var G;var P=-1;var A=function(ag){this.mtype=ag};A.prototype.initialized=function(){K.initialized(this.mtype)};A.prototype.startToInit=function(){q.startToInit()};var K={initialized:function(ah){var ag;if(G[ah]){G[ah].isCompleteAnimation=true}for(ag in G){if(!G[ag].isCompleteAnimation){return true}}q.initialized();return true}};function ab(){G={}}function T(an,av){var ax,aw,ao,ak;if((an===null)||(an===undefined)||(!av&&(z===an))){return}ab();z=an;var aq=l(z);S.MNDInner=aq.MNDInner;O.data=aq.MG1;N.data=aq.MG2;M=p.dataTransform(aq);if(aq.color){var ah=aq.MG1;var am=[];var al=[];for(ax=0;ax<ah.length;ax++){var ag=[];var az=[];var ay=ah[ax];for(aw=0;aw<ay.length;aw++){if(aq.color[aw]===0){ag.push(ay[aw])}else{if(aq.color[aw]===1){az.push(ay[aw])}}}am.push(ag);al.push(az)}O.data=am;N.data=al}if(a.isExist(r)&&a.isExist(E)&&a.isExist(z)){v()}if(aq.hasMND&&!aq.MNDOnColor){ao=S.dataShape.primaryAxis[0];if(ao===undefined||ao===null){ao=S.defaultShape}if(G[ao]===undefined){G[ao]={}}G[ao].data=z;S.MNDOnCategory=true}else{S.MNDOnCategory=false;var au=z.getAnalysisAxisDataByIdx(0);var ar=z.getAnalysisAxisDataByIdx(1);var aj=z.getMeasureValuesGroupDataByIdx(0);var ai=z.getMeasureValuesGroupDataByIdx(1);for(ax=0;ax<aj.values.length;ax++){ao=S.dataShape.primaryAxis[ax];if(ao===undefined||ao===null){ao=S.defaultShape}if(G[ao]===undefined){G[ao]={m1Num:0,m2Num:0}}ak=G[ao];ak.m1Num++;if(ak.data===undefined){ak.data=new m();ak.data.addAnalysisAxis(au);ak.data.addAnalysisAxis(ar);ak.data.addMeasureValuesGroup({index:aj.index,values:[]});if(ai){ak.data.addMeasureValuesGroup({index:ai.index,values:[]})}}var at=ak.data.getMeasureValuesGroupDataByIdx(0);at.values.push(aj.values[ax])}if(ai){for(ax=0;ax<ai.values.length;ax++){ao=S.dataShape.secondAxis[ax];if(ao===undefined||ao===null){ao=S.defaultShape}if(G[ao]===undefined){G[ao]={m1Num:0,m2Num:0}}ak=G[ao];ak.m2Num++;if(ak.data===undefined){ak.data=new m();ak.data.addAnalysisAxis(au);ak.data.addAnalysisAxis(ar);ak.data.addMeasureValuesGroup({index:aj.index,values:[]});if(ai){ak.data.addMeasureValuesGroup({index:ai.index,values:[]})}}var ap=ak.data.getMeasureValuesGroupDataByIdx(1);ap.values.push(ai.values[ax])}}}x()}function x(){var al,ak,aj,ai,at;if(z===undefined){return}var aq=z.getMeasureValuesGroupDataByIdx(0);var ao=z.getMeasureValuesGroupDataByIdx(1);var ap;var ah;if(ao&&!S.MNDOnCategory){ap=S.primaryValuesColorPalette}else{ap=S.colorPalette}ah=S.secondaryValuesColorPalette;aa=[];R=[];for(al in G){if(G.hasOwnProperty(al)){G[al].colorPaletteY1=[];G[al].currentM1Index=-1;if(ao){G[al].colorPaletteY2=[];G[al].currentM2Index=-1}}}if(S.MNDOnCategory){ai=S.dataShape.primaryAxis[0];var au=aq.values[0].rows.length;for(ak=0;ak<au;ak++){G[ai].colorPaletteY1.push(ap[(ak)%ap.length]);R.push(F(ai));aa.push(ap[(ak)%ap.length])}}else{var ar=aq.values.length;var an=0;if(ao){an=ao.values.length}var am=ar+an;var ag=aq.values[0].rows.length;for(al=0;al<ar;al++){ai=S.dataShape.primaryAxis[al];if(ai===undefined||ai===null){ai=S.defaultShape}at=G[ai];at.currentM1Index++;for(ak=0;ak<ag;ak++){if(S.MNDInner){aj=ap[(al+ak*ar)%ap.length];at.colorPaletteY1[at.currentM1Index+ak*at.m1Num]=aj;R[al+ak*am]=F(ai);aa[al+ak*am]=aj}else{aj=ap[(al*ag+ak)%ap.length];G[ai].colorPaletteY1.push(aj);R.push(F(ai));aa.push(aj)}}}if(ao){for(al=0;al<an;al++){ai=S.dataShape.secondAxis[al];if(ai===undefined||ai===null){ai=S.defaultShape}at=G[ai];at.currentM2Index++;for(ak=0;ak<ag;ak++){if(S.MNDInner){aj=ah[(al+ak*an)%ah.length];at.colorPaletteY2[at.currentM2Index+ak*at.m2Num]=aj;R[ar+al+ak*am]=F(ai);aa[ar+al+ak*am]=aj}else{aj=ah[(al*ag+ak)%ah.length];G[ai].colorPaletteY2.push(aj);R.push(F(ai));aa.push(aj)}}}}}}function s(ah,ag){return(S.priorityMap[ag]-S.priorityMap[ah])}function I(){var aj=[],ah;for(ah in G){if(G.hasOwnProperty(ah)){aj.push(ah)}}aj.sort(s);J.selectAll("."+Z).remove();var ag=J.selectAll("."+Z).data(aj);ag.enter().append("svg:g").attr("class",Z);ag.exit().remove();ag.each(function(al){G[al].d3root=d3.select(this)});for(ah in G){if(G.hasOwnProperty(ah)){G[ah].module=U(ah);var ak=false;if(C){ak=S.animation.dataLoading}else{if(B){ak=S.animation.dataUpdating}else{if(af){ak=S.animation.resizing}}}var ai={colorPalette:G[ah].colorPaletteY1,primaryValuesColorPalette:G[ah].colorPaletteY1,tooltip:{enabled:false},animation:{dataLoading:ak},drawingEffect:S.drawingEffect};if(G[ah].colorPaletteY2){ai.secondaryValuesColorPalette=G[ah].colorPaletteY2}switch(ah){case"line":ai.hoverline={visible:false};b.extend(ai,S.line);break;case"bar":b.extend(ai,S.bar);break;default:break}G[ah].props=ai;G[ah].module.dispatch(new A(ah))}}}function w(){var ah;I();for(ah in G){if(G.hasOwnProperty(ah)){var ag=G[ah];ag.module.width(r).height(E).data(ag.data).properties(ag.props).primaryScale(O.scale).categoryScale(Q);var ai=z.getMeasureValuesGroupDataByIdx(1);if(ai){switch(ah){case"bar":ag.module.secondScale(N.scale);break;case"line":ag.module.secondaryScale(N.scale);break;default:break}}ag.d3root.call(ag.module);ag.dataPointElements=[];ag.d3root.selectAll(".v-datapoint").each(function(){ag.dataPointElements.push(this)})}}}function ac(ah){var ag=ah/Q.rangeBand();ag=Math.floor(ag);return ag}function v(){var ai=[];var ag=0;if(S.MNDOnCategory){if(O.data&&O.data.length>0){ag+=O.data[0].length}if(N.data&&N.data.length>0){ag+=N.data[0].length}}else{if(O.data&&O.data.length>0){ag=O.data[0].length}else{ag=N.data[0].length}}for(var ah=0;ah<ag;ah++){ai.push(ah)}Q.domain(ai).rangeBands([0,r]);H(O,O.scale);H(N,N.scale);if(O.data&&O.data.length>0&&N.data&&N.data.length>0){if(O.scale.domain().length===0&&N.scale.domain().length===0){O.scale.domain([0,1]).range([E,0]);N.scale.domain([0,1]).range([E,0])}else{if(O.scale.domain().length===0&&N.scale.domain().length!==0){O.scale.domain(N.scale.domain()).range(N.scale.range())}else{if(O.scale.domain().length!==0&&N.scale.domain().length===0){N.scale.domain(O.scale.domain()).range(O.scale.range())}}}if(!O.manualRange&&!N.manualRange){o.perfectDual(O.scale,N.scale)}else{if(!O.manualRange){o.perfect(O.scale);o.getRoughTickNum(N.scale)}else{if(!N.manualRange){o.perfect(N.scale);o.getRoughTickNum(O.scale)}else{o.getRoughTickNum(O.scale);o.getRoughTickNum(N.scale)}}}}else{if(O.data&&O.data.length>0){if(O.scale.domain().length===0){O.scale.domain([0,1]).range([E,0])}if(!O.manualRange){o.perfect(O.scale)}else{o.getRoughTickNum(O.scale)}}else{if(N.data&&N.data.length>0){if(N.scale.domain().length===0){N.scale.domain([0,1]).range([E,0])}if(!N.manualRange){o.perfect(N.scale)}else{o.getRoughTickNum(N.scale)}}}}}function H(ah,ai){if(ah.data&&ah.data.length>0){if(ah.topValue===undefined){var ag=Y(ah);if(!ag||(ag.min===0&&ag.max===0)){ai.domain([]).range([])}else{ai.domain([ag.min,ag.max]).range([E,0])}}else{ai.domain([ah.bottomValue,ah.topValue]).range([E,0])}}else{ai.domain([0,0]).range(0,0)}}function V(){var ag={};ag.tooltip={enabled:S.tooltip.enabled};ag.primaryValuesColorPalette=S.primaryValuesColorPalette;ag.secondaryValuesColorPalette=S.secondaryValuesColorPalette;ag.colorPalette=S.colorPalette;ag.drawingEffect=S.drawingEffect;ag.animation={};b.extend(true,ag.animation,S.animation);ag.dataShape={};b.extend(true,ag.dataShape,S.dataShape);ag.bar={};b.extend(true,ag.bar,S.bar);ag.line={};b.extend(true,ag.line,S.line);return ag}function ad(ag){S.tooltip={enabled:ag.tooltip.enabled};S.primaryValuesColorPalette=ag.primaryValuesColorPalette;S.secondaryValuesColorPalette=ag.secondaryValuesColorPalette;S.drawingEffect=ag.drawingEffect;S.colorPalette=ag.colorPalette;S.animation={};b.extend(true,S.animation,ag.animation);S.dataShape={};b.extend(true,S.dataShape,ag.dataShape);S.bar={};b.extend(true,S.bar,ag.bar);S.line={};b.extend(true,S.line,ag.line);return S}function U(ah){var ag;switch(ah){case"bar":ag=d.get("sap.viz.modules.verticalbar");break;case"line":ag=d.get("sap.viz.modules.line");break;default:break}return ag.execute(L)}function F(ah){var ag;switch(ah){case"line":ag=S.line.marker.shape;break;case"bar":ag="squareWithRadius";break;default:break}return ag}function t(ah,ag){for(var ai=0;ai<ah.length;ai++){if(ah[ai]===ag){return true}}return false}function Y(ai){if(!ai.data||ai.data.length===0){return null}var ah={min:null,max:null};ah.max=d3.max(ai.data,function(aj){return d3.max(aj,function(ak){return ak.val})});ah.min=d3.min(ai.data,function(aj){return d3.min(aj,function(ak){return ak.val})});if(k.isNoValue(ah.max)){return null}if(ah.min>=0){ah.min=0;ah.max+=ah.max*5/E}else{if(ah.max<=0){ah.max=0;ah.min+=ah.min*5/E}else{var ag=(ah.max-ah.min)*5/E;ah.min-=ag;ah.max+=ag}}return ah}ad(D.props(null));return u};return h});sap.riv.module({qname:"sap.viz.modules.manifests.xy.Combination",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.combination",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Base",version:"4.0.1"}],function Setup(d,b,c){var a={base:"sap.viz.modules.xy.base",id:"sap.viz.modules.combination",name:"combination",properties:{tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."}},isExported:false,description:"Settings for tooltip related properties."},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data loading animation of plot area."},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data updating animation of plot area."},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable resizing animation of plot area."}},description:"Settings for animation of plot area."},dataShape:{name:"dataShape",supportedValueType:"Object",supportedValues:{primaryAxis:{name:"primaryAxis",supportedValueType:"StringArray",supportedValues:["bar","line"],defaultValue:["bar","line","line"],description:"Set shape of measure index1 data."},secondAxis:{name:"secondAxis",supportedValueType:"StringArray",supportedValues:["line","line"],defaultValue:["line","line","line"],description:"Set shape of measure index2 data.",isExported:false}},description:"Set shape of measure data."},bar:{name:"bar",supportedValueType:"Object",supportedValues:{isRoundCorner:{name:"isRoundCorner",supportedValueType:"Boolean",defaultValue:false,description:"Set enable/disable round corner of bar."}},description:"Settings for bar properties."},line:{name:"line",supportedValueType:"Object",supportedValues:{width:{name:"width",supportedValueType:"PositiveInt",defaultValue:2,description:"Set width of line, range[1,7]. When beyond the range, the line width is default size 2."},marker:{name:"marker",description:"Set marker/data point graphics settings.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set to show marker or not."},shape:{name:"shape",supportedValueType:"StringArray",supportedValues:["circle","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"],defaultValue:"circle",description:"Set marker shapes for chart."},size:{name:"size",supportedValueType:"PositiveInt",defaultValue:"6",min:"4",max:"32",description:"Set marker size of data point, range[4,32]. When beyond the range, the marker size is default size 6."}}}},description:"Settings for line properties."}},css:{".v-hoverline":{description:"Define style for hoverline in bar.",value:{fill:"rgba(204,204,204,1)"}}},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.horizontalcombination",version:"4.0.1"},[{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.manifest",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.data.MultiAxesDataAdapter",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"},{qname:"sap.viz.modules.util.dataUtil",version:"4.0.1"}],function Setup(f,m,c,k,a,b,l,p,o,j,h,d,n,e){var g=function(D,L){function u(af){X=p();n.drawBound(af,r,E);af.each(function(ag){if(ag!==undefined){T(ag)}J=d3.select(this);w()});ad=false,C=false,ae=false,B=false;return u}u.width=function(af){if(!arguments.length){return r}ae=(!ae&&(af===r))?false:true;r=af;if(a.isExist(r)&&a.isExist(E)&&a.isExist(z)){v()}return u};u.height=function(af){if(!arguments.length){return E}ae=(!ae&&(af===E))?false:true;E=af;if(a.isExist(r)&&a.isExist(E)&&a.isExist(z)){v()}return u};u.afterUIComponentAppear=function(){q.initialized()};u.size=function(af){if(!arguments.length){return{width:r,height:E}}r=af.width;E=af.height;if(a.isExist(r)&&a.isExist(E)&&a.isExist(z)){v()}return u};u.properties=function(af){if(!arguments.length){return V()}ac(h.extend(true,V(),af));T(z,true);return u};u.dataLabel=function(af){};u.data=function(af){if(!arguments.length){return z}B=true;ad=false;if(!e().hasSameSchema(z,af)){ad=true}T(af);return u};u.primaryAxisTitle=function(ag){if(!arguments.length){var aj=z.getMeasureValuesGroupDataByIdx(0),ai=[];if(aj){for(var ah=0,af=aj.values.length;ah<af;ah++){if(aj.values[ah].col!==null&&aj.values[ah].col!==undefined){ai.push(aj.values[ah].col)}else{ai.push(d.get("IDS_ISNOVALUE"))}}}return ai.join("/")}return this};u.secondAxisTitle=function(ag){if(!arguments.length){var aj=z.getMeasureValuesGroupDataByIdx(1),ai=[];if(aj){for(var ah=0,af=aj.values.length;ah<af;ah++){if(aj.values[ah].col!==null&&aj.values[ah].col!==undefined){ai.push(aj.values[ah].col)}else{ai.push(d.get("IDS_ISNOVALUE"))}}}return ai.join("/")}return this};u.dispatch=function(af){if(!arguments.length){return q}q=af;return u};u.primaryScale=function(af){if(!arguments.length){return O.scale}O.scale=af;return u};u.secondaryScale=function(af){if(!arguments.length){return N.scale}N.scale=af;return u};u.categoryScale=function(af){if(!arguments.length){return Q}Q=af;return u};u.primaryDataRange=function(af){if(!arguments.length){return{min:O.scale.domain()[0],max:O.scale.domain()[1]}}if(af!==null){O.topValue=af.max;O.bottomValue=af.min;if(af.from==="axis"){O.manualRange=true}if(a.isExist(r)&&a.isExist(E)){H(O,O.scale)}}return u};u.secondDataRange=function(af){if(!arguments.length){return{min:N.scale.domain()[0],max:N.scale.domain()[1]}}if(af!==null){N.topValue=af.max;N.bottomValue=af.min;if(af.from==="axis"){N.manualRange=true}if(a.isExist(r)&&a.isExist(E)){H(N,N.scale)}}return u};u.primaryAxisColor=function(){if(!S.MNDOnCategory){return S.primaryValuesColorPalette[0]}else{return null}};u.secondAxisColor=function(){if(!S.MNDOnCategory){return S.secondaryValuesColorPalette[0]}else{return null}};u.colorPalette=function(af){if(!arguments.length){return Z}return u};u.shapePalette=function(af){if(!arguments.length){return R}return u};u.parent=function(){return J};u.clear=function(af){for(var ag in G){if(af===undefined){G[ag].module.clear()}else{G[ag].module.clear("grayall")}}};u.highlight=function(ak){var aj,ah;var ag;if(ak instanceof Array){ag=ak}else{ag=[];ag.push(ak)}if(ag.length===0){return}for(aj in G){if(G.hasOwnProperty(aj)){G[aj].highlightArray=[]}}for(aj=0;aj<ag.length;aj++){var ai=ag[aj];for(ah in G){if(G.hasOwnProperty(ah)){var af=G[ah].dataPointElements;if(t(af,ai)){G[ah].highlightArray.push(ai);break}}}}for(aj in G){if(G.hasOwnProperty(aj)){G[aj].module.highlight(G[aj].highlightArray)}}};u.unhighlight=function(ak){var aj,ah;var ag;if(ak instanceof Array){ag=ak}else{ag=[];ag.push(ak)}for(aj in G){if(G.hasOwnProperty(aj)){G[aj].unhighlightArray=[]}}for(aj=0;aj<ag.length;aj++){var ai=ag[aj];for(ah in G){if(G.hasOwnProperty(ah)){var af=G[ah].dataPointElements;if(t(af,ai)){G[ah].unhighlightArray.push(ai);break}}}}for(aj in G){if(G.hasOwnProperty(aj)){G[aj].module.unhighlight(G[aj].unhighlightArray)}}};u.hoverOnPoint=function(af){var ai;if(S.tooltip.enabled){var ak=af.x,aj=af.y;if(aj<0||aj>E){return}var ag=ab(aj);if(P===ag){return}P=ag;var al=X.generateTooltipData(z,M,ag,Z,R);var ah=J.node().getTransformToElement(J.node().ownerSVGElement);al.point={y:(E-Q.rangeBand()*(ag+0.5))+ah.f,x:r*3/4+ah.e};q.showTooltip(p.formatTooltipData(al))}for(ai in G){if(G.hasOwnProperty(ai)){G[ai].module.hoverOnPoint(af)}}return true};u.blurOut=function(){var af;if(S.tooltip.enabled){q.hideTooltip();P=-1}for(af in G){if(G.hasOwnProperty(af)){G[af].module.blurOut()}}return true};var Q=d3.scale.ordinal(),O={scale:d3.scale.linear()},N={scale:d3.scale.linear()};var X;var q=new f("showTooltip","hideTooltip","initialized","startToInit");var r,E;var S={priorityMap:{bar:5,line:0},defaultShape:"line",MNDOnCategory:false,MNDInner:false};var W=L.effectManager;var ad=false,C=true,ae=false,B=false;var z,M;var J;var Z,R;var G;var P=-1;var A=function(af){this.mtype=af};A.prototype.initialized=function(){K.initialized(this.mtype)};A.prototype.startToInit=function(){q.startToInit()};var K={initialized:function(ag){var af;if(G[ag]){G[ag].isCompleteAnimation=true}for(af in G){if(!G[af].isCompleteAnimation){return true}}q.initialized();return true}};function aa(){G={}}function T(am,au){var aw,av,an,aj;if((am===null)||(am===undefined)||(!au&&(z===am))){return}aa();z=am;var ap=k(z);S.MNDInner=ap.MNDInner;O.data=ap.MG1;N.data=ap.MG2;M=p.dataTransform(ap);if(ap.color){var ag=ap.MG1;var al=[];var ak=[];for(aw=0;aw<ag.length;aw++){var af=[];var ay=[];var ax=ag[aw];for(av=0;av<ax.length;av++){if(ap.color[av]===0){af.push(ax[av])}else{if(ap.color[av]===1){ay.push(ax[av])}}}al.push(af);ak.push(ay)}O.data=al;N.data=ak}if(a.isExist(r)&&a.isExist(E)&&a.isExist(z)){v()}if(ap.hasMND&&!ap.MNDOnColor){an=S.dataShape.primaryAxis[0];if(an===undefined||an===null){an=S.defaultShape}if(G[an]===undefined){G[an]={}}G[an].data=z;S.MNDOnCategory=true}else{S.MNDOnCategory=false;var at=z.getAnalysisAxisDataByIdx(0);var aq=z.getAnalysisAxisDataByIdx(1);var ai=z.getMeasureValuesGroupDataByIdx(0);var ah=z.getMeasureValuesGroupDataByIdx(1);for(aw=0;aw<ai.values.length;aw++){an=S.dataShape.primaryAxis[aw];if(an===undefined||an===null){an=S.defaultShape}if(G[an]===undefined){G[an]={m1Num:0,m2Num:0}}aj=G[an];aj.m1Num++;if(aj.data===undefined){aj.data=new l();aj.data.addAnalysisAxis(at);aj.data.addAnalysisAxis(aq);aj.data.addMeasureValuesGroup({index:ai.index,values:[]});if(ah){aj.data.addMeasureValuesGroup({index:ah.index,values:[]})}}var ar=aj.data.getMeasureValuesGroupDataByIdx(0);ar.values.push(ai.values[aw])}if(ah){for(aw=0;aw<ah.values.length;aw++){an=S.dataShape.secondAxis[aw];if(an===undefined||an===null){an=S.defaultShape}if(G[an]===undefined){G[an]={m1Num:0,m2Num:0}}aj=G[an];aj.m2Num++;if(aj.data===undefined){aj.data=new l();aj.data.addAnalysisAxis(at);aj.data.addAnalysisAxis(aq);aj.data.addMeasureValuesGroup({index:ai.index,values:[]});if(ah){aj.data.addMeasureValuesGroup({index:ah.index,values:[]})}}var ao=aj.data.getMeasureValuesGroupDataByIdx(1);ao.values.push(ah.values[aw])}}}x()}function x(){var ak,aj,ai,ah,ar;if(z===undefined){return}var ap=z.getMeasureValuesGroupDataByIdx(0);var an=z.getMeasureValuesGroupDataByIdx(1);var ao;var ag;if(an&&!S.MNDOnCategory){ao=S.primaryValuesColorPalette}else{ao=S.colorPalette}ag=S.secondaryValuesColorPalette;Z=[];R=[];for(ak in G){if(G.hasOwnProperty(ak)){G[ak].colorPaletteY1=[];G[ak].currentM1Index=-1;if(an){G[ak].colorPaletteY2=[];G[ak].currentM2Index=-1}}}if(S.MNDOnCategory){ah=S.dataShape.primaryAxis[0];var at=ap.values[0].rows.length;for(aj=0;aj<at;aj++){G[ah].colorPaletteY1.push(ao[(aj)%ao.length]);R.push(F(ah));Z.push(ao[(aj)%ao.length])}}else{var aq=ap.values.length;var am=0;if(an){am=an.values.length}var al=aq+am;var af=ap.values[0].rows.length;for(ak=0;ak<aq;ak++){ah=S.dataShape.primaryAxis[ak];if(ah===undefined||ah===null){ah=S.defaultShape}ar=G[ah];ar.currentM1Index++;for(aj=0;aj<af;aj++){if(S.MNDInner){ai=ao[(ak+aj*aq)%ao.length];ar.colorPaletteY1[ar.currentM1Index+aj*ar.m1Num]=ai;R[ak+aj*al]=F(ah);Z[ak+aj*al]=ai}else{ai=ao[(ak*af+aj)%ao.length];G[ah].colorPaletteY1.push(ai);R.push(F(ah));Z.push(ai)}}}if(an){for(ak=0;ak<am;ak++){ah=S.dataShape.secondAxis[ak];if(ah===undefined||ah===null){ah=S.defaultShape}ar=G[ah];ar.currentM2Index++;for(aj=0;aj<af;aj++){if(S.MNDInner){ai=ag[(ak+aj*am)%ag.length];ar.colorPaletteY2[ar.currentM2Index+aj*ar.m2Num]=ai;R[aq+ak+aj*al]=F(ah);Z[aq+ak+aj*al]=ai}else{ai=ag[(ak*af+aj)%ag.length];G[ah].colorPaletteY2.push(ai);R.push(F(ah));Z.push(ai)}}}}}}function s(ag,af){return(S.priorityMap[af]-S.priorityMap[ag])}function I(){var ai=[],ag;for(ag in G){if(G.hasOwnProperty(ag)){ai.push(ag)}}ai.sort(s);J.selectAll(".module").remove();var af=J.selectAll(".module").data(ai);af.enter().append("svg:g").attr("class","module");af.exit().remove();af.each(function(ak){G[ak].d3root=d3.select(this)});for(ag in G){if(G.hasOwnProperty(ag)){G[ag].module=U(ag);var aj=false;if(C){aj=S.animation.dataLoading}else{if(B){aj=S.animation.dataUpdating}else{if(ae){aj=S.animation.resizing}}}var ah={colorPalette:G[ag].colorPaletteY1,primaryValuesColorPalette:G[ag].colorPaletteY1,tooltip:{enabled:false},animation:{dataLoading:aj},drawingEffect:S.drawingEffect};if(G[ag].colorPaletteY2){ah.secondaryValuesColorPalette=G[ag].colorPaletteY2}switch(ag){case"line":ah.hoverline={visible:false};b.extend(ah,S.line);break;case"bar":b.extend(ah,S.bar);break;default:break}G[ag].props=ah;G[ag].module.dispatch(new A(ag))}}}function w(){var ag;I();for(ag in G){if(G.hasOwnProperty(ag)){var af=G[ag];af.module.width(r).height(E).data(af.data).properties(af.props).primaryScale(O.scale).categoryScale(Q);var ah=z.getMeasureValuesGroupDataByIdx(1);if(ah){switch(ag){case"bar":af.module.secondScale(N.scale);break;case"line":af.module.secondaryScale(N.scale);break;default:break}}af.d3root.call(af.module);af.dataPointElements=[];af.d3root.selectAll(".v-datapoint").each(function(){af.dataPointElements.push(this)})}}}function ab(ah){var af=Q.domain().length;var ag=ah/Q.rangeBand();ag=Math.floor(ag);return af-1-ag}function v(){var ah=[];var af=0;if(S.MNDOnCategory){if(O.data&&O.data.length>0){af+=O.data[0].length}if(N.data&&N.data.length>0){af+=N.data[0].length}}else{if(O.data&&O.data.length>0){af=O.data[0].length}else{af=N.data[0].length}}for(var ag=0;ag<af;ag++){ah.push(ag)}Q.domain(ah).rangeBands([E,0]);H(O,O.scale);H(N,N.scale);if(O.data&&O.data.length>0&&N.data&&N.data.length>0){if(O.scale.domain().length===0&&N.scale.domain().length===0){O.scale.domain([0,1]).range([0,r]);N.scale.domain([0,1]).range([0,r])}else{if(O.scale.domain().length===0&&N.scale.domain().length!==0){O.scale.domain(N.scale.domain()).range(N.scale.range())}else{if(O.scale.domain().length!==0&&N.scale.domain().length===0){N.scale.domain(O.scale.domain()).range(O.scale.range())}}}if(!O.manualRange&&!N.manualRange){o.perfectDual(O.scale,N.scale)}else{if(!O.manualRange){o.perfect(O.scale);o.getRoughTickNum(N.scale)}else{if(!N.manualRange){o.perfect(N.scale);o.getRoughTickNum(O.scale)}else{o.getRoughTickNum(O.scale);o.getRoughTickNum(N.scale)}}}}else{if(O.data&&O.data.length>0){if(O.scale.domain().length===0){O.scale.domain([0,1]).range([0,r])}if(!O.manualRange){o.perfect(O.scale)}else{o.getRoughTickNum(O.scale)}}else{if(N.data&&N.data.length>0){if(N.scale.domain().length===0){N.scale.domain([0,1]).range([0,r])}if(!N.manualRange){o.perfect(N.scale)}else{o.getRoughTickNum(N.scale)}}}}}function H(ag,ah){if(ag.data&&ag.data.length>0){if(ag.topValue===undefined){var af=Y(ag);if(!af||(af.min===0&&af.max===0)){ah.domain([]).range([])}else{ah.domain([af.min,af.max]).range([0,r])}}else{ah.domain([ag.bottomValue,ag.topValue]).range([0,r])}}else{ah.domain([0,0]).range(0,0)}}function V(){var af={};af.tooltip={enabled:S.tooltip.enabled};af.primaryValuesColorPalette=S.primaryValuesColorPalette;af.secondaryValuesColorPalette=S.secondaryValuesColorPalette;af.colorPalette=S.colorPalette;af.drawingEffect=S.drawingEffect;af.animation={};b.extend(true,af.animation,S.animation);af.dataShape={};b.extend(true,af.dataShape,S.dataShape);af.bar={};b.extend(true,af.bar,S.bar);af.line={};b.extend(true,af.line,S.line);return af}function ac(af){S.tooltip={enabled:af.tooltip.enabled};S.primaryValuesColorPalette=af.primaryValuesColorPalette;S.secondaryValuesColorPalette=af.secondaryValuesColorPalette;S.drawingEffect=af.drawingEffect;S.colorPalette=af.colorPalette;S.animation={};b.extend(true,S.animation,af.animation);S.dataShape={};b.extend(true,S.dataShape,af.dataShape);S.bar={};b.extend(true,S.bar,af.bar);S.line={};b.extend(true,S.line,af.line);return S}function U(ag){var af;switch(ag){case"bar":af=m.module.get("sap.viz.modules.bar");break;case"line":af=m.module.get("sap.viz.modules.horizontalline");break;default:break}return af.fn(af,L)}function F(ag){var af;switch(ag){case"line":af=S.line.marker.shape;break;case"bar":af="squareWithRadius";break;default:break}return af}function t(ag,af){for(var ah=0;ah<ag.length;ah++){if(ag[ah]===af){return true}}return false}function Y(ah){if(!ah.data||ah.data.length===0){return null}var ag={min:null,max:null};ag.max=d3.max(ah.data,function(ai){return d3.max(ai,function(aj){return aj.val})});ag.min=d3.min(ah.data,function(ai){return d3.min(ai,function(aj){return aj.val})});if(j.isNoValue(ag.max)){return null}if(ag.min>=0){ag.min=0;ag.max+=ag.max*5/r}else{if(ag.max<=0){ag.max=0;ag.min+=ag.min*5/r}else{var af=(ag.max-ag.min)*5/r;ag.min-=af;ag.max+=af}}return ag}ac(D.props(null));return u};return g});sap.riv.module({qname:"sap.viz.modules.manifests.xy.HorizontalCombination",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.horizontalcombination",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Combination",version:"4.0.1"}],function Setup(c,b){var a={base:"sap.viz.modules.combination",id:"sap.viz.modules.horizontalcombination",name:"horizontalcombination",fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.modules.line",version:"4.0.1"},[{qname:"sap.viz.modules.util.dataUtil",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.BoundingBox",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.util.DrawUtil",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.base.UADetector",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(f,g,j,a,q,d,n,k,e,m,p,l,b,h,c,o){return function(N,aa){var D="v-marker-selected",ay="v-marker-hover",E="v-datapoint";var r,u;var V=null,ae;var ac=b.guid();var w=null;var an;var ai="#FFFFFF";var ad="#cccccc";var ag="#333333";var Q=d3.scale.ordinal();var aq;var am;var av;var Z,v,G;var R=new g("showTooltip","hideTooltip","initialized","startToInit");var M;var ah;var U;var Y=aa.effectManager;var X={data:[],scale:d3.scale.linear(),colorPalette:null,selectedMarkers:null,markers:[],bottomValue:null,topValue:null,highLines:[]};var A={data:[],scale:d3.scale.linear(),colorPalette:null,selectedMarkers:null,markers:[],bottomValue:null,topValue:null,highLines:[]};var O=[];var al="v-axis1";var ak="v-axis2";var aj=false;var aw=false,J=true,aA=false,F=false;var au=0;var s=null;var aB;var W=0.4;function P(){var aC=false;if(J){aC=ae.animation.dataLoading}else{if(F){aC=ae.animation.dataUpdating}else{if(aA){aC=ae.animation.resizing}}}return aC}function H(aC){o.drawBound(aC,r,u);an=p();K(aC);aw=false,J=false,aA=false,F=false;return H}function ap(aE){var aD={min:null,max:null};if(!aE.data||aE.data.length===0){return}aD.max=Number(d3.max(aE.data,function(aF){return d3.max(aF,function(aG){return aG.val})}));aD.min=Number(d3.min(aE.data,function(aF){return d3.min(aF,function(aG){return aG.val})}));if(k.isNoValue(aD.max)){return null}if(aD.min>=0){aD.min=0;aD.max+=aD.max*5/u}else{if(aD.max<=0){aD.max=0;aD.min+=aD.min*5/u}else{var aC=(aD.max-aD.min)*5/u;aD.min-=aC;aD.max+=aC}}return aD}function t(){O=[];var aG=0,aF=0;if(A.data&&A.data.length>0){X.colorPalette=ae.primaryValuesColorPalette}else{X.colorPalette=ae.colorPalette}A.colorPalette=ae.secondaryValuesColorPalette;if(M&&ah&&U){var aJ=V.getMeasureValuesGroupDataByIdx(0);var aI=V.getMeasureValuesGroupDataByIdx(1);var aH=0,aE=0,aD=0,aC=0;if(aJ&&aJ.values.length>0){aH=aJ.values.length;aC=aJ.values[0].rows.length}if(aI&&aI.values.length>0){aE=aI.values.length;aC=aI.values[0].rows.length}for(aG=0;aG<aC;aG++){for(aF=0;aF<aH;aF++){O.push(X.colorPalette[aG*aH+aF%X.colorPalette.length])}for(aF=0;aF<aE;aF++){O.push(A.colorPalette[aG*aE+aF%A.colorPalette.length])}}}else{for(aG=0;aG<X.data.length;++aG){O.push(X.colorPalette[aG%X.colorPalette.length])}if(A.data&&A.data.length>0){for(aG=0;aG<A.data.length;++aG){O.push(A.colorPalette[aG%A.colorPalette.length])}}}}function T(aD){if(aD.data&&aD.data.length>0){if(aD.topValue===null||aD.topValue===undefined){var aC=ap(aD);if(!aC||(aC.min===0&&aC.max===0)){aD.scale.domain([]).range([])}else{aD.scale.domain([aC.min,aC.max]).range([u,0])}}else{aD.scale.domain([aD.bottomValue,aD.topValue]).range([u,0])}}else{aD.scale.domain([0,0]).range([0,0])}return aD.scale}function z(){var aE=[];var aC=0;if(X.data.length!==0){aC=X.data[0].length}else{aC=A.data[0].length}for(var aD=0;aD<aC;aD++){aE.push(aD)}Q.domain(aE).rangeBands([0,r]);T(X);T(A);if(X.data&&X.data.length>0&&A.data&&A.data.length>0){if(X.scale.domain().length===0&&A.scale.domain().length===0){X.scale.domain([0,1]).range([u,0]);A.scale.domain([0,1]).range([u,0])}else{if(X.scale.domain().length===0&&A.scale.domain().length!==0){X.scale.domain(A.scale.domain()).range(A.scale.range())}else{if(X.scale.domain().length!==0&&A.scale.domain().length===0){A.scale.domain(X.scale.domain()).range(X.scale.range())}}}if(!X.manualRange&&!A.manualRange){q.perfectDual(X.scale,A.scale)}else{if(!X.manualRange){q.perfect(X.scale);q.getRoughTickNum(A.scale)}else{if(!A.manualRange){q.perfect(A.scale);q.getRoughTickNum(X.scale)}else{q.getRoughTickNum(X.scale);q.getRoughTickNum(A.scale)}}}}else{if(X.data&&X.data.length>0){if(X.scale.domain().length===0){X.scale.domain([0,1]).range([u,0])}if(!X.manualRange){q.perfect(X.scale)}else{q.getRoughTickNum(X.scale)}}else{if(A.data&&A.data.length>0){if(A.scale.domain().length===0){A.scale.domain([0,1]).range([u,0])}if(!A.manualRange){q.perfect(A.scale)}else{q.getRoughTickNum(A.scale)}}}}}function az(aE,aF,aD){if(aE===undefined||aE===null){return}var aC=0;for(aC=0;aC<X.data.length;++aC){if(!X.selectedMarkers[aC][aE]){af(aC,aE,aD,X);if(!ae.marker.visible){if(au>0){d3.select(X.markers[aC][aE]).attr("opacity",W).attr("visibility",aF)}else{d3.select(X.markers[aC][aE]).attr("opacity",1).attr("visibility",aF)}}}}if(!A.data){return}for(aC=0;aC<A.data.length;++aC){if(!A.selectedMarkers[aC][aE]){af(aC,aE,aD,A);if(!ae.marker.visible){if(au>0){d3.select(A.markers[aC][aE]).attr("opacity",W).attr("visibility",aF)}else{d3.select(A.markers[aC][aE]).attr("opacity",1).attr("visibility",aF)}}}}}function af(aD,aC,aE,aG){var aF="transparent";if(aE===ay){aF=ai}else{if(aE===D){aF=ag}}d3.select(aG.markers[aD][aC]).attr("class",E+" "+aE).attr("stroke",aF)}function at(aE){var aD=aE/Q.rangeBand();aD=Math.floor(aD);var aC=0;if(X.data.length!==0){aC=X.data[0].length}else{aC=A.data[0].length}if(aD>aC-1){aD=aC-1}if(aD<0){aD=0}return aD}function ab(aJ,aD){var aC=false,aI,aE;for(var aH=0;aH<aJ.markers.length&&!aC;aH++){var aG=aJ.markers[aH];for(var aF=0;aF<aG.length&&!aC;aF++){if(aG[aF]===aD){aC=true;aI=aH;aE=aF}}}if(!aC){return false}if(aJ.selectedMarkers[aI][aE]){return true}af(aI,aE,D,aJ);d3.select(aJ.markers[aI][aE]).attr("opacity",1).attr("visibility","visible");aJ.selectedMarkers[aI][aE]=true;if(aE>0&&aJ.selectedMarkers[aI][aE-1]){aJ.highLines[aI][aE-1].attr("visibility","visible")}if(aE<aJ.highLines[0].length&&aJ.selectedMarkers[aI][aE+1]){aJ.highLines[aI][aE].attr("visibility","visible")}++au}function C(aJ,aD){var aE=am;var aC=false,aI;for(var aH=0;aH<aJ.markers.length&&!aC;aH++){var aG=aJ.markers[aH];for(var aF=0;aF<aG.length&&!aC;aF++){if(aG[aF]===aD){aC=true;aI=aH;aE=aF}}}if(!aC){return false}if(!aJ.selectedMarkers[aI][aE]){return true}if(aE===am){af(aI,aE,ay,aJ)}else{af(aI,aE,"",aJ)}d3.select(aJ.markers[aI][aE]).attr("opacity",W);if(!ae.marker.visible&&aE!==am){d3.select(aJ.markers[aI][aE]).attr("visibility","hidden")}aJ.selectedMarkers[aI][aE]=false;if(aE>0&&aJ.selectedMarkers[aI][aE-1]){aJ.highLines[aI][aE-1].attr("visibility","hidden")}if(aE<aJ.highLines[0].length&&aJ.selectedMarkers[aI][aE+1]){aJ.highLines[aI][aE].attr("visibility","hidden")}--au}function B(aJ){var aD={data:[],color:[]};var aC=[];var aE;var aI;for(var aH=0;aH<aJ.length;++aH){var aG=0;for(var aF=0;aF<aJ[aH].length;++aF){if(k.isNoValue(aJ[aH][aF].val)){if(aF>aG){aC=[];for(aE=aG;aE<aF;aE++){aI=aJ[aH][aE];aI.x=aE;aC.push(aI)}aD.data.push(aC);aD.color.push(aH)}aG=aF+1}}if(aG<aJ[aH].length){aC=[];for(aE=aG;aE<aJ[aH].length;aE++){aI=aJ[aH][aE];aI.x=aE;aC.push(aI)}aD.data.push(aC);aD.color.push(aH)}}return aD}function L(aC,aI){if(!aC.data||aC.data.length===0){return}var aG=v.select("g."+aI);if(aG.empty()){aG=v.append("svg:g").attr("class",aI)}aC.selectedMarkers=new Array(aC.data.length);aC.markers=[];var aN=B(aC.data);var aL=aG.selectAll(".v-lines").data(aN.data);aL.enter().append("path").attr("class","v-lines").attr("stroke-width",ae.width).attr("stroke-linejoin","round");aL.exit().remove();aL.attr("stroke-width",ae.width);var aM=d3.svg.line().x(function(aP,aO){return Q(aP.x)+Q.rangeBand()/2}).y(function(aO){return k.isNoValue(aC.scale(aO.val))?null:aC.scale(aO.val)});aL.attr("transform",function(aP,aO){d3.select(this).attr("d",aM(aP)).attr("stroke",function(){var aQ={graphType:"line",fillColor:aC.colorPalette[aN.color[aO]%aC.colorPalette.length]};return Y.register(aQ)})});var aD=G.selectAll("g."+aI);if(aD.empty()){aD=G.append("svg:g").attr("class",aI)}var aE=aD.selectAll("g").data(aC.data);aE.enter().append("g");aE.exit().remove();aC.highLines=[];aE.attr("transform",function(aQ,aP){d3.select(this).selectAll(".v-lightLine").remove();aC.highLines.push([]);for(var aO=1;aO<aQ.length;++aO){if(k.isNoValue(aQ[aO].val)||k.isNoValue(aQ[aO-1].val)||k.isNoValue(aC.scale(aQ[aO].val))||k.isNoValue(aC.scale(aQ[aO-1].val))){aC.highLines[aP].push(null)}else{aC.highLines[aP].push(d3.select(this).append("svg:line").attr("class","v-lightLine").attr("x1",Q(aO-1)+Q.rangeBand()/2).attr("y1",aC.scale(aQ[aO-1].val)).attr("x2",Q(aO)+Q.rangeBand()/2).attr("y2",aC.scale(aQ[aO].val)).attr("stroke-width",ae.width).attr("stroke",aC.colorPalette[aP%aC.colorPalette.length]).attr("visibility","hidden"))}}});for(var aH=0;aH<aC.data.length;++aH){aC.selectedMarkers[aH]=[];for(var aJ=0;aJ<aC.data[0].length;++aJ){aC.selectedMarkers[aH][aJ]=false}}var aK=Z.select("g."+aI);if(aK.empty()){aK=Z.append("svg:g").attr("class",aI)}aE=aK.selectAll("g.v-marker").data(aC.data);aE.enter().append("svg:g").attr("class","v-marker");aE.exit().remove();var aF="hidden";if(ae&&ae.marker&&ae.marker.visible){aF="visible"}aE.attr("transform",function(aS,aP){var aR=d3.select(this).selectAll(".v-datashape").data(aS);var aQ=aR.enter().append("g").attr("class","v-datashape");m.createElements(aQ,{shape:ae.marker.shape,className:E});aR.exit().remove();var aO=[];aR.attr("transform",function(aT,aU){if(k.isNoValue(aT.val)){d3.select(this).remove();aO.push(null);return}aO.push(d3.select(this).selectAll("path").node());var aV={drawingEffect:ae.drawingEffect,graphType:ae.marker.shape,fillColor:aC.colorPalette[aP%aC.colorPalette.length],direction:"vertical",rx:ae.marker.size/2,ry:ae.marker.size/2,borderWidth:2,borderColor:ae.style.marker.stroke,node:d3.select(this).select("path"),visibility:aF};m.drawGraph(aV,Y);return"translate("+(Q(aU)+Q.rangeBand()/2)+","+aC.scale(aT.val)+")"});aC.markers.push(aO)})}function ar(aF,aC){if(au===0||!aF.selectedMarkers||aF.selectedMarkers.length===0){return}for(var aD=0;aD<aF.selectedMarkers.length;++aD){for(var aE=0;aE<aF.selectedMarkers[0].length;++aE){if(!aF.selectedMarkers[aD][aE]){continue}if(aE===aC){af(aD,aE,ay,aF);if(!ae.marker.visible){d3.select(aF.markers[aD][aE]).attr("opacity",W).attr("visibility","visible")}}else{af(aD,aE,"",aF);if(!ae.marker.visible){d3.select(aF.markers[aD][aE]).attr("visibility","hidden")}}aF.selectedMarkers[aD][aE]=false}}}function ao(){var aD=(d3.event?d3.event.clientX:0)-av.node().getBoundingClientRect().left;var aC=at(aD);ar(X,aC);ar(A,aC);au=0}function K(aD){s=aD;I();R.startToInit();if(!av){av=aD.append("svg:g")}if(!aq){aq=av.append("svg:line").attr("stroke",ad).attr("class","v-hoverline viz-plot-hoverline")}aq.attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",u).attr("stroke-width",1).attr("visibility","hidden").attr("stroke-linejoin","round");if(!v){v=av.append("svg:g").attr("class","v-datalines");G=av.append("svg:g").attr("class","v-lightLines");Z=av.append("svg:g").attr("class","v-markers v-datashapesgroup")}au=0;x();if(!aB){aB=av.append("svg:defs").append("svg:clipPath").attr("id","clip1_"+ac).append("rect")}aB.attr("x",0).attr("y",0).attr("height",u).attr("width",(P()?0:r));Z.attr("clip-path","url(#clip1_"+ac+")").attr("fill","none");v.attr("clip-path","url(#clip1_"+ac+")").attr("fill","none");G.attr("clip-path","url(#clip1_"+ac+")").attr("fill","none");L(X,al);L(A,ak);if(P()){aj=true;var aF=0;var aC=r/50;var aE=setInterval(function(aG){if(aF>=r){clearInterval(aE);R.initialized()}else{aF+=aC;aB.attr("width",aF)}},20)}else{R.initialized();aB.attr("width",r)}}function x(){G.selectAll("g."+al).selectAll(".v-lightLine").attr("visibility","hidden");G.selectAll("g."+ak).selectAll(".v-lightLine").attr("visibility","hidden");v.attr("opacity",1);if(c.isIE()){v.selectAll(".v-lines").attr("visibility","visible")}Z.selectAll("g."+al).selectAll("g.v-marker").selectAll("."+E).attr("opacity",1);Z.selectAll("g."+ak).selectAll("g.v-marker").selectAll("."+E).attr("opacity",1)}function S(){G.selectAll("g."+al).selectAll(".v-lightLine").attr("visibility","hidden");G.selectAll("g."+ak).selectAll(".v-lightLine").attr("visibility","hidden");v.attr("opacity",W);if(c.isIE()){v.selectAll(".v-lines").attr("visibility","visible")}Z.selectAll("g."+al).selectAll("g.v-marker").selectAll("."+E).attr("opacity",W);Z.selectAll("g."+ak).selectAll("g.v-marker").selectAll("."+E).attr("opacity",W)}function I(){if(!ae.style){ae.style={}}var aC;if(!ae.style.marker){ae.style.marker={}}ae.style.marker.stroke="transparent";aC=aa.styleManager.queryDefault("v-hoverline");if(aC){if(aC.stroke){ad=aC.stroke}}}function ax(){X.topValue=null;X.bottomValue=null;A.topValue=null;A.bottomValue=null}H.afterUIComponentAppear=function(){R.initialized()};H.width=function(aC){if(!arguments.length){return r}aA=(!aA&&(aC===r))?false:true;r=aC;if(a.isExist(r)&&a.isExist(u)&&a.isExist(V)){z()}return H};H.height=function(aC){if(!arguments.length){return u}aA=(!aA&&(aC===u))?false:true;u=aC;if(a.isExist(r)&&a.isExist(u)&&a.isExist(V)){z()}return H};H.properties=function(aC){if(!arguments.length){return ae}h.extend(true,ae,aC);if(ae.marker.size<4||ae.marker.size>32){ae.marker.size=6}if(ae.width<1||ae.width>7){ae.width=2}t();return H};H.primaryAxisColor=function(){if(A.data&&A.data.length>0){return Y.register({graphType:"line",fillColor:X.colorPalette[0]})}else{return null}};H.secondAxisColor=function(){return Y.register({graphType:"line",fillColor:A.colorPalette[0]})};H.dispatch=function(aC){if(!arguments.length){return R}R=aC;return H};H.data=function(aC){if(!arguments.length){return V}F=true;aw=false;if(!f().hasSameSchema(V,aC)){aw=true}V=aC;var aD=j(V);X.data=aD.MG1;A.data=aD.MG2;ax();M=aD.hasMND;ah=aD.MNDOnColor;U=aD.MNDInner;w=p.dataTransform(aD);if(a.isExist(r)&&a.isExist(u)&&a.isExist(V)){z()}t();return H};H.dataLabel=function(aC){};H.primaryAxisTitle=function(aD){if(!arguments.length){var aG=V.getMeasureValuesGroupDataByIdx(0),aF=[];if(aG){for(var aE=0,aC=aG.values.length;aE<aC;aE++){if(aG.values[aE].col!==null&&aG.values[aE].col!==undefined){aF.push(aG.values[aE].col)}else{aF.push(e.get("IDS_ISNOVALUE"))}}}return aF.join("/")}return this};H.secondAxisTitle=function(aD){if(!arguments.length){var aG=V.getMeasureValuesGroupDataByIdx(1),aF=[];if(aG){for(var aE=0,aC=aG.values.length;aE<aC;aE++){if(aG.values[aE].col!==null&&aG.values[aE].col!==undefined){aF.push(aG.values[aE].col)}else{aF.push(e.get("IDS_ISNOVALUE"))}}}return aF.join("/")}return this};H.getColorPalette=function(){if(O.length===0){t()}return O};H.shapePalette=function(){if(!arguments.length){return[ae.marker.shape]}return H};H.primaryScale=function(aC){if(!arguments.length){return X.scale}X.scale=aC;return H};H.secondaryScale=function(aC){if(!arguments.length){return A.scale}A.scale=aC;return H};H.categoryScale=function(aC){if(!arguments.length){return Q}Q=aC;return H};H.primaryDataRange=function(aC){if(!arguments.length){return{min:X.scale.domain()[0],max:X.scale.domain()[1]}}if(aC!==null){X.topValue=aC.max;X.bottomValue=aC.min;if(aC.from==="axis"){X.manualRange=true}if(a.isExist(r)&&a.isExist(u)){T(X)}}return H};H.secondDataRange=function(aC){if(!arguments.length){return{min:A.scale.domain()[0],max:A.scale.domain()[1]}}if(aC!==null){A.topValue=aC.max;A.bottomValue=aC.min;if(aC.from==="axis"){A.manualRange=true}if(a.isExist(r)&&a.isExist(u)){T(A)}}return H};H.parent=function(){return s};H.size=function(aC,aD){if(arguments.length===0){return{width:H.width(),height:H.height()}}H.width(aC).height(aD);return H};H.clear=function(aC){ao();if(aC===null||aC===undefined){x()}else{S()}};H.highlight=function(aF){var aD;if(aF instanceof Array){aD=aF}else{aD=[];aD.push(aF)}for(var aE=0;aE<aD.length;aE++){var aC=aD[aE];if(!ab(X,aC)){ab(A,aC)}}};H.unhighlight=function(aF){var aD;if(aF instanceof Array){aD=aF}else{aD=[];aD.push(aF)}for(var aE=0;aE<aD.length;aE++){var aC=aD[aE];if(!C(X,aC)){C(A,aC)}}};H.hoverOnPoint=function(aC){var aG=aC.x,aF=aC.y;if(aG<0||aG>r){return}var aD=at(aG);if(am===aD){return}var aJ=Q(aD)+Q.rangeBand()/2;az(am,"hidden","");az(aD,"visible",ay);am=aD;if(ae.hoverline.visible){aq.attr("x1",aJ).attr("x2",aJ);aq.attr("visibility","visible")}else{aq.attr("visibility","hidden")}if(ae.tooltip.enabled){var aI={};var aE=av.node().getTransformToElement(av.node().ownerSVGElement);aI.x=Q(aD)+Q.rangeBand()/2+aE.e;aI.y=u/4+aE.f;var aH=an.generateTooltipData(V,w,aD,O,[ae.marker.shape]);aH.point=aI;aH.plotArea={x:aE.e,y:aE.f,width:r,height:u};R.showTooltip(p.formatTooltipData(aH))}};H.blurOut=function(){aq.attr("visibility","hidden");az(am,"hidden",E);am=null;if(ae.tooltip.enabled){R.hideTooltip()}};ae=N.props(null);return H}});sap.riv.module({qname:"sap.viz.modules.manifests.xy.Line",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.line",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Base",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.line",name:"line",base:"sap.viz.modules.xy.base",properties:{tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."}},isExported:false,description:"Settings for tooltip related properties."},width:{name:"width",supportedValueType:"PositiveInt",defaultValue:2,min:"1",max:"7",description:"Set width of line, range[1,7]. When beyond the range, the line width is default size 2."},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data loading animation of plot area."},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data updating animation of plot area."},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable resizing animation of plot area."}},description:"Settings for animation related properties."},hoverline:{name:"hoverline",supportedValueType:"Object",description:"Settings for hoverline properties.",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set to enabled/disabled hoverline or not.",},},},marker:{name:"marker",description:"Settings for marker/data point graphics",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set show marker or not."},shape:{name:"shape",supportedValueType:"List",supportedValues:["circle","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"],defaultValue:"circle",description:"Set marker shapes for chart."},size:{name:"size",supportedValueType:"PositiveInt",defaultValue:"6",min:"4",max:"32",description:"Set marker size of data point, range[4,32]. When beyond the range, the marker size is default size 6."}}}},css:{".viz-plot-hoverline.v-hoverline":{description:"Define style for hoverline in line.",value:{stroke:"#cccccc"}}},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.horizontalline",version:"4.0.1"},[{qname:"sap.viz.modules.util.dataUtil",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.BoundingBox",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.util.DrawUtil",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.base.UADetector",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(f,g,j,a,q,d,n,k,e,m,p,l,b,h,c,o){return function(N,aa){var D="v-marker-selected",ay="v-marker-hover",F="v-datapoint";var r,u;var V=null,ae;var ac=b.guid();var w=null;var an;var ai="#FFFFFF";var ad="#cccccc";var ag="#333333";var Q=d3.scale.ordinal();var aq;var am;var av;var Z,v,H;var R=new g("showTooltip","hideTooltip","initialized","startToInit");var M;var ah;var U;var Y=aa.effectManager;var X={data:[],scale:d3.scale.linear(),colorPalette:null,selectedMarkers:null,markers:[],bottomValue:null,topValue:null,highLines:[]};var A={data:[],scale:d3.scale.linear(),colorPalette:null,selectedMarkers:null,markers:[],bottomValue:null,topValue:null,highLines:[]};var O=[];var al="v-axis1";var ak="v-axis2";var aj=false;var aw=false,J=true,aA=false,G=false;var au=0;var s=null;var aB;var W=0.4;function P(){var aC=false;if(J){aC=ae.animation.dataLoading}else{if(G){aC=ae.animation.dataUpdating}else{if(aA){aC=ae.animation.resizing}}}return aC}function E(aC){o.drawBound(aC,r,u);an=p();K(aC);aw=false,J=false,aA=false,G=false;return E}function ap(aE){var aD={min:null,max:null};if(!aE.data||aE.data.length===0){return null}aD.max=Number(d3.max(aE.data,function(aF){return d3.max(aF,function(aG){return aG.val})}));aD.min=Number(d3.min(aE.data,function(aF){return d3.min(aF,function(aG){return aG.val})}));if(k.isNoValue(aD.max)){return null}if(aD.min>=0){aD.min=0;aD.max+=aD.max*5/r}else{if(aD.max<=0){aD.max=0;aD.min+=aD.min*5/r}else{var aC=(aD.max-aD.min)*5/r;aD.min-=aC;aD.max+=aC}}return aD}function t(){O=[];var aG=0,aF=0;if(A.data&&A.data.length>0){X.colorPalette=ae.primaryValuesColorPalette}else{X.colorPalette=ae.colorPalette}A.colorPalette=ae.secondaryValuesColorPalette;if(M&&ah&&U){var aJ=V.getMeasureValuesGroupDataByIdx(0);var aI=V.getMeasureValuesGroupDataByIdx(1);var aH=0,aE=0,aD=0,aC=0;if(aJ&&aJ.values.length>0){aH=aJ.values.length;aC=aJ.values[0].rows.length}if(aI&&aI.values.length>0){aE=aI.values.length;aC=aI.values[0].rows.length}for(aG=0;aG<aC;aG++){for(aF=0;aF<aH;aF++){O.push(X.colorPalette[aG*aH+aF%X.colorPalette.length])}for(aF=0;aF<aE;aF++){O.push(A.colorPalette[aG*aE+aF%A.colorPalette.length])}}}else{for(aG=0;aG<X.data.length;++aG){O.push(X.colorPalette[aG%X.colorPalette.length])}if(A.data&&A.data.length>0){for(aG=0;aG<A.data.length;++aG){O.push(A.colorPalette[aG%A.colorPalette.length])}}}}function T(aD){if(aD.data&&aD.data.length>0){if(aD.topValue===null||aD.topValue===undefined){var aC=ap(aD);if(!aC||(aC.min===0&&aC.max===0)){aD.scale.domain([]).range([])}else{aD.scale.domain([aC.min,aC.max]).range([0,r])}}else{aD.scale.domain([aD.bottomValue,aD.topValue]).range([0,r])}}else{aD.scale.domain([0,0]).range([0,0])}return aD.scale}function z(){var aE=[];var aC=0;if(X.data.length!==0){aC=X.data[0].length}else{aC=A.data[0].length}for(var aD=0;aD<aC;aD++){aE.push(aD)}Q.domain(aE).rangeBands([u,0]);T(X);T(A);if(X.data&&X.data.length>0&&A.data&&A.data.length>0){if(X.scale.domain().length===0&&A.scale.domain().length===0){X.scale.domain([0,1]).range([0,r]);A.scale.domain([0,1]).range([0,r])}else{if(X.scale.domain().length===0&&A.scale.domain().length!==0){X.scale.domain(A.scale.domain()).range(A.scale.range())}else{if(X.scale.domain().length!==0&&A.scale.domain().length===0){A.scale.domain(X.scale.domain()).range(X.scale.range())}}}if(!X.manualRange&&!A.manualRange){q.perfectDual(X.scale,A.scale)}else{if(!X.manualRange){q.perfect(X.scale);q.getRoughTickNum(A.scale)}else{if(!A.manualRange){q.perfect(A.scale);q.getRoughTickNum(X.scale)}else{q.getRoughTickNum(X.scale);q.getRoughTickNum(A.scale)}}}}else{if(X.data&&X.data.length>0){if(X.scale.domain().length===0){X.scale.domain([0,1]).range([0,r])}if(!X.manualRange){q.perfect(X.scale)}else{q.getRoughTickNum(X.scale)}}else{if(A.data&&A.data.length>0){if(A.scale.domain().length===0){A.scale.domain([0,1]).range([0,r])}if(!A.manualRange){q.perfect(A.scale)}else{q.getRoughTickNum(A.scale)}}}}}function az(aE,aF,aD){if(aE===undefined||aE===null){return}var aC=0;for(aC=0;aC<X.data.length;++aC){if(!X.selectedMarkers[aC][aE]){af(aC,aE,aD,X);if(!ae.marker.visible){if(au>0){d3.select(X.markers[aC][aE]).attr("opacity",W).attr("visibility",aF)}else{d3.select(X.markers[aC][aE]).attr("opacity",1).attr("visibility",aF)}}}}if(!A.data){return}for(aC=0;aC<A.data.length;++aC){if(!A.selectedMarkers[aC][aE]){af(aC,aE,aD,A);if(!ae.marker.visible){if(au>0){d3.select(A.markers[aC][aE]).attr("opacity",W).attr("visibility",aF)}else{d3.select(A.markers[aC][aE]).attr("opacity",1).attr("visibility",aF)}}}}}function af(aD,aC,aE,aG){var aF="transparent";if(aE===ay){aF=ai}else{if(aE===D){aF=ag}}d3.select(aG.markers[aD][aC]).attr("class",F+" "+aE).attr("stroke",aF)}function at(aE){var aD=aE/Q.rangeBand();aD=Math.floor(aD);var aC=0;if(X.data.length!==0){aC=X.data[0].length}else{aC=A.data[0].length}if(aD>aC-1){aD=aC-1}if(aD<0){aD=0}return aC-1-aD}function ab(aJ,aD){var aC=false,aI,aE;for(var aH=0;aH<aJ.markers.length&&!aC;aH++){var aG=aJ.markers[aH];for(var aF=0;aF<aG.length&&!aC;aF++){if(aG[aF]===aD){aC=true;aI=aH;aE=aF}}}if(!aC){return false}if(aJ.selectedMarkers[aI][aE]){return true}af(aI,aE,D,aJ);d3.select(aJ.markers[aI][aE]).attr("opacity",1).attr("visibility","visible");aJ.selectedMarkers[aI][aE]=true;if(aE>0&&aJ.selectedMarkers[aI][aE-1]){aJ.highLines[aI][aE-1].attr("visibility","visible")}if(aE<aJ.highLines[0].length&&aJ.selectedMarkers[aI][aE+1]){aJ.highLines[aI][aE].attr("visibility","visible")}++au}function C(aJ,aD){var aE=am;var aC=false,aI;for(var aH=0;aH<aJ.markers.length&&!aC;aH++){var aG=aJ.markers[aH];for(var aF=0;aF<aG.length&&!aC;aF++){if(aG[aF]===aD){aC=true;aI=aH;aE=aF}}}if(!aC){return false}if(!aJ.selectedMarkers[aI][aE]){return true}if(aE===am){af(aI,aE,ay,aJ)}else{af(aI,aE,"",aJ)}d3.select(aJ.markers[aI][aE]).attr("opacity",W);if(!ae.marker.visible&&aE!==am){d3.select(aJ.markers[aI][aE]).attr("visibility","hidden")}aJ.selectedMarkers[aI][aE]=false;if(aE>0&&aJ.selectedMarkers[aI][aE-1]){aJ.highLines[aI][aE-1].attr("visibility","hidden")}if(aE<aJ.highLines[0].length&&aJ.selectedMarkers[aI][aE+1]){aJ.highLines[aI][aE].attr("visibility","hidden")}--au}function B(aJ){var aD={data:[],color:[]};var aC=[],aI,aE;for(var aH=0;aH<aJ.length;++aH){var aG=0;for(var aF=0;aF<aJ[aH].length;++aF){if(k.isNoValue(aJ[aH][aF].val)){if(aF>aG){aC=[];for(aE=aG;aE<aF;aE++){aI=aJ[aH][aE];aI.x=aE;aC.push(aI)}aD.data.push(aC);aD.color.push(aH)}aG=aF+1}}if(aG<aJ[aH].length){aC=[];for(aE=aG;aE<aJ[aH].length;aE++){aI=aJ[aH][aE];aI.x=aE;aC.push(aI)}aD.data.push(aC);aD.color.push(aH)}}return aD}function L(aC,aI){if(!aC.data||aC.data.length===0){return}var aG=v.select("g."+aI);if(aG.empty()){aG=v.append("svg:g").attr("class",aI)}aC.selectedMarkers=new Array(aC.data.length);aC.markers=[];var aN=B(aC.data);var aL=aG.selectAll(".v-lines").data(aN.data);aL.enter().append("path").attr("class","v-lines").attr("stroke-width",ae.width).attr("stroke-linejoin","round");aL.exit().remove();aL.attr("stroke-width",ae.width);var aM=d3.svg.line().y(function(aP,aO){return Q(aP.x)+Q.rangeBand()/2}).x(function(aO){return aC.scale(aO.val)});aL.attr("transform",function(aP,aO){d3.select(this).attr("d",aM(aP)).attr("stroke",function(){var aQ={graphType:"line",fillColor:aC.colorPalette[aN.color[aO]%aC.colorPalette.length]};return Y.register(aQ)})});var aD=H.selectAll("g."+aI);if(aD.empty()){aD=H.append("svg:g").attr("class",aI)}var aE=aD.selectAll("g").data(aC.data);aE.enter().append("g");aE.exit().remove();aC.highLines=[];aE.attr("transform",function(aQ,aP){d3.select(this).selectAll(".v-lightLine").remove();aC.highLines.push([]);for(var aO=1;aO<aQ.length;++aO){if(k.isNoValue(aQ[aO].val)||k.isNoValue(aQ[aO-1].val)){aC.highLines[aP].push(null)}else{aC.highLines[aP].push(d3.select(this).append("svg:line").attr("class","v-lightLine").attr("x1",aC.scale(aQ[aO-1].val)).attr("y1",Q(aO-1)+Q.rangeBand()/2).attr("x2",aC.scale(aQ[aO].val)).attr("y2",Q(aO)+Q.rangeBand()/2).attr("stroke-width",ae.width).attr("stroke",aC.colorPalette[aP%aC.colorPalette.length]).attr("visibility","hidden"))}}});for(var aH=0;aH<aC.data.length;++aH){aC.selectedMarkers[aH]=[];for(var aJ=0;aJ<aC.data[0].length;++aJ){aC.selectedMarkers[aH][aJ]=false}}var aK=Z.select("g."+aI);if(aK.empty()){aK=Z.append("svg:g").attr("class",aI)}aE=aK.selectAll("g.v-marker").data(aC.data);aE.enter().append("svg:g").attr("class","v-marker");aE.exit().remove();var aF="hidden";if(ae&&ae.marker&&ae.marker.visible){aF="visible"}aE.attr("transform",function(aS,aP){var aR=d3.select(this).selectAll(".v-datashape").data(aS);var aQ=aR.enter().append("g").attr("class","v-datashape");m.createElements(aQ,{shape:ae.marker.shape,className:F});aR.exit().remove();var aO=[];aR.attr("transform",function(aT,aU){if(k.isNoValue(aT.val)){d3.select(this).remove();aO.push(null);return}aO.push(d3.select(this).selectAll("path").node());var aV={drawingEffect:ae.drawingEffect,graphType:ae.marker.shape,fillColor:aC.colorPalette[aP%aC.colorPalette.length],direction:"vertical",rx:ae.marker.size/2,ry:ae.marker.size/2,borderWidth:2,borderColor:ae.style.marker.stroke,node:d3.select(this).select("path"),visibility:aF};m.drawGraph(aV,Y);return"translate("+aC.scale(aT.val)+","+(Q(aU)+Q.rangeBand()/2)+")"});aC.markers.push(aO)})}function ar(aF,aC){if(au===0||!aF.selectedMarkers||aF.selectedMarkers.length===0){return}for(var aD=0;aD<aF.selectedMarkers.length;++aD){for(var aE=0;aE<aF.selectedMarkers[0].length;++aE){if(!aF.selectedMarkers[aD][aE]){continue}if(aE===aC){af(aD,aE,ay,aF);if(!ae.marker.visible){d3.select(aF.markers[aD][aE]).attr("opacity",W).attr("visibility","visible")}}else{af(aD,aE,"",aF);if(!ae.marker.visible){d3.select(aF.markers[aD][aE]).attr("visibility","hidden")}}aF.selectedMarkers[aD][aE]=false}}}function ao(){var aD=(d3.event?d3.event.clientY:0)-av.node().getBoundingClientRect().top;var aC=at(aD);ar(X,aC);ar(A,aC);au=0}function K(aD){s=aD;I();R.startToInit();if(!av){av=aD.append("svg:g")}if(!aq){aq=av.append("svg:line").attr("stroke",ad).attr("class","v-hoverline viz-plot-hoverline")}aq.attr("x1",0).attr("y1",0).attr("x2",r).attr("y2",0).attr("stroke-width",1).attr("visibility","hidden").attr("stroke-linejoin","round");if(!v){v=av.append("svg:g").attr("class","v-datalines");H=av.append("svg:g").attr("class","v-lightLines");Z=av.append("svg:g").attr("class","v-markers v-datashapesgroup")}if(!aB){aB=av.append("svg:defs").append("svg:clipPath").attr("id","clip1_"+ac).append("rect")}aB.attr("x",0).attr("y",(P()?u:0)).attr("height",(P()?0:u)).attr("width",r);au=0;x();Z.attr("clip-path","url(#clip1_"+ac+")").attr("fill","none");v.attr("clip-path","url(#clip1_"+ac+")").attr("fill","none");H.attr("clip-path","url(#clip1_"+ac+")").attr("fill","none");L(X,al);L(A,ak);if(P()){aj=true;var aF=0;var aC=u/50;var aE=setInterval(function(aG){if(aF>=u){clearInterval(aE);R.initialized()}else{aF+=aC;aB.attr("height",aF);aB.attr("y",u-aF)}},20)}else{R.initialized()}}function x(){H.selectAll("g."+al).selectAll(".v-lightLine").attr("visibility","hidden");H.selectAll("g."+ak).selectAll(".v-lightLine").attr("visibility","hidden");v.attr("opacity",1);if(c.isIE()){v.selectAll(".v-lines").attr("visibility","visible")}Z.selectAll("g."+al).selectAll("g.v-marker").selectAll("."+F).attr("opacity",1);Z.selectAll("g."+ak).selectAll("g.v-marker").selectAll("."+F).attr("opacity",1)}function S(){H.selectAll("g."+al).selectAll(".v-lightLine").attr("visibility","hidden");H.selectAll("g."+ak).selectAll(".v-lightLine").attr("visibility","hidden");v.attr("opacity",W);if(c.isIE()){v.selectAll(".v-lines").attr("visibility","visible")}Z.selectAll("g."+al).selectAll("g.v-marker").selectAll("."+F).attr("opacity",W);Z.selectAll("g."+ak).selectAll("g.v-marker").selectAll("."+F).attr("opacity",W)}function I(){if(!ae.style){ae.style={}}var aC;if(!ae.style.marker){ae.style.marker={}}ae.style.marker.stroke="transparent";aC=aa.styleManager.queryDefault("v-hoverline");if(aC){if(aC.stroke){ad=aC.stroke}}}function ax(){X.topValue=null;X.bottomValue=null;A.topValue=null;A.bottomValue=null}E.afterUIComponentAppear=function(){R.initialized()};E.width=function(aC){if(!arguments.length){return r}aA=(!aA&&(aC===r))?false:true;r=aC;if(a.isExist(r)&&a.isExist(u)&&a.isExist(V)){z()}return E};E.height=function(aC){if(!arguments.length){return u}aA=(!aA&&(aC===r))?false:true;u=aC;if(a.isExist(r)&&a.isExist(u)&&a.isExist(V)){z()}return E};E.properties=function(aC){if(!arguments.length){return ae}h.extend(true,ae,aC);if(ae.marker.size<4||ae.marker.size>32){ae.marker.size=6}if(ae.width<1||ae.width>7){ae.width=2}t();return E};E.primaryAxisColor=function(){if(A.data&&A.data.length>0){return Y.register({graphType:"line",fillColor:X.colorPalette[0]})}else{return null}};E.secondAxisColor=function(){return Y.register({graphType:"line",fillColor:A.colorPalette[0]})};E.dispatch=function(aC){if(!arguments.length){return R}R=aC;return E};E.data=function(aC){if(!arguments.length){return V}G=true;aw=false;if(!f().hasSameSchema(V,aC)){aw=true}V=aC;var aD=j(V);X.data=aD.MG1;A.data=aD.MG2;ax();M=aD.hasMND;ah=aD.MNDOnColor;U=aD.MNDInner;w=p.dataTransform(aD);if(a.isExist(r)&&a.isExist(u)&&a.isExist(V)){z()}t();return E};E.primaryAxisTitle=function(aD){if(!arguments.length){var aG=V.getMeasureValuesGroupDataByIdx(0),aF=[];if(aG){for(var aE=0,aC=aG.values.length;aE<aC;aE++){if(aG.values[aE].col!==null&&aG.values[aE].col!==undefined){aF.push(aG.values[aE].col)}else{aF.push(e.get("IDS_ISNOVALUE"))}}}return aF.join("/")}return this};E.secondAxisTitle=function(aD){if(!arguments.length){var aG=V.getMeasureValuesGroupDataByIdx(1),aF=[];if(aG){for(var aE=0,aC=aG.values.length;aE<aC;aE++){if(aG.values[aE].col!==null&&aG.values[aE].col!==undefined){aF.push(aG.values[aE].col)}else{aF.push(e.get("IDS_ISNOVALUE"))}}}return aF.join("/")}return this};E.getColorPalette=function(){if(O.length===0){t()}return O};E.shapePalette=function(aC){if(!arguments.length){return[ae.marker.shape]}return E};E.primaryScale=function(aC){if(!arguments.length){return X.scale}X.scale=aC;return E};E.secondaryScale=function(aC){if(!arguments.length){return A.scale}A.scale=aC;return E};E.categoryScale=function(aC){if(!arguments.length){return Q}Q=aC;return E};E.primaryDataRange=function(aC){if(!arguments.length){return{min:X.scale.domain()[0],max:X.scale.domain()[1]}}if(aC!==null){X.topValue=aC.max;X.bottomValue=aC.min;if(aC.from==="axis"){X.manualRange=true}if(a.isExist(r)&&a.isExist(u)){T(X)}}return E};E.secondDataRange=function(aC){if(!arguments.length){return{min:A.scale.domain()[0],max:A.scale.domain()[1]}}if(aC!==null){A.topValue=aC.max;A.bottomValue=aC.min;if(aC.from==="axis"){A.manualRange=true}if(a.isExist(r)&&a.isExist(u)){T(A)}}return E};E.parent=function(){return s};E.dataLabel=function(aC){};E.size=function(aC,aD){if(arguments.length===0){return{width:E.width(),height:E.height()}}E.width(aC).height(aD);return E};E.clear=function(aC){ao();if(aC===null||aC===undefined){x()}else{S()}};E.highlight=function(aF){var aD;if(aF instanceof Array){aD=aF}else{aD=[];aD.push(aF)}for(var aE=0;aE<aD.length;aE++){var aC=aD[aE];if(!ab(X,aC)){ab(A,aC)}}};E.unhighlight=function(aF){var aD;if(aF instanceof Array){aD=aF}else{aD=[];aD.push(aF)}for(var aE=0;aE<aD.length;aE++){var aC=aD[aE];if(!C(X,aC)){C(A,aC)}}};E.hoverOnPoint=function(aC){var aG=aC.x,aF=aC.y;if(aF<0||aF>u){return}var aD=at(aF);if(am===aD){return}var aI=Q(aD)+Q.rangeBand()/2;az(am,"hidden","");az(aD,"visible",ay);am=aD;if(ae.hoverline.visible){aq.attr("y1",aI).attr("y2",aI);aq.attr("visibility","visible")}else{aq.attr("visibility","hidden")}if(ae.tooltip.enabled){var aJ={};var aE=av.node().getTransformToElement(av.node().ownerSVGElement);aJ.x=r*3/4+aE.e;aJ.y=aI+aE.f;var aH=an.generateTooltipData(V,w,aD,O,[ae.marker.shape]);aH.point=aJ;aH.plotArea={x:aE.e,y:aE.f,width:r,height:u};R.showTooltip(p.formatTooltipData(aH))}};E.blurOut=function(){aq.attr("visibility","hidden");az(am,"hidden","");am=null;if(ae.tooltip.enabled){R.hideTooltip()}};ae=N.props(null);return E}});sap.riv.module({qname:"sap.viz.modules.manifests.xy.HorizontalLine",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.horizontalline",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Line",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.horizontalline",name:"horizontalline",base:"sap.viz.modules.line",fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.HorizontalCombinationChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Title",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Legend",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.HorizontalCombination",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.HorizontalLine",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Bar",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseHorizontalChart",version:"4.0.1"}],function Setup(b){var a={base:"riv/basehorizontalchart",id:"viz/horizontal_combination",name:"IDS_HORIZONTALCOMBINATIONCHART",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"horizontalline",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"selectability"}},main:{modules:{plot:{id:"sap.viz.modules.horizontalcombination",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside"}}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.DualHorizontalCombinationChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.xy.HorizontalCombinationChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.HorizontalCombination",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/dual_horizontal_combination",name:"IDS_DUALHORIZONTALCOMBINATIONCHART",base:"viz/horizontal_combination",modules:{root:{modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true},dataShape:{secondAxis:{isExported:true}}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis.",propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"xAxis2",properties:{type:"value",position:"top",gridline:{visible:false}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main.plot",source:"secondaryScale"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.xAxis2",target:"color",sourceModule:"root.main.plot",source:"secondAxisColor"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.xAxis2",target:"title",sourceModule:"root.main.plot",source:"secondAxisTitle"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.CombinationChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Title",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Legend",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Combination",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Line",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.VerticalBar",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.1"}],function Setup(b){var a={base:"riv/baseverticalchart",id:"viz/combination",name:"IDS_COMBINATIONCHART",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"line",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction"}},main:{modules:{plot:{id:"sap.viz.modules.combination",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside"}}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.yAxis",source:"range"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.DualCombinationChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.xy.CombinationChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Combination",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/dual_combination",name:"IDS_DUALCOMBINATIONCHART",base:"viz/combination",modules:{root:{modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true},dataShape:{secondAxis:{isExported:true}}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis.",propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"yAxis2",properties:{type:"value",position:"right",gridline:{visible:false}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.yAxis",source:"range"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.plot",target:"secondDataRange",sourceModule:"root.main.yAxis2",source:"range"},{targetModule:"root.main.yAxis2",target:"scale",sourceModule:"root.main.plot",source:"secondaryScale"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.yAxis2",target:"title",sourceModule:"root.main.plot",source:"secondAxisTitle"},{targetModule:"root.main.yAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.yAxis2",target:"color",sourceModule:"root.main.plot",source:"secondAxisColor"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.LineChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Line",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"}],function Setup(b){var a={id:"viz/line",name:"IDS_LINECHART",base:"riv/baseverticalchart",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"line",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove"]}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",automaticInOutside:false,positionPreference:true}}},plot:{id:"sap.viz.modules.line",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"getColorPalette"},{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.yAxis",source:"range"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.DualLineChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Line",version:"4.0.1"},{qname:"sap.viz.manifests.xy.LineChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/dual_line",name:"IDS_DIUALLINECHART",base:"viz/line",modules:{root:{modules:{main:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction"}},plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis.",propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"yAxis2",properties:{type:"value",position:"right",gridline:{visible:false}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{acceptMND:-1,max:1},regionColor:{acceptMND:0}},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"getColorPalette"},{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.yAxis",source:"range"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.plot",target:"secondDataRange",sourceModule:"root.main.yAxis2",source:"range"},{targetModule:"root.main.yAxis2",target:"scale",sourceModule:"root.main.plot",source:"secondaryScale"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.yAxis2",target:"title",sourceModule:"root.main.plot",source:"secondAxisTitle"},{targetModule:"root.main.yAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.yAxis2",target:"color",sourceModule:"root.main.plot",source:"secondAxisColor"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.HorizontalLineChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.HorizontalLine",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseHorizontalChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/horizontal_line",name:"IDS_HORIZONTALLINECHART",base:"riv/basehorizontalchart",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"horizontalline",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove"]}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",automaticInOutside:false,positionPreference:true}}},plot:{id:"sap.viz.modules.horizontalline",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"getColorPalette"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.DualHorizontalLineChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.HorizontalLine",version:"4.0.1"},{qname:"sap.viz.manifests.xy.HorizontalLineChart",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/dual_horizontal_line",name:"IDS_DUALHORIZONTALLINECHART",base:"viz/horizontal_line",modules:{root:{modules:{main:{id:"sap.viz.modules.xycontainer",modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis.",propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertiesOverride:{title:{applyAxislineColor:{isExported:true}}},propertyCategory:"xAxis2",properties:{type:"value",position:"top",gridline:{visible:false}}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{acceptMND:-1,max:1},regionColor:{acceptMND:0}},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"getColorPalette"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main.plot",source:"secondaryScale"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.xAxis2",target:"title",sourceModule:"root.main.plot",source:"secondAxisTitle"},{targetModule:"root.main.xAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.xAxis2",target:"color",sourceModule:"root.main.plot",source:"secondAxisColor"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapePalette"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.modules.stackedwaterfall",version:"4.0.1"},[{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"}],function Setup(b,e,g,d,h,m,c,f,l,k,a){var j=function(z,K){var ae="v-hoverline";var M,n,p,af,L,r,t,E,T,aa,F,s,X,Y=false,x=true,ad=false,u=false,U=null,G,v,B,o,D=new e("selectData","deselectData","showTooltip","hideTooltip","initialized","startToInit");var P=d.get("IDS_ISNOVALUE"),A=c.sap32().range(),ab=["squareWithRadius"],I=1200,H;var V={};var R=l();var J=K.effectManager,O="normal";var ac=d3.scale.ordinal(),q=d3.scale.linear();var Z=function(ag){k.drawBound(ag,n,p);if(!b.isExist(q)){return}D.startToInit();ag.each(function(){X=S();var am=X.barSize;var ao=0;var aj=I/T;H=d3.select(this);if(s===undefined){s=H.append("rect").style("visibility","hidden").attr("fill",V.hoverline.fill).attr("class",ae)}else{s.style("visibility","hidden")}if(M.isHorizontal===false){s.attr("width",ac.rangeBand()-X.barGap).attr("height",p)}else{s.attr("height",ac.rangeBand()-X.barGap).attr("width",n)}if(Y===true){H.selectAll("g.v-waterfallgroup").remove();H.selectAll("g.v-datashapesgroup").remove()}var aq=H.selectAll("g.v-datashapesgroup");if(aq.empty()){aq=H.append("g").attr("class","v-datashapesgroup")}var ah=aq.selectAll("g.v-waterfallgroup").data(L);ah.enter().append("g").attr("class","v-waterfallgroup");ah.exit().remove();var ap=false;if(x){ap=M.animation.dataLoading}else{if(u){ap=M.animation.dataUpdating}else{if(ad){ap=M.animation.resizing}}}var ar=ah.selectAll("g.v-datashape").data(function(au,at){return au.items});var an=ar.enter().append("g").attr("class","v-datashape");an.append("rect").attr("class","v-datapoint").attr("fill-opacity",1);if(!ap){ar.exit().remove();if(M.isHorizontal===false){ah.attr("transform",function(av,at){var au=ac(at)+X.barGap;return"translate("+au+","+0+")"});ar.attr("transform",function(at){var au=(at.val>0)?q(ao+at.after):q(ao+at.before);return"translate("+0+","+au+")"});ar.select("rect").attr("fill",function(au){var at={drawingEffect:O,fillColor:A[au.index%A.length],direction:"horizontal"};return J.register(at)}).attr("width",am).attr("height",function(at){return Math.abs(q(at.after)-q(at.before))})}else{ah.attr("transform",function(av,at){var au=ac(at)+X.barGap;return"translate("+0+","+au+")"});ar.attr("transform",function(av,au){var at=(av.val>0)?q(ao+av.before):q(ao+av.after);return"translate("+at+","+0+")"});ar.select("rect").attr("fill",function(av,at){var au={drawingEffect:O,fillColor:A[av.index%A.length],direction:"vertical"};return J.register(au)}).attr("height",am).attr("width",function(au,at){return Math.abs(q(au.after)-q(au.before))})}D.initialized()}else{ar.exit().transition().duration(aj).attr("height",0).attr("width",0).remove();var ak,al,ai;if(M.isHorizontal===false){an.selectAll("rect").attr("height",0);an.attr("transform",function(at){var au=q(ao+at.before);return"translate("+0+","+au+")"});ah.attr("transform",function(av,at){var au=ac(at)+X.barGap;return"translate("+au+","+0+")"});for(al=0,ai=ar.length;al<ai;al++){ak=d3.selectAll(ar[al]);ak.transition().duration(aj).delay(function(au,at){return al*aj}).attr("transform",function(at){var au=(at.val>0)?q(ao+at.after):q(ao+at.before);return"translate("+0+","+au+")"});ak.select("rect").attr("fill",function(au){var at={drawingEffect:O,fillColor:A[au.index%A.length],direction:"horizontal"};return J.register(at)}).attr("width",am).transition().duration(aj).delay(function(){return al*aj}).attr("height",function(at){return Math.abs(q(at.after)-q(at.before))}).each("end",function(au,at){if(au.isLastItem!==undefined&&au.isLastItem===true){D.initialized()}})}}else{an.selectAll("rect").attr("width",0);an.attr("transform",function(au){var at=q(ao+au.before);return"translate("+at+","+0+")"});ah.attr("transform",function(av,at){var au=ac(at)+X.barGap;return"translate("+0+","+au+")"});for(al=0,ai=ar.length;al<ai;al++){ak=d3.selectAll(ar[al]);ak.transition().duration(aj).delay(function(){return al*aj}).attr("transform",function(au){var at=(au.val>0)?q(ao+au.before):q(ao+au.after);return"translate("+at+","+0+")"});ak.select("rect").attr("fill",function(au){var at={drawingEffect:O,fillColor:A[au.index%A.length],direction:"vertical"};return J.register(at)}).attr("height",am).transition().duration(aj).delay(function(){return al*aj}).attr("width",function(at){return Math.abs(q(at.after)-q(at.before))}).each("end",function(au,at){if(au.isLastItem!==undefined&&au.isLastItem===true){D.initialized()}})}}}x=false;ad=false;u=false})};Z.afterUIComponentAppear=function(){D.initialized()};Z.hoverOnPoint=function(ah){var ak=ah.x,ai=ah.y;var ag;if(M.isHorizontal===false){ag=ak}else{ag=ai}var al=-1;var an=L.length;while(al<an){if(Math.abs(ag-ac.rangeBand()*al-0.5*ac.rangeBand())<=0.5*ac.rangeBand()){break}al++}if(al>(an-1)||al<0){s.style("visibility","hidden");return}if(M.isHorizontal===false){s.attr("x",ac.rangeBand()*al+X.barGap/2)}else{s.attr("y",ac.rangeBand()*al+X.barGap/2)}s.style("visibility","visible");if(U!==al){if(F){U=al;var aj=H.node().getTransformToElement(H.node().ownerSVGElement);var am=R.generateTooltipData(af,r,al,A,ab);if(M.isHorizontal===false){am.point={x:ac.rangeBand()*al+0.5*ac.rangeBand()+aj.e,y:d3.event.layerY}}else{am.point={x:d3.event.layerY,y:ac.rangeBand()*al+0.5*ac.rangeBand()+aj.f}}D.showTooltip(l.formatTooltipData(am))}}};Z.blurOut=function(){s.style("visibility","hidden");U=null;if(F){D.hideTooltip()}};Z.highlight=function(ah){if(ah instanceof Array){for(var ai=0,ag=ah.length;ai<ag;ai++){ah[ai].setAttribute("fill-opacity",1)}}else{ah.setAttribute("fill-opacity",1)}};Z.unhighlight=function(ah){if(ah instanceof Array){for(var ai=0,ag=ah.length;ai<ag;ai++){ah[ai].setAttribute("fill-opacity",0.4)}}else{ah.setAttribute("fill-opacity",0.4)}};Z.clear=function(ag){if(ag===undefined){H.selectAll(".v-datapoint").attr("fill-opacity",1)}else{H.selectAll(".v-datapoint").attr("fill-opacity",0.4)}};Z.parent=function(){return H};Z.data=function(ag){if(!arguments.length){return af}af=ag;W(ag);if(b.isExist(n)&&b.isExist(p)){N()}return Z};Z.properties=function(ag){if(!arguments.length){return M}f.extend(true,M,ag);A=M.colorPalette;O=M.drawingEffect;F=M.tooltip.enabled;if(B!==M.isShowTotal||o!==M.subtotal.visible){B=M.isShowTotal;o=M.subtotal.visible;W(af)}return Z};Z.width=function(ag){if(!arguments.length){return n}ad=(!ad&&(ag===n))?false:true;n=ag;if(b.isExist(af)&&b.isExist(n)&&b.isExist(p)){N()}return Z};Z.height=function(ag){if(!arguments.length){return p}ad=(!ad&&(ag===p))?false:true;p=ag;if(b.isExist(af)&&b.isExist(n)&&b.isExist(p)){N()}return Z};Z.primaryAxisTitle=function(ah){if(!arguments.length){var ak=af.getMeasureValuesGroupDataByIdx(0),aj=[];if(ak){for(var ai=0,ag=ak.values.length;ai<ag;ai++){if(ak.values[ai].col!==null&&ak.values[ai].col!==undefined){aj.push(ak.values[ai].col)}else{aj.push(d.get("IDS_ISNOVALUE"))}}}return aj.join("/")}return Z};Z.secondAxisTitle=function(ah){if(!arguments.length){var ak=af.getMeasureValuesGroupDataByIdx(1),aj=[];if(ak){for(var ai=0,ag=ak.values.length;ai<ag;ai++){if(ak.values[ai].col!==null&&ak.values[ai].col!==undefined){aj.push(ak.values[ai].col)}else{aj.push(d.get("IDS_ISNOVALUE"))}}}return aj.join("/")}return Z};Z.categoryScale=function(ag){if(!arguments.length){return ac}ac=ag;return Z};Z.primaryScale=function(ag){if(!arguments.length){return q}q=ag;return Z};Z.colorPalette=function(ag){if(!arguments.length){return A}A=ag;return this};Z.dispatch=function(ag){if(!arguments.length){return D}D=ag;return Z};Z.dataLabel=function(ag){return Z};Z.dimensionData=function(ag){if(!arguments.length){return[G]}G=ag};var S=function(){var ai=2*(ac.rangeBand())/3;var ah=ai/2;var al=M.barGap;var aj=ah,ak=ai;if(al!==undefined){var ag=ac.rangeBand()-al;if(!(al<5||ag<0)){ak=ag;aj=al}}return{barSize:ak,barGap:aj/2}};var N=function(){var ah=[];for(var ag=0;ag<T;ag++){ah.push(ag)}if(M.isHorizontal===true){ac.domain(ah).rangeBands([0,p]);if(t===0&&E===0){q.domain([0,1]).range([0,n]).nice()}else{q.domain([t,E]).range([0,n]).nice()}}else{ac.domain(ah).rangeBands([0,n]);if(t===0&&E===0){q.domain([0,1]).range([p,0]).nice()}else{q.domain([t,E]).range([p,0]).nice()}}m.perfect(q)};var W=function(aF){G={};v={};if((B===true)||(M.subtotal.visible===true)){a.extend(true,G,aF.getAnalysisAxisDataByIdx(0));a.extend(true,v,aF.getMeasureValuesGroupDataByIdx(0))}else{G=aF.getAnalysisAxisDataByIdx(0);v=aF.getMeasureValuesGroupDataByIdx(0)}var av=g(aF);r=l.dataTransform(av);var aj=av.MG1,ap=M.initialValue;Y=false;if(T===undefined&&aa===undefined){x=true}else{u=true}if((T!==undefined&&aa!==undefined)&&(T!==aj[0].length||aa!==aj.length)){Y=true}var au,an,aA,aG=[],ar=[],al=0,aC={},ax=[],ao,ah,aw,ak,ai=0,aE,at=0;var aD;au=an=ap;L=[],t=0,E=0;T=aj[0].length;aa=aj.length;var aB,aq,am;if(M.subtotal.visible===true){aB=0;aq=T;am=M.subtotal.subGroups}for(var az=0;az<T;az++){au=an=ap;ax=[],al=0,ah=false;if(aA===undefined){aA=ap}for(var ay=0;ay<aa;ay++){ao=Q(aj[ay][az].val);aD=aj[ay][az].info;if(aD){ah=(aD.valueinfo===undefined)?false:aD.valueinfo.isTotal;if(ah&&(ay===0)){au=an=0}}if(ao!==P){if(ah){if(ao>0){aw=au;ak=au+ao;au=ak}else{aw=an;ak=an+ao;an=ak}}else{ar[ay]=(ar[ay]?ar[ay]+ao:ao);al=al+ao;if(ao>0){aw=au;ak=au+ao;au=ak}else{aw=an;ak=an+ao;an=ak}aG[ay]=(aG[ay]?aG[ay]+ao:ao)}if(ak>E){E=ak}if(ak<t){t=ak}aC={index:ay,val:aj[ay][az].val,before:aw,after:ak,ctx:aj[ay][az].ctx};ax.push(aC)}}L.push({total:al,start:ap,items:ax});ai=ai+al;if(M.subtotal.visible===true){aE=am[aB];while((aB<am.length)&&(aE<0||aE>T-1)){aB++;aE=am[aB]}if(az===aE){if(M.subtotal.isSubgroupTotal){C(az+at+1,ap,ar,"Sub-Total-"+at)}else{C(az+at+1,0,aG,"Sub-Total-"+at)}aA=undefined;ar=[];aB++;at++;aq++}}ap=ap+al}if(aq!==undefined){T=aq}if(B){C(T,0,aG,"Total");T++}if(T>0){var ag=L[T-1].items;if(ag.length>0){ag[ag.length-1].isLastItem=true}}};var C=function(ap,ah,ai,au){var ak,at,ar,ag,al,aq=[],ao=0,am;ak=at=ah;for(var an=0,aj=ai.length;an<aj;an++){am=ai[an];ao=ao+am;if(am>0){ar=ak;ag=ak+am;ak=ag}else{ar=at;ag=at+am;at=ag}al={index:an,val:am,before:ar,after:ag,ctx:{path:{mg:am,mi:an}}};aq.push(al);v.values[0].rows[an].splice(ap,0,{val:ai[an]})}L.push({total:ao,start:ah,items:aq});G.values[0].rows.splice(ap,0,{val:au})};var Q=function(ag){return(ag===null||ag===undefined)?P:ag};function w(){V.hoverline=K.styleManager.queryDefault(ae)}w();M=z.props(null);return Z};return j});sap.riv.module({qname:"sap.viz.modules.manifests.xy.StackedWaterfall",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.stackedwaterfall",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.BaseBar",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.stackedwaterfall",name:"stackedwaterfall",base:"sap.viz.modules.xy.bar.base",properties:{isRoundCorner:null,primaryValuesColorPalette:null,secondaryValuesColorPalette:null,isHorizontal:{name:"isHorizontal",supportedValueType:"Boolean",defaultValue:false,description:"Set stacked waterfall orientaion.",isExported:false},isShowTotal:{name:"isShowTotal",supportedValueType:"Boolean",defaultValue:false,description:"Set stacked waterfall show/hide total value.",isExported:false},subtotal:{name:"subtotal",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set visibility of subtotal."},isSubgroupTotal:{name:"isSubgroupTotal",supportedValueType:"Boolean",defaultValue:true,description:"Set isRuntimeTotal of subtotal."},subGroups:{name:"subGroups",supportedValueType:"StringArray",defaultValue:[],description:"Set bar groups.",isExported:false}},isExported:false,description:"Settings for subtotal related properties."},barGap:{name:"barGap",supportedValueType:"PositiveInt",defaultValue:undefined,min:"5",description:"Set the distance between bars. Default value is the same as bar size.",isExported:true},initialValue:{name:"initialValue",supportedValueType:"PositiveInt",defaultValue:0,description:"Set initial value of waterfall.",isExported:true}},fn:c,feeds:{configure:{secondaryValues:null,regionColor:{acceptMND:-1,min:1,max:1},axisLabels:{max:1,acceptMND:-1},primaryValues:{max:1}}}};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.StackedWaterfallChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.data.feed.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedWaterfall",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/stacked_waterfall",name:"IDS_STACKEDWATERFALLCHART",base:"riv/baseverticalchart",modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove","touchstart"]}}},main:{modules:{plot:{id:"sap.viz.modules.stackedwaterfall",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},xAxis:{id:"sap.viz.modules.axis",configure:{properties:{isIndependentMode:true}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}},feeds:{primaryValues:{max:a.Constraints.INF},regionColor:{acceptMND:1,max:2},axisLabels:{max:2,acceptMND:0,maxStackedDims:1}},dependencies:{attributes:[undefined,undefined,undefined,{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.xAxis",target:"independentData",sourceModule:"root.main.plot",source:"dimensionData"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.HorizontalStackedWaterfallChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedWaterfall",version:"4.0.1"},{qname:"sap.viz.manifests.xy.StackedWaterfallChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Background",version:"4.0.1"}],function Setup(b){var a={id:"viz/horizontal_stacked_waterfall",name:"IDS_HORIZONTALSTACKEDWATERFALL",base:"viz/stacked_waterfall",modules:{root:{modules:{tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"bar"}}},main:{modules:{plot:{id:"sap.viz.modules.stackedwaterfall",configure:{propertyCategory:"plotArea",properties:{isHorizontal:true}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis",properties:{type:"value",position:"bottom",gridline:{visible:true}}}},yAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart.",propertyCategory:"yAxis",properties:{type:"category",position:"left",gridline:{visible:false},isIndependentMode:true},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:"horizontal"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false,orientation:"horizontal"},propertiesOverride:{position:{isExported:false}}}}}}}}},feeds:{axisLabels:{maxStackedDims:1}},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},undefined,{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.yAxis",target:"independentData",sourceModule:"root.main.plot",source:"dimensionData"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.WaterfallChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedWaterfall",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/waterfall",name:"IDS_WATERFALLCHART",base:"riv/baseverticalchart",modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove","touchstart"]}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,showZero:false,outsideVisible:false}}},xAxis:{id:"sap.viz.modules.axis",configure:{properties:{isIndependentMode:true}}},plot:{id:"sap.viz.modules.stackedwaterfall",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",propertiesOverride:{isShowTotal:{isExported:true}}}}}}}}},feeds:{regionColor:null},dependencies:{attributes:[{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},null,{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.xAxis",target:"independentData",sourceModule:"root.main.plot",source:"dimensionData"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.HorizontalWaterfallChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedWaterfall",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseHorizontalChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/horizontal_waterfall",name:"IDS_HORIZONTALWATERFALLCHART",base:"riv/basehorizontalchart",modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove","touchstart"]}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,showZero:false,outsideVisible:false}}},yAxis:{id:"sap.viz.modules.axis",configure:{properties:{isIndependentMode:true}}},plot:{id:"sap.viz.modules.stackedwaterfall",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{isHorizontal:true},propertiesOverride:{isShowTotal:{isExported:true}}}}}}}}},feeds:{regionColor:null},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},null,{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.yAxis",target:"independentData",sourceModule:"root.main.plot",source:"dimensionData"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.ImageBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BarChart",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/image_bar",name:"IDS_IMAGEBARCHART",base:"viz/bar",modules:{root:{modules:{main:{modules:{dataLabel:{configure:{properties:{visible:true,position:"outside"}}},plot:{configure:{properties:{imageFill:true},propertiesOverride:{imagePalette:{isExported:true}}}}}}}}},dependencies:{attributes:[undefined,undefined,undefined,undefined,undefined,undefined,{targetModule:"root.legend",target:"imageInfo",sourceModule:"root.main.plot",source:"imageInfo"},{targetModule:"root.tooltip",target:"imageInfo",sourceModule:"root.main.plot",source:"imageInfo"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.DualBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BarChart",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/dual_bar",name:"IDS_DUALBARCHART",base:"viz/bar",modules:{root:{modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis.",propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"xAxis2",properties:{type:"value",position:"top",gridline:{visible:false}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main.plot",source:"secondScale"},{targetModule:"root.main.xAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.xAxis2",target:"color",sourceModule:"root.main.plot",source:"secondAxisColor"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.main.xAxis2",target:"title",sourceModule:"root.main.plot",source:"secondAxisTitle"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.DualVerticalBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.xy.VerticalBarChart",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/dual_column",name:"IDS_DUALVERTICALBARCHART",base:"viz/column",modules:{root:{modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis.",propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"yAxis2",properties:{type:"value",position:"right",gridline:{visible:false}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:"root.main.plot",target:"primaryDataRange",sourceModule:"root.main.yAxis",source:"range"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"primaryScale"},{targetModule:"root.main.plot",target:"secondDataRange",sourceModule:"root.main.yAxis2",source:"range"},{targetModule:"root.main.yAxis2",target:"scale",sourceModule:"root.main.plot",source:"secondScale"},{targetModule:"root.main.yAxis",target:"color",sourceModule:"root.main.plot",source:"primaryAxisColor"},{targetModule:"root.main.yAxis2",target:"color",sourceModule:"root.main.plot",source:"secondAxisColor"},{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScale"},{targetModule:"root.main.yAxis2",target:"title",sourceModule:"root.main.plot",source:"secondAxisTitle"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"primaryAxisTitle"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.StackedVerticalBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.1"},{qname:"sap.viz.manifests.xy.VerticalBarChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/stacked_column",name:"IDS_STACKEDVERTICALBARCHART",base:"viz/column",feeds:{secondaryValues:null},modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.stackedverticalbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.DualStackedVerticalBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.1"},{qname:"sap.viz.manifests.xy.StackedVerticalBarChart",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/dual_stacked_column",name:"IDS_DUALSTACKEDVERTICALBARCHART",base:"viz/dual_column",modules:{root:{modules:{main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.stackedverticalbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.DualPercentageStackedVerticalBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.1"},{qname:"sap.viz.manifests.xy.DualStackedVerticalBarChart",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/100_dual_stacked_column",name:"IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART",base:"viz/dual_stacked_column",modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.stackedverticalbar",configure:{properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true,showZero:true}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"yAxis",properties:{isPercentMode:true}}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"yAxis2",properties:{isPercentMode:true}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"100_dual_stacked_column",orientation:"bottom",formatString:[["0.00%"],["0.00%"]]}}}}}}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.StackedBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BarChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/stacked_bar",name:"IDS_STACKEDBARCHART",base:"viz/bar",feeds:{secondaryValues:null},modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.stackedbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.DualStackedBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.1"},{qname:"sap.viz.manifests.xy.StackedBarChart",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/dual_stacked_bar",name:"IDS_DUALSTACKEDBARCHART",base:"viz/dual_bar",modules:{root:{modules:{main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.stackedbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.DualPercentageStackedBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.1"},{qname:"sap.viz.manifests.xy.DualStackedBarChart",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/100_dual_stacked_bar",name:"IDS_DUALPERCENTAGESTACKEDBARCHART",base:"viz/dual_stacked_bar",modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.stackedbar",configure:{properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true,showZero:true}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis",properties:{isPercentMode:true}}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis2",properties:{isPercentMode:true}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"100_dual_stacked_bar",orientation:"left",formatString:[["0.00%"],["0.00%"]]}}}}}}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.PercentageStackedBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.1"},{qname:"sap.viz.manifests.xy.StackedBarChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/100_stacked_bar",name:"IDS_PERCENTAGESTACKEDBARCHART",base:"viz/stacked_bar",modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.stackedbar",configure:{properties:{mode:"percentage"}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis",properties:{isPercentMode:true}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{type:"value",isPercentMode:true,showZero:true}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"100_stacked_bar",orientation:"left",formatString:[["0.00%"],["0.00%"]]}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.PercentageStackedVerticalBarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.1"},{qname:"sap.viz.manifests.xy.StackedVerticalBarChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/100_stacked_column",name:"IDS_PERCENTAGESTACKEDVERTICALBARCHART",base:"viz/stacked_column",modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.stackedverticalbar",configure:{properties:{mode:"percentage"}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"yAxis",properties:{isPercentMode:true}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{type:"value",isPercentMode:true,showZero:true}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"100_stacked_column",orientation:"bottom",formatString:[["0.00%"],["0.00%"]]}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.feeds.Pie",version:"4.0.1"},[{qname:"sap.viz.feeds.Manifest",version:"4.0.1"},{qname:"sap.viz.data.feed.Constants",version:"4.0.1"}],function Setup(c,b){var a={id:"pie",feeds:[{id:"pieSectorColor",name:"IDS_PIESECTORCOLORNAME",type:b.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:-1},{id:"pieSectorSize",name:"IDS_PIESECTORSIZE",type:b.Type.Measure,min:1,max:1,mgIndex:1},{id:"pieDepthSize",name:"IDS_PIEDEPTHSIZE",type:b.Type.Measure,min:0,max:1,mgIndex:2}]};c.register(a)});sap.riv.module({qname:"sap.viz.modules.pie.tooltip",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.base.UADetector",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"}],function Setup(m,f,l){var s="v-pie-tooltip",b="v-pie-tooltip-caret",g=8.9*14/2;var h=60,k=8;var n=["viz-pie-tooltip-label-dimensions","viz-pie-tooltip-label-value","viz-pie-tooltip-label-percentage"];var d=["v-tooltip-label","v-tooltip-value","v-tooltip-percentage"];function e(u){var v=u.append("svg:path").attr("class",b).attr("d","M 0 0 Z").attr("fill","#fff");if(f.isSafari()){v.style("-webkit-svg-shadow","0 0 10px rgba(0, 0, 0, 0.25)")}else{var t="tooltip-caret-shadow-"+l.guid();u.append("defs").call(c,t);v.attr("filter","url(#"+t+")")}}function c(t,w){var u=t.append("filter").attr("id",w);u.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",3).attr("result","blur");var v=u.append("feMerge");v.append("feMergeNode").attr("in","blur");v.append("feMergeNode").attr("in","SourceGraphic")}function q(w,t){for(var u=0;u<3;u++){var v=d[u];var x=w.append("svg:text").attr("dominant-baseline","central").attr("text-anchor","middle");t.queryDefault(v).toAttrs(x);x.attr("class",n[u]+" "+v).datum(function(z){return{text:""}})}}function a(t){return t.selectAll("text")}function p(w,u){var t=d[1];var v;w.each(function(x){x.r=d3.select(this.parentNode).datum().r}).filter("."+t).attr("dy",function(A){var z=0,x=A.text;if(f.isIE()){z=m.verticalCentralOffset(x,this)}m.ellipsisInCircle(x,this,A.r,0,u.cssText(t));v=this.getBBox().height;return z});w.filter(":not(."+t+")").attr("dy",function(D,C){var x=D.text;var B=m.measure(x,this).height;var A=(f.isIE()?(C===0?0:B):(B/2))+v/2+k;var z=Math.sqrt(Math.pow(D.r,2)-Math.pow(B+v/2+k,2))*2;m.ellipsis(x,this,z,u.cssText(d[C===0?0:2]));if(C===0){A=-A}return A})}function o(t){t%=360;if(t<0){t+=360}return t}function j(t,u){var v=t.transform.baseVal;var B=v.numberOfItems===0?0:o(v.getItem(0).angle);var D=[];D[0]=o(u);D[1]=D[0]-360;D[2]=D[0]+360;var x=360,A=null;for(var w=0;w<D.length;w++){var z=Math.abs(D[w]-B);if(z<x){x=z;A=w}}var C=d3.interpolateNumber(B,D[A]);return function(E){return"rotate("+C(E)+")"}}function r(t){if(t>=12*14){return 14}if(t>=8*14){return 0.8*14}return 0.5*14}return function(){function t(v,u){var w=v.selectAll("g."+s).data(function(A,x){var z;if(A.or>g){z=[{r:A.ir,caretSize:r(A.or)}]}else{z=new Array(0)}return z});w.exit().remove();a(w).call(p,u);w.enter().append("svg:g").attr("class",s).style("opacity",0).attr("visibility","hidden").attr("pointer-events","none").call(e).call(q,u)}t.select=function(u){var v=u.selectAll("g."+s);if(v.empty()){return null}return{show:function(){v.attr("visibility",null).transition().duration(200).style("opacity",1);return this},hide:function(){v.transition().each("end",function(){v.attr("visibility","hidden")}).duration(200).style("opacity",0);return this},texts:function(){var w=arguments;a(v).each(function(z,x){z.text=w[x]}).call(p,w[3]);return this},caret:function(){var w=v.select("."+b);return{show:function(){w.attr("d",function(A){var z=Math.tan(h*Math.PI/360)*A.caretSize;var B=Math.sqrt(A.r*A.r-z*z);return"M 0 "+-(B+A.caretSize)+" L "+z+" "+-B+" A "+A.r+" "+A.r+" 0 1 1 "+-z+" "+-B+" Z"});return this},hide:function(){w.attr("d",function(x){return"M 0 "+x.r+" A "+x.r+" "+x.r+" 0 1 1 0 "+-x.r+" A "+x.r+" "+x.r+" 0 1 1 0 "+x.r+" Z"});return this},rotateTo:function(x){w.transition().duration(200).attrTween("transform",function(){return j(this,x*180/Math.PI)});return this}}}}};return t}});sap.riv.module({qname:"sap.viz.modules.pie.sector",version:"4.0.1"},[{qname:"sap.viz.modules.Constants",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"}],function Setup(d,e){var f=d3.layout.pie().sort(null).value(function(g){return g.v});function b(q,o,k,g,n,m,j,h){this.dimValueObjects=o;this.color=k;this.r=g;this._value=n;this.startAngle=m;this.endAngle=j;this.p=h;this.decoras=[];for(var l in q){if(q.hasOwnProperty(l)){this[l]=q[l]}}}b.prototype={midAngle:function(){return(this.endAngle+this.startAngle)/2},dimValues:function(){return this.dimValueObjects.map(function(j){var h;if(j.info){var g=j.info.customlabel;if(g){if(g.type==="url"){h=j.val}else{if(g.type==="string"){h=g.val}}}else{h=j.val}}else{h=j.val}return h})},value:function(h){var g=this._value;if(h){return d3.format(h)(g)}return g},proportion:function(h){var g=(this.endAngle-this.startAngle)/(2*Math.PI);if(h){return d3.format(h)(g)}return g}};function a(m,o){var n=m.measure.rows[0];var g=m.dimensions;var k=[];var l=n.map(function(q,r){k.push(r);return{v:q.val,i:r}}).filter(function(r){var q=r.v;return(!e.isNoValue(q))&&q>0});var j=m.color.domain(k);var h=m.or;var p=f(l).map(function(s){var q=s.data.i;var r=o.register({drawingEffect:m.drawingEffect,graphType:"sector",fillColor:j(q),direction:"vertical",radius:h});return new b(n[q],g.map(function(t){return t.rows[q]}),r,h,s.value,s.startAngle,s.endAngle,m.p)});return p}var c=function(){function g(m,j,h){var l=c.all(m).data(function(n){return a(n,j)});l.exit().remove();var k=l.enter().append("svg:g").attr("class","v-datashape").append("svg:path").attr("class",d.CSS.CLASS.DATAPOINT+" viz-pie-sector v-sector");h.queryDefault("v-sector").toAttrs(k);l.select("g.v-datashape path").attr("fill",function(n){return n.color}).attr("d",d3.svg.arc().outerRadius(function(n){return n.r}))}return g};c.all=function(g){return g.selectAll("g.v-datashape")};return c});sap.riv.module({qname:"sap.viz.modules.pie.selection",version:"4.0.1"},[{qname:"sap.viz.modules.pie.sector",version:"4.0.1"}],function Setup(e){var c="v-selectedSector";var d="v-selected";var b;function a(l,h,k){l.classed(c,h).attr("fill-opacity",h?"1":null);var j=0,g=0;if(!k){l=l.transition().duration(200)}l.each(function(p){j=0,g=0;if(h){if(this.parentNode.parentNode.childNodes.length!==1){var m=p.midAngle();var n=p.r;var o;if(n>=96){o=6}else{if(n>=24){o=4}else{o=2}}j=o*Math.sin(m);g=-o*Math.cos(m)}}d3.select(this.parentNode).attr("transform","translate("+j+","+g+")")});l.each("start",function(n){var m=d3.select(this.parentNode).attr("transform");n.decoras.forEach(function(p,o,q){b=d3.select(p);b.transition().attr("transform",m);if(b[0][0]!==null){if(j===0&&g===0){b.attr("fill-opacity",null)}else{b.attr("fill-opacity","1")}}else{b.attr("fill-opacity","1")}},this)})}function f(g){return g.classed(c)}return function(){return{allSelected:function(g){return g.selectAll("."+c)},select:function(h,g){a(h,g)},clear:function(j,h){j.attr("fill-opacity",h?"0.4":null)},selected:function(g){return g.classed(c)},clearAll:function(g){this.clear(g,false);this.allSelected(g).call(a,false,true)}}}});sap.riv.module({qname:"sap.viz.modules.pie",version:"4.0.1"},[{qname:"sap.viz.modules.pie.sector",version:"4.0.1"},{qname:"sap.viz.modules.pie.selection",version:"4.0.1"},{qname:"sap.viz.modules.pie.tooltip",version:"4.0.1"},{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.base.UADetector",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.format.FormatManager",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"},{qname:"sap.viz.modules.util.dataUtil",version:"4.0.1"}],function Setup(x,H,E,B,f,K,Q,e,q,L,I,a,c,z,r){var t=2.414;var v=function(R){return t};var N=6;var b=600;var h=f.sap32();var G="v-pie";var l=G+"-clipPath-";var D=G,m="v-datashapesgroup",C="v-donut-title",J="v-hoverSector",s="v-sectorgroup";var j=H();var u=E();var k=x();function F(V,T,U,R){if(!U){U=T.caret()}U.show().rotateTo(V.midAngle());var S,W;S=V.value();W=V.proportion();if(q.isExist(V.p.tooltip.formatString)){S=a.format(S,V.p.tooltip.formatString[0]);W=a.format(W,V.p.tooltip.formatString[1])}else{S=V.value(V.p.tooltip.valueFormat);W=V.proportion(V.p.tooltip.percentageFormat)}T.texts(V.dimValues().map(function(X){return X===null?c.get("IDS_ISNOVALUE"):X}).join(" - "),S,W,R).show()}function g(S){var R=S.selectAll("text."+C).data(function(U){if(U.p.isDonut){var T=U.measure.col;if(T===null){T=c.get("IDS_ISNOVALUE")}return[{width:U.ir,title:T}]}return[]});R.exit().remove();R.enter().insert("svg:text","."+s).attr("class",C).attr("font-family","'Open Sans',Arial,Helvetica,sans-serif").attr("text-anchor","middle").attr("font-weight","bold").attr("font-size","16px").attr("fill","#333").attr("dominant-baseline","middle");R.each(function(T){B.ellipsisInCircle(T.title,this,T.width,0)})}function M(R){return R/2-N}function d(R){return Math.max(R/2/(1+1/t),N*t)}function P(R,S,T){if(T){return Math.min(S/2,R/2)}return Math.min(M(S),d(R))}function n(R){return R/v(R)}var A=d3.svg.arc();function p(S){var R=d3.interpolateNumber(S.startAngle,S.endAngle);return function(T){S.endAngle=R(T);return A(S)}}function O(T,R,V,U,W,S){j.select(q.isArray(T)?d3.selectAll(T):d3.select(T),R);if(V===false){o(U,W,S)}}function o(Y,R,Z){if(!Y){return}var S=j.allSelected(R);if(S.empty()){Y.hide()}else{var W=R.datum();if(!W.p.tooltip.visible){Y.hide()}else{var V=0;var T=0;var U=0;S.each(function(aa){V+=aa.val;T+=aa.proportion();U++});var X=Y.caret();if(U===1){F(S.datum(),Y,X,Z)}else{Y.texts(U+" selected",d3.format(W.p.tooltip.valueFormat)(V),d3.format(W.p.tooltip.percentageFormat)(T),Z);X.hide()}}}}var w=function(W,ak){var aj=null,ah=null,aq=null,V=W.props(null),al;var ai=V.plotScale;var R=ak.effectManager;var ao=ak.styleManager;var Y,S,Z=e.noop;var ad,an,aa,af;var am=false,ar=true,ap=false,U=false;function X(au){var at=false;if(ar){at=au.animation.dataLoading}else{if(U){at=au.animation.dataUpdating}else{if(ap){at=au.animation.resizing}}}return at}var T=K("selectData","deselectData","initialized","startToInit");function ag(){ad=this;z.drawBound(ad,aj,ah);T.startToInit();aa=this.selectAll("g."+D).data(ae(aq));aa.exit().each(function(av){document.documentElement.removeEventListener("keydown",av.keydownListener);delete av.keydownListener}).remove();var at=aa.enter().append("g").attr("class",D);at.append("g").attr("class",s+(V.isGeoPie?"":" "+m));aa.attr("transform",function(av){if(av.p.alignCenter){return null}return"translate("+av.w/2+","+(av.p.valign==="center"?av.h/2:(av.or+N))+")scale("+ai+")"});var au=aa.selectAll(function(){var av=[];Array.prototype.forEach.call(this.childNodes,function(aw){if(aw.tagName==="clipPath"){av.push(aw)}});return av}).data(function(ay){var av=[];var aw=ay.p.isDonut;var ax=ay.animation=X(ay.p);if(aw||ax){av.push({innerRadius:aw?ay.ir:0,outerRadius:ay.or+N,startAngle:0,endAngle:Math.PI*2,animation:ax})}return av});au.exit().remove();au.enter().append("svg:clipPath").attr("id",function(){var aw,av=0;while(true){aw=l+(av++);if(!document.getElementById(aw)){break}}this.parentNode.querySelector("."+s).setAttribute("clip-path","url(#"+aw+")");return aw}).append("svg:path").attr("clip-rule","evenodd").attr("d",A);aa.call(g);an=aa.select("g."+s).call(k,R,ao);j.clearAll(an);aa.call(u,ao);af=u.select(aa);if(af){af.hide()}au.filter(function(av){return av.animation}).select(":first-Child").transition().duration(b).each("end",function(ay){var av=this.parentNode;var aw=av.parentNode;if(aw){if(ay.innerRadius===0){aw.removeChild(av);aw.querySelector("."+s).removeAttribute("clip-path")}var ax=d3.select(aw).datum();ax.animationEnd=true;ab(ax)}}).attrTween("d",p);au.filter(function(av){return !av.animation}).select(":first-Child").attr("d",A);aa.each(function(av){av.domInitialized=true;ab(av)});am=false,ar=false,ap=false,U=false}function ae(aA){var au=this.parentNode;var ay=Z.apply(au,arguments);var av=Y.apply(au,arguments);var aw=S.apply(au,arguments);var ax=P(av,aw,ay.maxRadius);var az=d3.functor(al).apply(au,arguments);var at={w:av,h:aw,p:ay,or:ax,ir:n(ax),color:az?d3.scale.ordinal().range(az):h.copy(),measure:aA.getMeasureValuesGroupDataByIdx(0).values[0],dimensions:aA.getAnalysisAxisDataByIdx(0).values};at.drawingEffect=at.p.drawingEffect;return[at]}function ab(at){if(at.domInitialized&&(!at.animation||at.animationEnd)){T.initialized({name:"initialized"})}}function ac(au,at){au.attr("fill-opacity",at?"1":(j.selected(au)?"1":null))}ag.afterUIComponentAppear=function(){T.initialized()};ag.dataLabel=function(at){};ag.parent=function(){return ad};ag.clear=function(at){j.clear(an,at);return ag};ag.highlight=function(at,au){O(at,true,au,af,an,ao);return ag};ag.unhighlight=function(at,au){O(at,false,au,af,an,ao);return ag};ag.mouseover=function(au){var at=d3.select(au);at.classed(J,true);ac(at,true);var av=at.datum();if(av.p.tooltip.visible){if(af){F(av,af,undefined,ao)}}else{if(af){af.hide()}}return ag};ag.mouseout=function(au){var at=d3.select(au);if(Q.isIE()){window.setTimeout(function(){ac(at,false)},0)}else{ac(at,false)}if(!af){return}o(af,an,ao);return ag};ag.width=function(at){if(arguments.length===0){return aj}ap=(!ap&&(at===aj))?false:true;aj=at;Y=d3.functor(aj);return ag};ag.height=function(at){if(arguments.length===0){return ah}ap=(!ap&&(at===ah))?false:true;ah=at;S=d3.functor(ah);return ag};ag.size=function(at,au){if(arguments.length===0){return{width:this.width(),height:this.height()}}ag.width(at).height(au);return ag};ag.data=function(at){if(arguments.length===0){return aq}U=true;am=false;if(!r().hasSameSchema(aq,at)){am=true}aq=at;return ag};ag.dispatch=function(at){return T};ag.properties=function(at){if(arguments.length===0){return V}I.extend(true,V,at);ai=V.plotScale;Z=d3.functor(V);if(typeof(V)==="function"){al=function(av,au){return Z.apply(this,arguments).colorPalette}}else{if(V.colorPalette){al=V.colorPalette}}return ag};ag.colorPalette=function(at){if(arguments.length===0){return al||h.range()}al=at;return ag};return ag};return w});sap.riv.module({qname:"sap.viz.modules.manifests.Pie",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.pie",version:"4.0.1"},{qname:"sap.viz.feeds.Pie",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.pie",type:b.Module.Type.Chart,name:"pie",properties:{animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data loading animation of plot area."},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data updating animation of plot area."},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable resizing animation of plot area."}},description:"Settings for animation of plot area."},colorPalette:{name:"colorPalette",supportedValueType:"StringArray",defaultValue:b.SAPColor,description:"Set the color palette for sectors."},isDonut:{name:"isDonut",supportedValueType:"Boolean",defaultValue:false,description:"Set whether is a donut or pie."},isGeoPie:{name:"isGeoPie",supportedValueType:"Boolean",defaultValue:false,description:"Set whether is a geo pie.",isExported:false},valign:{name:"valign",supportedValueType:"List",supportedValues:["top","center"],defaultValue:"top",description:"Set vertical aligment.",isExported:false},tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set whether tooltip is enabled."},valueFormat:{name:"valueFormat",supportedValueType:"String",defaultValue:"n",description:"Set the number format of measure value in tooltip."},percentageFormat:{name:"percentageFormat",supportedValueType:"String",defaultValue:".0%",description:"Set the number format of percentage label in tooltip."},formatString:{name:"formatString",supportedValueType:"StringArray",defaultValue:null,description:"Set format string of tooltip. The first string is applied to value and the second is applied to percentage. "}},description:"Settings for tooltip related properties."},drawingEffect:{name:"drawingEffect",supportedValueType:"List",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Set drawing effect of Pie.",isExported:true},plotScale:{name:"plotScale",supportedValueType:"PositiveFloat",defaultValue:1,description:"Set plot scale of Pie.",isExported:false,isExperimental:true}},events:{initialized:b.Module.Event.Initialized.desc,selectData:b.Module.Event.SelectData.desc,deselectData:b.Module.Event.DeSelectData.desc},feeds:{id:"pie",configure:{pieDepthSize:null}},css:{".v-tooltip-label.viz-pie-tooltip-label-dimensions":{description:"Define style for the first label(dimension values) in tooltip.",value:{"font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"14px","font-weight":"normal",fill:"#000"}},".v-tooltip-value.viz-pie-tooltip-label-value":{description:"Define style for the second label(measure value) in tooltip.",value:{"font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"18px","font-weight":"bold",fill:"#000"}},".v-tooltip-percentage.viz-pie-tooltip-label-percentage":{description:"Define style for the third label(percentage) in tooltip.",value:{"font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"16px","font-weight":"normal",fill:"#333"}},".v-sector.viz-pie-sector":{description:"Define style for sector in pie.",value:{stroke:"transparent"}}},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiPieChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.data.feed.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Pie",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"}],function Setup(c,a){var b={id:"viz/multi_pie",name:"IDS_MULTIPIECHART",base:"riv/base/multiple",modules:{root:{modules:{legend:{data:{aa:[2]}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mouseover","mouseout","touchstart"]}}},main:{configure:{properties:{cellPadding:5}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{id:"sap.viz.modules.pie",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{valign:"center"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"polarCoordinate",visible:false,formatString:[["0.00%"],[]],automaticInOutside:false,outsideVisible:true,type:"label and value"}}}}}}}}}},feeds:{multiplier:{acceptMND:0,max:2},pieSectorSize:{max:a.Constraints.INF}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.plot.dataLabel",listener:"showLabel",sourceModule:"root.main.plot.plot",type:"initialized.datalabel"},{targetModule:"root.main.plot.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot.plot",type:"startToInit.datalabel"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiDonutChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Pie",version:"4.0.1"},{qname:"sap.viz.manifests.MultiPieChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/multi_donut",name:"IDS_MULTIDONUTCHART",base:"viz/multi_pie",modules:{root:{modules:{main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{id:"sap.viz.modules.pie",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{isDonut:true}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isDonut:true}}}}}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.modules.piewithdepth",version:"4.0.1"},[{qname:"sap.viz.modules.pie.sector",version:"4.0.1"},{qname:"sap.viz.modules.pie.selection",version:"4.0.1"},{qname:"sap.viz.modules.pie.tooltip",version:"4.0.1"},{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.base.UADetector",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.format.FormatManager",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(c,f,p,h,n,k,e,d,a,b,l,j,g,o){var m=function(w){var R=500,Q=300,M=0;var Y=null,v={};var s=Math.PI/4;var B=0,z=0,O=0,L=0,x=0,G=0,E=0;var q=d3.scale.linear();var T=n.sap32().range();var P=false;var I;var C=0;var u=k("initialized","startToInit");function K(Z){o.drawBound(Z,R,Q);I=Z;D(Z);return K}K.width=function(Z){if(!arguments.length){return R}R=Z;if(a.isExist(R)&&a.isExist(Q)){F();if(I){D(I)}}return K};K.height=function(Z){if(!arguments.length){return Q}Q=Z;if(a.isExist(R)&&a.isExist(Q)){F();if(I){D(I)}}return K};K.padding=function(Z){if(!arguments.length){return M}M=Z;if(a.isExist(R)&&a.isExist(Q)){F();if(I){D(I)}}return K};K.properties=function(Z){if(!arguments.length){return v}l.extend(true,v,Z);r();return K};K.parent=function(){return I};K.dispatch=function(Z){return u};K.afterUIComponentAppear=function(){u.initialized()};K.dataLabel=function(Z){};K.data=function(Z){if(!arguments.length){return Y}Y=Z;return K};K.colorPalette=function(Z){if(arguments.length===0){return T}T=Z;return K};K.rotate=function(Z){if(arguments.length===0){return{xAngle:0,yAngle:C*180/Math.PI}}C=Z.yAngle*Math.PI/180;D(I);return K};function r(){T=v.colorPalette;P=v.isDonut}function F(){var Z=Math.min(R,Q);B=Z/2;z=B*Math.cos(s);O=B/2.414;L=z/2.414;G=R/2;E=Q/2+Z/2-z;x=Z-2*z}function D(Z){Z.select(".v-datashapesgroup").remove();var ab=H();var aa=Z.append("g").attr("class","v-datashapesgroup");U(ab,aa)}function H(){var ab=Y.getMeasureValuesGroupDataByIdx(0);var ag=Y.getMeasureValuesGroupDataByIdx(1);var ad=0,af=0;for(var aa=0;aa<ab.values[0].rows[0].length;aa++){ad+=Math.abs(ab.values[0].rows[0][aa].val);af=Math.max(af,Math.abs(ag.values[0].rows[0][aa].val))}q.domain([0,af]).range([0,x]);var Z=[];for(var aa=0,ac=C-Math.PI/2;aa<ab.values[0].rows[0].length;aa++){var ae={startAngle:ac,endAngle:ac+Math.abs(ab.values[0].rows[0][aa].val)/ad*Math.PI*2,cy:E-q(Math.abs(ag.values[0].rows[0][aa].val)),colorValue:T[aa%T.length],val:[ab.values[0].rows[0][aa].val,ag.values[0].rows[0][aa].val],ctx:[ab.values[0].rows[0][aa].ctx,ag.values[0].rows[0][aa].ctx]};ae.topPoint1=[G+B*Math.cos(ae.startAngle),ae.cy+z*Math.sin(ae.startAngle)];ae.topPoint2=[G+B*Math.cos(ae.endAngle),ae.cy+z*Math.sin(ae.endAngle)];ae.bottomPoint1=[G+B*Math.cos(ae.startAngle),E+z*Math.sin(ae.startAngle)];ae.bottomPoint2=[G+B*Math.cos(ae.endAngle),E+z*Math.sin(ae.endAngle)];if(P){ae.topPoint4=[G+O*Math.cos(ae.startAngle),ae.cy+L*Math.sin(ae.startAngle)];ae.topPoint3=[G+O*Math.cos(ae.endAngle),ae.cy+L*Math.sin(ae.endAngle)];ae.bottomPoint4=[G+O*Math.cos(ae.startAngle),E+L*Math.sin(ae.startAngle)];ae.bottomPoint3=[G+O*Math.cos(ae.endAngle),E+L*Math.sin(ae.endAngle)]}Z.push(ae);ac=ae.endAngle}return Z}function U(ac,aa){ac.sort(function(ae,ad){var ah=W(ae.startAngle);var af=W(ae.endAngle);var ag=W(ad.startAngle);var ai=W(ad.endAngle);if(ah<Math.PI/2&&af>Math.PI/2||ah<Math.PI/2&&af<ah||ah>Math.PI/2&&af>Math.PI/2&&af<ah){return 1}if(ag<Math.PI/2&&ai>Math.PI/2||ag<Math.PI/2&&ai<ag||ag>Math.PI/2&&ai>Math.PI/2&&ai<ag){return -1}if(af<ah){return -1}if(ai<ag){return 1}return Math.max(ae.bottomPoint1[1],ae.bottomPoint2[1])-Math.max(ad.bottomPoint1[1],ad.bottomPoint2[1])});for(var Z=0;Z<ac.length;Z++){var ab=aa.append("g").attr("class","datashape");if(P){J(ac[Z],ab);V(ac[Z],ab);N(ac[Z],ab)}else{S(ac[Z],ab);V(ac[Z],ab);A(ac[Z],ab)}}u.initialized({name:"initialized"})}function W(Z){if(Z>=-Math.PI/2&&Z<=Math.PI/2*3){return Z}else{if(Z<-Math.PI/2){return W(2*Math.PI+Z)}else{if(Z>Math.PI/2*3){return W(Z-2*Math.PI)}}}}function X(aa){var Z=d3.rgb(aa).hsl();return d3.hsl(Z.h,Z.s,Z.l*0.9).rgb().toString()}function S(ac,ad){var Z,ab,af,aa;if(ac.bottomPoint1[1]>=ac.bottomPoint2[1]){Z=ac.topPoint2;ab=ac.bottomPoint2;af=ac.topPoint1;aa=ac.bottomPoint1}else{Z=ac.topPoint1;ab=ac.bottomPoint1;af=ac.topPoint2;aa=ac.bottomPoint2}var ae="M"+G+","+E+"L"+G+","+ac.cy+"L"+Z[0]+","+Z[1]+"L"+ab[0]+","+ab[1]+"z";ad.append("path").attr("d",ae).attr("fill",X(ac.colorValue));ae="M"+G+","+E+"L"+G+","+ac.cy+"L"+af[0]+","+af[1]+"L"+aa[0]+","+aa[1]+"z";ad.append("path").attr("d",ae).attr("fill",X(ac.colorValue))}function J(aa,ab){var aj,ah,af,ae,ai,ag,ad,ac;if(aa.bottomPoint1[1]>=aa.bottomPoint2[1]){aj=aa.topPoint2;ah=aa.topPoint3;af=aa.topPoint1;ae=aa.topPoint4;ai=aa.bottomPoint2;ag=aa.bottomPoint3;ad=aa.bottomPoint1;ac=aa.bottomPoint4}else{aj=aa.topPoint1;ah=aa.topPoint4;af=aa.topPoint2;ae=aa.topPoint3;ai=aa.bottomPoint1;ag=aa.bottomPoint4;ad=aa.bottomPoint2;ac=aa.bottomPoint3}var Z="M"+aj[0]+","+aj[1]+"L"+ah[0]+","+ah[1]+"L"+ag[0]+","+ag[1]+"L"+ai[0]+","+ai[1]+"z";ab.append("path").attr("d",Z).attr("fill",X(aa.colorValue));t(aa,ab);Z="M"+af[0]+","+af[1]+"L"+ae[0]+","+ae[1]+"L"+ac[0]+","+ac[1]+"L"+ad[0]+","+ad[1]+"z";ab.append("path").attr("d",Z).attr("fill",X(aa.colorValue))}function V(ab,ad){var aa=W(ab.startAngle);var ac=W(ab.endAngle);if(aa>0&&ac>aa&&ac<Math.PI){var ae="M"+ab.topPoint1[0]+","+ab.topPoint1[1]+"A"+B+","+z+" 0 0,1 "+ab.topPoint2[0]+","+ab.topPoint2[1]+"L"+ab.bottomPoint2[0]+","+ab.bottomPoint2[1]+"A"+B+","+z+" 0 0,0 "+ab.bottomPoint1[0]+","+ab.bottomPoint1[1]+"z";ad.append("path").attr("d",ae).attr("fill",X(ab.colorValue))}else{if((aa<0||aa>Math.PI)&&ac<Math.PI&&ac>0){var ae="M"+(G+B)+","+ab.cy+"A"+B+","+z+" 0 0,1 "+ab.topPoint2[0]+","+ab.topPoint2[1]+"L"+ab.bottomPoint2[0]+","+ab.bottomPoint2[1]+"A"+B+","+z+" 0 0,0 "+(G+B)+","+E+"z";ad.append("path").attr("d",ae).attr("fill",X(ab.colorValue))}else{if(aa>0&&aa<Math.PI&&(ac>Math.PI||ac<0)){var ae="M"+ab.topPoint1[0]+","+ab.topPoint1[1]+"A"+B+","+z+" 0 0,1 "+(G-B)+","+ab.cy+"L"+(G-B)+","+E+"A"+B+","+z+" 0 0,0 "+ab.bottomPoint1[0]+","+ab.bottomPoint1[1]+"z";ad.append("path").attr("d",ae).attr("fill",X(ab.colorValue))}else{if(aa<=0&&(ac>=Math.PI||ac<aa)||aa>=Math.PI&&ac>=Math.PI&&ac<aa){var ae="M"+(G+B)+","+ab.cy+"A"+B+","+z+" 0 0,1 "+(G-B)+","+ab.cy+"L"+(G-B)+","+E+"A"+B+","+z+" 0 0,0 "+(G+B)+","+E+"z";ad.append("path").attr("d",ae).attr("fill",X(ab.colorValue))}else{if(aa>0&&aa<Math.PI&&ac>0&&ac>Math.PI&&ac<aa){var Z="M"+(G+B)+","+ab.cy+"A"+B+","+z+" 0 0,1 "+ab.topPoint1[0]+","+ab.topPoint1[1]+"L"+ab.bottomPoint1[0]+","+ab.bottomPoint1[1]+"A"+B+","+z+" 0 0,0 "+(G+B)+","+E+"z";var af="M"+ab.topPoint2[0]+","+ab.topPoint2[1]+"A"+B+","+z+" 0 0,1 "+(G-B)+","+ab.cy+"L"+(G-B)+","+E+"A"+B+","+z+" 0 0,0 "+ab.bottomPoint2[0]+","+ab.bottomPoint2[1]+"z";ad.append("path").attr("d",Z).attr("fill",X(ab.colorValue));ad.append("path").attr("d",af).attr("fill",X(ab.colorValue))}}}}}}function t(Z,aa){var ac=Z.endAngle-Z.startAngle>Math.PI?"1":"0";var ab="M"+Z.topPoint4[0]+","+Z.topPoint4[1]+"A"+O+","+L+" 0 "+ac+",1 "+Z.topPoint3[0]+","+Z.topPoint3[1]+"L"+Z.bottomPoint3[0]+","+Z.bottomPoint3[1]+"A"+O+","+L+" 0 "+ac+",0 "+Z.bottomPoint4[0]+","+Z.bottomPoint4[1]+"z";aa.append("path").attr("d",ab).attr("fill",X(Z.colorValue))}function A(Z,aa){var ab="M"+G+","+Z.cy+"L"+Z.topPoint1[0]+","+Z.topPoint1[1]+"A"+B+","+z+" 0 "+(Z.endAngle-Z.startAngle>Math.PI?"1":"0")+",1 "+Z.topPoint2[0]+","+Z.topPoint2[1]+"z";aa.append("path").attr("class","v-datapoint").attr("d",ab).attr("fill",Z.colorValue).data(Z.val)}function N(Z,aa){var ab="M"+G+","+Z.cy+"L"+Z.topPoint1[0]+","+Z.topPoint1[1]+"A"+B+","+z+" 0 "+(Z.endAngle-Z.startAngle>Math.PI?"1":"0")+",1 "+Z.topPoint2[0]+","+Z.topPoint2[1]+"L"+Z.topPoint3[0]+","+Z.topPoint3[1]+"A"+O+","+L+" 0 "+(Z.endAngle-Z.startAngle>Math.PI?"1":"0")+",0 "+Z.topPoint4[0]+","+Z.topPoint4[1]+"z";aa.append("path").attr("class","v-datapoint").attr("d",ab).attr("fill",Z.colorValue).data(Z.val)}v=w.props(null);return K};return m});sap.riv.module({qname:"sap.viz.modules.manifests.PieWithDepth",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.piewithdepth",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Pie",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.piewithdepth",base:"sap.viz.modules.pie",name:"piewithdepth",feeds:{id:"pie",configure:null},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.BaseSingleChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Background",version:"4.0.1"}],function Setup(b){var a={id:"riv/base/single",name:"IDS_BASESINGLECHART",base:"riv/base","abstract":true,modules:{root:{configure:{propertyCategory:"general"},modules:{main:{id:"sap.viz.modules.xycontainer"}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.pie.PieChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseSingleChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Pie",version:"4.0.1"},{qname:"sap.viz.modules.manifests.DataLabel",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"}],function Setup(b){var a={id:"viz/pie",name:"IDS_PIECHART",base:"riv/base/single",modules:{root:{modules:{legend:{data:{aa:[1]}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mouseover","mouseout","touchstart"]}}},main:{modules:{plot:{id:"sap.viz.modules.pie",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"polarCoordinate",visible:false,type:"label and value",formatString:[["0.00%"],[]],automaticInOutside:false,outsideVisible:true}}}}}}}},dependencies:{attributes:[{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.pie.PieWithDepthChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.pie.PieChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.PieWithDepth",version:"4.0.1"},{qname:"sap.viz.modules.manifests.DataLabel",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Rotate",version:"4.0.1"}],function Setup(b){var a={id:"viz/pie_with_depth",name:"IDS_PIEWITHDEPTHCHART",base:"riv/base/single",modules:{root:{modules:{legend:{data:{aa:[1]}},rotate:{id:"sap.viz.modules.controller.rotate",configure:{clientID:"main",propertyCategory:"rotate"}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove","touchstart"],selectability:{mode:"multiple",selectWithCtrlKey:true},preserveSelectionWhenDragging:true}}},main:{modules:{plot:{id:"sap.viz.modules.piewithdepth",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},dependencies:{attributes:[{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.rotate",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.rotate"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.pie.DonutWithDepthChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.pie.PieWithDepthChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/donut_with_depth",name:"IDS_DONUTWITHDEPTHCHART",base:"viz/pie_with_depth",modules:{root:{modules:{main:{modules:{plot:{configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{isDonut:true}}}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.pie.DonutChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.pie.PieChart",version:"4.0.1"}],function Setup(b){var a={id:"viz/donut",name:"IDS_DONUTCHART",base:"viz/pie",modules:{root:{modules:{main:{modules:{plot:{configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{isDonut:true}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isDonut:true}}}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiLineChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Line",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_line",name:"IDS_MULTILINECHART",base:"riv/base/multiple/xy",modules:{root:{modules:{legend:{data:{aa:[3]}},tooltip:{configure:{properties:{chartType:"line",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction"}},main:{configure:{properties:{mergeDataRange:["primary"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart.",propertyCategory:"xAxis",properties:{title:{visible:false},gridline:{visible:false},type:"category",position:"bottom"},propertiesOverride:{title:{isExported:false},gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"yAxis",properties:{type:"value",position:"left"},propertiesOverride:{title:{isExported:false}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",automaticInOutside:false,orientation:"vertical",outsidePosition:"up",positionPreference:true}}},plot:{id:"sap.viz.modules.line",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"getColorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapePalette"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main",type:"initialized.interaction"},{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main",type:"hideTooltip"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.plot.dataLabel",listener:"showLabel",sourceModule:"root.main.plot.plot",type:"initialized.datalabel"},{targetModule:"root.main.plot.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot.plot",type:"startToInit.datalabel"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiHorizontalLineChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.HorizontalLine",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiLineChart",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_horizontal_line",name:"IDS_MULTIHORIZONTALLINECHART",base:"viz/multi_line",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"horizontalline",orientation:"left"}}},main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{background:{configure:{properties:{direction:"horizontal"}}},xAxis:{id:"sap.viz.modules.axis",data:null,configure:{description:"Settings for the value axis of an XY chart.",properties:{type:"value",gridline:{visible:true}},propertiesOverride:{gridline:{isExported:true},label:{isExported:true},axisline:{isExported:true}}}},yAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart.",properties:{type:"category",gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",automaticInOutside:false,orientation:"horizontal",outsidePosition:"right",positionPreference:true}}},plot:{id:"sap.viz.modules.horizontalline",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"getColorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapePalette"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiDualHorizontalLineChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Line",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiHorizontalLineChart",version:"4.0.1"}],function Setup(b,a){var c={id:"viz/multi_dual_horizontal_line",name:"IDS_MULTIDUALHORIZONTALLINECHART",base:"viz/multi_horizontal_line",modules:{root:{modules:{main:{configure:{properties:{mergeDataRange:["primary","second"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis."}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"xAxis2",properties:{title:{visible:false},type:"value",position:"top"},propertiesOverride:{title:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1,acceptMND:-1},regionColor:{acceptMND:1}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main",target:"secondDataRange",sourceModule:"root.main.plot.plot",source:"secondDataRange"},{targetModule:"root.main.plot.plot",target:"secondDataRange",sourceModule:"root.main",source:"secondDataRange"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.xAxis2",target:"scale",sourceModule:"root.main.plot.plot",source:"secondaryScale"},{targetModule:"root.main.plot.xAxis2",target:"title",sourceModule:"root.main.plot.plot",source:"secondAxisTitle"},{targetModule:"root.main.plot.xAxis",target:"color",sourceModule:"root.main.plot.plot",source:"primaryAxisColor"},{targetModule:"root.main.plot.xAxis2",target:"color",sourceModule:"root.main.plot.plot",source:"secondAxisColor"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"getColorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapePalette"}]}};b.register(c)});sap.riv.module({qname:"sap.viz.manifests.MultiDualLineChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.xy.Line",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiLineChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.1"}],function Setup(c,b){var a={id:"viz/multi_dual_line",name:"IDS_MULTIDUALLINECHART",base:"viz/multi_line",modules:{root:{modules:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"selectability"}},main:{configure:{properties:{mergeDataRange:["primary","second"]}},modules:{plot:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis."}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"yAxis2",properties:{title:{visible:false},gridline:{visible:false},type:"value",position:"right"},propertiesOverride:{title:{isExported:false}}}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1,acceptMND:-1},regionColor:{acceptMND:1}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"primaryDataRange",sourceModule:"root.main.plot.plot",source:"primaryDataRange"},{targetModule:"root.main.plot.plot",target:"primaryDataRange",sourceModule:"root.main",source:"primaryDataRange"},{targetModule:"root.main",target:"secondDataRange",sourceModule:"root.main.plot.plot",source:"secondDataRange"},{targetModule:"root.main.plot.plot",target:"secondDataRange",sourceModule:"root.main",source:"secondDataRange"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"primaryScale"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"primaryAxisTitle"},{targetModule:"root.main.plot.yAxis2",target:"scale",sourceModule:"root.main.plot.plot",source:"secondaryScale"},{targetModule:"root.main.plot.yAxis2",target:"title",sourceModule:"root.main.plot.plot",source:"secondAxisTitle"},{targetModule:"root.main.plot.yAxis",target:"color",sourceModule:"root.main.plot.plot",source:"primaryAxisColor"},{targetModule:"root.main.plot.yAxis2",target:"color",sourceModule:"root.main.plot.plot",source:"secondAxisColor"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"categoryScale"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"getColorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapePalette"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main",type:"initialized.interaction"},{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main",type:"hideTooltip"}]}};c.register(a)});sap.riv.module({qname:"sap.viz.feeds.Scatter",version:"4.0.1"},[{qname:"sap.viz.feeds.Manifest",version:"4.0.1"},{qname:"sap.viz.data.feed.Constants",version:"4.0.1"}],function Setup(c,b){var a={id:"scatter",feeds:[{id:"regionColor",name:"IDS_REGIONCOLOR",type:b.Type.Dimension,min:0,max:1,aaIndex:1,acceptMND:-1},{id:"regionShape",name:"IDS_REGIONSHAPE",type:b.Type.Dimension,min:0,max:1,aaIndex:2,acceptMND:-1},{id:"primaryValues",name:"IDS_PRIMARYVALUES",type:b.Type.Measure,min:1,max:1,mgIndex:1},{id:"secondaryValues",name:"IDS_SECONDARYVALUES",type:b.Type.Measure,min:1,max:1,mgIndex:2},{id:"bubbleWidth",name:"IDS_BUBBLEWIDTH",type:b.Type.Measure,min:0,max:1,mgIndex:3},{id:"bubbleHeight",name:"IDS_BUBBLEHEIGHT",type:b.Type.Measure,min:0,max:1,mgIndex:4}]};c.register(a)});sap.riv.module({qname:"sap.viz.modules.bubble",version:"4.0.1"},[{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.ShapeSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.modules.util.lassoSelection",version:"4.0.1"},{qname:"sap.viz.util.Scaler",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.DrawUtil",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.format.FormatManager",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"},{qname:"sap.viz.modules.util.dataUtil",version:"4.0.1"}],function Setup(k,e,d,a,c,g,o,q,m,n,f,b,l,j,f,p,h){return function(O,af){var I="v-marker-selected",aI="v-marker-hover",J="v-datapoint",aw="v-m-tooltip",R="0.4",Q="0.8";var s=500,w=300,aC=0;var aG=null,am={};var W=d3.scale.linear();var ay=d3.scale.linear();var ax,A;var u,aj,aA,Z,ag,aE,az,X;var al=c.guid();function ai(){u=0;aj=Number.MAX_VALUE;aA=0;Z=Number.MAX_VALUE;ag=0;aE=0;az=0;X=0}ai();var B;var S=1/6;var an=e.sap32().range(),ab=d.sapShapes().range();var aH=[];var aD,aB,C,z,au,at;var M=[];var Y=true,L=true;var aa={stroke:"#ffffff","stroke-width":1};var t={stroke:"#333333","stroke-width":1};var aq=1000;var ae=true;var V=new k("selectData","deselectData","showTooltip","hideTooltip","initialized","startToInit");var r;var x=null;var ak="normal";var ad=af.effectManager;var E=10;var aK=false;var H;var aF=false,aJ=false,K=false;var ao,P;function D(){var aM=false;if(ae){aM=am.animation.dataLoading}else{if(K){aM=am.animation.dataUpdating}else{if(aJ){aM=am.animation.resizing}}}return aM}function ah(aN,aM){ao=aN;P=aM}function G(aM){if(ao!==undefined&&P!==undefined){if(!aJ){aJ=ao!==s||P!==w}}ah(s,w);p.drawBound(aM,s,w);r=aM;N(aM);ae=false;aF=false,aJ=false,K=false;return G}G.width=function(aM){if(!arguments.length){return s}s=aM;if(a.isExist(s)&&a.isExist(w)&&a.isExist(aG)){F()}return G};G.height=function(aM){if(!arguments.length){return w}w=aM;if(a.isExist(s)&&a.isExist(w)&&a.isExist(aG)){F()}return G};G.afterUIComponentAppear=function(){V.initialized()};G.padding=function(aM){if(!arguments.length){return aC}aC=aM;if(a.isExist(s)&&a.isExist(w)&&a.isExist(aG)){F()}return G};G.valueAxis1Scale=function(aM){if(!arguments.length){return W}W=aM;return G};G.valueAxis2Scale=function(aM){if(!arguments.length){return ay}ay=aM;return G};G.valueAxis1DataRange=function(aM){if(!arguments.length){return{min:aE,max:ag}}ag=aM.max;aE=aM.min;if(a.isExist(s)&&a.isExist(w)){F()}return G};G.valueAxis2DataRange=function(aM){if(!arguments.length){return{min:X,max:az}}az=aM.max;X=aM.min;if(a.isExist(s)&&a.isExist(w)){F()}return G};G.bubbleWidthDataRange=function(aM){if(!arguments.length){return{distinctValuesObj:B,min:aj,max:u}}u=aM.max;aj=aM.min;B=aM.distinctValuesObj;if(a.isExist(s)&&a.isExist(w)){F()}return G};G.bubbleHeightDataRange=function(aM){if(!arguments.length){return{min:Z,max:aA}}aA=aM.max;Z=aM.min;if(a.isExist(s)&&a.isExist(w)){F()}return G};G.colorPalette=function(aM){if(!arguments.length){return an}an=aM;return G};G.shapes=function(aM){if(!arguments.length){return ab}ab=aM;return G};G.sizeLegend=function(){var aN=aG.getMeasureValuesGroupDataByIdx(3);var aM=(a.isExist(aN)&&aN.values.length>0);return{bubbleScale:S,space:aC,scale:ax,data:ac(),title:x,hasHeightFeed:aM}};G.dispatch=function(aM){if(!arguments.length){return V}V=aM;return this};G.dataLabel=function(aM){};G.data=function(aM){if(!arguments.length){return aG}K=true;aF=false;if(!h().hasSameSchema(aG,aM)){aF=true}aG=aM;if(a.isExist(s)&&a.isExist(w)&&a.isExist(aG)){av();F()}return G};G.valueAxis1Title=function(aN){if(!arguments.length){var aQ=aG.getMeasureValuesGroupDataByIdx(0),aP=[];if(aQ){for(var aO=0,aM=aQ.values.length;aO<aM;aO++){if(aQ.values[aO].col!==null&&aQ.values[aO].col!==undefined){aP.push(aQ.values[aO].col)}else{aP.push(f.get("IDS_ISNOVALUE"))}}}return aP.join("/")}return this};G.valueAxis2Title=function(aN){if(!arguments.length){var aQ=aG.getMeasureValuesGroupDataByIdx(1),aP=[];if(aQ){for(var aO=0,aM=aQ.values.length;aO<aM;aO++){if(aQ.values[aO].col!==null&&aQ.values[aO].col!==undefined){aP.push(aQ.values[aO].col)}else{aP.push(f.get("IDS_ISNOVALUE"))}}}return aP.join("/")}return this};G.properties=function(aM){if(!arguments.length){return am}l.extend(true,am,aM);ar();return G};function ar(){an=am.colorPalette;ab=am.shapePalette;Y=am.axisTooltip.visible;L=am.hoverline.visible;ak=am.drawingEffect;H=am.axisTooltip.formatString;var aM=am.markerSize;E=a.isExist(aM)&&aM<=32&&aM>=4?aM:E;if(am.xScaleType&&am.xScaleType==="log"){W=d3.scale.log()}}function av(){ai();var aV=aG.getMeasureValuesGroupDataByIdx(0);var aU=aG.getMeasureValuesGroupDataByIdx(1);var aP=aG.getMeasureValuesGroupDataByIdx(2);var aT=aG.getMeasureValuesGroupDataByIdx(3);B={};for(var aN=0;aN<aV.values[0].rows.length;aN++){for(var aM=0;aM<aV.values[0].rows[aN].length;aM++){var aR=aV.values[0].rows[aN][aM].val;var aQ=aU.values[0].rows[aN][aM].val;if(m.isNoValue(aR)||m.isNoValue(aQ)){continue}var aS=aP&&aP.values.length&&a.isExist(aP.values[0].rows[aN][aM].val)?Math.abs(aP.values[0].rows[aN][aM].val):null;var aO;if(aT&&aT.values.length){if(a.isExist(aT.values[0].rows[aN][aM].val)){aO=Math.abs(aT.values[0].rows[aN][aM].val)}else{aO=null}}else{aO=aS}if(!m.isNoValue(aS)){B[aS]=""}ag=aR>ag?aR:ag;aE=aR<aE?aR:aE;az=aQ>az?aQ:az;X=aQ<X?aQ:X;u=aS>u?aS:u;aj=aS<aj?aS:aj;aA=aO>aA?aO:aA;Z=aO<Z?aO:Z}}}function F(){var aM=aG.getMeasureValuesGroupDataByIdx(2);var aO=aG.getMeasureValuesGroupDataByIdx(3);if(am.xScaleRange){W.domain([am.xScaleRange.min,am.xScaleRange.max]).range([aC,s-aC]).nice()}else{if(ag===0&&aE===0){W.domain([0,1]).range([aC,s-aC]).nice()}else{W.domain([aE*(1+S),ag*(1+S)]).range([aC,s-aC]).nice()}}q.perfect(W);if(az===0&&X===0){ay.domain([0,1]).range([w-aC,aC]).nice()}else{ay.domain([X*(1+S),az*(1+S)]).range([w-aC,aC]).nice()}q.perfect(ay);var aN;if(aM&&aM.values.length&&u!==aj){if(am.wScaleMax){ax=U(am.wScaleMax,true,aO)}else{ax=U(u,true,aO)}x=aM.values[0].col}else{ax=function(aP){return E}}if(aO&&aO.values.length&&aA!==Z){A=U(aA,false)}else{if(ax&&aA>Z){A=ax}else{A=function(aP){return E}}}}function N(bj){if(aD){aD.remove()}if(aB){aB.remove()}V.startToInit();var bf;var a5=d3.select(bj.node().ownerSVGElement.parentNode);if(Y&&a5.select("svg.sc-tooltip-x").node()===null){a5.append("svg").style("position","absolute").attr("class","sc-tooltip-x "+aw).attr("pointer-events","none").attr("width","0").attr("height",0)}C=a5.select("svg.sc-tooltip-x");if(Y&&a5.select("svg.sc-tooltip-y").node()===null){a5.append("svg").style("position","absolute").attr("class","sc-tooltip-y "+aw).attr("pointer-events","none").attr("width","0").attr("height",0)}z=a5.select("svg.sc-tooltip-y");var bc=aG.getMeasureValuesGroupDataByIdx(0);var bb=aG.getMeasureValuesGroupDataByIdx(1);var aO=aG.getMeasureValuesGroupDataByIdx(2);var aN=aG.getMeasureValuesGroupDataByIdx(3);var aT=aG.getAnalysisAxisDataByIdx(0);var aR=aG.getAnalysisAxisDataByIdx(1);var bd="edge-clip-"+al;aB=bj.append("defs");aB.append("clipPath").attr("id",bd).append("rect").attr("width",s).attr("height",w);aD=bj.append("g").attr("class","v-datashapesgroup");aD.attr("clip-path","url(#"+bd+")");aD.append("rect").attr("x",0).attr("y",0).attr("width",s).attr("height",w).attr("fill-opacity",0).attr("id","event-rect"+al);var a3=af.styleManager.queryDefault("v-hoverline");au=aD.append("line").attr("id","cross-x-"+al).attr("class","v-hoverline").attr("stroke-width",1).attr("stroke",a3.stroke).attr("shape-rendering","crispEdges").attr("visibility","hidden");at=aD.append("line").attr("id","cross-y-"+al).attr("class","v-hoverline").attr("stroke-width",1).attr("stroke",a3.stroke).attr("shape-rendering","crispEdges").attr("visibility","hidden");var a0=0;var bi={};function aU(bm,bo,bp){for(var bl=0;bl<bc.values[0].rows[bm].length;bl++){var bt=(aT&&aT.values.length>0)?aT.values[0].rows[bl].val:0;var bk;if(bi[bt]){bk=bi[bt]}else{bk=an[a0%an.length];bi[bt]=bk;a0++}var br=bc.values[0].rows[bm][bl].val;var bq=bb.values[0].rows[bm][bl].val;var bs=aO&&aO.values.length?aO.values[0].rows[bm][bl].val:null;var bn=aN&&aN.values.length?aN.values[0].rows[bm][bl].val:null;var bu={x:br,y:bq,w:bs,h:bn,colorIndex:bl,shapeIndex:bm,colorValue:bk,shapeValue:bo,val:[br,bq,bs,bn],ctx:[bc.values[0].rows[bm][bl].ctx,bb.values[0].rows[bm][bl].ctx,aO&&aO.values.length?aO.values[0].rows[bm][bl].ctx:null,aN&&aN.values.length?aN.values[0].rows[bm][bl].ctx:null]};if(!m.isNoValue(br)&&!m.isNoValue(bq)){bp.push(bu)}}}var aQ=[];var bh;if(aR&&aR.values.length>0){bf=0;for(var aX=0,be={};bf<aR.values[0].rows.length;bf++){var aM=aR.values[0].rows[bf].val;if(be[aM]){bh=be[aM]}else{bh=ab[aX%ab.length];be[aM]=bh;aX++}aU(bf,bh,aQ)}}else{aU(0,ab[0],aQ)}aQ.sort(function(bm,bk){var bl=bm.h===null?bm.w:bm.h;var bn=bk.h===null?bk.w:bk.h;return Math.abs(bk.w*bn)-Math.abs(bm.w*bl)});var aP=0;aK=false;T();function a8(bl,bk){aP++;if(aP===aQ.length){aK=true;V.initialized()}}var aW=D();for(bf=0;bf<aQ.length;bf++){var a6=aQ[bf].x,a4=aQ[bf].y,a7=aQ[bf].w,bg=aN&&aN.values.length?aQ[bf].h:a7,ba=aQ[bf].colorValue;bh=aQ[bf].shapeValue;var aV;var a2=ax(a7)/2,aZ=A(bg)/2;var a9=0;if(aW){a9=aq}var a1=aD.append("g").attr("class","v-datashape").attr("transform","translate("+W(a6)+","+ay(a4)+")");var aS=n.createElements(a1,{shape:bh,className:aI+" "+J});var aY={drawingEffect:ak,fillColor:ba,graphType:bh,direction:"vertical",rx:a2,ry:aZ,borderWidth:aa["stroke-width"],borderColor:aa.stroke,node:aS,visibility:"visible",animateTime:a9,endFunc:a8};n.drawGraph(aY,ad).attr("opacity",Q)}bj.selectAll("."+aI).data(aQ);if(!aW){aK=true;V.initialized()}}function U(aN,aM,aO){return function(aR){if(m.isNoValue(aR)){return 4}var aP;if(aM){aP=!aO&&w<s?w:s}else{aP=w}var aQ=Math.pow(Math.abs(aR)/aN,0.5)*(aP-aC)*S;return aQ>4?aQ:4}}function ac(){var aM=0;for(var aN in B){if(B.hasOwnProperty(aN)){aM++}}if(aM===0){return[]}else{if(aM===1){return[u]}else{if(aM===2){return[u,aj]}else{return[u,(u+aj)/2,aj]}}}}G.parent=function(){return r};G.mouseover=function(aN){var aM=d3.select(aN);if(aM===undefined||aM.node()===null||!aK){return}if(aM.attr("id")!==null&&(aM.attr("id")===("event-rect"+al)||aM.attr("id").indexOf("cross-x-")>=0||aM.attr("id").indexOf("cross-y-")>=0)){return}var aO=aM.datum();aM.attr("opacity","1");if(L){au.attr("visibility","visible").attr("x1",0).attr("y1",ay(aO.y)).attr("x2",s).attr("y2",ay(aO.y));at.attr("visibility","visible").attr("x1",W(aO.x)).attr("y1",0).attr("x2",W(aO.x)).attr("y2",w)}aL(aO,r[0][0].getTransformToElement(r[0][0].ownerSVGElement))};G.mouseout=function(aO,aM){var aN=d3.select(aO);if(aN===undefined||aN.node()===null||!aK){return}if(aN.attr("id")===("event-rect"+al)){return}if(aM){aN.attr("opacity",Q)}else{aN.attr("opacity",R)}au.attr("visibility","hidden");at.attr("visibility","hidden");T()};function aL(aO,aP){var a1=aG.getMeasureValuesGroupDataByIdx(0);var a0=aG.getMeasureValuesGroupDataByIdx(1);var aU=aG.getMeasureValuesGroupDataByIdx(2);var aZ=aG.getMeasureValuesGroupDataByIdx(3);var aW=aG.getAnalysisAxisDataByIdx(0);var aT=aG.getAnalysisAxisDataByIdx(1);var aM={body:[],footer:[]};var aX;for(var aR=0,aS=(aW?aW.values.length:0);aR<aS;aR++){aX={};aX.label=aW.values[aR].col.val;aX.value=aW.values[aR].rows[aO.colorIndex].val;aM.footer.push(aX)}for(var aQ=0,aY=(aT?aT.values.length:0);aQ<aY;aQ++){aX={};aX.label=aT.values[aQ].col.val;aX.value=aT.values[aQ].rows[aO.shapeIndex].val;aM.footer.push(aX)}aM.body.push({name:!a.isExist(a1.values[0].col)?f.get("IDS_ISNOVALUE"):a1.values[0].col,val:[{color:aO.colorValue,shape:aO.shapeValue,value:aO.x}]});aM.body.push({name:!a.isExist(a0.values[0].col)?f.get("IDS_ISNOVALUE"):a0.values[0].col,val:[{color:aO.colorValue,shape:aO.shapeValue,value:aO.y}]});if(aU&&aU.values.length>0){aM.body.push({name:!a.isExist(aU.values[0].col)?f.get("IDS_ISNOVALUE"):aU.values[0].col,val:[{color:aO.colorValue,shape:aO.shapeValue,value:m.isNoValue(aO.w)?f.get("IDS_ISNOVALUE"):aO.w}]})}if(aZ&&aZ.values.length>0){aM.body.push({name:!a.isExist(aZ.values[0].col)?f.get("IDS_ISNOVALUE"):aZ.values[0].col,val:[{color:aO.colorValue,shape:aO.shapeValue,value:m.isNoValue(aO.h)?f.get("IDS_ISNOVALUE"):aO.h}]})}aM.point={x:W(aO.x),y:ay(aO.y)+aP.f};aM.plotArea={x:aP.e,y:aP.f,width:s,height:w};V.showTooltip(b.formatTooltipData(aM));if(Y){var aV,aN;if(a.isExist(H)){aV=j.format(aO.x,H[0]);aN=j.format(aO.y,H[1])}else{aV=aO.x;aN=aO.y}ap(aV,C,{x:W(aO.x),y:ay(aO.y)},aP,"x");ap(aN,z,{x:W(aO.x),y:ay(aO.y)},aP,"y")}}function T(){V.hideTooltip();if(Y){C.selectAll("g").remove();z.selectAll("g").remove()}}function ap(aR,aN,aM,aP,aQ){var aO={size:"12px",weight:"bold",family:'"Open Sans", Arial, Helvetica, sans-serif'};var aS=g.fastMeasure(aR,aO.size,aO.weight,aO.family);aN.attr("width",aS.width+20).attr("height",aS.height+10);aN.wrapper=aN.append("g");aN.wrapper.append("rect").attr("x",1).attr("y",1).attr("rx",4).attr("ry",4).attr("width",aS.width+18).attr("height",aS.height+8).attr("fill","#ffffff").attr("stroke","#000000").attr("stroke-width",1).attr("class","v-background");aN.wrapper.append("text").attr("x",10).attr("y",aS.height+3).attr("fill","#000000").style("font",aO.weight+" "+aO.size+" "+aO.family).attr("class","v-body-value").text(aR);if("y"===aQ){aN.style("left",aP.e-aN.attr("width")+1+"px").style("top",(aM.y+aP.f-aN.attr("height")/2)+"px")}else{if("x"===aQ){aN.style("left",aM.x+aP.e-aN.attr("width")/2+"px").style("top",aP.f+w-1+"px")}}}function v(aM){var aT=aG.getMeasureValuesGroupDataByIdx(0);var aS=aG.getMeasureValuesGroupDataByIdx(1);var aO=aG.getMeasureValuesGroupDataByIdx(2);var aQ=aG.getMeasureValuesGroupDataByIdx(3);var aU=[];for(var aN=0;aN<aM.length;aN++){var aP=aM[aN].colorIndex;var aR=aM[aN].shapeIndex;aU.push([aT.values[0].rows[aR][aP],aS.values[0].rows[aR][aP],aO&&aO.values.length>0?aO.values[0].rows[aR][aP]:null,aQ&&aQ.values.length>0?aQ.values[0].rows[aR][aP]:null])}return aU}G.highlight=function(aN){if(a.isArray(aN)){for(var aO=0,aM=aN.length;aO<aM;aO++){d3.select(aN[aO]).attr("class",I+" "+J).attr("opacity",Q).attr("stroke",t.stroke).attr("stroke-width",t["stroke-width"])}}else{d3.select(aN).attr("class",I+" "+J).attr("opacity",Q).attr("stroke",t.stroke).attr("stroke-width",t["stroke-width"])}};G.unhighlight=function(aN){if(a.isArray(aN)){for(var aO=0,aM=aN.length;aO<aM;aO++){d3.select(aN[aO]).attr("class",aI+" "+J).attr("opacity",R).attr("stroke",aa.stroke).attr("stroke-width",aa["stroke-width"])}}else{d3.select(aN).attr("class",aI+" "+J).attr("opacity",R).attr("stroke",aa.stroke).attr("stroke-width",aa["stroke-width"])}};G.clear=function(aM){var aN=r.selectAll("."+J).attr("class",aI+" "+J).attr("stroke",aa.stroke).attr("stroke-width",aa["stroke-width"]);if(aM){aN.attr("opacity",R)}else{aN.attr("opacity",Q)}};am=O.props(null);return G}});sap.riv.module({qname:"sap.viz.modules.manifests.Bubble",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.bubble",version:"4.0.1"},{qname:"sap.viz.feeds.Scatter",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.bubble",type:b.Module.Type.Chart,name:"bubble",data:"DATA STRUCTURE DOC",properties:{colorPalette:{name:"colorPalette",supportedValueType:"StringArray",defaultValue:b.SAPColor,description:"Set marker color of bubble."},shapePalette:{name:"shapePalette",supportedValueType:"StringArray",defaultValue:["circle","square","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"],supportedValues:["circle","square","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"],description:"Set marker shape of bubble."},axisTooltip:{name:"axisTooltip",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"enabled/disabled tooltip."},formatString:{name:"formatString",supportedValueType:"StringArray",defaultValue:null,description:"Set format string for small tooltip.The first one is applied to xAxis and the second one is applied to yAxis"}},description:"Set tooltip related properties."},hoverline:{name:"hoverline",supportedValueType:"Object",description:"Settings for hoverline properties.",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set to enabled/disabled hoverline or not."}}},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data loading animation of plot area."},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data updating animation of plot area."},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable resizing animation of plot area."}},description:"Set animation of bubble/scatter."},drawingEffect:{name:"drawingEffect",supportedValueType:"List",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Drawing effect of bubble marker.",isExported:true}},css:{".v-hoverline":{description:"Define style for hover line color.",value:{stroke:"#cccccc"}}},events:{initialized:b.Module.Event.Initialized.desc,selectData:b.Module.Event.SelectData.desc,deselectData:b.Module.Event.DeSelectData.desc,showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},feeds:{id:"scatter",configure:{bubbleWidth:{min:1}}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.manifests.Scatter",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Bubble",version:"4.0.1"}],function Setup(c,b){var a={id:"sap.viz.modules.scatter",base:"sap.viz.modules.bubble",name:"scatter",properties:{markerSize:{name:"markerSize",supportedValueType:"PositiveInt",defaultValue:"10",description:"Set marker size of data point. The available range is from 4 to 32."}},feeds:{configure:{bubbleWidth:null,bubbleHeight:null}}};c.register(a)});sap.riv.module({qname:"sap.viz.modules.manifests.ScatterInMatrix",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Scatter",version:"4.0.1"}],function Setup(c,b){var a={id:"sap.viz.modules.scatterInMatrix",base:"sap.viz.modules.scatter",name:"scatterInMatrix",feeds:null};c.register(a)});sap.riv.module({qname:"sap.viz.feeds.ScatterMatrix",version:"4.0.1"},[{qname:"sap.viz.feeds.Manifest",version:"4.0.1"},{qname:"sap.viz.data.feed.Constants",version:"4.0.1"}],function Setup(c,b){var a={id:"scattermatrix",feeds:[{id:"regionColor",name:"IDS_REGIONCOLOR",type:b.Type.Dimension,min:0,max:1,aaIndex:1,acceptMND:-1},{id:"regionShape",name:"IDS_REGIONSHAPE",type:b.Type.Dimension,min:0,max:1,aaIndex:2,acceptMND:-1},{id:"primaryValues",name:"IDS_PRIMARYVALUES",type:b.Type.Measure,min:2,max:b.Constraints.INF,mgIndex:1}]};c.register(a)});sap.riv.module({qname:"sap.viz.modules.scattermatrixcontainer",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.modules.layout",version:"4.0.1"},{qname:"sap.viz.data.handler.MultiChartDataHandler",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"},{qname:"sap.viz.util.ignite",version:"4.0.1"},{qname:"sap.viz.util.fn.createContext",version:"4.0.1"},{qname:"sap.viz.modules.util.dataUtil",version:"4.0.1"}],function Setup(a,k,g,d,b,m,e,h,c,l,j,n,f){return function(F,L){var p=0,r=0,T=0,aa=0,q={},ab={},W={},N={},v={},E=null,J=null,af=[];var M=true;var ac=false;var I=new h("initialized","showTooltip","hideTooltip"),B=0;var Z={};var z;var u=F.props(null);var t=0;var V,R;var ad=function(ah){if(ah===null||ah===undefined){return c.get("IDS_ISNOVALUE")}else{return ah}};var S={dataLoading:true,dataUpdating:true,resizing:true};var K=true,A=false;var Y="plotArea";function O(aj){var al={};var ai=(al[Y]={});var am=(ai.animation={});k.extend(am,S);if(!aj&&A){am.dataLoading=S.dataUpdating}var an=N.plot;for(var ak=0,ah=an.length;ak<ah;ak++){an[ak].properties(al)}}function G(){var ah=L.styleManager.query("v-subtitle");if(ah){if(ah.fill){Z.fill=ah.fill}if(ah["font-family"]){Z.family=ah["font-family"]}if(ah["font-size"]){Z.size=ah["font-size"]}if(ah["font-weight"]){Z.weight=ah["font-weight"]}}z=L.styleManager.queryDefault("v-subtitle")}function ae(){var an=W.modules.plot;if(!an){return}delete N.plot;N.plot=[];if(R){R.styleManager.cleanChildren()}var ah=ab.getMeasureValuesGroupDataByIdx()[0].values.length;for(var al=0;al<ah;al++){for(var ak=0;ak<ah;ak++){var aj=ak*ah+al;if(!V||!R){V=m.get(an.id);R=n(V,L,"v-m-plot")}var am=N.plot[aj]=j(V,R);am.config(an);B++;if(am.dispatch){var ai=am.dispatch();if(ai.initialized){ai.on("initialized.scattermatrixcontainer",D)}if(ai.showTooltip){ai.on("showTooltip.scattermatrixcontainer",ag)}if(ai.hideTooltip){ai.on("hideTooltip.scattermatrixcontainer",H)}}}}}function o(){if(a.isExist(q.multiLayout)&&a.isExist(q.multiLayout.plotTitle)&&a.isExist(q.multiLayout.plotTitle.visible)){M=q.multiLayout.plotTitle.visible;u.plotTitle.visible=q.multiLayout.plotTitle.visible}var al=N.plot;if(al){var ak=W.modules.plot;if(!ak){return}var aj;if(ak.configure){if(ak.configure.propertyCategory){aj=k.extend(true,{},q[ak.configure.propertyCategory])}}else{aj=q}for(var ai=0,ah=al.length;ai<ah;ai++){if(aj){al[ai].properties(aj)}}}G()}function s(){if(af){for(var ak=0;ak<af.length;++ak){var ai=af[ak].shape;if(ai){ai.remove()}}}af=[];J=new b(ab,"measures");var ah=ab.getMeasureValuesGroupDataByIdx()[0].values.length;for(var am=0;am<ah;am++){for(var al=0;al<ah;al++){var ao=J.getSubDataAdapterByMeasures({row:al,col:am});var an=N.plot[al*ah+am];an.data(ao);var aj=af[al*ah+am];if(!aj){aj=af[al*ah+am]={}}aj.empty=(am==al);aj.label=(am==al?ad(ao.getMeasureValuesGroupDataByIdx(0).values[0].col):ad(ao.getMeasureValuesGroupDataByIdx(0).values[0].col)+" - "+ad(ao.getMeasureValuesGroupDataByIdx(1).values[0].col))}}}function C(){delete v.plot;E.select(".v-m-plot").remove();if(N.plot&&!v.plot){var al=v.plot=[];var aj=v.plotRoot=E.append("g").attr("class","v-m-plot");for(var ak=0,ai=N.plot.length;ak<ai;ak++){al[ak]=aj.append("g").attr("class","v-m-plot"+ak);var am=N.plot[ak];var an=am.parent(al[ak]).modules();for(var ah in an){if(an.hasOwnProperty(ah)){N["plot["+ak+"]."+ah]=an[ah]}}}}}function x(){if(a.isEmptyObject(W)){g.error("Container configuration missing")}B=0;ae();o();s();C()}function X(){if(a.isEmptyObject(N)||!p||!r){return}G();var ai=ab.getMeasureValuesGroupDataByIdx()[0].values.length;T=p/ai;aa=r/ai;var ah=P();var an=ah.height;if(!M||ah.width>T||ah.height>aa/3){ah.height=0;ac=true}for(var al=0;al<ai;al++){for(var ak=0;ak<ai;ak++){var am=N.plot[ak*ai+al];var aj=v.plot[ak*ai+al];am.width(T).height(aa-an);aj.attr("transform","translate("+(T*al)+","+(aa*ak)+")")}}}function U(ah){ah.each(function(ai){if(!K&&A){O()}t=0;E=ah;l.drawBound(ah,p,r);if(a.isEmptyObject(N)){x()}X();Q();if(!K&&A){O(true)}});K=false,A=false;return U}U.width=function(ah){if(!arguments.length){return p}if(p!==ah){p=ah;X()}return U};U.height=function(ah){if(!arguments.length){return r}if(r!==ah){r=ah;X()}return U};U.size=function(ah){if(!arguments.length){return{width:p,height:r}}if(r!==ah.height||p!==ah.width){r=ah.height;p=ah.width;X()}return U};U.data=function(ai){if(!arguments.length){return ab}A=true;var ah=false;if(!f().hasSameSchema(ab,ai)){ah=true}ab=ai;if(!a.isEmptyObject(N)){if(ah){B=0;ae();o();s();C()}else{s()}}return U};U.properties=function(ah){if(!arguments.length){return u}q=ah;if(q[Y]){k.extend(S,q[Y].animation)}if(!a.isEmptyObject(N)){o()}return U};U.config=function(ah){if(!arguments.length){return W}W=ah;return U};U.modules=function(ah){if(!arguments.length){if(a.isEmptyObject(N)){x()}return N}N=ah;return U};U.parent=function(ah){if(!arguments.length){return E}E=ah;return U};U.dispatch=function(ah){if(!arguments.length){return I}I=ah;return U};function Q(){if(v.plot){for(var ai=0,ah=v.plot.length;ai<ah;ai++){if(af[ai].empty){w(v.plot[ai],af[ai],aa/2);D()}else{N.plot[ai].width(T);v.plot[ai].datum(N.plot[ai].data()).call(N.plot[ai]);w(v.plot[ai],af[ai],aa)}}}ac=false}function w(ak,aj,ah){if(aj.shape){aj.shape.remove()}if(ac){return}var ai=e.fastMeasure(aj.label,Z.size,Z.weight,Z.family);aj.shape=ak.append("text").attr("class","v-subtitle viz-matrix-sub-title").attr("text-anchor","middle").attr("x",T/2).attr("y",ah-ai.height/2).attr("dominant-baseline","middle").style("cursor","default");z.toAttrs(aj.shape);e.ellipsis(aj.label,aj.shape.node(),T-5,"font:"+Z.weight+" "+Z.size+" "+Z.family)}function P(){var al=0,ak=0;for(var aj=0,ah=af.length;aj<ah;aj++){var ai=e.fastMeasure(af[aj].label,Z.size,Z.weight,Z.family);ak=ai.height>ak?ai.height:ak;al=ai.width>al?ai.width:al}return{width:al,height:ak}}function D(){if(++t==B){t=0;I.initialized()}}function ag(ah){I.showTooltip(ah)}function H(ah){I.hideTooltip(ah)}return U}});sap.riv.module({qname:"sap.viz.modules.manifests.ScatterMatrixContainer",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.scattermatrixcontainer",version:"4.0.1"},{qname:"sap.viz.feeds.ScatterMatrix",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.scattermatrixcontainer",type:b.Module.Type.Container,name:"Scatter Matrix Container",description:"Settings for the subcharts layout of Scatter Matrix chart.",properties:{plotTitle:{name:"plotTitle",description:"Settings for plot title.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of sub plot title."}}}},css:{".viz-matrix-sub-title.v-subtitle":{description:"Define style for the sub plot title.",value:{fill:"black","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"12px","font-weight":"bold"}}},feeds:{id:"scattermatrix"},events:{showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.ScatterMatrixChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Title",version:"4.0.1"},{qname:"sap.viz.modules.manifests.ScatterMatrixContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Legend",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.ScatterInMatrix",version:"4.0.1"}],function Setup(a){var b={id:"viz/scatter_matrix",name:"IDS_SCATTERMATRIXCHART",base:"riv/base",modules:{root:{modules:{legend:{data:{aa:[1,2]},configure:{properties:{type:"BubbleColorLegend"}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"scattermatrix",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction"}},main:{id:"sap.viz.modules.scattermatrixcontainer",configure:{propertyCategory:"multiLayout"},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",data:{mg:[1]},configure:{description:"Settings for the x axis of a normal bubble or scatter plot.",propertyCategory:"xAxis",properties:{type:"value",position:"bottom",gridline:{visible:false}}}},yAxis:{id:"sap.viz.modules.axis",data:{mg:[2]},configure:{description:"Settings for the y axis of a normal bubble or scatter plot.",propertyCategory:"yAxis",properties:{type:"value",position:"left",gridline:{visible:false}}}},background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:"vertical"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rectCoordinate",visible:false,position:"outside",automaticInOutside:false}}},plot:{id:"sap.viz.modules.scatterInMatrix",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}}}},dependencies:{attributes:[{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"valueAxis2Scale"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"valueAxis1Scale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"valueAxis1Title"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"valueAxis2Title"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapes"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.plot.dataLabel",listener:"showLabel",sourceModule:"root.main.plot.plot",type:"initialized.datalabel"},{targetModule:"root.main.plot.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot.plot",type:"startToInit.datalabel"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiScatterChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Scatter",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.1"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_scatter",name:"IDS_MULTISCATTERCHART",base:"riv/base/multiple/xy",modules:{root:{modules:{legend:{data:{aa:[2,3]},configure:{properties:{type:"BubbleColorLegend"}}},tooltip:{configure:{properties:{chartType:"scatter",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction"}},main:{configure:{properties:{mergeDataRange:["valueAxis1","valueAxis2"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the x axis of a normal bubble or scatter plot.",propertyCategory:"xAxis",properties:{title:{visible:false},type:"value",position:"bottom"},propertiesOverride:{title:{isExported:false}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{automaticInOutside:false,orientation:"vertical",position:"outside",outsideVisible:true}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the y axis of a normal bubble or scatter plot.",propertyCategory:"yAxis",properties:{title:{visible:false},type:"value",position:"left"},propertiesOverride:{title:{isExported:false}}}},plot:{id:"sap.viz.modules.scatter",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}}}},feeds:{multiplier:{acceptMND:-1}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"valueAxis1DataRange",sourceModule:"root.main.plot.plot",source:"valueAxis1DataRange"},{targetModule:"root.main.plot.plot",target:"valueAxis1DataRange",sourceModule:"root.main",source:"valueAxis1DataRange"},{targetModule:"root.main",target:"valueAxis2DataRange",sourceModule:"root.main.plot.plot",source:"valueAxis2DataRange"},{targetModule:"root.main.plot.plot",target:"valueAxis2DataRange",sourceModule:"root.main",source:"valueAxis2DataRange"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"valueAxis1Scale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"valueAxis1Title"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"valueAxis2Scale"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"valueAxis2Title"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapes"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main",type:"initialized.interaction"},{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main",type:"hideTooltip"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.plot.dataLabel",listener:"showLabel",sourceModule:"root.main.plot.plot",type:"initialized.datalabel"},{targetModule:"root.main.plot.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot.plot",type:"startToInit.datalabel"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiBubbleChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Scatter",version:"4.0.1"},{qname:"sap.viz.manifests.MultiScatterChart",version:"4.0.1"}],function Setup(a){var b={id:"viz/multi_bubble",name:"IDS_MULTIBUBBLECHART",base:"viz/multi_scatter",modules:{root:{modules:{legend:{data:{aa:[2,3]}},sizeLegend:{id:"sap.viz.modules.legend",configure:{description:"The size legend is a box mapping the charts data shapes's size to the value by some typical symbols and associated indication values.",propertyCategory:"sizeLegend",properties:{type:"SizeLegend"}}},tooltip:{configure:{properties:{chartType:"bubble",orientation:"left"}}},main:{configure:{properties:{mergeDataRange:["valueAxis1","valueAxis2","bubbleWidth","bubbleHeight"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{automaticInOutside:true,position:"inside"}}},plot:{id:"sap.viz.modules.bubble",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}}}},feeds:{multiplier:{acceptMND:-1},secondaryValues:{max:1}},dependencies:{attributes:[{targetModule:"root.main.xAxis2",target:"scale",sourceModule:"root.main",source:"xCategoryScale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main",source:"yCategoryScale"},{targetModule:"root.main",target:"valueAxis1DataRange",sourceModule:"root.main.plot.plot",source:"valueAxis1DataRange"},{targetModule:"root.main.plot.plot",target:"valueAxis1DataRange",sourceModule:"root.main",source:"valueAxis1DataRange"},{targetModule:"root.main",target:"valueAxis2DataRange",sourceModule:"root.main.plot.plot",source:"valueAxis2DataRange"},{targetModule:"root.main.plot.plot",target:"valueAxis2DataRange",sourceModule:"root.main",source:"valueAxis2DataRange"},{targetModule:"root.main",target:"bubbleWidthDataRange",sourceModule:"root.main.plot.plot",source:"bubbleWidthDataRange"},{targetModule:"root.main.plot.plot",target:"bubbleWidthDataRange",sourceModule:"root.main",source:"bubbleWidthDataRange"},{targetModule:"root.main",target:"bubbleHeightDataRange",sourceModule:"root.main.plot.plot",source:"bubbleHeightDataRange"},{targetModule:"root.main.plot.plot",target:"bubbleHeightDataRange",sourceModule:"root.main",source:"bubbleHeightDataRange"},{targetModule:"root.main.plot.xAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"valueAxis1Scale"},{targetModule:"root.main.plot.yAxis",target:"scale",sourceModule:"root.main.plot.plot",source:"valueAxis2Scale"},{targetModule:"root.main.plot.xAxis",target:"title",sourceModule:"root.main.plot.plot",source:"valueAxis1Title"},{targetModule:"root.main.plot.yAxis",target:"title",sourceModule:"root.main.plot.plot",source:"valueAxis2Title"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot.plot",source:"colorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot.plot",source:"shapes"},{targetModule:"root.sizeLegend",target:"sizeLegendInfo",sourceModule:"root.main.plot.plot",source:"sizeLegend"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.modules.datasampling",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.manifest",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"}],function Setup(c,a,d,b,f){var e=function(m){var n=m.props(null);var x=false,r={},w,B;var u,t,q,p,A,z,l,h;var s=function(){u=0;t=Number.MAX_VALUE;q=0;p=Number.MAX_VALUE;A=0;z=0;l=0;h=0};var g=function(D){s();var M=D.getMeasureValuesGroupDataByIdx(0);var L=D.getMeasureValuesGroupDataByIdx(1);var G=D.getMeasureValuesGroupDataByIdx(2);var K=D.getMeasureValuesGroupDataByIdx(3);distinctValuesObj={};for(var E=0;E<M.values[0].rows.length;E++){for(var C=0;C<M.values[0].rows[E].length;C++){var I=M.values[0].rows[E][C].val;var H=L.values[0].rows[E][C].val;if(f.isNoValue(I)||f.isNoValue(H)){continue}var J=G&&G.values.length&&a.isExist(G.values[0].rows[E][C].val)?Math.abs(G.values[0].rows[E][C].val):null;var F;if(K&&K.values.length){if(a.isExist(K.values[0].rows[E][C].val)){F=Math.abs(K.values[0].rows[E][C].val)}else{F=null}}else{F=J}if(!f.isNoValue(J)){distinctValuesObj[J]=""}A=I>A?I:A;z=I<z?I:z;l=H>l?H:l;h=H<h?H:h;u=J>u?J:u;t=J<t?J:t;q=F>q?F:q;p=F<p?F:p}}};function k(){}k.data=function(C,D){if(x&&C==="sap.viz.modules.scatter"){return o(D)}};var v=function(F,E){var H=false;for(var D=0;D<r.column;D++){var G=0;if(H){break}G=D*r.row;if(E.x>=F[G].xRange.x1&&E.x<F[G].xRange.x2||E.x===A){for(var C=0;C<r.row;C++){if(E.y>=F[G+C].yRange.y1&&E.y<F[G+C].yRange.y2||E.y===l){F[G+C].indexArray.push(E.index);F[G+C].refArray.push(E.ref);H=true;break}}}}};var o=function(V){var Q=V.getMeasureValuesGroupDataByIdx(0);var O=V.getMeasureValuesGroupDataByIdx(1);var K=Q.values[0].rows[0].length;if(K&&K>B&&(w>0&&w<1)){g(V);var S=[];if(r.column>0&&r.row>0){var J=(A-z)/r.column,C=(l-h)/r.row,D=z,G=h;for(var U=0;U<r.column;U++){var L={};L.x1=D;L.x2=D+J;for(var T=0;T<r.row;T++){var R={},E={};R.y1=G;R.y2=G+C;E.xRange=L;E.yRange=R;E.indexArray=[];E.refArray=[];S.push(E);G+=C}D+=J;G=h}}for(var U=0;U<Q.values[0].rows.length;U++){for(var T=0;T<Q.values[0].rows[U].length;T++){var I={};I.x=Q.values[0].rows[U][T].val;I.y=O.values[0].rows[U][T].val;I.index=T;I.ref={x:Q.values[0].rows,y:O.values[0].rows,xIndex:U,yIndex:T};v(S,I)}}for(var P=0;P<S.length;P++){var M=S[P].refArray.length;if(M>0){var N=Math.round(M*w);if(!((M&1)==0)){N++}for(;N<M;N++){var F=S[P].refArray[N].xIndex,H=S[P].refArray[N].yIndex;S[P].refArray[N].x[F][H].val=null;S[P].refArray[N].y[F][H].val=null}}}}return V};var j=function(C){x=a.isExist(C.enable)?C.enable:enable;r=a.isExist(C.grid)?C.grid:grid;w=a.isExist(C.sizeFactor)?C.sizeFactor:sizeFactor;B=a.isExist(C.numberPrecondition)?C.numberPrecondition:numberPrecondition};k.properties=function(C){if(!arguments.length){return n}b.extend(true,n,C);j(n)};k.parent=function(){};return k};return e});sap.riv.module({qname:"sap.viz.modules.manifests.DataSampling",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.datasampling",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.datasampling",name:"datasampling",type:b.Module.Type.Supplementary,properties:{enable:{name:"enable",supportedValueType:"Boolean",defaultValue:false,isExported:true,description:"Set whether to enable data sampling."},sizeFactor:{name:"sizeFactor",supportedValueType:"PositiveInt",defaultValue:1,isExported:true,description:"Set data point percentage in original dataset"},numberPrecondition:{name:"numberPrecondition",supportedValueType:"PositiveInt",defaultValue:3000,isExported:true,description:"if data point is larger than this value, data sampling will be triggered."},grid:{name:"grid",supportedValueType:"Object",supportedValues:{row:{name:"row",supportedValueType:"PositiveInt",defaultValue:3,description:"The row number of grid"},column:{name:"column",supportedValueType:"PositiveInt",defaultValue:3,description:"The column number of grid",}},isExported:true,description:"Settings for row and column of grid for sampling algorithm"}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.scatter.BaseBubbleChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.BaseSingleChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"}],function Setup(b){var a={id:"viz/scatter/single/base",name:"IDS_BASEBUBBLECHART","abstract":true,base:"riv/base/single",modules:{root:{modules:{legend:{data:{aa:[1,2]},configure:{properties:{type:"BubbleColorLegend"},propertiesOverride:{isHierarchical:{isExported:false}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction"}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rectCoordinate",orientation:"vertical",visible:false,position:"outside",outsideVisible:true,positionPreference:true}}},xAxis:{id:"sap.viz.modules.axis",data:{mg:[1]},configure:{description:"Settings for the x axis of a normal bubble or scatter plot.",propertyCategory:"xAxis",properties:{type:"value",position:"bottom",gridline:{visible:false}}}},yAxis:{id:"sap.viz.modules.axis",data:{mg:[2]},configure:{description:"Settings for the y axis of a normal bubble or scatter plot.",propertyCategory:"yAxis",properties:{type:"value",position:"left",gridline:{visible:true}}}},background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:"vertical"}}}}}}}},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"valueAxis1Scale"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"valueAxis2Scale"},{targetModule:"root.main.xAxis",target:"title",sourceModule:"root.main.plot",source:"valueAxis1Title"},{targetModule:"root.main.yAxis",target:"title",sourceModule:"root.main.plot",source:"valueAxis2Title"},{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapes"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.scatter.ScatterChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.scatter.BaseBubbleChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Scatter",version:"4.0.1"},{qname:"sap.viz.modules.manifests.DataSampling",version:"4.0.1"}],function Setup(b){var a={id:"viz/scatter",name:"IDS_SCATTERCHART",base:"viz/scatter/single/base",modules:{root:{modules:{tooltip:{configure:{properties:{chartType:"scatter"}}},main:{modules:{plot:{id:"sap.viz.modules.scatter",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false}}},dataSampling:{id:"sap.viz.modules.datasampling",configure:{propertyCategory:"dataSampling",properties:{sizeFactor:0.5}}}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.scatter.BubbleChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.scatter.BaseBubbleChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Bubble",version:"4.0.1"}],function Setup(b){var a={id:"viz/bubble",name:"IDS_BUBBLECHART",base:"viz/scatter/single/base",modules:{root:{modules:{sizeLegend:{id:"sap.viz.modules.legend",configure:{description:"The size legend is a box mapping the charts data shapes' size to the value by some typical symbols and associated indication values.",propertyCategory:"sizeLegend",properties:{type:"SizeLegend"},propertiesOverride:{isHierarchical:{isExported:false},formatString:{isExported:true}}}},tooltip:{configure:{properties:{chartType:"bubble"}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:true,position:"inside"}}},plot:{id:"sap.viz.modules.bubble",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},dependencies:{attributes:[undefined,undefined,undefined,undefined,undefined,undefined,undefined,{targetModule:"root.sizeLegend",target:"sizeLegendInfo",sourceModule:"root.main.plot",source:"sizeLegend"}],events:[{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.feeds.TreeMap",version:"4.0.1"},[{qname:"sap.viz.feeds.Manifest",version:"4.0.1"},{qname:"sap.viz.data.feed.Constants",version:"4.0.1"}],function Setup(d,c){var e={id:"rectangleTitle",name:"IDS_RECTANGLETITLE",type:c.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:-1,maxStackedDims:6};var f={id:"rectangleWeight",name:"IDS_RECTANGLEWEIGHT",type:c.Type.Measure,min:1,max:1,mgIndex:1};var b={id:"rectangleColor",name:"IDS_RECTANGLECOLOR",type:c.Type.Measure,min:0,max:1,mgIndex:2};var a={id:"treeMap",feeds:[e,b,f]};d.register(a)});sap.riv.module({qname:"sap.viz.util.MeasureBasedColoring",version:"4.0.1"},[],function Setup(){var b={getScale:function(w,k,f,o,n){var z=d3.scale.linear().domain([w,k]).range([o,n]).nice();var h=z.domain();var m=a(h[0]),l=a(h[1]);var e=m>l?m:l;e++;var x=z.domain();x=c(x,e);w=x[0];k=x[1];if(w===k){f=1}var q=k-w,A=[],j,v=0;if(q/f>1){if(q%f===0){j=d(q/f,e+1);v=a(j);for(var r=0;r<f+1;r++){A.push(w+d(r*j,v))}}else{j=Math.ceil(q/f);v=a(j);var g=Math.floor(w/j)*j;if(g===0||(g+j*f<k)){g=w}for(var r=0;r<f+1;r++){A.push(g+d(r*j,v))}}}else{g=w,j=d(q/f,e+1);v=a(j);for(var r=0;r<f;r++){A.push(g+d(r*j,v))}A.push(d(k,v))}for(var r=0,u=A.length;r<u;r++){A[r]=d(A[r],v)}z=d3.scale.linear().domain([0,f-1]).range([o,n]);var p=[],t=[];for(var r=0,u=A.length-1;r<u;r++){p.push([A[r],A[r+1]]);t.push(z(r))}var s=d3.scale.ordinal().domain(p).range(t);return s}};var c=function(g,f){for(var h=0,e=g.length;h<e;h++){g[h]=d(g[h],f)}return g};var a=function(f){var e=f.toString().split(".");return e.length>1?e[1].length:0};var d=function(f,e){return Math.round(Math.pow(10,e)*f)/Math.pow(10,e)};return b});sap.riv.module({qname:"sap.viz.modules.treemap",version:"4.0.1"},[{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.util.MeasureBasedColoring",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(g,d,b,j,a,j,f,l,e,c,h,k){var m=function(A,I){var M=c.guid();var N=function(aj,ai){for(var ak in ai){if(typeof(ai[ak])==="object"){if(aj[ak]){aj[ak]=N(aj[ak],ai[ak])}else{aj[ak]=ai[ak]}}else{aj[ak]=ai[ak]}}return aj};var s=[];var E,aa;var ab={emptycolor:"#e0e0e0",animation:{dataLoading:true,dataUpdating:true,resizing:true,},colornumber:5,discretecolor:false,colorPalette:[],tooltip:{enabled:true,}};ab=N(ab,A.props(null));var K=A.props(null);var O="'Open Sans', Arial, Helvetica, sans-serif";var w;var v;var D=true;var C="dataLoading";var z="v-treemap";var u="v-treemapitem";var V;var q=d3.scale.ordinal();var Q=d3.scale.ordinal();var ac=new g("selectData","deselectData","initialized","showTooltip","hideTooltip","startToInit");var T="#ffffff";var U;var ah;var H;var G;var R=null;var o=null;var L=null;var F=I.effectManager;var p=6;var n=null;var J=e.get("IDS_ISNOVALUE");var ag={};ag.fontSize="12px";ag.fontWeight="normal";ag.fontFamily="'Open Sans', Arial, Helvetica, sans-serif";ag.fill="#ffffff";var ae=function(aj,ai){return f.fastMeasure(aj,ai["font-size"],ai["font-weight"],ai["font-family"])};var S=function(ai){if(ai===null||ai===undefined){ai=e.get("IDS_ISNOVALUE")}return ai};var W=function(ao){var aj={body:[],footer:[]};var ai=G[ao];var an={name:S(ai.weight.col),val:[{value:j.isNoValue(ai.weight.row.val)?J:ai.weight.row.val}]};aj.body.push(an);if(H){var ak={name:S(ai.color.col),val:[{value:j.isNoValue(ai.color.row.val)?J:ai.color.row.val}]};aj.body.push(ak)}if(a.isExist(U)){for(var aq=U.values,am=aq.length,al=am-1;al>=0;al--){var ap={};ap.label=aq[al].col;ap.value=aq[al].rows[ao%aq[al].rows.length];aj.footer.push(ap)}}return aj};var Z=function(ak){if(!j.isNoValue(ak.datum().val)){v.attr("visibility","visible");var am=ak.datum().left+V;var aj=ak.datum().left+ak.datum().width-V;var al=ak.datum().top+V;var ai=ak.datum().top+ak.datum().height-V;v.select(".HLLeft").attr("x1",am).attr("y1",al).attr("x2",am).attr("y2",ai);v.select(".HLRight").attr("x1",aj).attr("y1",al).attr("x2",aj).attr("y2",ai);v.select(".HLTop").attr("x1",am).attr("y1",al).attr("x2",aj).attr("y2",al);v.select(".HLBottom").attr("x1",am).attr("y1",ai).attr("x2",aj).attr("y2",ai)}};var x=function(ai){v.attr("visibility","hidden")};var P=function(aj,ai){if((aj&&aj.level===0&&aj.index===0)||(G.length===0)||(aj===undefined&&ai===undefined)){ac.initialized()}};var B=function(aC,aD,aI,am){if(aD.length<=0){return}var az=(aD[0].children.length===0);if(aI){aC=aC.append("g").attr("class",z+"level"+aD[0].level)}else{aC=aC.select("."+z+"level"+aD[0].level)}var aG=[];for(var aF=0;aF<aD.length;aF++){if(aD[aF].level===am){aG.push(aD[aF])}}var ar=aC.attr("class");var aA=aC.selectAll("."+ar+" > ."+u);aA=aA.data(aG,function(aK){return aK.index});var ay=aA.enter();var aw=aA.exit();var ax;var aB=function(aM){var aL={};aL["font-size"]=ag.fontSize;aL["font-weight"]=ag.fontWeight;aL["font-family"]=ag.fontFamily;var aN=ae(aM.label,aL).height;var aK=0;if(aN>aM.height){aK=-1}else{aK=aM.width-6}return aK};var au=function(aK){return(az)?(aK.width/2):(aK.left+aK.width/2)};var aq=function(aM){var aK={};aK["font-size"]=ag.fontSize;aK["font-weight"]=ag.fontWeight;aK["font-family"]=ag.fontFamily;var aL=ae(aM.label,aK).height;if(aM.children.length===0){return(az)?(aM.height/2+aL/2-aL/10):(aM.top+aM.height/2+aL/2-aL/10)}else{return aM.top+aL-aL/10}};var aj=function(aM){var aL="font-size:"+ag.fontSize;aL+="font-weight:"+ag.fontWeight;aL+="font-family:"+ag.fontFamily;var aK="";if(aM.showLabel){aK=f.ellipsis(aM.label,this,aB(aM),aL)}return aK};var av=function(aK){return"middle"};var ap=function(aL){var aK;if(aL.children.length===0){aK="white"}else{if(aL.level===(aL.levelNum-1)){aK="white"}else{if((aL.levelNum-aL.level)===6){aK="white"}else{if((aL.levelNum-aL.level)===5){aK="white"}else{if((aL.levelNum-aL.level)===4){aK="white"}else{if((aL.levelNum-aL.level)===3){aK="#595959"}else{aK="#464646"}}}}}}return aK};var an=function(aK){var aL=aK.attr("x",function(aM){return(az)?(0):(aM.left+V)}).attr("y",function(aM){return(az)?(0):(aM.top+V)}).attr("width",function(aM){return aM.width-2*V>0?aM.width-2*V:0}).attr("height",function(aM){return aM.height-2*V>0?aM.height-2*V:0}).attr("fill",function(aM){var aN={drawingEffect:"normal",fillColor:aM.color};return F.register(aN)}).attr("shape-rendering","crispEdges");return aL};var aH=function(aL){var aK=null;if(az){aK=aL.attr("x",au).attr("y",aq).attr("class","v-treemapdatalabel").attr("text-anchor",av).attr("fill",ap).attr("font-size",ag.fontSize).attr("font-family",ag.fontFamily).attr("pointer-events","none")}else{aK=aL.attr("x",au).attr("y",aq).attr("text-anchor",av).attr("fill",ap).attr("font-size",ag.fontSize).attr("font-family",ag.fontFamily).attr("pointer-events","none")}aK.text(aj);return aK};if(aI){var al=u;if(az){al+=" v-datashape"}ax=ay.append("g").attr("class",al);if(az){ax.attr("transform",function(aK){return"translate("+(aK.left+V)+","+(aK.top+V)+")"})}var ao=ax.append("rect");an(ao);if(az){ao.attr("id",function(aL,aK){return("HM"+aL.index+M)}).attr("class","v-datapoint")}var aJ=ax.append("text");aH(aJ)}else{ax=aA;var ak=aA.select("rect");var aJ=aA.select("text");var at=0;if(C==="resizing"&&ab.animation.resizing){at=500}if(at>0){ak=ak.transition();aJ=aJ.transition()}if(az){if(at>0){ax=ax.transition();ax=ax.attr("transform",function(aL){var aK="translate("+(aL.left+V)+","+(aL.top+V)+")";return aK});ax=ax.delay(0).duration(at)}else{ax.attr("transform",function(aL){var aK="translate("+(aL.left+V)+","+(aL.top+V)+")";return aK})}}ak=an(ak);aJ=aH(aJ);if(at>0){ak.delay(0).duration(at).each("end",P);aJ.delay(0).duration(at)}else{P()}}var aE=function(aO,aN,aM){var aL=d3.select(aO);var aK=aL.datum().children;B(aL,aL.datum().children,aI,am+1)};ax.each(function(aL,aK){aE(this,aL,aK)});ax=aC.selectAll("."+u);if(aI){var ai=0;if(C==="dataLoading"&&ab.animation.dataLoading){ai=1000}else{if(C==="dataUpdating"&&ab.animation.dataUpdating){ai=500}}ax.attr("opacity",0);ax.transition().delay(0).duration(ai).attr("opacity",1).each("end",P)}else{P()}return ax};var r=function(aj,ai){C="resizing";if(D){if(aj.selectAll("*").empty()){C="dataLoading"}else{C="dataUpdating"}aj.selectAll("*").remove()}k.drawBound(aj,E,aa);var al=aj;var ak=aj.selectAll("g.v-datashapesgroup");if(!a.isExist(ak[0][0])){ak=aj.append("g").attr("class","v-datashapesgroup")}B(ak,ai,D,0);if(D){v=aj.append("g").attr("class","v-element").attr("visibility","hidden");v.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");v.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");v.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");v.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c")}else{if(v){v.attr("visibility","hidden")}}D=false};var ad=function(){if(H){var an=[];var ao=H.values[0].rows[0];for(var am=0;am<ao.length;am++){an.push(ao[am])}var ar=-Number.MAX_VALUE;var aq=Number.MAX_VALUE;for(var ak=0;ak<an.length;ak++){if(!j.isNoValue(an[ak].val)){if(ar<an[ak].val){ar=an[ak].val}if(aq>an[ak].val){aq=an[ak].val}}}var ap=false;for(var am=0;am<an.length;am++){if(j.isNoValue(an[am].val)){ap=true}}}var al=ab.colornumber;var ai;if(aq===Number.MAX_VALUE&&ar===-Number.MAX_VALUE||(!H)){ai=undefined}else{var ai=l.getScale(aq,ar,al,ab.startColor,ab.endColor);if(ap){var at=ai.domain();var aj=ai.range();at.push([]);aj.push(ab.emptycolor)}}return ai};var Y=function(aj){var ai=function(aE,ax,aw){var aB=0;for(var aG=0;aG<aE.length;aG++){aB+=aE[aG].val}var aD=function(aL,aK){var aM=0;if(aK.val!==aL.val){aM=aL.val-aK.val}return aM};var aJ;for(var at=0;at<aE.length-1;at++){for(var aG=aE.length-1;aG>at;aG--){if(aD(aE[aG],aE[aG-1])>0){aJ=aE[aG-1];aE[aG-1]=aE[aG];aE[aG]=aJ}}}var aC={left:0,top:0,width:0,height:0,weight:0,items:[],worstRadio:0,};var av={left:0,top:0,width:0,height:0,weight:0,vertical:false,};for(var aG=0;aG<aE.length;aG++){ap(aE,aG,aB,aC,av,ax)}for(var aI=0;aI<aE.length;aI++){if(!aE[aI].left){aE[aI].left=0}if(!aE[aI].top){aE[aI].top=0}if(!aE[aI].width||aE[aI].width<0){aE[aI].width=0}if(!aE[aI].height||aE[aI].height<0){aE[aI].height=0}var aF="";if(aE[aI].label&&aE[aI].label.length&&aE[aI].label.length>0){var ar=aE[aI].label[0];aF=ar.concat("...")}var aH={};aH["font-size"]=ag.fontSize;aH["font-weight"]=ag.fontWeight;aH["font-family"]=ag.fontFamily;aE[aI].labelHeight=ae(aF,aH).height;aE[aI].labelWidth=ae(aF,aH).width;aE[aI].needMoreHeightToShowLabel=false;if((aE[aI].labelHeight<aE[aI].height)&&(aE[aI].labelWidth<aE[aI].width)){aE[aI].showLabel=true}else{aE[aI].showLabel=false;if(aE[aI].labelHeight>=aE[aI].height&&aE[aI].val>0){aE[aI].needMoreHeightToShowLabel=true}}}var ay=true;for(var aI=0;aI<aE.length;aI++){if(aE[aI].level===(aE[aI].levelNum-1)){if(!aE[aI].needMoreHeightToShowLabel){ay=false;break}}else{ay=false}}var au=function(aK){if(aE[aK].level!==(aE[aK].levelNum-1)){aE[aK].showLabel=false}aA.top=aE[aK].top+V*2;aA.left=aE[aK].left+V*2;aA.width=aE[aK].width-V*2-V;aA.height=aE[aK].height-V*2-V};if(!ay){for(var aG=0;aG<aE.length;aG++){if(aE[aG].children.length>0){var az=true;if(!aw){az=false}var aq=aE[aG].labelHeight;var aA={};aA.top=aE[aG].top+V*2+aq;aA.left=aE[aG].left+V*2;aA.width=aE[aG].width-V*2-V;aA.height=aE[aG].height-V*2-V-aq;if(!az){au(aG)}ay=ai(aE[aG].children,aA,az);if((ay||!aE[aG].showLabel)&&az){au(aG);ay=ai(aE[aG].children,aA,false)}}}}return ay};var ak=function(ar){var aq;if(ar.height>ar.width){aq=ar.height/ar.width}else{aq=ar.width/ar.height}aq=Math.floor(aq*1000);return aq};var an=function(at,aB,ar,ay,aA){var ax=0;var az={};if(ar){if(aA.vertical){az.width=aA.width*(aB/(ay.weight+aB));az.height=aA.height*((ay.weight+aB)/aA.weight)}else{az.height=aA.height*(aB/(ay.weight+aB));az.width=aA.width*((ay.weight+aB)/aA.weight)}ax=ak(az);for(var aw=0;aw<ay.items.length;aw++){var aq=ay.items[aw];var av={};if(aA.vertical){av.width=ay.width*(at[aq].val/(ay.weight+aB));av.height=aA.height*((ay.weight+aB)/aA.weight)}else{av.height=ay.height*(at[aq].val/(ay.weight+aB));av.width=aA.width*((ay.weight+aB)/aA.weight)}var au=ak(av);if(ax<au){ax=au}}}else{ax=ay.worstRadio}return ax};var al=function(aq,at){var ar={};ar.weight=at.weight-aq.weight;if(at.width===aq.width){ar.left=at.left;ar.top=aq.top+aq.height;ar.width=at.width;ar.height=at.height-aq.height}else{ar.left=aq.left+aq.width;ar.top=at.top;ar.width=at.width-aq.width;ar.height=at.height}return ar};var ap=function(av,aq,aA,az,aB,ax){if(aq===0){av[aq].left=ax.left;av[aq].top=ax.top;if(ax.width>ax.height){av[aq].height=ax.height;av[aq].width=ax.width*(av[aq].val/aA);aB.vertical=false}else{av[aq].width=ax.width;av[aq].height=ax.height*(av[aq].val/aA);aB.vertical=true}az.left=ax.left;az.top=ax.top;az.width=av[aq].width;az.height=av[aq].height;az.weight=av[aq].val;az.items.push(aq);az.worstRadio=ak(az);aB.left=ax.left;aB.top=ax.top;aB.width=ax.width;aB.height=ax.height;aB.weight=aA}else{if(aq===(av.length-1)){var ay=al(az,aB);av[aq].left=ay.left;av[aq].top=ay.top;av[aq].width=ay.width;av[aq].height=ay.height}else{var au=(an(av,av[aq].val,true,az,aB));var aC=(an(av,av[aq].val,false,az,aB));if(au<aC){az.worstRadio=au;az.items.push(aq);az.weight+=av[aq].val;if(aB.vertical){az.height=aB.height*(az.weight/aB.weight)}else{az.width=aB.width*(az.weight/aB.weight)}for(var aw=0;aw<az.items.length;aw++){var at=az.items[aw];if(aB.vertical){av[at].width=az.width*(av[at].val/az.weight);av[at].height=aB.height*(az.weight/aB.weight);av[at].top=az.top;if(aw===0){av[at].left=az.left}else{av[at].left=av[at-1].left+av[at-1].width}}else{av[at].height=az.height*(av[at].val/az.weight);av[at].width=aB.width*(az.weight/aB.weight);av[at].left=az.left;if(aw===0){av[at].top=az.top}else{av[at].top=av[at-1].top+av[at-1].height}}}}else{var ar=al(az,aB);aB.left=ar.left;aB.top=ar.top;aB.width=ar.width;aB.height=ar.height;aB.weight=ar.weight;if(aB.width>aB.height){aB.vertical=false}else{aB.vertical=true}az.left=aB.left;az.top=aB.top;az.weight=av[aq].val;if(aB.vertical){az.width=aB.width;az.height=aB.height*(av[aq].val/aB.weight)}else{az.height=aB.height;az.width=aB.width*(av[aq].val/aB.weight)}az.worstRadio=ak(az);az.items=[];az.items.push(aq);av[aq].width=az.width;av[aq].height=az.height;av[aq].top=az.top;av[aq].left=az.left}}}};var ao={};ao.top=0;ao.left=0;ao.width=E;ao.height=aa;var am=ai(aj,ao,true);if(am){ai(aj,ao,false)}};var X=function(ar,ai,am,av,aq){if(ai>=am){return[]}var aj=[];var ak=undefined;var al=av;var ap=al+1;for(var ao=av;ao<aq;ao++){var au={};var at=ar[ao].dimensions[ai].row.val;if(at!==ak||ai===am-1){var an=t(ao,ai,am,au);au.label=ar[ao].dimensions[ai].row.val;au.level=ai;au.levelNum=am;au.isTreeMap=true;if(ai===am-1){au.ctx=ar[ao].weight.row.ctx}else{au.ctx=null}au.index=ao;if(ar[ao].weight.row.val>=0){au.val=ar[ao].weight.row.val}else{au.val=0}if(aj.length>0){aj[aj.length-1].children=X(ar,(ai+1),am,al,ap);al=ao;ap=al+1}aj.push(au)}else{if(ar[ao].weight.row.val>=0){aj[aj.length-1].val+=ar[ao].weight.row.val}ap++}ak=at;if(ao===aq-1){if(aj.length>0){aj[aj.length-1].children=X(ar,(ai+1),am,al,ap)}}}return aj};var t=function(ao,aj,al,aq){if(aj!==(al-1)){var ai=(al-1-aj);if(ai===1){aq.color="#f9f9f9"}else{if(ai===2){aq.color="#e3e3e3"}else{if(ai===3){aq.color="#bfbfbf"}else{if(ai===4){aq.color="#989898"}else{if(ai===5){aq.color="#717171"}}}}}aq.colorValue=Number.MAX_VALUE}else{if(G[ao].color){aq.colorValue=G[ao].color.row.val;if(n){var an=n.domain();if(j.isNoValue(aq.colorValue)){aq.color=ab.emptycolor}else{var ap;for(var am=0;am<an.length;am++){var ak=an[am];if((am==an.length-1)||(an[am+1].length==0)){ap=ak;break}if((aq.colorValue>=ak[0])&&(aq.colorValue<ak[1])){ap=ak;break}}aq.color=n(ap)}}else{aq.color=ab.emptycolor}}else{aq.colorValue=Number.MAX_VALUE;var ar=d.sap32().range();aq.color=ar[0]}}};function af(aj){R=aj;ac.startToInit();if(ab.border&&ab.border.visible){V=1}else{V=0}n=ad();var ai=G[0].dimensions.length;var ak=X(G,0,ai,0,G.length);Y(ak);r(aj,ak);return af}af.dataLabel=function(ai){};af.afterUIComponentAppear=function(){ac.initialized()};af.mouseover=function(al){var aq=d3.select(d3.event.target);var am=aq.attr("id");if(am&&ab.tooltip.enabled){var ap=am.toString().length-M.toString().length-2;var ao=am.toString().substr(2,ap);var ak=R.node().getTransformToElement(R.node().ownerSVGElement);var aj=R.node().ownerSVGElement.getBoundingClientRect();var an=al.getBoundingClientRect();var ai=W(ao);ai.point={x:an.left-aj.left+an.width/2,y:(an.height>16)?an.top-aj.top+8:an.top-aj.top+an.height/2};ai.plotArea={x:ak.e,y:ak.f,width:E,height:aa};ac.showTooltip(b.formatTooltipData(ai));Z(aq)}};af.mouseout=function(){if(ab.tooltip.enabled){ac.hideTooltip()}if(d3.event){var ai=d3.select(d3.event.target);x(ai)}};af.parent=function(){return R};af.highlight=function(aj){if(aj instanceof Array){for(var ak=0,ai=aj.length;ak<ai;ak++){aj[ak].setAttribute("opacity",1)}}else{aj.setAttribute("opacity",1)}};af.unhighlight=function(aj){if(aj instanceof Array){for(var ak=0,ai=aj.length;ak<ai;ak++){aj[ak].setAttribute("opacity",0.2)}}else{aj.setAttribute("opacity",0.2)}};af.clear=function(ai){if(ai==null){R.selectAll(".v-datapoint").attr("opacity",1)}else{R.selectAll(".v-datapoint").attr("opacity",0.2)}};af.width=function(ai){if(!arguments.length){return E}E=ai;return af};af.height=function(ai){if(!arguments.length){return aa}aa=ai;return af};af.data=function(at){if(!arguments.length){return w}w=at;D=true;U=w.getAnalysisAxisDataByIdx(0);ah=w.getMeasureValuesGroupDataByIdx(0);H=w.getMeasureValuesGroupDataByIdx(1);var aj=w.getAnalysisAxisDataByIdx(0);var am=w.getMeasureValuesGroupDataByIdx(0);var ak=w.getMeasureValuesGroupDataByIdx(1);G=[];var ap=am.values[0].rows[0];for(var an=0;an<ap.length;an++){var ao={};var ai={};ai.col=am.values[0].col;ai.row=ap[an];ao.weight=ai;G.push(ao)}if(ak){var ap=ak.values[0].rows[0];for(var an=0;an<G.length;an++){var ao=G[an];var aq={};aq.col=ak.values[0].col;aq.row=ap[an];ao.color=aq}}var ap=aj.values;for(var an=0;an<G.length;an++){var ao=G[an];var av=[];var au=ap.length;if(au>p){au=p}for(var al=0;al<au;al++){var ar={};ar.col=aj.values[al].col;ar.row=aj.values[al].rows[an];av.push(ar)}ao.dimensions=av}return af};af.properties=function(ai){if(!arguments.length){return K}h.extend(true,ab,ai);h.extend(true,K,ai);D=true;return af};af.getDatapointsByRange=function(ao){var an=d3.selectAll(".v-datapoint")[0],am=[],aj=ao.ctx.ranges,al;for(var ak=0,ai=an.length;ak<ai;ak++){al=an[ak].__data__.colorValue;if(j.isNoValue(ao.val)){if(j.isNoValue(al)){am.push(an[ak])}}else{if(al<aj.endValue&&al>aj.startValue){am.push(an[ak])}else{if(!aj.isLeftOpen&&al===aj.startValue){am.push(an[ak])}else{if(!aj.isRightOpen&&al===aj.endValue){am.push(an[ak])}}}}}return am};af.mbcLegendInfo=function(){var ai=ad();var aj="";if(H){aj=H.values[0].col}return{colorScale:ai,title:aj,}};af.getPreferredSize=function(){};af.dispatch=function(ai){if(!arguments.length){return ac}ac=ai;return af};return af};return m});sap.riv.module({qname:"sap.viz.modules.manifests.TreeMap",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.treemap",version:"4.0.1"},{qname:"sap.viz.feeds.TreeMap",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.treemap",type:b.Module.Type.Chart,name:"treemap",properties:{border:{name:"border",description:"Settings for border.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of zone edge."},},},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data loading animation of plot area."},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data updating animation of plot area."},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable resizing animation of plot area."}},description:"Settings for animation of plot area."},startColor:{name:"startColor",supportedValueType:"String",defaultValue:"#C2E3A9",description:"Set treeMap startColor."},endColor:{name:"endColor",supportedValueType:"String",defaultValue:"#73C03C",description:"Set treeMap endColor."},tooltip:{name:"tooltip",description:"Settings for tooltip.",supportedValueType:"Object",supportedValues:{visible:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."},},isExported:false}},events:{initialized:b.Module.Event.Initialized.desc,selectData:b.Module.Event.SelectData.desc,deselectData:b.Module.Event.DeSelectData.desc,showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},feeds:{id:"treeMap"},css:{},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.TreeMapChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.BaseSingleChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TreeMap",version:"4.0.1"}],function Setup(b){var a={id:"viz/treemap",name:"IDS_TREEMAPCHART",base:"riv/base/single",modules:{root:{modules:{legend:{id:"sap.viz.modules.legend",configure:{description:"The measure based coloring legend is a bar containing segments with different colors and a value scale on side to indicate the relationship between the values and colors in the chart. ",properties:{type:"MeasureBasedColoringLegend"},propertiesOverride:{isHierarchical:{isExported:false},formatString:{isExported:true}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"treemap",orientation:"bottom"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mouseover","mouseout","touchstart"]}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rectCoordinate",visible:false,orientation:"vertical",position:"inside",automaticInOutside:false,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:false}}},plot:{id:"sap.viz.modules.treemap",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},dependencies:{attributes:[{targetModule:"root.legend",target:"mbcLegendInfo",sourceModule:"root.main.plot",source:"mbcLegendInfo"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.feeds.HeatMap",version:"4.0.1"},[{qname:"sap.viz.feeds.Manifest",version:"4.0.1"},{qname:"sap.viz.data.feed.Constants",version:"4.0.1"}],function Setup(e,d){var c={id:"mainLabelAxis",name:"IDS_MAINLABELAXISNAME",type:d.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:-1};var b={id:"rectangleColor",name:"IDS_RECTANGLECOLOR",type:d.Type.Measure,min:1,max:1,mgIndex:1};var f={id:"secondaryLabelAxis",name:"IDS_SECONDARYAXISLABELNAME",type:d.Type.Dimension,min:0,max:1,aaIndex:2,acceptMND:-1};var a={id:"heatMap",feeds:[c,b,f]};e.register(a)});sap.riv.module({qname:"sap.viz.modules.heatmap",version:"4.0.1"},[{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.EffectManager",version:"4.0.1"},{qname:"sap.viz.util.TypeUtils",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.util.MeasureBasedColoring",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(f,d,b,k,j,a,k,h,l,e,c,g,n){var m=function(x,F){var J=c.guid();var K=function(ak,aj){for(var al in aj){if(typeof(aj[al])==="object"){if(ak[al]){ak[al]=K(ak[al],aj[al])}else{ak[al]=aj[al]}}else{ak[al]=aj[al]}}return ak};var s=[];var B,Y;var aa={emptycolor:"#e0e0e0",animation:{dataLoading:true,dataUpdating:true,resizing:true,},colornumber:5,discretecolor:false,guideline:{visible:false,color:"#ffff90",},drawemptycell:true,colorPalette:[],tooltip:{enabled:true,}};aa=K(aa,x.props(null));var H=x.props(null);var M="'Open Sans', Arial, Helvetica, sans-serif";var u;var t;var z=true;var w="v-heatmap";var L="v-heatmapemptyvalue";var T=1;var q=d3.scale.ordinal();var P=d3.scale.ordinal();var ab=new f("selectData","deselectData","initialized","showTooltip","hideTooltip","startToInit");var ag=undefined;var S="#ffffff";var r;var X;var ae;var C;var Q=null;var p=null;var I=null;var W=[];var D=F.effectManager;var G=e.get("IDS_ISNOVALUE");var ai=null;function af(aI){n.drawBound(aI,B,Y);ab.startToInit();Q=aI;W=[];var ak=false;if(!X){ak=true}if(ak){var aw=[];var am=ae.values[0].rows[0];for(var aC=0;aC<am.length;aC++){W.push(am[aC])}for(var aC=0;aC<W.length;aC++){var ar="";for(var aB=0;aB<r.values.length;aB++){ar+=r.values[aB].rows[aC].val;if(aB!=(r.values.length-1)){ar+=" / "}}aw.push(ar)}for(var aC=0;aC<W.length;aC++){W[aC].label=aw[aC];W[aC].isOnlyOneCategory=true}}else{var aj=r.values[0].rows;var al=X.values[0].rows;var at=ae.values[0].rows;var au=aj.length;var av=al.length;for(var aC=0;aC<av;aC++){for(var aB=0;aB<au;aB++){W.push(at[aC][aB])}}for(var aC=0;aC<W.length;aC++){W[aC].isOnlyOneCategory=false}}ag=ac();var aq=ag.domain();for(var aC=0;aC<W.length;aC++){var ay;if(k.isNoValue(W[aC].val)){W[aC].color=aa.emptycolor}else{for(var aB=0;aB<aq.length;aB++){var az=aq[aB];if((aB==aq.length-1)||(aq[aB+1].length==0)){ay=az;break}if((W[aC].val>=az[0])&&(W[aC].val<az[1])){ay=az;break}}W[aC].color=ag(ay)}}if(ak){var aD=-Number.MAX_VALUE;var ax;var aF;var ap;var ao;var aA;var an=[];var aH;if(W.length==1){ax=Y;aF=B;ao=1;ap=1}else{for(ap=1;ap<=W.length;ap++){ax=Y/ap;var ao=W.length;for(;ao>=0;ao--){if((ao*ap)<W.length){ao++;break}}aF=B/ao;aA=(ao*ap)-W.length;aH=(ax-aF)*(ax-aF);if(aH<1){aH=1}var aD;if(aA==0&&aH==0){aD=1+1}else{if(aA==0&&aH!=0){aD=1+1/aH}else{if(aA!=0&&aH==0){aD=1+1}else{aD=1+1/aH}}}an.push({iRow:ap,iCol:ao,rHeight:ax,rWidth:aF,varianceRec:aH,emptyCellNum:aA,score:aD})}var aG=0;var aE=-1;for(var aC=0;aC<an.length;aC++){if(an[aC].score>aG){aG=an[aC].score;aE=aC}}ax=an[aE].rHeight;aF=an[aE].rWidth;ao=an[aE].iCol;ap=an[aE].iRow}for(var aC=0;aC<W.length;aC++){W[aC].width=aF;W[aC].height=ax;W[aC].left=aF*(aC%ao);W[aC].top=ax*(Math.floor(aC/ao))}}else{for(var aC=0;aC<W.length;aC++){W[aC].width=B/au;W[aC].height=Y/av;W[aC].left=(B/au)*(aC%au);W[aC].top=(Y-Y/av)-((Y/av)*(Math.floor(aC/au)))}}O(aI,ak);return af}var O=function(ao,am){var ar="resizing";if(z){if(ao.select("."+w).empty()){ar="dataLoading"}else{ar="dataUpdating"}ao.select("."+w).remove()}var ak=ao.selectAll("g.v-datashapesgroup");if(!a.isExist(ak[0][0])){ak=ao.append("g").attr("class","v-datashapesgroup")}if(!am){T=0}else{if(aa.border.visible){T=1}else{T=0}}if(z){C=ak.append("g").attr("class",w)}else{C=ak.select("."+w)}if(!aa.drawemptycell){if(z){C.append("rect").attr("x",0).attr("y",0).attr("width",B).attr("height",Y).attr("fill",aa.emptycolor).attr("class",L).attr("shape-rendering","crispEdges")}else{C.select("."+L).attr("x",0).attr("y",0).attr("width",B).attr("height",Y).attr("fill",aa.emptycolor).attr("class",L).attr("shape-rendering","crispEdges")}}var aq=[];for(var al=0;al<W.length;al++){if(!aa.drawemptycell&&!W[al].val){continue}else{W[al].index=al;aq.push(W[al])}}var at=C.selectAll("rect").data(aq,function(aw){return aw.index});var an=at.enter();var aj=at.exit();var ap;if(z){ai=an.append("g").attr("class","v-datashape");ai.attr("transform",function(aw){return"translate("+(aw.left+T)+","+(aw.top+T)+")"});ap=ai.append("rect").attr("id",function(ax,aw){return("HM"+ax.index+J)}).attr("class","v-datapoint").attr("x",0).attr("y",0).attr("width",function(aw){return aw.width-2*T}).attr("height",function(aw){return aw.height-2*T}).attr("fill",function(aw){var ax={drawingEffect:"normal",fillColor:aw.color};return D.register(ax)}).attr("shape-rendering","crispEdges")}else{var av=0;if(ar==="resizing"&&aa.animation.resizing){av=500}if(ai){if(av>0){ai.transition().attr("transform",function(aw){return"translate("+(aw.left)+","+(aw.top)+")"}).delay(0).duration(av)}else{ai.attr("transform",function(aw){return"translate("+(aw.left)+","+(aw.top)+")"})}}ap=at;if(av>0){ap=at.transition()}ap=ap.attr("x",0).attr("id",function(ax,aw){return("HM"+ax.index+J)}).attr("class","v-datapoint").attr("y",0).attr("width",function(aw){return aw.width-2*T}).attr("height",function(aw){return aw.height-2*T}).attr("fill",function(aw){var ax={drawingEffect:"normal",fillColor:aw.color};return D.register(ax)}).attr("shape-rendering","crispEdges");if(av>0){ap.delay(0).duration(av).each("end",N)}}if(aa.border.visible){if(!am){ap.attr("stroke",S).attr("stroke-width","1")}}if(am){if(!z){C.selectAll("text").remove();C.selectAll("rect").data(aq,function(aw){return aw.index}).enter()}if(ai){ai.append("text").attr("class","v-heatmapdatalabel").attr("x",function(aw){return aw.width/2}).attr("y",function(aw){return aw.height/2}).attr("text-anchor","middle").text(function(aw){return aw.label}).attr("fill","#ffffff").attr("font-size","12px").attr("font-family","'Open Sans', Arial, Helvetica, sans-serif").attr("pointer-events","none").each(function(aw){h.ellipsis(aw.label,this,aw.width-5,"fill:#ffffff;font-family:'Open Sans', Arial, Helvetica, sans-serif;font-size:12px;")})}}if(z){var au=0;if(ar==="dataLoading"&&aa.animation.dataLoading){au=1000}else{if(ar==="dataUpdating"&&aa.animation.dataUpdating){au=500}}ap.attr("opacity",0);ap.transition().delay(0).duration(au).attr("opacity",1).each("end",N)}else{N()}if(z){t=C.append("g").attr("class","v-element").attr("visibility","hidden");t.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");t.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");t.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");t.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c")}else{if(t){t.attr("visibility","hidden")}}z=false};var N=function(ak,aj){if((aj===(W.length-1))||(W.length===0)||(ak===undefined&&aj===undefined)){ab.initialized()}};function Z(){}function o(){}var ah=function(aq){var aj=W[aq];var ar="";var am="";var ao=false;if(!X){ao=true}if(ao){ar=r.values[0].rows[aq].val;if(X){am=X.values[0].rows[aq].val}}else{var ak=r.values[0].rows;var at=X.values[0].rows;var ap=ae.values[0].rows;var an=ak.length;var al=at.length;ar=r.values[0].rows[aq%an].val;am=X.values[0].rows[Math.floor(aq/an)].val}p.select("rect").attr("width",160).attr("height",78).attr("fill","rgb(255,255,255)");p.attr("transform","translate("+(aj.left+aj.width/2+5)+","+(aj.top+aj.height/2+5)+")");if(!k.isNoValue(aj.val)){p.select(".valText").text(aj.val);p.select(".valXValue").text(ar);p.select(".valYValue").text(am);p.attr("visibility","visible");if(aa.guideline.visible){I.select(".xGuidline").attr("x1",W[aq].left+W[aq].width/2).attr("x2",W[aq].left+W[aq].width/2);I.select(".yGuidline").attr("y1",W[aq].top+W[aq].height/2).attr("y2",W[aq].top+W[aq].height/2);I.attr("visibility","visible")}}};var R=function(aj){if(aj===null||aj===undefined){aj=e.get("IDS_ISNOVALUE")}return aj};var U=function(ap){var ak={body:[],footer:[]};var aj=W[ap];var an={name:R(ae.values[0].col),val:[{color:aj.color,value:k.isNoValue(aj.val)?G:aj.val}]};ak.body.push(an);if(a.isExist(r)){for(var ar=r.values,ao=ar.length,al=ao-1;al>=0;al--){var aq={};aq.label=ar[al].col;aq.value=ar[al].rows[ap%ar[al].rows.length];ak.footer.push(aq)}}if(a.isExist(X)){var am=Math.floor(ap/r.values[0].rows.length);for(var ar=X.values,ao=ar.length,al=ao-1;al>=0;al--){var aq={};aq.label=ar[al].col;aq.value=ar[al].rows[am%ar[al].rows.length];ak.footer.push(aq)}}return ak};var A=function(){p.attr("visibility","hidden");I.attr("visibility","hidden")};var V=function(al){if(!k.isNoValue(al.datum().val)){t.attr("visibility","visible");var an=al.datum().left;var ak=al.datum().left+al.datum().width-T;var am=al.datum().top;var aj=al.datum().top+al.datum().height-T;t.select(".HLLeft").attr("x1",an).attr("y1",am).attr("x2",an).attr("y2",aj);t.select(".HLRight").attr("x1",ak).attr("y1",am).attr("x2",ak).attr("y2",aj);t.select(".HLTop").attr("x1",an).attr("y1",am).attr("x2",ak).attr("y2",am);t.select(".HLBottom").attr("x1",an).attr("y1",aj).attr("x2",ak).attr("y2",aj)}};var v=function(aj){t.attr("visibility","hidden")};af.mouseover=function(am){var ar=d3.select(d3.event.target);var an=ar.attr("id");if(an&&aa.tooltip.enabled){var aq=an.toString().length-J.toString().length-2;var ap=an.toString().substr(2,aq);var al=Q.node().getTransformToElement(Q.node().ownerSVGElement);var ak=Q.node().ownerSVGElement.getBoundingClientRect();var ao=am.getBoundingClientRect();var aj=U(ap);aj.point={x:ao.left-ak.left+ao.width/2,y:(ao.height>16)?ao.top-ak.top+8:ao.top-ak.top+ao.height/2};aj.plotArea={x:al.e,y:al.f,width:B,height:Y};ab.showTooltip(b.formatTooltipData(aj));V(ar)}};af.afterUIComponentAppear=function(){ab.initialized()};af.mouseout=function(){if(aa.tooltip.enabled){ab.hideTooltip()}if(d3.event){var aj=d3.select(d3.event.target);v(aj)}};af.parent=function(){return Q};af.highlight=function(ak){if(ak instanceof Array){for(var al=0,aj=ak.length;al<aj;al++){ak[al].setAttribute("opacity",1)}}else{ak.setAttribute("opacity",1)}};af.unhighlight=function(ak){if(ak instanceof Array){for(var al=0,aj=ak.length;al<aj;al++){ak[al].setAttribute("opacity",0.4)}}else{ak.setAttribute("opacity",0.4)}};af.clear=function(aj){if(aj==null){Q.selectAll(".v-datapoint").attr("opacity",1)}else{Q.selectAll(".v-datapoint").attr("opacity",0.4)}};af.width=function(aj){if(!arguments.length){return B}B=aj;E();return af};af.height=function(aj){if(!arguments.length){return Y}Y=aj;ad();return af};af.data=function(aj){if(!arguments.length){return u}u=aj;z=true;r=u.getAnalysisAxisDataByIdx(0);X=u.getAnalysisAxisDataByIdx(1);ae=u.getMeasureValuesGroupDataByIdx(0);return af};af.properties=function(aj){if(!arguments.length){return H}g.extend(true,aa,aj);g.extend(true,H,aj);z=true;return af};af.getDatapointsByRange=function(ap){var ao=d3.selectAll(".v-datapoint")[0],an=[],ak=ap.ctx.ranges,am;for(var al=0,aj=ao.length;al<aj;al++){am=ao[al].__data__.val;if(k.isNoValue(ap.val)){if(k.isNoValue(am)){an.push(ao[al])}}else{if(am<ak.endValue&&am>ak.startValue){an.push(ao[al])}else{if(!ak.isLeftOpen&&am===ak.startValue){an.push(ao[al])}else{if(!ak.isRightOpen&&am===ak.endValue){an.push(ao[al])}}}}}return an};af.mbcLegendInfo=function(){var aj=ac();return{colorScale:aj,title:ae.values[0].col}};af.getPreferredSize=function(){};af.categoryScaleX=function(){return q};af.isDrawXaxisBody=function(){var aj=false;if(!X){aj=true}return(!aj)};af.categoryScaleY=function(){return P};af.dataLabel=function(aj){};var ac=function(){var aw=d3.scale.ordinal();var aB=[];var ak=false;if(!X){ak=true}if(ak){var ap=ae.values[0].rows[0];for(var ay=0;ay<ap.length;ay++){aB.push(ap[ay])}}else{var aj=r.values[0].rows;var al=X.values[0].rows;var ap=ae.values[0].rows;var au=aj.length;var av=al.length;for(var ay=0;ay<av;ay++){for(var ax=0;ax<au;ax++){aB.push(ap[ay][ax])}}}var ao=-Number.MAX_VALUE;var aA=Number.MAX_VALUE;for(var ar=0;ar<aB.length;ar++){if(!k.isNoValue(aB[ar].val)){if(ao<aB[ar].val){ao=aB[ar].val}if(aA>aB[ar].val){aA=aB[ar].val}}}var an=false;for(var ay=0;ay<aB.length;ay++){if(k.isNoValue(aB[ay].val)){an=true}}var aq=aa.colornumber;var az;if(aA===Number.MAX_VALUE&&ao===-Number.MAX_VALUE){az=d3.scale.ordinal().domain([[]]).range([aa.emptycolor])}else{var az=l.getScale(aA,ao,aq,aa.startColor,aa.endColor);if(an){var at=az.domain();var am=az.range();at.push([]);am.push(aa.emptycolor)}}return az};var E=function(){var ak=false;if(!X){ak=true}var am=r.values[0].rows;var al=[];for(var aj=0;aj<am.length;aj++){al.push(aj)}q=q.domain(al).rangeBands([0,B])};var ad=function(){var al=false;if(!X){al=true}if(al){P=P.domain([0,0]).rangeBands([0,0])}else{var aj=X.values[0].rows;var am=[];for(var ak=0;ak<aj.length;ak++){am.push(ak)}P=P.domain(am).rangeBands([Y,0])}};af.dispatch=function(aj){if(!arguments.length){return ab}ab=aj;return af};var K=function(ak,aj){for(var al in aj){if(typeof(aj[al])==="object"){if(ak[al]){ak[al]=K(ak[al],aj[al])}else{ak[al]=aj[al]}}else{ak[al]=aj[al]}}return ak};return af};return m});sap.riv.module({qname:"sap.viz.modules.manifests.HeatMap",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.heatmap",version:"4.0.1"},{qname:"sap.viz.feeds.HeatMap",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.heatmap",type:b.Module.Type.Chart,name:"heatmap",properties:{border:{name:"border",description:"Settings for border.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of zone edge."},},},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data loading animation of plot area."},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data updating animation of plot area."},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable resizing animation of plot area."}},description:"Settings for animation of plot area."},startColor:{name:"startColor",supportedValueType:"String",defaultValue:"#C2E3A9",description:"Set heatMap startColor."},endColor:{name:"endColor",supportedValueType:"String",defaultValue:"#73C03C",description:"Set heatMap endColor."},tooltip:{name:"tooltip",description:"Settings for tooltip.",supportedValueType:"Object",supportedValues:{visible:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."},},isExported:false}},events:{initialized:b.Module.Event.Initialized.desc,selectData:b.Module.Event.SelectData.desc,deselectData:b.Module.Event.DeSelectData.desc,showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},feeds:{id:"heatMap"},css:{},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.HeatMapChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseSingleChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"},{qname:"sap.viz.modules.manifests.HeatMap",version:"4.0.1"}],function Setup(b){var a={id:"viz/heatmap",name:"IDS_HEATMAPCHART",base:"riv/base/single",modules:{root:{modules:{legend:{id:"sap.viz.modules.legend",configure:{description:"The measure based coloring legend is a bar containing segments with different colors and a value scale on side to indicate the relationship between the values and colors in the chart. ",properties:{type:"MeasureBasedColoringLegend"},propertiesOverride:{isHierarchical:{isExported:false},formatString:{isExported:true}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"heatmap",orientation:"bottom"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mouseover","mouseout","touchstart"]}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rectCoordinate",visible:false,orientation:"vertical",position:"inside",automaticInOutside:false,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:false}}},xAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the x axis of a normal heatmap.",propertyCategory:"xAxis",properties:{type:"category",position:"bottom",gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",data:{aa:[2]},configure:{description:"Settings for the y axis of a normal heatmap.",propertyCategory:"yAxis",properties:{type:"category",position:"left",gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},plot:{id:"sap.viz.modules.heatmap",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},dependencies:{attributes:[{targetModule:"root.main.xAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScaleX"},{targetModule:"root.main.xAxis",target:"isDrawBody",sourceModule:"root.main.plot",source:"isDrawXaxisBody"},{targetModule:"root.main.yAxis",target:"scale",sourceModule:"root.main.plot",source:"categoryScaleY"},{targetModule:"root.legend",target:"mbcLegendInfo",sourceModule:"root.main.plot",source:"mbcLegendInfo"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.feeds.TagCloud",version:"4.0.1"},[{qname:"sap.viz.feeds.Manifest",version:"4.0.1"},{qname:"sap.viz.data.feed.Constants",version:"4.0.1"}],function Setup(c,b){var a={id:"tagCloud",feeds:[{id:"tagName",name:"IDS_TAGNAME",type:b.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:-1,maxStackedDims:1},{id:"tagWeight",name:"IDS_TAGWEIGHT",type:b.Type.Measure,min:1,max:1,mgIndex:1},{id:"tagFamily",name:"IDS_TAGFAMILY",type:b.Type.Measure,min:0,max:1,mgIndex:2}]};c.register(a)});sap.riv.module({qname:"sap.viz.modules.tagcloud.wordleLayout",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"}],function Setup(b,c){var a=function(){var d=300,m=300,h=[],f="";var l="Mixed";var k=function(){};k.textDirection=function(o){if(!arguments.length){return l}l=o;return k};k.width=function(o){if(!arguments.length){return d}d=o;return k};k.height=function(o){if(!arguments.length){return m}m=o;return k};k.data=function(o){if(!arguments.length){return h}o.sort(function(q,p){if(q.wordSize&&p.wordSize){return p.wordSize.val-q.wordSize.val}});h=o;return k};k.font=function(o){if(!arguments.length){return f}f=o;return k};k.layout=function(){var p=false,o=0;while(!p){p=n(++o)}return k};var n=function(r){var A=h,o,w,z;for(var t=0,u=A.length;t<u;t++){w=A[t];if(c.isNoValue(w.fontSize)){continue}o=b.fastMeasure(A[t].word.val+"i",A[t].fontSize+"px","normal",f);w.width=o.width;w.height=o.height;w.x=undefined;w.y=undefined;w.rect=new j(w.width,w.height);var x;if(!z){var s;switch(l){case"Mixed":if(w.width<=d&&w.height<=m){s=false}else{if(w.height<=d&&w.width<=m){s=true}}break;case"Vertical":s=true;break;case"Horizontal":s=false;break}if(s!==null){z=w;if(s){w.rect.rotate()}w.rect.position(d/2,m/2);x=true}}else{var v=[];v.push(z);while(v.length!==0){var B=v.shift();if(B.child){B.child.forEach(function(C){if(C){v.push(C)}})}x=e(w,B,z);if(x){break}}}if(x){w.x=w.rect.x;w.y=w.rect.y;var p=-o.y-(o.height/2),q=w.rect.rotated;if(q){w.x-=p;w.rotate=90}else{w.y+=p;w.rotate=0}}}A.forEach(function(C){delete C.child;delete C.rect});return true};function e(w,v,t){var s=w.rect;var o=v.child;if(!o){o=[];v.child=o}var u,r;var q,p;switch(l){case"Mixed":for(p=0;p<2;p++){if(p===1){s.rotate()}for(q=0;q<4;q++){if(o[q]){continue}switch(q){case 0:u=v.x;r=v.rect.y0-s.h/2;break;case 1:r=v.y;u=v.rect.x1+s.w/2;break;case 2:u=v.x;r=v.rect.y1+s.h/2;break;case 3:r=v.y;u=v.rect.x0-s.w/2;break}s.position(u,r);if(s.x0>=0&&s.y0>=0&&s.x1<=d&&s.y1<=m){if(g(s,v,t)){o[q]=w;return true}}}}break;case"Vertical":s.rotate();for(q=0;q<4;q++){if(o[q]){continue}switch(q){case 0:u=v.x;r=v.rect.y0-s.h/2;break;case 1:r=v.y;u=v.rect.x1+s.w/2;break;case 2:u=v.x;r=v.rect.y1+s.h/2;break;case 3:r=v.y;u=v.rect.x0-s.w/2;break}s.position(u,r);if(s.x0>=0&&s.y0>=0&&s.x1<=d&&s.y1<=m){if(g(s,v,t)){o[q]=w;return true}}}break;case"Horizontal":for(q=0;q<4;q++){if(o[q]){continue}switch(q){case 0:u=v.x;r=v.rect.y0-s.h/2;break;case 1:r=v.y;u=v.rect.x1+s.w/2;break;case 2:u=v.x;r=v.rect.y1+s.h/2;break;case 3:r=v.y;u=v.rect.x0-s.w/2;break}s.position(u,r);if(s.x0>=0&&s.y0>=0&&s.x1<=d&&s.y1<=m){if(g(s,v,t)){o[q]=w;return true}}}break}if(l==="Mixed"||l==="Vertical"){s.rotate()}return false}function g(s,r,p){if(p!==r){if(!s.notInterects(p.rect)){return false}}for(var q=0,t=p.child,o=t?t.length:0;q<o;q++){if(t[q]&&!g(s,r,t[q])){return false}}return true}function j(o,p){this.w=o;this.h=p;this.rotated=false}j.prototype={position:function(o,r){this.x=o;this.y=r;var q=this.w/2,p=this.h/2;this.x0=o-q;this.x1=o+q;this.y0=r-p;this.y1=r+p},notInterects:function(o){return this.x1<=o.x0||this.x0>=o.x1||this.y1<=o.y0||this.y0>=o.y1},rotate:function(){this.rotated=!this.rotated;var o=this.h;this.h=this.w;this.w=o}};return k};return a});sap.riv.module({qname:"sap.viz.modules.tagcloud.columnLayout",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"}],function Setup(b,c){var a=function(){var h=300,d=300,j=[],e="";var f="Mixed";var g=function(){};g.textDirection=function(l){if(!arguments.length){return f}f=l;return g};g.width=function(l){if(!arguments.length){return h}h=l;return g};g.height=function(l){if(!arguments.length){return d}d=l;return g};g.data=function(l){if(!arguments.length){return j}j=l;return g};g.font=function(l){if(!arguments.length){return e}e=l;return g};g.layout=function(){k();return g};var k=function(){var s=j;var r,l;for(var n=0,q=s.length;n<q;n++){r=s[n];l=b.fastMeasure(s[n].word.val+"i",s[n].fontSize+"px","normal",e);r.width=l.width;r.height=l.height}var p=0,o=0;for(var m=0,t=s.length;m<t;m++){r=s[m];if(c.isNoValue(s[m].fontSize)){continue}o=o+r.height;r.x=p;r.y=o;r.rotate=undefined}};return g};return a});sap.riv.module({qname:"sap.viz.modules.tagcloud.rowLayout",version:"4.0.1"},[{qname:"sap.viz.util.TextUtils",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"}],function Setup(b,c){var a=function(){var h=300,d=300,j=[],e="";var g="Mixed";var k=function(){};k.textDirection=function(m){if(!arguments.length){return g}g=m;return k};k.width=function(m){if(!arguments.length){return h}h=m;return k};k.height=function(m){if(!arguments.length){return d}d=m;return k};k.data=function(m){if(!arguments.length){return j}j=m;return k};k.font=function(m){if(!arguments.length){return e}e=m;return k};k.layout=function(){l();return k};var l=function(){var t=j;var s,m,n,r;for(n=0,r=t.length;n<r;n++){s=t[n];m=b.fastMeasure(t[n].word.val+"i",t[n].fontSize+"px","normal",e);s.width=m.width;s.height=m.height}var p=0;var q=t[0].height,o=0,u=0;for(n=0,r=t.length;n<r;n++){s=t[n];if(c.isNoValue(t[n].fontSize)){continue}if(p+s.width>h){p=0;f(u,n,o+q);u=n;o=o+q;q=t[n].height}if(s.height>q){q=s.height}s.x=p;s.y=o;p=p+s.width;s.rotate=undefined}f(u,n,o+q)};var f=function(q,p,m){var o;for(var n=q;n<p;n++){o=j[n];o.y=m}};return k};return a});sap.riv.module({qname:"sap.viz.modules.tagcloud",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.modules.dispatch",version:"4.0.1"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.modules.tagcloud.rowLayout",version:"4.0.1"},{qname:"sap.viz.modules.tagcloud.columnLayout",version:"4.0.1"},{qname:"sap.viz.modules.tagcloud.wordleLayout",version:"4.0.1"},{qname:"sap.viz.util.MeasureBasedColoring",version:"4.0.1"},{qname:"sap.viz.util.NumberUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.1"}],function Setup(a,h,e,g,n,o,c,m,k,d,b,j,l){var f=function(C,L){var ag="v-hoverline";var p=400,q=200,Y=null,N={},U=[],J=48,D=12,E,u=[],K=L.effectManager;var Q=d.guid();var I=Number.MAX_VALUE,M=Number.MIN_VALUE,w=false,H=true;var r={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",color:"#555555"};var Z={};var ac=1,R=g.get("IDS_ISNOVALUE");var O,z,X;O=C.props(null);X=O.layout.textDirection;z=O.layout.mode;var G=new h("initialized","showTooltip","hideTooltip");var v=null;var ad=false,B=true,af=false,x=false;function F(){var ah=false;if(B){ah=O.animation.dataLoading}else{if(x){ah=O.animation.dataUpdating}else{if(af){ah=O.animation.resizing}}}return ah}var ae=function(ah){ah.each(function(){l.drawBound(ah,p,q);P();if(v===null){v=ah.append("rect").attr("fill",Z.hoverline.fill).attr("class",ag).style("visibility","hidden")}else{v.attr("width",0).attr("height",0).attr("x",0).attr("y",0).style("visibility","hidden")}var aj=ab();Y=d3.select(this);if(x&&!Y.selectAll("g.v-word").empty()){Y.selectAll("g.v-word").remove()}Y.attr("style","cursor:default");var ai=Y.selectAll("g.v-word").data(aj,function(am,al){return(am.word?am.word.val:"")+" "+(am.wordFontFamily?am.wordFontFamily.val:"")+" "+(am.wordSize?am.wordSize.val:"")});ai.selectAll("text").data(function(am,al){return am}).text(function(am,al){return am.word.val});var ak=ai.enter().append("g").attr("class","v-word").append("text").text(function(am,al){return am.word.val}).attr("id",function(am,al){return"TAG_ID_"+al+Q}).attr("class","v-datapoint").attr("visibility",function(an,am){var al="visible";if(k.isNoValue(an.fontSize)||an.x===undefined||an.y===undefined){al="hidden"}return al}).attr("font-size",function(am,al){return am.fontSize}).attr("font-family",r.fontfamily);ai.exit().attr("transform","translate(-1000, -1000)");ai.selectAll(".v-datapoint").attr("fill",function(aq,ao){var am;if(E&&aq.wordFontFamily!==null&&aq.wordFontFamily.val!==null){var an,al,ap=E.domain();for(an=0,al=ap.length-1;an<al;an++){if(aq.wordFontFamily.val!==null&&(ap[an][1]>aq.wordFontFamily.val)){break}}am=E(ap[an])}else{am=r.color}var ar={fillColor:am,drawingEffect:"normal"};return K.register(ar)}).attr("text-anchor",function(){if(z==="Wordle"){return"middle"}else{return"start"}});ai.selectAll("text").attr("fill-opacity",ac);if(F()){ai.transition().attr("transform",function(an,al){var am="";if(an.x!==undefined&&an.y!==undefined&&an.y<q&&an.x<p){am="translate("+[an.x,an.y]+")"}else{am="translate(-1000, -1000)"}if(an.rotate){am=am+" rotate("+an.rotate+")"}return am}).duration(800).delay(100).each("end",function(an,al){var am="";if(an.x!==undefined&&an.y!==undefined&&an.y<q&&an.x<p){am="translate("+[an.x,an.y]+")"}else{am="translate(-1000, -1000)"}if(an.rotate){am=am+" rotate("+an.rotate+")"}this.setAttribute("transform",am);if(al===aj.length-1){G.initialized()}})}else{ai.attr("transform",function(an,al){var am="";if(an.x!==undefined&&an.y!==undefined){am="translate("+[an.x,an.y]+")"}else{am="translate(-1000, -1000)"}if(an.rotate){am=am+" rotate("+an.rotate+")"}return am});G.initialized()}ad=false,B=false,af=false,x=false})};ae.width=function(ah){if(!arguments.length){return p}af=(!af&&(ah===p))?false:true;p=ah;return ae};ae.height=function(ah){if(!arguments.length){return q}af=(!af&&(ah===q))?false:true;q=ah;return ae};ae.data=function(aj){if(!arguments.length){return N}var ak={};ak.words=aj.getAnalysisAxisDataByIdx(0).values[0];var ai=aj.getMeasureValuesGroupDataByIdx(0);if(ai&&aj.getMeasureValuesGroupDataByIdx(0).values.length>0){ak.wordsSize=aj.getMeasureValuesGroupDataByIdx(0).values[0]}else{ak.wordsSize=undefined}var ah=aj.getMeasureValuesGroupDataByIdx(1);if(ah&&ah.values.length>0){ak.wordsFontFamily=aj.getMeasureValuesGroupDataByIdx(1).values[0]}else{ak.wordsFontFamily=undefined;E=undefined}aa(ak);x=true;ad=s(ak);N=ak;return ae};ae.properties=function(ah){if(!arguments.length){return O}j.extend(true,O,ah);t();return ae};ae.dispatch=function(ah){if(!arguments.length){return G}G=ah;return ae};ae.mbcLegendInfo=function(){var ah=N.wordsFontFamily?N.wordsFontFamily.col:"";return{colorScale:E,title:ah}};ae.parent=function(){return Y};ae.highlight=function(ai){if(ai instanceof Array){for(var aj=0,ah=ai.length;aj<ah;aj++){ai[aj].setAttribute("fill-opacity",1)}}else{ai.setAttribute("fill-opacity",1)}};ae.unhighlight=function(ai){if(ai instanceof Array){for(var aj=0,ah=ai.length;aj<ah;aj++){ai[aj].setAttribute("fill-opacity",0.4)}}else{ai.setAttribute("fill-opacity",0.4)}};ae.clear=function(ah){if(ah===undefined){Y.selectAll(".v-datapoint").attr("fill-opacity",1);ac=1}else{Y.selectAll(".v-datapoint").attr("fill-opacity",0.4)}};ae.mouseover=function(ai){var am=d3.select(d3.event.target);var ak=am.attr("id");if(ak&&H){var an=W(am.datum());var aj=Y.node().getTransformToElement(Y.node().ownerSVGElement);var al=Y.node().ownerSVGElement.getBoundingClientRect();var ao=am.node().getBoundingClientRect(),ah=Y.node().getBoundingClientRect();v.attr("width",ao.width).attr("height",ao.height).attr("x",ao.left-ah.left).attr("y",ao.top-ah.top).style("visibility","visible");an.point={x:ao.left-al.left+ao.width/2,y:ao.top-al.top};an.plotArea={x:aj.e,y:aj.f,width:p,height:q};G.showTooltip(b.formatTooltipData(an))}};ae.mouseout=function(){v.attr("width",0).attr("height",0).attr("x",0).attr("y",0).style("visibility","hidden");if(H){G.hideTooltip()}};ae.getDatapointsByRange=function(an){var am=d3.selectAll(".v-datapoint")[0],al=[],ai=an.ctx.ranges,ak;for(var aj=0,ah=am.length;aj<ah;aj++){ak=am[aj].__data__.wordFontFamily.val;if(k.isNoValue(an.val)){if(k.isNoValue(ak)){al.push(am[aj])}}else{if(ak<ai.endValue&&ak>ai.startValue){al.push(am[aj])}else{if(!ai.isLeftOpen&&ak===ai.startValue){al.push(am[aj])}else{if(!ai.isRightOpen&&ak===ai.endValue){al.push(am[aj])}}}}}return al};var s=function(al){var am=N,ak=false;if(am.words&&al.words){if(am.words.rows.length!==al.words.rows.length){ak=true}else{if((am.wordsFontFamily&&!al.wordsFontFamily)||(!am.wordsFontFamily&&al.wordsFontFamily)){ak=true}else{var aj=am.words.rows,an=al.words.rows;for(var ai=0,ah=aj.length;ai<ah;ai++){if(aj[ai].val!==an[ai].val){ak=true;break}}}}}return ak};var t=function(){if(O.layout instanceof Object){z=O.layout.mode}else{z=O.layout}if(z!=="Row"&&z!=="Column"&&z!=="Wordle"){z="Wordle"}X=O.layout.textDirection;if(X!=="Mixed"&&X!=="Vertical"&&X!=="Horizontal"){X="Mixed"}H=O.tooltip.enabled;if(E){S(I,M,w)}};var ab=function(){var ai=[],ak;for(var aj=0,ah=U.length;aj<ah;aj++){ak=U[aj];if(!(k.isNoValue(ak.fontSize)||ak.x===undefined||ak.y===undefined||ak.y>q||ak.x>p)){ai.push(ak)}}return ai};var W=function(ai){var ah={body:[],footer:[]};if(N.wordsSize){ah.body.push({name:N.wordsSize.col,val:[{value:V(ai.wordSize.val)}]})}if(N.wordsFontFamily){ah.body.push({name:N.wordsFontFamily.col,val:[{value:V(ai.wordFontFamily.val)}]})}if(N.words){ah.footer.push({label:N.words.col,value:ai.word.val})}return ah};var aa=function(an){U=[];var al,ak,aj,am;I=undefined,M=undefined,w=false;for(var ai=0,ah=an.words.rows.length;ai<ah;ai++){if(an.words&&an.words.rows[ai].val&&an.wordsSize&&an.wordsSize.rows[0][ai]&&!k.isNoValue(an.wordsSize.rows[0][ai].val)){am={};am.word=an.words.rows[ai];am.wordSize=(an.wordsSize?an.wordsSize.rows[0][ai]:undefined);am.wordFontFamily=(an.wordsFontFamily?an.wordsFontFamily.rows[0][ai]:undefined);am.val=[an.words.rows[ai].val];am.ctx=[an.words.rows[ai].ctx];if(am.wordSize){am.val.push(an.wordsSize.rows[0][ai].val);am.ctx.push(an.wordsSize.rows[0][ai].ctx);if(am.wordSize.val!==null){if(al===undefined||am.wordSize.val<al){al=am.wordSize.val}if(ak===undefined||am.wordSize.val>ak){ak=am.wordSize.val}}}if(am.wordFontFamily){am.val.push(am.wordFontFamily.val);am.ctx.push(am.wordFontFamily.ctx);aj=am.wordFontFamily.val;if(aj===null){w=true}else{if(I===undefined||aj<I){I=am.wordFontFamily.val}if(M===undefined||aj>M){M=am.wordFontFamily.val}}}U.push(am)}}T(al,ak);if(an.wordsFontFamily){S(I,M,w)}else{E=undefined}};var T=function(an,ak){var ao=U.length;var al,aj,ai;if(an===0){an=1;ak+=1}if(ao>1){aj=(J-(D*(ak/an)))/(1-(ak/an));al=(D-aj)/an}else{aj=0;al=J/(an<0?-an:an)}for(var am=0,ah=U.length;am<ah;am++){if(U[am].wordSize&&an!==ak){ai=Math.round(al*U[am].wordSize.val+aj)}else{ai=D}U[am].fontSize=(U[am].wordSize.val===null)?null:ai}};var S=function(ai,al,ak){if(ai===undefined&&al===undefined){E=d3.scale.ordinal().domain([[]]).range([r.color])}else{E=m.getScale(ai,al,5,O.startColor,O.endColor);if(ak){var ah=E.domain();var aj=E.range();ah.push([]);aj.push(r.color)}}};var P=function(){var ai;if(z==="Column"){ai=o()}else{if(z==="Row"){ai=n()}else{if(z==="Wordle"){ai=c()}}}if(ai!==undefined){var aj=(new Date()).valueOf();ai.width(p).height(q).data(U).font(r.fontfamily).textDirection(X).layout();var ah=(new Date()).valueOf()}};var V=function(ah){return(ah===null||ah===undefined)?R:ah};function A(){Z.hoverline=L.styleManager.queryDefault(ag)}A();return ae};return f});sap.riv.module({qname:"sap.viz.modules.manifests.TagCloud",version:"4.0.1"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.Constants",version:"4.0.1"},{qname:"sap.viz.modules.tagcloud",version:"4.0.1"},{qname:"sap.viz.feeds.TagCloud",version:"4.0.1"}],function Setup(d,b,c){var a={id:"sap.viz.modules.tagcloud",type:b.Module.Type.Chart,name:"tagcloud",properties:{layout:{name:"layout",supportedValueType:"Object",supportedValues:{mode:{name:"mode",supportedValueType:"List",supportedValues:["Row","Column","Wordle"],defaultValue:"Wordle",description:"Set layout mode of tag cloud."},textDirection:{name:"textDirection",supportedValueType:"List",supportedValues:["Mixed","Vertical","Horizontal"],defaultValue:"Mixed",description:"Set text direction of tagcloud. Only taking effect when layout mode is set to 'Wordle'."}},description:"Settings for layout options of tagcloud."},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data loading animation of plot area."},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data updating animation of plot area."},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable resizing animation of plot area."}},description:"Settings for animation of plot area."},startColor:{name:"startColor",supportedValueType:"String",defaultValue:"#C2E3A9",description:"Set tagCloud start color."},endColor:{name:"endColor",supportedValueType:"String",defaultValue:"#73C03C",description:"Set tagCloud endcolor."},tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."}},isExported:false,description:"Settings for tooltip related properties."}},events:{initialized:b.Module.Event.Initialized.desc,selectData:b.Module.Event.SelectData.desc,deselectData:b.Module.Event.DeSelectData.desc,showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},feeds:{id:"tagCloud"},css:{".v-hoverline":{description:"Define style for hover line color.",value:{fill:"#cccccc",}}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.TagCloudChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.manifests.BaseSingleChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"},{qname:"sap.viz.modules.manifests.TagCloud",version:"4.0.1"}],function Setup(b){var a={id:"viz/tagcloud",name:"IDS_TAGCLOUDCHART",base:"riv/base/single",modules:{root:{modules:{legend:{feeds:[],configure:{description:"The measure based coloring legend is a bar containing segments with different colors and a value scale on side to indicate the relationship between the values and colors in the chart. ",properties:{type:"MeasureBasedColoringLegend"},propertiesOverride:{isHierarchical:{isExported:false},formatString:{isExported:true}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"tagcloud",orientation:"bottom"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mouseover","mouseout","touchstart"]}}},main:{modules:{dataLabel:null,plot:{id:"sap.viz.modules.tagcloud",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},dependencies:{attributes:[{targetModule:"root.legend",target:"mbcLegendInfo",sourceModule:"root.main.plot",source:"mbcLegendInfo"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.RadarChart",version:"4.0.1"},[{qname:"sap.viz.manifests.Viz",version:"4.0.1"},{qname:"sap.viz.manifests.BaseSingleChart",version:"4.0.1"},{qname:"sap.viz.modules.manifests.RootContainer",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Radar",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Background",version:"4.0.1"}],function Setup(b){var a={id:"viz/radar",name:"IDS_RADARCHART",base:"riv/base/single",modules:{root:{modules:{legend:{id:"sap.viz.modules.legend",data:{aa:[2,3]}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"radar",orientation:"left"}}},interaction:{id:"sap.viz.modules.controller.interaction",configure:{clientID:"main",propertyCategory:"interaction",properties:{supportedEventNames:["mousemove","mouseup","touchstart"]}}},main:{id:"sap.viz.modules.xycontainer",modules:{plot:{id:"sap.viz.modules.radar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rectCoordinate",visible:false,orientation:"vertical",position:"outside",automaticInOutside:false,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true,outsidePosition:"up",positionPreference:true}}}}}}}},dependencies:{attributes:[{targetModule:"root.legend",target:"colorPalette",sourceModule:"root.main.plot",source:"colorPalette"},{targetModule:"root.legend",target:"shapes",sourceModule:"root.main.plot",source:"shapes"},{targetModule:"root.legend",target:"setSelectionMode",sourceModule:"root.interaction",source:"getSelectionMode"}],events:[{targetModule:"root.interaction",listener:"registerEvent",sourceModule:"root.main.plot",type:"initialized.interaction"},{targetModule:"root.interaction",listener:"highlightedByLegend",sourceModule:"root.legend",type:"highlightedByLegend"},{targetModule:"root.legend",listener:"deselectLegend",sourceModule:"root.interaction",type:"deselectLegend"},{targetModule:"root.tooltip",listener:"showTooltip",sourceModule:"root.main.plot",type:"showTooltip"},{targetModule:"root.tooltip",listener:"hideTooltip",sourceModule:"root.main.plot",type:"hideTooltip"},{targetModule:"root.main.dataLabel",listener:"showLabel",sourceModule:"root.main.plot",type:"initialized.datalabel"},{targetModule:"root.main.dataLabel",listener:"removeLabel",sourceModule:"root.main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.load",version:"4.0.1"},[{qname:"sap.viz.manifests.RadarChart",version:"4.0.1"},{qname:"sap.viz.manifests.TagCloudChart",version:"4.0.1"},{qname:"sap.viz.manifests.HeatMapChart",version:"4.0.1"},{qname:"sap.viz.manifests.TreeMapChart",version:"4.0.1"},{qname:"sap.viz.manifests.scatter.BubbleChart",version:"4.0.1"},{qname:"sap.viz.manifests.scatter.ScatterChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiScatterChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiBubbleChart",version:"4.0.1"},{qname:"sap.viz.manifests.ScatterMatrixChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiLineChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiHorizontalLineChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiDualLineChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiDualHorizontalLineChart",version:"4.0.1"},{qname:"sap.viz.manifests.pie.DonutChart",version:"4.0.1"},{qname:"sap.viz.manifests.pie.DonutWithDepthChart",version:"4.0.1"},{qname:"sap.viz.manifests.pie.PieChart",version:"4.0.1"},{qname:"sap.viz.manifests.pie.PieWithDepthChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiPieChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiDonutChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.PercentageStackedVerticalBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.PercentageStackedBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.StackedVerticalBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.StackedBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.DualStackedBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.DualStackedVerticalBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.DualPercentageStackedBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.DualPercentageStackedVerticalBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.DualVerticalBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.DualBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.VerticalBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BarChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.ImageBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.BaseHorizontalChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.HorizontalWaterfallChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.WaterfallChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.StackedWaterfallChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.HorizontalStackedWaterfallChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.DualHorizontalLineChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.HorizontalLineChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.DualLineChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.LineChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.CombinationChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.DualCombinationChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.HorizontalCombinationChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.DualHorizontalCombinationChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.VerticalBoxplotChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.HorizontalBoxplotChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.MekkoChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.PercentageMekkoChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.HorizontalMekkoChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.PercentageHorizontalMekkoChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.AreaChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.PercentageAreaChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.HorizontalAreaChart",version:"4.0.1"},{qname:"sap.viz.manifests.xy.PercentageHorizontalAreaChart",version:"4.0.1"},{qname:"sap.viz.manifests.xyz.Column3DChart",version:"4.0.1"},{qname:"sap.viz.manifests.xyz.Bar3DChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiRadarChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiVerticalBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiDualVerticalBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiDualBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiStackedBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiStackedVerticalBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiDualStackedBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiDualStackedVerticalBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiPercentageStackedBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiPercentageStackedVerticalBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiDualPercentageStackedBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiDualPercentageStackedVerticalBarChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiAreaChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiPercentageAreaChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiHorizontalAreaChart",version:"4.0.1"},{qname:"sap.viz.manifests.MultiPercentageHorizontalAreaChart",version:"4.0.1"}],function Setup(){return});sap.riv.module({qname:"sap.viz.base.Logger",version:"4.0.1"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"}],function Setup(a){var e=a.noop;Date.now=Date.now||function(){return +new Date()};var r=0;function x(N){var G,E,J,M,I;if(k[0].length>0){if(N){I=N.getLevel();for(var H=0,F=k[0].length;H<F;H++){G=k[0][H];E=k[1][H];J=k[2][H];M=k[3][H];if(k[1][H]>=I){N.doAppend(G,E,J,M)}}return}var K={};for(var L in t){if(t.hasOwnProperty(L)){K[L]=t[L].getLevel()}}while(k[0].length){G=k[0].shift();E=k[1].shift();J=k[2].shift();M=k[3].shift();for(L in t){if(t.hasOwnProperty(L)){N=t[L];if(E>=K[L]){N.doAppend(G,E,J,M)}}}}return}else{if(++r===3){g()}}}function f(){x();if(!A){setTimeout(function(){f()},100)}}var j=function(){this.threshold=B.LEVEL.INFO;this.layout=new B.DefaultLayout();this.print=typeof console!==undefined?function(E){console.log(E)}:e};j.prototype={doAppend:function(H,E,G,F){this.print(this.layout.format(H,E,G,F))},setLayout:function(E){E.format&&(this.layout=E)},getLevel:function(){return this.threshold},setLevel:function(E){this.threshold=E}};var w=function(){};w.prototype.format=function(H,E,G,F){return"["+H+"]["+v(E)+"]["+(G||"main")+"]-"+F};var b=function(E){this.threshold=B.LEVEL.INFO;this.div=E;this.layout=new u()};b.prototype={getLevel:function(){return this.threshold},setLevel:function(E){this.threshold=E},doAppend:function(H,E,G,F){this.div.appendChild(this.layout.format(H,E,G,F))}};var u=function(){};u.prototype={getStyle:function(E){var F;if(E===B.LEVEL.ERROR){F="color:red"}else{if(E===B.LEVEL.WARN){F="color:orange"}else{if(E===B.LEVEL.DEBUG){F="color:green"}else{if(E===B.LEVEL.TRACE){F="color:green"}else{if(E===B.LEVEL.INFO){F="color:grey"}else{F="color:yellow"}}}}}return F},format:function(H,E,G,F){return'<div style="'+this.getStyle(E)+'">['+H+"]["+v(E)+"]["+(G||"main")+"]-"+F+"</div>"}};var n=function(){this.array=[]};n.prototype={push:function(E){this.array[this.array.length]=E;return this.array.length},pull:function(){if(this.array.length>0){var F=this.array[0];for(var E=0;E<this.array.length-1;E++){this.array[E]=this.array[E+1]}this.array.length=this.array.length-1;return F}return null},length:function(){return this.array.length}};var c=function(E){this.loggingUrl=E;this.isInProgress=false;this.threshold=B.LEVEL.INFO;this.bufferSize=20;this.timeout=2000;this.loggingEventMap=[];this.layout=new B.JSONLayout();this.httpRequest=null;this.timer=undefined};function q(){var E=this;if(this.isInProgress===true){setTimeout(function(){q.call(E)},100)}else{this.send()}}c.prototype={getLevel:function(){return this.threshold},setLevel:function(E){this.threshold=E},doAppend:function(I,E,H,G){this.loggingEventMap.push([I,E,H,G]);if(this.loggingEventMap.length<=this.bufferSize||this.isInProgress===true){var F=this;if(this.timer===undefined){this.timer=setTimeout(function(){q.call(F)},100)}}if(this.loggingEventMap.length>=this.bufferSize&&this.isInProgress===false){if(this.timer!==undefined){clearTimeout(this.timer)}this.send()}},send:function(){if(this.loggingEventMap.length>0){this.isInProgress=true;var F=[];var K;for(var G=0,I=this.loggingEventMap.length;G<I&&G<this.bufferSize;G++){K=this.loggingEventMap.shift();F.push(this.layout.format(K[0],K[1],K[2],K[3]))}var H=this.layout.getHeader();H+=F.join(this.layout.getSeparator());H+=this.layout.getFooter();var E=this;if(this.httpRequest===null){this.httpRequest=this.getXmlHttpRequest()}this.httpRequest.onreadystatechange=function(){E.onReadyStateChanged.call(E)};this.httpRequest.open("POST",this.loggingUrl,true);this.httpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded");this.httpRequest.setRequestHeader("Content-length",H.length);this.httpRequest.send(H);E=this;try{setTimeout(function(){E.httpRequest.onreadystatechange=function(){};E.httpRequest.abort();E.isInProgress=false;if(E.loggingEventMap.length>0){E.send()}},this.timeout)}catch(J){}}},onReadyStateChanged:function(){var E=this.httpRequest;if(this.httpRequest.readyState!==4){return}var F=((typeof E.status==="undefined")||E.status===0||(E.status>=200&&E.status<300));if(F){this.isInProgress=false}else{}},getXmlHttpRequest:function(){var E=false;try{if(window.XMLHttpRequest){E=new XMLHttpRequest();if(E.overrideMimeType){E.overrideMimeType(this.layout.getContentType())}}else{if(window.ActiveXObject){try{E=new ActiveXObject("Msxml2.XMLHTTP")}catch(F){E=new ActiveXObject("Microsoft.XMLHTTP")}}}}catch(F){E=false}if(!E){throw"browser don't support AJAX"}return E}};var C=function(){};C.prototype={format:function(I,E,H,F){var G='{\n "LoggingEvent": {\n';G+='\t"category": "'+(H||"main")+'",\n';G+='\t"level": "'+v(E)+'",\n';G+='\t"message": "'+F+'",\n';G+='\t"timestamp": "'+I+'"\n';G+="}\n}";return G},getContentType:function(){return"text/json"},getHeader:function(){var E="unknown";try{E=navigator.userAgent}catch(F){E="unknown"}var G="unknown";try{G=location.href}catch(F){G="unknown"}return'{"ClientInfo" : {\n\t"useragent": "'+E+'",\n\t"referer": "'+G+'"\n},\n"VizLogger": [\n'},getFooter:function(){return"\n]}"},getSeparator:function(){return",\n"}};var s=function(){};s.prototype={format:function(I,E,G,F){var H='<vizLogger:event category="';H+=(G||"main")+'" level="';H+=v(E)+'" timestamp="';H+=I+'">\n';H+="\t<vizLogger:message><![CDATA["+this.escapeCdata(F)+"]]></vizLogger:message>\n";H+="</vizLogger:event>";return H},getContentType:function(){return"text/xml"},getHeader:function(){var E="unknown";try{E=navigator.userAgent}catch(F){E="unknown"}var G="unknown";try{G=location.href}catch(F){G="unknown"}return'<vizLogger:eventSet useragent="'+E+'" referer="'+G.replace(/&/g,"&amp;")+'">\n'},getFooter:function(){return"</vizLogger:eventSet>\n"},getSeparator:function(){return"\n"},escapeCdata:function(E){return E.replace(/\]\]>/,"]]>]]&gt;<![CDATA[")}};function v(E){switch(E){case B.LEVEL.TRACE:return"TRACE";case B.LEVEL.DEBUG:return"DEBUG";case B.LEVEL.INFO:return"INFO";case B.LEVEL.WARN:return"WARN";case B.LEVEL.ERROR:return"ERROR"}}var l=false;var A=false;var k=[[],[],[],[]];var D=2000;var z=function(G,F,E){if(k[0].length===D){x()}k[0].push(Date.now());k[1].push(G);k[2].push(F);k[3].push(E.toString())};var p=function(G,F,E){d();z(G,F,E)};var h=e;var g=function(){A=true;h=p};var d=function(){A=false;h=z;setTimeout(function(){f()},100)};var o=0;var m=function(){return o++};var t={};var B={LEVEL:{TRACE:5000,DEBUG:10000,INFO:20000,WARN:30000,ERROR:40000,NO:Number.MAX_VALUE},isEnabled:function(){return l},enable:function(){h=z;l=true;setTimeout(function(){f()},100)},disable:function(){x();h=e;l=false},toggleEnable:function(){if(l){this.disable()}else{this.enable()}},addAppender:function(){var G=m();var F,E;if(arguments.length===1){F=G;E=arguments[0]}else{if(arguments.length>=2){F=arguments[0];E=arguments[1]}}if(typeof E==="object"&&E.doAppend){if(t[F]!==undefined){return}x();t[F]=E;return F}},setAppenders:function(H){t=[];for(var G=0,F=H.length;G<F;G++){var E=H[G];if(E.appenderKey){this.addAppender(E.appenderKey,E.appender)}else{this.addAppender(E.appender)}}},removeAppender:function(E){if(t[E]===undefined){return false}x(t[E]);return(delete t[E])},getAppender:function(E){return t[E]},ConsoleAppender:j,DivAppender:b,AjaxAppender:c,DefaultLayout:w,HTMLLayout:u,XMLLayout:s,JSONLayout:C,trace:function(F,E){h(B.LEVEL.TRACE,E,F)},debug:function(F,E){h(B.LEVEL.DEBUG,E,F)},info:function(F,E){h(B.LEVEL.INFO,E,F)},warn:function(F,E){h(B.LEVEL.WARN,E,F)},error:function(F,E){h(B.LEVEL.ERROR,E,F)}};t["[default]"]=new B.ConsoleAppender();return B});sap.riv.module({qname:"sap.viz.base.utils.SVGTransformParser",version:"4.0.1"},[{qname:"sap.viz.base.Logger",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"}],function Setup(m,l){var d=function(t,r){var p=[];for(var u=0;u<3;u++){p[u]=[];for(var s=0;s<3;s++){var v=0;for(var q=0;q<3;q++){v+=t[u][q]*r[q][s]}p[u][s]=v}}return p};var k=function(p){var r=Math.cos(p.rad);var q=Math.sin(p.rad);return[[r,-q,-p.cx*r+p.cy*q+p.cx],[q,r,-p.cx*q-p.cy*r+p.cy],[0,0,1]]};var j=false;var c="";function o(p){c+=p+"\n"}function a(s){var r=0;var p=-1;var q=0;var u=0;var t=s.offset+1;do{t--;r=0;p=-2;u=t;if(s.src.length<=u){return 33}do{switch(r){case 0:if((s.src.charCodeAt(t)>=9&&s.src.charCodeAt(t)<=10)||s.src.charCodeAt(t)==13||s.src.charCodeAt(t)==32){r=1}else{if(s.src.charCodeAt(t)==40){r=2}else{if(s.src.charCodeAt(t)==41){r=3}else{if(s.src.charCodeAt(t)==43||s.src.charCodeAt(t)==45){r=4}else{if(s.src.charCodeAt(t)==44){r=5}else{if(s.src.charCodeAt(t)==46){r=6}else{if((s.src.charCodeAt(t)>=48&&s.src.charCodeAt(t)<=57)){r=7}else{if(s.src.charCodeAt(t)==69||s.src.charCodeAt(t)==101){r=8}else{if(s.src.charCodeAt(t)==109){r=15}else{if(s.src.charCodeAt(t)==114){r=16}else{if(s.src.charCodeAt(t)==115){r=17}else{if(s.src.charCodeAt(t)==116){r=18}else{r=-1}}}}}}}}}}}}break;case 1:r=-1;p=1;q=t;break;case 2:r=-1;p=7;q=t;break;case 3:r=-1;p=8;q=t;break;case 4:r=-1;p=3;q=t;break;case 5:r=-1;p=6;q=t;break;case 6:r=-1;p=5;q=t;break;case 7:if((s.src.charCodeAt(t)>=48&&s.src.charCodeAt(t)<=57)){r=7}else{r=-1}p=2;q=t;break;case 8:r=-1;p=4;q=t;break;case 9:r=-1;p=12;q=t;break;case 10:r=-1;p=9;q=t;break;case 11:r=-1;p=10;q=t;break;case 12:r=-1;p=14;q=t;break;case 13:r=-1;p=11;q=t;break;case 14:r=-1;p=13;q=t;break;case 15:if(s.src.charCodeAt(t)==97){r=19}else{r=-1}break;case 16:if(s.src.charCodeAt(t)==111){r=37}else{r=-1}break;case 17:if(s.src.charCodeAt(t)==99){r=20}else{if(s.src.charCodeAt(t)==107){r=21}else{r=-1}}break;case 18:if(s.src.charCodeAt(t)==114){r=38}else{r=-1}break;case 19:if(s.src.charCodeAt(t)==116){r=22}else{r=-1}break;case 20:if(s.src.charCodeAt(t)==97){r=23}else{r=-1}break;case 21:if(s.src.charCodeAt(t)==101){r=24}else{r=-1}break;case 22:if(s.src.charCodeAt(t)==114){r=26}else{r=-1}break;case 23:if(s.src.charCodeAt(t)==108){r=28}else{r=-1}break;case 24:if(s.src.charCodeAt(t)==119){r=29}else{r=-1}break;case 25:if(s.src.charCodeAt(t)==110){r=30}else{r=-1}break;case 26:if(s.src.charCodeAt(t)==105){r=31}else{r=-1}break;case 27:if(s.src.charCodeAt(t)==116){r=32}else{r=-1}break;case 28:if(s.src.charCodeAt(t)==101){r=9}else{r=-1}break;case 29:if(s.src.charCodeAt(t)==88){r=10}else{if(s.src.charCodeAt(t)==89){r=11}else{r=-1}}break;case 30:if(s.src.charCodeAt(t)==115){r=33}else{r=-1}break;case 31:if(s.src.charCodeAt(t)==120){r=12}else{r=-1}break;case 32:if(s.src.charCodeAt(t)==101){r=13}else{r=-1}break;case 33:if(s.src.charCodeAt(t)==108){r=34}else{r=-1}break;case 34:if(s.src.charCodeAt(t)==97){r=35}else{r=-1}break;case 35:if(s.src.charCodeAt(t)==116){r=36}else{r=-1}break;case 36:if(s.src.charCodeAt(t)==101){r=14}else{r=-1}break;case 37:if(s.src.charCodeAt(t)==116){r=39}else{r=-1}break;case 38:if(s.src.charCodeAt(t)==97){r=25}else{r=-1}break;case 39:if(s.src.charCodeAt(t)==97){r=27}else{r=-1}break}t++}while(r>-1)}while(1>-1&&p==1);if(p>-1){s.att=s.src.substr(u,q-u);s.offset=q}else{s.att=new String();p=-1}return p}var g=new Array(new Array(0,1),new Array(16,1),new Array(16,0),new Array(15,1),new Array(15,3),new Array(17,1),new Array(17,1),new Array(17,1),new Array(17,1),new Array(17,1),new Array(17,1),new Array(19,14),new Array(26,1),new Array(26,3),new Array(20,4),new Array(27,1),new Array(27,3),new Array(21,4),new Array(28,1),new Array(28,5),new Array(22,4),new Array(23,4),new Array(24,4),new Array(25,1),new Array(25,1),new Array(25,2),new Array(25,2),new Array(18,1),new Array(18,0),new Array(29,1),new Array(30,1),new Array(30,2),new Array(30,2),new Array(31,2),new Array(31,2),new Array(31,3),new Array(32,2),new Array(32,3));var f=new Array(new Array(14,10,13,11,12,12,11,13,9,14,10,15,33,-2),new Array(33,0),new Array(33,-1),new Array(6,17,33,-3,14,-28,13,-28,12,-28,11,-28,9,-28,10,-28),new Array(33,-5,6,-5,14,-5,13,-5,12,-5,11,-5,9,-5,10,-5),new Array(33,-6,6,-6,14,-6,13,-6,12,-6,11,-6,9,-6,10,-6),new Array(33,-7,6,-7,14,-7,13,-7,12,-7,11,-7,9,-7,10,-7),new Array(33,-8,6,-8,14,-8,13,-8,12,-8,11,-8,9,-8,10,-8),new Array(33,-9,6,-9,14,-9,13,-9,12,-9,11,-9,9,-9,10,-9),new Array(33,-10,6,-10,14,-10,13,-10,12,-10,11,-10,9,-10,10,-10),new Array(7,18),new Array(7,19),new Array(7,20),new Array(7,21),new Array(7,22),new Array(7,23),new Array(14,10,13,11,12,12,11,13,9,14,10,15),new Array(14,-27,13,-27,12,-27,11,-27,9,-27,10,-27,3,-27,2,-27,5,-27),new Array(3,28,2,29,5,31),new Array(3,28,2,29,5,31),new Array(3,28,2,29,5,31),new Array(3,28,2,29,5,31),new Array(3,28,2,29,5,31),new Array(3,28,2,29,5,31),new Array(33,-4),new Array(6,17,3,-28,2,-28,5,-28),new Array(6,-23,3,-23,2,-23,5,-23,8,-23),new Array(6,-24,3,-24,2,-24,5,-24,8,-24),new Array(2,29,5,31),new Array(5,43,4,45,6,-29,3,-29,2,-29,8,-29),new Array(4,45,6,-30,3,-30,2,-30,5,-30,8,-30),new Array(2,47),new Array(8,48),new Array(6,17,8,-12,3,-28,2,-28,5,-28),new Array(8,50),new Array(6,17,8,-15,3,-28,2,-28,5,-28),new Array(8,52),new Array(6,17,8,-18,3,-28,2,-28,5,-28),new Array(8,54),new Array(8,55),new Array(3,28,2,29,5,31),new Array(6,-26,3,-26,2,-26,5,-26,8,-26),new Array(6,-25,3,-25,2,-25,5,-25,8,-25),new Array(2,57,6,-34,3,-34,5,-34,4,-34,8,-34),new Array(6,-32,3,-32,2,-32,5,-32,8,-32),new Array(3,58,2,59),new Array(6,-31,3,-31,2,-31,5,-31,8,-31),new Array(6,-33,3,-33,2,-33,5,-33,4,-33,8,-33),new Array(33,-14,6,-14,14,-14,13,-14,12,-14,11,-14,9,-14,10,-14),new Array(3,28,2,29,5,31),new Array(33,-17,6,-17,14,-17,13,-17,12,-17,11,-17,9,-17,10,-17),new Array(3,28,2,29,5,31),new Array(33,-20,6,-20,14,-20,13,-20,12,-20,11,-20,9,-20,10,-20),new Array(3,28,2,29,5,31),new Array(33,-21,6,-21,14,-21,13,-21,12,-21,11,-21,9,-21,10,-21),new Array(33,-22,6,-22,14,-22,13,-22,12,-22,11,-22,9,-22,10,-22),new Array(6,17,3,-28,2,-28,5,-28),new Array(6,-35,3,-35,2,-35,5,-35,4,-35,8,-35),new Array(2,64),new Array(6,-36,3,-36,2,-36,5,-36,8,-36),new Array(8,-13),new Array(8,-16),new Array(6,17,3,-28,2,-28,5,-28),new Array(3,28,2,29,5,31),new Array(6,-37,3,-37,2,-37,5,-37,8,-37),new Array(3,28,2,29,5,31),new Array(6,17,3,-28,2,-28,5,-28),new Array(8,-19),new Array(3,28,2,29,5,31),new Array(6,17,3,-28,2,-28,5,-28),new Array(3,28,2,29,5,31),new Array(6,17,3,-28,2,-28,5,-28),new Array(3,28,2,29,5,31),new Array(8,74),new Array(33,-11,6,-11,14,-11,13,-11,12,-11,11,-11,9,-11,10,-11));var b=new Array(new Array(16,1,15,2,17,3,19,4,20,5,21,6,22,7,23,8,24,9),new Array(),new Array(),new Array(18,16),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(15,24,17,3,19,4,20,5,21,6,22,7,23,8,24,9),new Array(),new Array(25,25,29,26,30,27,31,30),new Array(26,32,25,33,29,26,30,27,31,30),new Array(27,34,25,35,29,26,30,27,31,30),new Array(28,36,25,37,29,26,30,27,31,30),new Array(25,38,29,26,30,27,31,30),new Array(25,39,29,26,30,27,31,30),new Array(),new Array(18,40),new Array(),new Array(),new Array(30,41,29,42,31,30),new Array(32,44),new Array(32,46),new Array(),new Array(),new Array(18,49),new Array(),new Array(18,51),new Array(),new Array(18,53),new Array(),new Array(),new Array(25,56,29,26,30,27,31,30),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(25,60,29,26,30,27,31,30),new Array(),new Array(25,61,29,26,30,27,31,30),new Array(),new Array(25,62,29,26,30,27,31,30),new Array(),new Array(),new Array(18,63),new Array(),new Array(),new Array(),new Array(),new Array(),new Array(18,65),new Array(25,66,29,26,30,27,31,30),new Array(),new Array(25,67,29,26,30,27,31,30),new Array(18,68),new Array(),new Array(25,69,29,26,30,27,31,30),new Array(18,70),new Array(25,71,29,26,30,27,31,30),new Array(18,72),new Array(25,73,29,26,30,27,31,30),new Array(),new Array());var h=new Array("transform_list'","WHITESPACE","DIGIT-SEQUENCE","SIGN","EXPONENT_INDICATOR","DECIMAL_DOT","COMMA","LEFT_P","RIGHT_P","SKEW_X_INDICATOR","SKEW_Y_INDICATOR","ROTATE_INDICATOR","SCALE_INDICATOR","TRANSLATE_INDICATOR","MATRIX_INDICATOR","transforms","transform_list","transform","opt-comma-wsp","matrix","translate","scale","rotate","skewX","skewY","number","translate_sequence","scale_sequence","rotate_sequence","integer-constant","floating-point-constant","fractional-constant","exponent","$");function n(p){var v=0,t=[],s=[];var A,u,r;var x=undefined;var q={offset:0,src:p,att:""};var E=[0],D=[0];r=a(q);while(true){A=76;for(var w=0;w<f[E[E.length-1]].length;w+=2){if(f[E[E.length-1]][w]==r){A=f[E[E.length-1]][w+1];break}}if(j&&E.length>0){o("\\nState "+E[E.length-1]+"\\n\\tLookahead: "+h[r]+' (\\"'+q.att+'\\")\\n\\tAction: '+A+'\\n\\tSource: \\"'+q.src.substr(q.offset,30)+((q.offset+30<q.src.length)?"...":"")+'\\"\\n\\tStack: '+E.join()+"\\n\\tValue stack: "+D.join()+"\\n")}if(A==76){if(j){o("Error detected: There is no reduce or shift on the symbol "+h[r])}v++;t.push(q.offset-q.att.length);s.push(new Array());for(var w=0;w<f[E[E.length-1]].length;w+=2){s[s.length-1].push(h[f[E[E.length-1]][w]])}var C=new Array();var B=new Array();for(var w=0;w<E.length;w++){C[w]=E[w];B[w]=D[w]}while(A==76&&r!=33){if(j){o("\\tError recovery\\nCurrent lookahead: "+h[r]+" ("+q.att+")\\nAction: "+A+"\\n\\n")}if(r==-1){q.offset++}while(A==76&&E.length>0){E.pop();D.pop();if(E.length==0){break}A=76;for(var w=0;w<f[E[E.length-1]].length;w+=2){if(f[E[E.length-1]][w]==r){A=f[E[E.length-1]][w+1];break}}}if(A!=76){break}for(var w=0;w<C.length;w++){E.push(C[w]);D.push(B[w])}r=a(q)}if(A==76){if(j){o("\\tError recovery failed, terminating parse process...")}break}if(j){o("\\tError recovery succeeded, continuing")}}if(A>0){if(j){o("Shifting symbol: "+h[r]+" ("+q.att+")")}E.push(A);D.push(q.att);r=a(q);if(j){o("\\tNew lookahead symbol: "+h[r]+" ("+q.att+")")}}else{A*=-1;if(j){o("Reducing by producution: "+A)}x=void (0);if(j){o("\\tPerforming semantic action...")}switch(A){case 0:x=D[D.length-1];break;case 1:x=D[D.length-1];break;case 2:x=[[1,0,0],[0,1,0],[0,0,1]];break;case 3:x=D[D.length-1];break;case 4:x=d(D[D.length-3],D[D.length-1]);break;case 5:x=D[D.length-1];break;case 6:x=D[D.length-1];break;case 7:x=D[D.length-1];break;case 8:x=D[D.length-1];break;case 9:x=D[D.length-1];break;case 10:x=D[D.length-1];break;case 11:x=[[D[D.length-12],D[D.length-8],D[D.length-4]],[D[D.length-10],D[D.length-6],D[D.length-2]],[0,0,1]];break;case 12:x={tx:D[D.length-1],ty:0};break;case 13:x={tx:D[D.length-3],ty:D[D.length-1]};break;case 14:x=[[1,0,D[D.length-2].tx],[0,1,D[D.length-2].ty],[0,0,1]];break;case 15:x={sx:D[D.length-1],sy:D[D.length-1]};break;case 16:x={sx:D[D.length-3],sy:D[D.length-1]};break;case 17:x=[[D[D.length-2].sx,0,0],[0,D[D.length-2].sy,0],[0,0,1]];break;case 18:x={rad:D[D.length-1]*Math.PI/180,cx:0,cy:0};break;case 19:x={rad:D[D.length-5]*Math.PI/180,cx:D[D.length-3],cy:D[D.length-1]};break;case 20:x=k(D[D.length-2]);break;case 21:x=[[1,Math.tan(D[D.length-2]*Math.PI/180),0],[0,1,0],[0,0,1]];break;case 22:x=[[1,0,0],[Math.tan(D[D.length-2]*Math.PI/180),1,0],[0,0,1]];break;case 23:x=parseInt(D[D.length-1]);break;case 24:x=parseFloat(D[D.length-1]);break;case 25:x=parseInt(D[D.length-2]+D[D.length-1]);break;case 26:x=parseFloat(D[D.length-2]+D[D.length-1]);break;case 27:x=D[D.length-1];break;case 28:x=D[D.length-0];break;case 29:x=D[D.length-1];break;case 30:x=D[D.length-1];break;case 31:x=D[D.length-2]+"e"+D[D.length-1];break;case 32:x=D[D.length-2]+"e"+D[D.length-1];break;case 33:x="0."+D[D.length-1];break;case 34:x=D[D.length-2]+".0";break;case 35:x=D[D.length-3]+"."+D[D.length-1];break;case 36:x=D[D.length-1];break;case 37:x=D[D.length-2]+D[D.length-1];break}if(j){o("\\tPopping "+g[A][1]+" off the stack...")}for(var w=0;w<g[A][1];w++){E.pop();D.pop()}u=-1;for(var w=0;w<b[E[E.length-1]].length;w+=2){if(b[E[E.length-1]][w]==g[A][0]){u=b[E[E.length-1]][w+1];break}}if(A==0){break}if(j){o("\\tPushing non-terminal "+h[g[A][0]])}E.push(u);D.push(x)}if(j){c=new String();m.trace(c,"SVGTranformParser")}}if(j){m.debug("\\nParse complete.","SVGTranformParser")}if(v){var z="";for(var w=0;w<v;w++){z+="Parse error near >"+p.substr(t[w],30)+'<, expecting \\"'+s[w].join()+'\\"\\n'}m.error(z);return false}return x}var e={parse:n};return e});sap.riv.module({qname:"sap.viz.base.Math",version:"4.0.1"},[{qname:"sap.viz.base.UADetector",version:"4.0.1"}],function Setup(a){var b={PI:Math.PI,E:Math.E,LN10:Math.LN10,LN2:Math.LN2,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,abs:(function(){if(a.isSafari()||(a.isIE()&&parseFloat(a.version())<9)){return function(c){return c<0?-c:c}}else{return Math.abs}})(),acos:(function(){return Math.acos})(),asin:(function(){return Math.asin})(),atan:(function(){return Math.atan})(),atan2:(function(){return Math.atan2})(),ceil:(function(){return Math.ceil})(),cos:(function(){return Math.cos})(),exp:(function(){return Math.exp})(),floor:(function(){return Math.floor})(),log:(function(){return Math.log})(),max:(function(){return Math.max})(),min:(function(){return Math.min})(),pow:(function(){return Math.pow})(),random:(function(){return Math.random})(),round:(function(){return Math.round})(),sin:(function(){return Math.sin})(),sqrt:(function(){return Math.sqrt})(),tan:(function(){return Math.tan})()};return b});sap.riv.module({qname:"sap.viz.base.utils.TransformHelper",version:"4.0.1"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.Math",version:"4.0.1"},{qname:"sap.viz.base.utils.SVGTransformParser",version:"4.0.1"}],function Setup(c,f,g){var a=c.isString,b=c.isArray;var e=function(l,s){if(l[0].length!==s.length){return false}var u=l.length,h=s[0].length,r=s.length;var o=-1,n,m,p,q;var t=[];while(++o<u){p=[];n=-1;while(++n<h){m=-1;q=0;while(++m<r){q+=l[o][m]*s[m][n]}p.push(q)}t.push(p)}return t};var d={multiply:e,parse:function(h){return g.parse(""+h)},invert:function(j){if(a(j)){j=g.parse(j)}var k=j[0][0],h=j[0][1],q=j[0][2],p=j[1][0],o=j[1][1],n=j[1][2];var l=k*o-h*p;if(l!=0){return[[o/l,-h/l,(h*n-q*o)/l],[-p/l,k/l,(q*p-k*n)/l],[0,0,1]]}else{return false}},identityTransform:function(){return[[1,0,0],[0,1,0],[0,0,1]]},rotate:function(k){k=+k;var j=f.cos(k),h=f.sin(k);return[[j,-h,0],[h,j,0],[0,0,1]]},translate:function(j,h){if(arguments.length<2){h=0}return[[1,0,+j],[0,1,+h],[0,0,1]]},scale:function(j,h){if(arguments.length<2){h=j}return[[+j,0,0],[0,+h,0],[0,0,1]]},skewX:function(h){return[[1,f.tan(+h),0],[0,1,0],[0,0,1]]},skewY:function(h){return[[1,0,0],[f.tan(+h),1,0],[0,0,1]]},isEqualTransform:function(j,h){if(a(j)){j=g.parse(j)}if(a(h)){h=g.parse(h)}return j&&h&&(j[0][0]==h[0][0]&&j[0][1]==h[0][1]&&j[0][2]==h[0][2]&&j[1][0]==h[1][0]&&j[1][1]==h[1][1]&&j[1][2]==h[1][2]&&j[2][0]==h[2][0]&&j[2][1]==h[2][1]&&j[2][2]==h[2][2])},isIdentityTransform:function(h){if(a(h)){h=g.parse(h)}return h&&(h[0][0]==1&&h[0][1]==0&&h[0][2]==0&&h[1][0]==0&&h[1][1]==1&&h[1][2]==0&&h[2][0]==0&&h[2][1]==0&&h[2][2]==1)},isValidTransform:function(h){if(a(h)){h=g.parse(h)}if(!b(h)||h.length<3||h[0].length<3){return false}return h&&(h[0][0]*h[1][1]!=h[1][0]*h[0][1])},transformPoint:function(h,k,j){if(arguments.length===2){j=k;k=+h.y;h=+h.x}if(a(j)){j=g.parse(j)}return{x:j[0][0]*h+j[0][1]*k+j[0][2],y:j[1][0]*h+j[1][1]*k+j[1][2]}},transformRect:function(m,l,h,o,p){if(arguments.length===2){p=l;o=+m.height;h=+m.width;l=+m.y;m=+m.x}if(a(p)){p=g.parse(p)}var q={minx:Number.POSITIVE_INFINITY,maxx:Number.NEGATIVE_INFINITY,miny:Number.POSITIVE_INFINITY,maxy:Number.NEGATIVE_INFINITY};var k=[[p[0][0]*m+p[0][1]*l+p[0][2],p[1][0]*m+p[1][1]*l+p[1][2]],[p[0][0]*(m+h)+p[0][1]*l+p[0][2],p[1][0]*(m+h)+p[1][1]*l+p[1][2]],[p[0][0]*(m+h)+p[0][1]*(l+o)+p[0][2],p[1][0]*(m+h)+p[1][1]*(l+o)+p[1][2]],[p[0][0]*m+p[0][1]*(l+o)+p[0][2],p[1][0]*m+p[1][1]*(l+o)+p[1][2]]];for(var j=0,n;j<4;j++){n=k[j];if(q.minx>n[0]){q.minx=n[0]}if(q.miny>n[1]){q.miny=n[1]}if(q.maxx<n[0]){q.maxx=n[0]}if(q.maxy<n[1]){q.maxy=n[1]}}return{x:q.minx,y:q.miny,width:q.maxx-q.minx,height:q.maxy-q.miny}},unmatrix:function(h){if(a(h)){h=g.parse(h)}if(!h){return false}var p=h[0][0],n=h[1][0],m=h[0][1],l=h[1][1],k=h[0][2],j=h[1][2];var t=[p,n],s=[m,l];var r=f.sqrt(p*p+n*n);if(r){t[0]/=r;t[1]/=r}var o=t[0]*s[0]+t[1]*s[1];s[0]+=-o*t[0];s[1]+=-o*t[1];var q=f.sqrt(s[0]*s[0]+s[1]*s[1])||0;if(q){s[0]/=q;s[1]/=q}if(t[0]*s[1]<s[0]*t[1]){t[0]*=-1;t[1]*=-1;kx*=-1;kz*=-1}return{tx:k,ty:j,sx:r,sy:q,skew:q?f.atan2(o,q):0,rotate:r?f.atan2(t[1],t[0]):f.atan2(-s[0],s[1])}}};return d});sap.riv.module({qname:"sap.viz.mvc.GestureDetector",version:"4.0.1"},[{qname:"sap.viz.base.Class",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"}],function Setup(a,j){var l=j.noop;var c=0;var h=1;var b=2;var g=3;var f=3;var d=4;var e=5;var k=a.define({constructor:function(){this._grEnabled=true;this._grTouchTotal=0;this._grTouchTracker={};this._grActions=[];this._grCancelTouches=true;var m=c;Object.defineProperties(this,{state:{get:function(){return m},set:function(n){switch(n){case c:m=c;break;case h:m=h;this._grActions.forEach(function(p,o){p(this)},this);break;case b:if(m===h){m=b}this._grActions.forEach(function(p,o){p(this)},this);break;case d:m=d;this._grActions.forEach(function(p,o){p(this)},this);break;case e:m=e;break;case f:case g:m=n;this._grActions.forEach(function(p,o){p(this)},this);break}}},watchedComponent:{value:undefined,writable:true,enumerable:true}})},addGestureAction:function(m){var n=this._grActions;if(n.indexOf(m)===-1){n.push(m);return true}return false},removeGestureAction:function(n){var o=this._grActions,m=o.indexOf(n);if(m>-1){o.splice(m,1);return true}return false},globalLocOfGesture:function(){var q=this.state;if(this._grEnabled&&(q===h||q===b||q===d||q===f||q===g)){var o=0;var n=this._grTouchTracker,r;var m=y=0;for(var s in n){r=n[s].globalXY;m+=r.x;y+=r.y;o++}if(o){return{x:m/o,y:y/o}}}},involvedTouchePoints:function(){var m=[],o=this.state;if(this._grEnabled&&(o===h||o===b||o===d||o===f||o===g)){var n=this._grTouchTracker;for(var p in n){m.push(p)}}return m},globalLocOfTouchPoints:function(){var o=0;var n=this._grTouchTracker,q;var m=y=0;for(var r in n){q=n[r].globalXY;m+=q.x;y+=q.y;o++}if(o){return{x:m/o,y:y/o}}},totalTouches:function(){return this._grTouchTotal},cancelTouches:function(m){if(arguments.length){this._grCancelTouches=m?true:false;return this}else{return this._grCancelTouches}},enable:function(m){if(arguments.length){m=m?true:false;if(this._grEnabled!==m){this._grEnabled=m;if(!m){if(this.state===h||this.state===d){this.state=d}else{this.state=e}}}return this}else{return this._grEnabled}},touchBegin:function(n){var o=n.changedTouches;var s=this._grTouchTracker;var r=this.watchedComponent;var u=r.pagePosition();for(var q=0,p,m=o.length;q<m;q++){p=o.item(q);s[p.identifier]={globalXY:r.pointTo({x:p.pageX-u.x,y:p.pageY-u.y})};this._grTouchTotal++}if(this._grEnabled&&(this.state===c||this.state===h||this.state===b)){this.doTouchBegin(n)}},touchMove:function(o){if(this._grEnabled&&(this.state===c||this.state===h||this.state===b)){var n=o.changedTouches;var r=this.watchedComponent;var u=r.pagePosition();var s=this._grTouchTracker;for(var q=0,p,m=n.length;q<m;q++){p=n.item(q);if(s[p.identifier]){s[p.identifier].globalXY=r.pointTo({x:p.pageX-u.x,y:p.pageY-u.y})}}this.doTouchMove(o)}},touchEnd:function(r){var s=r.changedTouches;var v=this._grTouchTracker;var n=this.watchedComponent;var u=n.pagePosition();for(var o=0,w,p,m,q=s.length;o<q;o++){w=s.item(o);p=w.identifier;if(m=v[p]){m.globalXY=n.pointTo({x:w.pageX-u.x,y:w.pageY-u.y});this._grTouchTotal--}}if(this._grEnabled&&(this.state===c||this.state===h||this.state===b)){this.doTouchEnd(r)}if(!this._grTouchTotal&&(this.state===g||this.state===e||this.state===d)){this.reset()}},touchCancel:function(r){var w=r.changedTouches;var u=this._grTouchTracker;var n=this.watchedComponent;var s=n.pagePosition();for(var o=0,v,p,m,q=w.length;o<q;o++){v=w.item(o);p=v.identifier;if(m=u[p]){m.globalXY=n.pointTo({x:v.pageX-s.x,y:v.pageY-s.y});this._grTouchTotal--}}if(this._grEnabled&&(this.state===c||this.state===h||this.state===b)){this.doTouchCancel(r)}if(!this._grTouchTotal&&(this.state===g||this.state===e||this.state===d)){this.reset()}},doTouchBegin:l,doTouchMove:l,doTouchEnd:l,doTouchCancel:l,reset:function(){this.state=c;this._grTouchTracker={}}});k.TransitionState={Possible:c,Began:h,Changed:b,Recognized:g,Ended:f,Canceled:d,Failed:e};return k});sap.riv.module({qname:"sap.viz.base.utils.LinkedHashSet",version:"4.0.1"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"}],function Setup(g,b){function a(){this._cursor=this._cursor.next;return this._cursor!==this._sentinel}function f(){this._cursor=this._cursor.prev;return this._cursor!==this._sentinel}function e(h,j){this._lhs=h;this._sentinel=this._lhs._head;this._cursor=this._sentinel;if(j){this.hasNext=f}else{this.hasNext=a}}var d=e.prototype;d.hasNext=g.noop;d.next=function(){return this._cursor.value};d.remove=function(){if(this._cursor!==this._sentinel){var h=this._cursor.value;this._cursor=this._cursor.prev;return this._lhs.remove(h)}};var c=function(h){this._hash=h||String;this._head={value:undefined,next:undefined,prev:undefined};this._map={};this._length=0;this._head.next=this._head.prev=this._head};d=c.prototype;d.add=function(p){var h=this._map;var j=null;var l=this._hash(p);if(!h.hasOwnProperty(l)){var o={prev:null,value:p,next:null},k=this._head,n=k.prev;h[l]=k.prev=o;o.prev=n;o.next=k;n.next=o;this._length++}else{j=h[l].value;h[l].value=p}return j};d.addAll=function(h){var l=c.iterator();var j=[],k;while(l.hasNext()){if(k=this.add(l.next())){j.push(k)}}return j};d.insertBefore=function(o,p){var j=this._map,q=this._hash;var k=q(o),l=q(p);if(j.hasOwnProperty(l)&&l!==k){if(j.hasOwnProperty(k)){this.remove(o)}var n={prev:null,value:o,next:null};var h=j[l];n.prev=h.prev;h.prev.next=n;n.next=h;h.prev=n;j[k]=n;this._length++;return o}};d.insertAfter=function(o,q){var h=this._map,p=this._hash;var j=p(o),n=p(q);if(h.hasOwnProperty(n)&&n!==j){if(h.hasOwnProperty(j)){this.remove(o)}var l={prev:null,value:o,next:null};var k=h[n];l.prev=k;l.next=k.next;k.next.prev=l;k.next=l;h[j]=l;this._length++;return o}};d.replace=function(n,q){var j=this._map,p=this._hash;var k=p(n),h=p(q);if(j.hasOwnProperty(h)&&h!==k){if(j.hasOwnProperty(k)){this.remove(n)}var l={prev:null,value:n,next:null};var o=j[h];l.prev=o.prev;l.next=o.next;o.prev.next=l;o.next.prev=l;j[k]=l;delete j[h];return o.value}};d.first=function(){return this._head.next.value};d.last=function(){return this._head.prev.value};d.next=function(j){var h;if(h=this._map[this._hash(j)]){return h.next.value}return h};d.prev=function(j){var h;if(h=this._map[this._hash(j)]){return h.prev.value}return h};d.moveToFirst=function(j){var h;if(h=this._map[this._hash(j)]){var k=this._head.next;if(k!==h){h.prev.next=h.next;h.next.prev=h.prev;h.next=k;h.prev=k.prev;k.prev.next=h;k.prev=h}}};d.moveToLast=function(k){var j;if(j=this._map[this._hash(k)]){var h=this._head.prev;if(h!==j){j.prev.next=j.next;j.next.prev=j.prev;j.prev=h;j.next=h.next;h.next.prev=j;h.next=j}}};d.getByHash=function(j){var h=this._map[j];return h?h.value:undefined};d.has=function(h){return this._map.hasOwnProperty(this._hash(h))};d.remove=function(n){var h=this._map,k=this._hash(n);var j=null;if(h.hasOwnProperty(k)){var l=h[k];j=l.value;l.prev.next=l.next;l.next.prev=l.prev;delete h[k];this._length--}return j};d.purgeAll=function(){this._map={};this._head.next=this._head.prev=this._head;this._length=0};d.isEmpty=function(){return this._length===0};d.length=function(){return this._length};d.iterator=function(h){return new e(this,h||false)};d.items=function(){var h=[],j=head=this._head;while((j=j.next)!==head){h.push(j.value)}return h};return c});sap.riv.module({qname:"sap.viz.base.Observable",version:"4.0.1"},[{qname:"sap.viz.base.Class",version:"4.0.1"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"}],function Setup(c,a){var e=Array.prototype.slice,f=Object.getPrototypeOf;function d(){var j=this._events,h,g=arguments.length;while(--g>=0){if(!j.hasOwnProperty(h=arguments[g])){j[h]=[]}}}var b=c.define({constructor:function(h){this._events={};var j=this,g;while((j=f(j)).constructor!==Object){if((g=j.events)&&g.length){d.apply(this,g)}}if(h){if(g=h.listeners){this.on(g);delete h.listeners}}},addEvents:d,getSupportedEvents:function(){return this._events.key()},on:function(k,l,j){if(arguments.length>=1){if(arguments.length>1){var h={};h[k]=l;k=h}for(var g in k){if(l=this._events[g]){k[g]["category"]=j;l.push(k[g])}}}return this},isListening:function(g,h){if(g=this._events[g]){return g.indexOf(h)>-1}return false},un:function(j,k){if(arguments.length===1){var m=this._events;if(m.hasOwnProperty(j)){m[j]=[]}}else{if(arguments.length===2){var l=this._events[j];if(l){if(typeof k==="function"){var h;while((h=l.indexOf(k))>-1){l.splice(h,1)}}else{var g=l.length;while(g--){if(l[g].category===k){l.splice(g,1)}}}}}}},purgeListeners:function(){var h=this._events;for(var g in h){h[g]=[]}},fireEvent:function(h){var j=e.call(arguments,1);if(h=this._events[h]){for(var k=0,g=h.length;k<g;k++){h[k].apply(this,j)}}}});return b});sap.riv.module({qname:"sap.viz.mvc.UIComponent",version:"4.0.1"},[{qname:"sap.viz.base.Observable",version:"4.0.1"},{qname:"sap.viz.base.utils.LinkedHashSet",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.mvc.GestureDetector",version:"4.0.1"},{qname:"sap.viz.base.utils.TransformHelper",version:"4.0.1"}],function Setup(m,k,e,p,j){var f=jQuery;var d=e.noop;if(!f){e.error("Cannot find jQuery")}var h=0;var v=1<<0;var g=1<<1;var E=1<<2;var u=1<<3;var t=1<<4;var C=1<<5;var r=0;var q=function(){return r++};function B(I,G){var H=[{node:I,childrenItr:I.children.iterator()}];var J,I,F;while(H.length){J=H[H.length-1];I=J.node;G(I);F=J.childrenItr;if(F.hasNext()){var K=F.next();H.push({node:K,childrenItr:K.children.iterator()})}else{H.pop()}}}function A(I,G){if(this._autoresizable){var F=this.children.iterator();var H,J;while(F.hasNext()){H=F.next();J=x.call(this,H,I,G);H.frame(J)}}else{this.doLayout()}}function x(N,J,U){var L=N.frame();var M=L.x,K=L.y,R=L.width,P=L.height;var V=M,S=J.width-M-R,Q=K,F=J.height-K-P;var W=U.width-J.width,T=U.height-J.height;var H=N._autoresizingMask;var I=v|g|E;var G=u|t|C;switch(H&I){case h:if(V!==0){M+=W*V/(V+S)}break;case v:M+=W;break;case v|E:case E:break;case g:R+=W;break;case v|g:if(R!==0){M+=W*V/(V+R);R+=W*R/(V+R)}break;case E|g:if(R!==0){R+=W*R/(S+R)}break;case v|g|E:if(J.width!==0){var O=W/J.width;M+=M*O;R+=R*O}break}switch(H&G){case h:if(Q!==0){K+=T*Q/(Q+F)}break;case u:K+=T;break;case u|C:case C:break;case t:P+=T;break;case u|t:if(P!==0){K+=T*Q/(Q+P);P+=T*P/(Q+P)}break;case C|t:if(P!=0){P+=T*P/(F+P)}break;case u|t|C:if(J.height){var O=T/J.height;K+=K*O;P+=P*O}break}return{x:M,y:K,height:P,width:R}}function w(F){var G;if(F.clipToBound===false){this.container.css("overflow","visible")}if(F.hidden===true){this.container.css("display","none");this._hidden=true}if(F.autoSizingMask<32){this._autoresizingMask=+F.autoSizingMask}if(G=F.pin){this._pinX=G.x;this._pinY=G.y}if(G=F.position){this._x=G.x;this._y=G.y;this.container.css("left",this._x-this._pinX*this._width);this.container.css("top",this._y-this._pinY*this._height)}if(G=F.size){this._width=G.w||G.width;this._height=G.h||G.height;this.container.width(this._width);this.container.height(this._height)}s.call(this)}function s(){this.on({sizeChanged:o.bind(this),heightChanged:z.bind(this),widthChanged:c.bind(this),positionChanged:D.bind(this),pinChanged:b.bind(this)})}function o(G,F){this.container.width(F.width);this.container.height(F.height);if(this._pinX||this._pinY){this.container.css("left",this._x-this._pinX*F.width);this.container.css("top",this._y-this._pinY*F.height)}this.doContentResize(G,F);A.call(this,G,F)}function c(G,F){this.container.width(F);if(this._pinX){this.container.css("left",this._x-this._pinX*F)}var I={height:this._height,width:G},H={height:this._height,width:F};this.doContentResize(I,H);A.call(this,I,H)}function z(I,G){this.container.height(G);if(this._pinY){this.container.css("top",this._y-this._pinY*G)}var H={height:I,width:this._width},F={height:G,width:this._width};this.doContentResize(H,F);A.call(this,H,F)}function D(G,F){this.container.css("left",F.x-this._pinX*this._width);this.container.css("top",F.y-this._pinY*this._height)}function b(F,G){this.container.css("left",this._x-G.x*this._width);this.container.css("top",this._y-G.y*this._height)}function a(G){var H=G.visibility();if(H){G.doBeforeHide();G.fireEvent("beforeHide")}G._parentVisible=false;var F=G.children.iterator();while(F.hasNext()){a.call(G,F.next())}if(H){G.doAfterHide();G.fireEvent("afterHide")}}function l(G){var H=G.visibility();G._parentVisible=G.parent.visibility();if(!H&&G.visibility()){G.doBeforeShow();G.fireEvent("beforeShow")}var F=G.children.iterator();while(F.hasNext()){l.call(G,F.next())}if(!H&&G.visibility()){G.doAfterShow();G.fireEvent("afterShow")}}var n=m.extend({events:["widthChanged","heightChanged","sizeChanged","positionChanged","pinChanged","attached","detached","beforeShow","afterShow","beforeHide","afterHide","focusin","focusout","focus","blur","mousedown","mouseup","mouseenter","mouseleave","mousemove","click","dblclick","touchstart","touchmove","touchend","touchcancel"],constructor:function(F){F=F||{};var G=F.id?F.id+"_"+q():"UIComp_"+q();Object.defineProperties(this,{id:{value:G,enumerable:true},container:{value:f(document.createElement("div")).attr("id",G).css("position","absolute").css({overflow:"hidden","font-size":"10px","box-sizing":"border-box","-moz-box-sizing":"border-box","-ms-box-sizing":"border-box","-webkit-box-sizing":"border-box"}).data("selfComp",this),enumerable:true},root:{value:undefined,writable:true,enumerable:true},parent:{value:undefined,writable:true,enumerable:true},children:{value:new k(function(H){return H.id}),enumerable:true},gestureDetectors:{value:[],enumerable:true}});this._attached=false;this._hidden=false;this._parentVisible=false;this._autoresizable=true;this._autoresizingMask=h;this._x=0;this._y=0;this._width=1;this._height=1;this._pinX=0.5;this._pinY=0.5;w.call(this,F)},markAttached:function(){this._attached=true;if(this.visibility()){this.doBeforeShow();this.fireEvent("beforeShow")}var F=this.children.iterator();while(F.hasNext()){F.next().markAttached()}if(this.visibility()){this.doAfterShow();this.fireEvent("AfterShow")}},markDetached:function(){var G=this.visibility();this._attached=false;if(G){this.doBeforeHide();this.fireEvent("beforeHide")}var F=this.children.iterator();while(F.hasNext()){F.next().markDetached()}if(G){this.doAfterHide();this.fireEvent("AfterHide")}},markHide:function(){if(this._hidden===false){var G=this.visibility();if(G){this.doBeforeHide();this.fireEvent("beforeHide")}this._hidden=true;this.container.css("display","none");var F=this.children.iterator();while(F.hasNext()){a.call(this,F.next())}if(G){this.doAfterHide();this.fireEvent("afterHide")}}return this},markShow:function(){if(this._hidden===true){this._hidden=false;if(this.visibility()){this.doBeforeShow();this.fireEvent("beforeShow")}this.container.css("display","block");var F=this.children.iterator();while(F.hasNext()){l.call(F.next())}if(this.visibility()){this.doAfterShow();this.fireEvent("afterShow")}}return this},clipToBound:function(F){if(arguments.length){this.container.css("overflow",F?"hidden":"visible");return this}else{return this.container.css("overflow")==="hidden"}},visibility:function(){return !this._hidden&&this._attached&&this._parentVisible},autoResizable:function(F){if(arguments.length){this._autoresizable=autoresize&&true;return this}else{return this._autoresizable&&true}},autoResizingMask:function(F){if(arguments.length){if(F<32){this._autoresizingMask=+F}return this}else{return this._autoresizingMask}},pagePosition:function(){var F=this.container.offset();return{x:F.left,y:F.top}},position:function(F,G){if(arguments.length===0){return{x:this._x,y:this._y}}if(arguments.length===1){G=F.y;F=F.x}F=+F;G=+G;if(this._x!==F||this._y!==G){this.fireEvent("positionChanged",{x:this._x,y:this._y},{x:this._x=F,y:this._y=G})}return this},size:function(G,F){if(!arguments.length){return{width:this._width,height:this._height}}if(arguments.length===1){F=G.height;G=G.width}F=+F;G=+G;if(G!==this._width||F!==this._height){this.fireEvent("sizeChanged",{width:this._width,height:this._height},{width:this._width=G,height:this._height=F})}return this},width:function(F){if(!arguments.length){return this._width}F=+F;if(this._width!==F&&F>0){this.fireEvent("sizeChanged",{width:this._width,height:this._height},{width:this._width=F,height:this._height})}return this},height:function(F){if(!arguments.length){return this._height}F=+F;if(this._height!==F&&F>0){this.fireEvent("sizeChanged",{width:this._width,height:this._height},{width:this._width,height:this._height=F})}return this},pin:function(F,G){if(!arguments.length){return{x:this._pinX,y:this._pinY}}if(arguments.length===1){G=F.y;F=F.x}F=+F;G=+G;if(F!==this._pinX||G!==this._pinY){this.fireEvent("pinChanged",{x:this._pinX,y:this._pinY},{x:this._pinX=F,y:this._pinY=G})}return this},frame:function(G,K,H,F){if(!arguments.length){return{x:this._x-this._pinX*this._width,y:this._y-this._pinY*this._height,width:this._width,height:this._height}}if(arguments.length===1){K=G.y;H=G.width;F=G.height;G=G.x}var J=G+H*this._pinX,I=K+F*this._pinY;if(H!==this._width||F!==this._height){this.fireEvent("sizeChanged",{width:this._width,height:this._height},{width:this._width=H,height:this._height=F})}if(J!==this._x||I!==this._y){this.fireEvent("positionChanged",{x:this._x,y:this._y},{x:this._x=J,y:this._y=I})}return this},append:function(F){if(F){if(F.parent!==undefined){F.detach()}F.parent=this;if(this.root){B(F,function(G){G.root=this}.bind(this.root))}this.children.add(F);this.container.append(F.container);if(this._attached){F.markAttached()}return this}},appendTo:function(F){F.append(this);return this},detach:function(){if(this.parent){this.parent.children.remove(this);this.container.detach();this.parent=undefined;B(this,function(F){F.root=undefined});this.markDetached()}return this},before:function(F){F.insertBefore(this);return this},insertBefore:function(G){if(G&&G.parent&&G!==this){if(this.parent){this.detach()}var F=G.parent;this.parent=F;if(F.root){B(this,function(H){H.root=this}.bind(F.root))}F.children.insertBefore(this,G);this.container.insertBefore(G.container);if(this._attached){this.markAttached()}}return this},after:function(F){F.insertAfter(this);return this},insertAfter:function(G){if(G&&G.parent&&G!==this){if(this.parent){this.detach()}var F=G.parent;this.parent=F;if(F.root){B(this,function(H){H.root=this}.bind(F.root))}F.children.insertAfter(this,G);this.container.insertAfter(G.container);if(this._attached){this.markAttached()}}return this},bringToFront:function(){var F=this.parent;if(F){if(F.children.last()!==this){F.children.moveToLast(this);this.container.detach();this.container.appendTo(subComp.container)}}return this},sendToBack:function(){var F=this.parent;if(F){if(F.children.first()!==this){F.children.moveToFirst(this);this.container.detach();this.container.prependTo(subComp.container)}}return this},pointFrom:function(F,M,L){if(arguments.length===1){M=F.y;F=F.x;L=false}if(arguments.length===2){if(isNaN(F)){L=M;M=F.y;F=F.x}else{L=false}}F=+F;M=+M;L.root||(L=false);var H=this.root;if(H){L||(L=H);var I=0,G=0,J=this,K;while(J!==H&&J!==L){K=J.frame();I+=K.x;G+=K.y;J=J.parent}if(J!==L){J=L;while(J!==H&&J!==this){K=J.frame();F+=K.x;M+=K.y;J=J.parent}if(J===this){return{x:F,y:M}}}return{x:F-I,y:M-G}}return{x:F,y:M}},pointTo:function(F,I,H){if(arguments.length===1){I=F.y;F=F.x;from=false}if(arguments.length===2){if(isNaN(F)){from=I;I=F.y;F=F.x}else{from=false}}F=+F;I=+I;var G=this.root;if(G){H||(H=G);return H.pointFrom(F,I,this)}return{x:F,y:I}},fireFocusEvent:function(F){this.fireEvent(F.type,F);if(this.parent&&F.shouldBubble()){F.currentTarget=this.parent;this.parent.fireEvent(F)}},fireMouseEvent:function(F){this.fireEvent(F.type,F);if(this.parent&&F.shouldBubble()){F.currentTarget=this.parent;F.currentLocalXY={x:F.currentLocalXY.x+this._x-this._pinX*this._width,y:F.currentLocalXY.y+this._y-this._pinY*this._height};this.parent.fireMouseEvent(F)}},fireTouchEvent:function(F){this.fireEvent(F.type,F);if(this.parent&&F.shouldBubble()){F.currentTarget=this.parent;this.parent.fireTouchEvent(F)}},purgeListeners:function(){this._super();s.call(this)},un:function(F){this._super.apply(this,arguments);if(arguments.length===1){switch(F){case"sizeChanged":this.on("sizeChanged",o.bind(this));break;case"heightChanged":this.on("heightChanged",z.bind(this));break;case"widthChanged":this.on("widthChanged",c.bind(this));break;case"positionChanged":this.on("positionChanged",D.bind(this));break;case"pinChanged":this.on("pinChanged",b.bind(this));break}}},addGestureDetector:function(F){if(F instanceof p){F.watchedComponent=this;this.gestureDetectors.push(F)}},removeGestureDetector:function(H){for(var G=0,F=this.gestureDetectors.length;G<F;G++){if(this.gestureDetectors[G]===H){this.gestureDetectors.splice(G,1);H.watchedComponent=undefined;F--}}},hitTest:function(G,L){if(arguments.length=1){L=G.y;G=G.x}var J=[{comp:this,subCompsItr:this.children.iterator(true)}];var H,K;while(J.length){H=J[J.length-1];K=H.subCompsItr;H=H.comp;if(H.visibility()){if(K.hasNext()){var I=K.next();J.push({comp:I,subCompsItr:I.children.iterator(true)});continue}else{var F=H.pointFrom(G,L,this);if(F.x>=0&&F.y>=0&&F.x<H.width()&&F.y<H.height()&&H.pointContent(G,L)){return H}}J.pop()}else{J.pop()}}},pointContent:function(F,G){return true},doLayout:d,doContentResize:d,doBeforeHide:d,doAfterHide:d,doBeforeShow:d,doAfterShow:d,doDestroy:d,destroy:function(){this.doDestroy();B(this,function(F){F.detach();F.purgeListeners()})}});n.Autosizing={None:h,FlexibleLeftMargin:v,FlexibleWidth:g,FlexibleRightMargin:E,FlexibleTopMargin:u,FlexibleHeight:t,FlexibleBottomMargin:C};return n});sap.riv.module({qname:"sap.viz.mvc.UIController",version:"4.0.1"},[{qname:"sap.viz.base.Class",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.mvc.UIComponent",version:"4.0.1"}],function Setup(a,e,b){var c=e.noop;var g=300,f=150;var d=a.define({constructor:function(h){Object.defineProperties(this,{application:{value:h,writable:false,enumerable:true,configurable:false},rootUIComponent:{value:new (this.constructor.prototype.RootComponentClass||b)({size:{width:g,height:f},listeners:{beforeShow:this.beforeUIComponentAppear.bind(this),beforeHide:this.beforeUIComponentDisappear.bind(this),afterShow:this.afterUIComponentAppear.bind(this),afterHide:this.afterUIComponentDisappear.bind(this)}}),writable:true,enumerable:true}})},initialize:c,fireAppEvent:function(h,j){this.application.fireEvent(h,j)},beforeUIComponentAppear:c,afterUIComponentAppear:c,beforeUIComponentDisappear:c,afterUIComponentDisappear:c,doThemeApplied:c,doThemeUpdated:c,destroy:function(){this.rootUIComponent.destroy()}});return d});sap.riv.module({qname:"sap.viz.mvc.Event",version:"4.0.1"},[{qname:"sap.viz.base.Class",version:"4.0.1"}],function Setup(b){var a=b.define({constructor:function(c,e,d){this.type=c;this.target=e;this.currentTarget=e;this.timestamp=Date.now();this.load=undefined;this._canBubbling=d!==undefined?d:true},isInBubbling:function(){return this.target.id!==this.currentTarget.id},shouldBubble:function(){return this._canBubbling},stopPropagation:function(){this._canBubbling=false}});return a});sap.riv.module({qname:"sap.viz.mvc.TouchEvent",version:"4.0.1"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.mvc.Event",version:"4.0.1"}],function Setup(k,l){var e=jQuery;if(!e){k.error("Cannot find jQuery")}var b=function(n,o,m,p){this.identifier=n;this.target=o;this.localXY=m;this.pageXY=p};var c=function(m,n){this.tA=m,this.tM=n};var h=c.prototype;h.length=function(){return this.tA.length};h.item=function(m){if(m>=0&&(m<this.tA.length)){return this.tA[m]}};h.identifiedTouch=function(m){if(m){return this.tM[m]}};var a=l.extend({constructor:function(n,r,p,q,o,m){this.touches=q;this.targetTouches=o;this.changedTouches=m}});var d=function(q){var n=[],r={};for(var p=0,o,s,m=q.length;p<m;p++){o=j(q.item(p));if(o){s=f(q.item(p),o);n.push(s);r[s.identifier]=s}}return new c(n,r)};var g=function(q){var n=[],r={};for(var p=0,o,s,m=q.length;p<m;p++){o=j(q[p]);if(o){s=f(q[p],o);n.push(s);r[s.identifier]=s}}return new c(n,r)};var j=function(n){var m=e(n.target);while(m.length&&!m.data("selfComp")){m=m.parent()}return m.data("selfComp")};var f=function(p,n){var o=n.pagePosition();var m={x:p.pageX-o.x,y:p.pageY-o.y};return new b(p.identifier,n,m,{x:p.pageX,y:p.pageY})};a.buildFrom3TouchArray=function(t,r,p,u,s,q){var n=g(p);var m=g(s);var o=g(u);return new a(t,r,q,n,m,o)};a.buildFromDomTouchEvent=function(p,s,m,r){var o=d(m.touches);var q=d(m.targetTouches);var n=d(m.changedTouches);return new a(p,s,r,o,q,n)};return a});sap.riv.module({qname:"sap.viz.mvc.MouseEvent",version:"4.0.1"},[{qname:"sap.viz.mvc.Event",version:"4.0.1"}],function Setup(a){var b=a.extend({constructor:function(d,f,e,c,g){this.relatedTarget=undefined;this.targetLocalXY=c;this.currentLocalXY=c;this.pageXY=g}});return b});sap.riv.module({qname:"sap.viz.base.utils.LinkedHashMap",version:"4.0.1"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"}],function Setup(e){function d(){if(this._count!==0){if(this._count===this._lhm._length){this._cursor=this._lhm._head}else{this._cursor=this._cursor.next}this._count--;return true}else{return false}}function f(){if(this._count!==0){if(this._count===this._lhm._length){this._cursor=this._lhm._last}else{this._cursor=this._cursor.prev}this._count--;return true}else{return false}}var c=function(h,j){this._lhm=h;this._reverse=j||false;this._count=h._length;this._cursor=this._reverse?this._lhm._last:this._lhm._head;if(this._reverse){this.hasMore=f}else{this.hasMore=d}};var b=c.prototype;b.hasMore=e.noop;b.next=function(){var h={key:this._cursor.key,value:this._cursor.value};return h};b.nextValue=function(){return this._cursor.value};b.nextKey=function(){return this._cursor.key};b.reset=function(){this._count=this._lhm._length};b.remove=function(){return this._lhm.remove(this._cursor.key)};var g=function(){this._map={};this._head=undefined;this._last=undefined;this._length=0};var a=g.prototype;a.add=function(k,n){var h=this._map;var j=null;var l={prev:null,key:k,value:n,next:null};if(!this._length){this._head=this._last=l}if(!h.hasOwnProperty(k)){h[k]=l;this._length++;l.prev=this._last;this._last.next=l;this._last=l;this._last.next=this._head;this._head.prev=this._last}else{j=h[k].value;h[k].value=n}return j};a.addAll=function(h){var j=h.getIterator();var k;while(j.hasMore()){k=j.next();this.add(k.key,k.value)}};a.insertBefore=function(j,o,l){var h=this._map;if(!h.hasOwnProperty(j)&&h.hasOwnProperty(l)){var n={prev:null,key:j,value:o,next:null};var k=h[l];if(k!==this._head){n.prev=k.prev;k.prev.next=n}else{this._head=n;n.prev=this._last}n.next=k;k.prev=n;h[j]=n;this._length++;return o}};a.insertAfter=function(j,o,n){var h=this._map;if(!h.hasOwnProperty(j)&&h.hasOwnProperty(n)){var l={prev:null,key:j,value:o,next:null};var k=h[n];if(k!==this._last){l.next=k.next;k.next.prev=l}else{this._last=l;this._last.next=this._head}k.next=l;l.prev=k;h[j]=l;this._length++;return o}};a.replace=function(l,j,k){var h=this._map;if(!h.hasOwnProperty(j)&&h.hasOwnProperty(l)){var n={prev:null,key:j,value:k,next:null};var o=h[l];n.prev=o.prev;n.next=o.next;o.prev.next=n;o.next.prev=n;if(this._head===o){this._head=n}if(this._last===o){this._last=n}h[j]=n;delete h[l];return o.value}};a.get=function(j){var h=this._map;if(h.hasOwnProperty(j)){return h[j].value}return null};a.next=function(j){var h=this._map;if(h.hasOwnProperty(j)){return h[j].next}return null};a.prev=function(j){var h=this._map;if(h.hasOwnProperty(j)){return h[j].prev}return null};a.getFirstInsert=function(){return this._head?this._head.value:null};a.getLastInsert=function(){return this._last?this._last.value:null};a.moveToLast=function(j){var h=this._map;if(h.hasOwnProperty(j)&&this._last.key!==j){var k=h[j];k.prev.next=k.next;k.next.prev=k.prev;k.prev=this._last;k.next=this._last.next;this._last.next=k;this._last=k;this._head=k.next;this._head.prev=k}};a.moveToFirst=function(j){var h=this._map;if(h.hasOwnProperty(j)&&this._head.key!==j){var k=h[j];k.prev.next=k.next;k.next.prev=k.prev;k.next=this._head;k.prev=this._head.prev;this._head.prev=k;this._head=k;this._last=k.prev;this._last.next=k}};a.has=function(j){var h=this._map;return h.hasOwnProperty(j)};a.remove=function(k){var h=this._map;var j;if(h.hasOwnProperty(k)){var l=h[k];j=l.value;if(l===this._head){this._head=l.next}if(l===this._last){this._last=l.prev}l.prev.next=l.next;l.next.prev=l.prev;delete h[k];this._length--;if(this._length===0){this._head=this._last=undefined}return j}};a.purgeAll=function(){this._map={};this._head=undefined;this._last=undefined;this._length=0};a.isEmpty=function(){return this._length==0};a.length=function(){return this._length};a.getIterator=function(h){return new c(this,h)};a.keys=function(){var h=this.getIterator(),j=[];while(h.hasMore()){j.push(h.nextKey())}return j};a.values=function(){var j=this.getIterator(),h=[];while(j.hasMore()){h.push(j.nextValue())}return h};return g});sap.riv.module({qname:"sap.viz.base.utils.DomWatcher",version:"4.0.1"},[{qname:"sap.viz.base.UADetector",version:"4.0.1"},{qname:"sap.viz.base.utils.LinkedHashMap",version:"4.0.1"}],function Setup(l,t){var k=0;var j=1;var f=function(){return k++};var n=function(){return j++};var q=function(w){for(var x in w){if(w.hasOwnProperty(x)){return false}}return true};var o=function(x,z){var w=null;if(window.getComputedStyle){w=window.getComputedStyle(x,null)[z]}else{if(x.currentStyle){w=x.currentStyle[z]}}return w};var r=function(w,x){if(!this._data){this._data={}}if(arguments.length===2){this._data[w]=x}else{return this._data[w]}};var p=new t();var s=function(z){var w;var B=z.srcElement||z.target;var x=r.call(B,"domId");if(!x){return}var A=p.get(x).getIterator();while(A.hasMore()){w=A.nextValue();w.checkChange()}};var a=function(A){var w=v.get(A);var z=w.domElem;var x=r.call(z,"domId");if(!x){x=n();r.call(z,"domId",x);p.add(x,new t())}p.get(x).add(w.id,w);if(!r.call(z,"eventHandler")){if(typeof(z.onpropertychange)=="object"){z.attachEvent("onpropertychange",s)}else{if(l.isFirefox()&&parseFloat(l.version())>3.6){z.addEventListener("DOMAttrModified",s)}}r.call(z,"eventHandler",s)}};var b=function(w){var A=w.domElem;var z=r.call(A,"domId");if(!z){return}if(p.get(z).has(w.id)){p.get(z).remove(w.id)}if(p.get(z).isEmpty()){var x=r.call(A,"eventHandler");if(typeof(A.onpropertychange)=="object"){A.detachEvent("onpropertychange",x)}else{if(l.isFirefox()&&parseFloat(l.version())>3.6){A.removeEventListener("DOMAttrModified",x)}}r.call(A,"eventHandler",null)}};var e=undefined;var v=new t();var g=function(){var x=v.getIterator();var w;while(x.hasMore()){w=x.nextValue();w.checkChange()}};var h=function(w){if(!e){e=setInterval(g,100)}if(!v.has(w.id)){v.add(w.id,w)}};var u=function(w){if(v.has(w)){v.remove(w)}if(v.isEmpty()){clearInterval(e);e=undefined}};var m=function(w){var x=w.domElem;if(typeof(x.onpropertychange)=="object"||(l.isFirefox()&&parseFloat(l.version())>3.6)){a(w.id)}else{h(w)}};var c=function(E){var x=v.get(E);if(!x){return}var D=x.domElem;if(!x.callback){return}var C=false;var A=0;var B=[];for(var w=x.cssProps.length;A<w;A++){var z=o(D,x.cssProps[A]);if(x.lastestVals[A]!=z){x.lastestVals[A]=z;C=true;B.push(x.cssProps[A])}}if(C){x.callback(B)}};var d={watch:function(D,B,C){var E=f();var z=function(){c(E)};var x={id:E,domElem:D,cssProps:B.split(","),lastestVals:[B.split(",").length],callback:C,checkChange:z};for(var A=0,w=x.cssProps.length;A<w;A++){x.lastestVals[A]=o(D,x.cssProps[A])}if(!v.has(x.id)){v.add(x.id,x)}m(x);return E},unwatch:function(A){var w=v.get(A);if(w){var z=w.domElem;try{if(typeof(z.onpropertychange)=="object"||(l.isFirefox()&&parseFloat(l.version())>3.6)){b(w)}else{u(w.id)}}catch(x){}}}};return(d)});sap.riv.module({qname:"sap.viz.mvc.VizFrame",version:"4.0.1"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.mvc.UIComponent",version:"4.0.1"},{qname:"sap.viz.mvc.GestureDetector",version:"4.0.1"},{qname:"sap.viz.base.utils.DomWatcher",version:"4.0.1"},{qname:"sap.viz.mvc.Event",version:"4.0.1"},{qname:"sap.viz.mvc.MouseEvent",version:"4.0.1"},{qname:"sap.viz.mvc.TouchEvent",version:"4.0.1"},{qname:"sap.viz.base.Math",version:"4.0.1"}],function Setup(g,m,n,c,u,f,v,k){var r=Array.prototype.push;var h=jQuery;var o=g.error;if(!h){o("Cannot find jQuery")}function d(w){while(w=w.parentNode){if(w===document){return true}}return false}function s(x){var z=x._holder;if(z.css("position")=="static"||z.css("position")=="fix"){var w=z.position();x.frame({x:w.left,y:w.top,width:z.width(),height:z.height()})}else{x.frame({x:0,y:0,width:z.width(),height:z.height()})}}function b(w){var x=h(w.target);while(!x.data("selfComp")){x=x.parent()}return x.data("selfComp")}var a=n.TransitionState;function e(){var w=t.bind(this);this.container.bind("click",w);this.container.bind("dblclick",w);this.container.bind("focusin",w);this.container.bind("focusout",w);this.container.bind("focus",w);this.container.bind("blur",w);this.container.bind("mousedown",w);this.container.bind("mouseup",w);this.container.bind("mouseenter",w);this.container.bind("mouseleave",w);this.container.bind("mousemove",w);this.container.bind("DOMNodeInsertedIntoDocument",p.bind(this));this.container.bind("DOMNodeRemovedFromDocument",q.bind(this))}function p(){var w=t.bind(this);this.container.bind("touchstart",w);this.container.bind("touchmove",w);this.container.bind("touchend",w);this.container.bind("touchcancel",w)}function q(){this.container.unbind("touchstart");this.container.unbind("touchmove");this.container.unbind("touchend");this.container.unbind("touchcancel")}function t(O){O.preventDefault();var z=b(O),R;switch(O.type){case"mousemove":if(z){var B=z.pagePosition();var H={x:O.pageX-B.x,y:O.pageY-B.y};if(this._msTracking.length){if(this._msTracking[this._msTracking.length-1]!==z){var I=[];var T=z;while(T){I.push(T);T=T.parent}var x=0,D=false,L=k.min(this._msTracking.length,I.length);while(true){var C=undefined;if(!D&&this._msTracking[x]===I[I.length-1-x]){x++;D=x===L}else{while(this._msTracking.length>x){C=this._msTracking.pop();R=new f("mouseleave",C,false,C.pointFrom(H,z),{x:O.pageX,y:O.pageY});R.relatedTarget=z;R.load=O.load;C.fireMouseEvent(R)}while(x<I.length){var T=I.shift();C=this._msTracking[I.length-1];this._msTracking[I.length]=T;R=new f("mouseenter",T,false,T.pointFrom(H,z),{x:O.pageX,y:O.pageY});R.relatedTarget=C;R.load=O.load;T.fireMouseEvent(R)}break}}}}else{var T=z,R;do{this._msTracking.push(T);R=new f("mouseenter",T,false,H,{x:O.pageX,y:O.pageY});R.load=O.load;T.fireMouseEvent(R);T=T.parent}while(T);this._msTracking.reverse()}R=new f("mousemove",z,true,H,{x:O.pageX,y:O.pageY});R.load=O.load;z.fireMouseEvent(R)}else{while(this._msTracking.length){var C=this._msTracking.pop();var G=this.pagePosition();R=new f("mouseleave",C,false,{x:O.pageX-G.x,y:O.pageY-G.y},{x:O.pageX,y:O.pageY});R.load=O.load;C.fireMouseEvent(R)}}break;case"mouseleave":while(this._msTracking.length){var C=this._msTracking.pop();var N=C.pagePosition();R=new f("mouseleave",C,false,{x:O.pageX-N.x,y:O.pageY-N.y},{x:O.pageX,y:O.pageY});R.load=O.load;C.fireMouseEvent(R)}break;case"mouseup":if(z){var B=z.pagePosition();R=new f("mouseup",z,true,{x:O.pageX-B.x,y:O.pageY-B.y},{x:O.pageX,y:O.pageY});R.load=O.load;z.fireMouseEvent(R)}break;case"mousedown":if(z){var B=z.pagePosition();R=new f("mousedown",z,true,{x:O.pageX-B.x,y:O.pageY-B.y},{x:O.pageX,y:O.pageY});R.load=O.load;z.fireMouseEvent(R)}break;case"dblclick":if(z){if(this._focusedComp){if(this._focusedComp.id!==z.id){R=new u("blur",this._focusedComp,false);R.load=O.load;this._focusedComp.fireFocusEvent(R);R=new u("focusout",this._focusedLayer,true);R.load=O.load;this._focusedComp.fireFocusEvent(R);this._focusedComp=z;R=new u("focus",this._focusedComp,false);R.load=O.load;this._focusedComp.fireFocusEvent(R);R=new u("focusin",this._focusedComp,true);R.load=O.load;this._focusedComp.fireFocusEvent(R)}}else{this._focusedComp=z;R=new u("focus",this._focusedComp,false);R.load=O.load;this._focusedComp.fireFocusEvent(R);R=new u("focusin",this._focusedComp,true);R.load=O.load;this._focusedComp.fireFocusEvent(R)}var B=z.pagePosition();R=new f("dblclick",this._focusedComp,true,{x:O.pageX-B.x,y:O.pageY-B.y},{x:O.pageX,y:O.pageY});R.load=O.load;this._focusedComp.fireMouseEvent(R)}else{if(this._focusedComp){R=new u("blur",this._focusedLayer,false);R.load=O.load;this._focusedComp.fireFocusEvent(R);R=new u("focusout",this._focusedLayer,true);R.load=O.load;this._focusedComp.fireFocusEvent(R);this._focusedComp=undefined}}break;case"click":if(z){if(this._focusedComp){if(this._focusedComp.id!==z.id){R=new u("blur",this._focusedComp,false);R.load=O.load;this._focusedComp.fireFocusEvent(R);R=new u("focusout",this._focusedComp,true);R.load=O.load;this._focusedComp.fireFocusEvent(R);this._focusedComp=z;R=new u("focus",this._focusedComp,false);R.load=O.load;this._focusedComp.fireFocusEvent(R);R=new u("focusin",this._focusedComp,true);R.load=O.load;this._focusedComp.fireFocusEvent(R)}}else{this._focusedComp=z;R=new u("focus",this._focusedComp,false);R.load=O.load;this._focusedComp.fireFocusEvent(R);R=new u("focusin",this._focusedComp,true);R.load=O.load;this._focusedComp.fireFocusEvent(R)}var B=z.pagePosition();R=new f("click",this._focusedComp,true,{x:O.pageX-B.x,y:O.pageY-B.y},{x:O.pageX,y:O.pageY});R.load=O.load;this._focusedComp.fireMouseEvent(R)}else{if(this._focusedComp){R=new u("blur",this._focusedComp,false);R.load=O.load;this._focusedComp.fireFocusEvent(R);R=new u("focusout",this._focusedComp,true);R.load=O.load;this._focusedComp.fireFocusEvent(R);this._focusedComp=undefined}}break;case"touchstart":for(var P=0,F,A=O.originalEvent.changedTouches,Q=A.length;P<Q;P++){F=A.item(P);this._touchSeqTracking[F.identifier]=false}j.call(this,z,O.originalEvent);R=v.buildFromDomTouchEvent("touchstart",z,O.originalEvent);R.load=O.load;z.fireTouchEvent(R);break;case"touchmove":if(!j.call(this,z,O.originalEvent)){R=v.buildFromDomTouchEvent("touchmove",z,O.originalEvent);R.load=O.load;z.fireTouchEvent(R)}break;case"touchend":j.call(this,z,O.originalEvent);var w=[],K=[],E=[],M=[];for(var P=0,F,A=O.originalEvent.changedTouches,Q=A.length;P<Q;P++){F=A.item(P);this._touchSeqTracking[F.identifier]===true?K.push(F):w.push(F);delete this._touchSeqTracking[F.identifier]}if(w.length){for(var P=0,F,S=O.originalEvent.targetTouches,Q=S.length;P<Q;P++){F=S.item(P);M.push(F)}for(var P=0,F,J=O.originalEvent.touches,Q=J.length;P<Q;P++){F=J.item(P);E.push(F)}R=v.buildFrom3TouchArray("touchcancel",z,E,K,M);R.load=O.load;z.fireTouchEvent(R);R=v.buildFrom3TouchArray("touchend",z,E,w,M);R.load=O.load;z.fireTouchEvent(R)}else{R=v.buildFromDomTouchEvent("touchcancel",z,O.originalEvent);R.load=O.load;z.fireTouchEvent(R)}break;case"touchcancel":j.call(this,z,O.originalEvent);for(var P=0,F,A=O.originalEvent.changedTouches,Q=A.length;P<Q;P++){F=A.item(P);delete this._touchSeqTracking[F.identifier]}R=v.buildFromDomTouchEvent("touchcancel",z,O.originalEvent);R.load=O.load;z.fireTouchEvent(R);break}}function j(D,C){var H=[];var F=D;do{r.apply(H,F.gestureDetectors)}while(F=F.parent);var z=false,x,J=false;for(var B=0,w,I,E=H.length;B<E;B++){I=H[B];switch(C.type){case"touchstart":I.touchBegin(C);break;case"touchmove":I.touchMove(C);break;case"touchend":I.touchEnd(C);break;case"touchcancel":I.touchCancel(C);break}w=I.state;x=(w===a.Began)||(w===a.Changed)||(w===a.Recognized);z=z||x;J=J||(x&&I.cancelTouches())}if(J){for(var B=0,A,G=C.changedTouches,E=G.length;B<E;B++){A=G.item(B);this._touchSeqTracking[A.identifier]=true}}return z}var l=m.extend({constructor:function(w){w=w||{};if(w.holder){this._holder=h(w.holder);this._holder.bind("DOMNodeInsertedIntoDocument",function(){this.markAttached()}.bind(this));this._holder.bind("DOMNodeRemovedFromDocument",function(){this.markDetached()}.bind(this));this.pin({x:0,y:0});this._msTracking=[];this._touchSeqTracking={};s(this);this.clipToBound(false);e.call(this);this.container.appendTo(this._holder);this.markDetached();this.markHide();if(d(this._holder.get(0))){this.markAttached()}if(this._holder.css("display")==="none"||this._holder.css("visibility")==="hidden"){this._parentVisible=false;this.markHide()}else{this._parentVisible=true;this.markShow()}this._watcherTaskId=c.watch(this._holder.get(0),"position,display",function(z){for(var A=0,x=z.length;A<x;A++){switch(z[A]){case"position":s(this);break;case"display":if(this._holder.css("display")==="none"){this._parentVisible=false;this.markHide()}else{this._parentVisible=true;this.markShow()}break}}}.bind(this));this.root=this}else{o("you have to provide a container for viz frame")}},doDestroy:function(){c.unwatch(this._watcherTaskId);this._holder.unbind("DOMNodeInsertedIntoDocument");this._holder.unbind("DOMNodeRemovedFromDocument");this.container.unbind()},destroy:function(){this._super();this.container.detach()}});return l});sap.riv.module({qname:"sap.viz.mvc.ImageManager",version:"4.0.1"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"}],function Setup(d){var b=function(g){this._imgEl=g};b.prototype.getBitmap=function(){return this._imgEl};b.prototype.width=function(g){if(g!==undefined){this._imgEl.width=g;return this}return this._imgEl.width};b.prototype.height=function(g){if(g!==undefined){this._imgEl.height=g;return this}return this._imgEl.height};b.prototype.intrinsicHeight=function(){return this._imgEl.naturalHeight};b.prototype.intrinsicWidth=function(){return this._imgEl.naturalWidth};b.prototype.url=function(){return this._imgEl.src};var c={};var f={};var a={};var e={loadImage:function(k,g,j){if(k&&g){j=j||d.noop;if(f.hasOwnProperty(k)){if(c[f[k]]){j(true);return}}var h=new Image();h.onabort=h.onerror=function(){j(false,{id:k,url:g})};h.onload=function(){var m=h.src;if(!c.hasOwnProperty(m)){var l=new b(h);f[k]=m;a[m]={ids:{id:k},length:1};c[m]=l}else{f[k]=h.src;a[m].ids[k]=k;a[m].length++}j(true,{id:k,url:g})}.bind(this);h.src=g}},loadImages:function(o,n,m){n=n||d.noop;m=m||d.noop;var l=o.length;if(l==0){m(true)}else{var k=0;var h=function(p,q){k++;if(k<l){n(k/l,p,q)}else{m(true,q)}};for(var j=0,g=o.length;j<g;j++){e.loadImage(o[j].id,o[j].url,h)}}},hasImage:function(g){return f.hasOwnProperty(g)},getImage:function(g){if(f.hasOwnProperty(g)){return c[f[g]]}},disposeImage:function(h){if(f.hasOwnProperty(h)){var g=f[h];delete f[h];delete a[g].ids[h];a[g].length--;if(!a[g].length){delete a[g];delete c[g]}}}};return e});sap.riv.module({qname:"sap.viz.mvc.ThemeManager",version:"4.0.1"},[{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.base.Observable",version:"4.0.1"}],function Setup(c,a){var b=new (a.extend({events:["defaultThemeChanged","themeSettingChanged"],constructor:function(d){this._themeReg={}},defaultTheme:function(e){if(e!==undefined){if(this._defaultTheme!==e&&this.hasThemeInstalled(e)){var d=this._defaultTheme;this._defaultTheme=e;this.fireEvent("defaultThemeChanged",d,e)}return this}return this._defaultTheme},hasThemeInstalled:function(d){return this._themeReg.hasOwnProperty(d)},installTheme:function(d,e){if(!this._themeReg.hasOwnProperty(d)){this._themeReg[d]=c.extend({},e)}},getThemeSettings:function(d){if(this._themeReg.hasOwnProperty(d)){return c.extend({},this._themeReg[d])}},updateThemeSetting:function(g,e,f){if(this._themeReg.hasOwnProperty(g)){var d=this._themeReg[g][e];this._themeReg[g][e]=f;this.fireEvent("themeSettingChanged",g,e,d,f)}}}))();return b});sap.riv.module({qname:"sap.viz.mvc.VizApplication",version:"4.0.1"},[{qname:"sap.viz.base.Observable",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.mvc.ThemeManager",version:"4.0.1"},{qname:"sap.viz.mvc.ImageManager",version:"4.0.1"},{qname:"sap.viz.mvc.VizFrame",version:"4.0.1"},{qname:"sap.viz.mvc.UIComponent",version:"4.0.1"},{qname:"sap.viz.mvc.UIController",version:"4.0.1"},{qname:"sap.viz.base.Logger",version:"4.0.1"}],function Setup(j,n,m,e,o,g,f,q){var p=n.noop,l=n.error,a=n.unimplemented,h=Array.prototype.push;var c=0;function b(){return c++}var d=g.Autosizing;var k=j.extend({images:[],RootControllerClass:f,constructor:function(s){if(!arguments.length){l("You have to specify the options to initialize")}var t=s.holder,w=s.id;if(!t){l("You have to specify the holder for the visualization")}delete s.holder;delete s.id;var r=this.constructor.prototype;if(!(r.RootControllerClass)){l("Cannot initialize without a root UIController")}this.appWillLaunch.apply(this,[s]);var v=m.defaultTheme();Object.defineProperties(this,{id:{value:w?w+"_"+b():"VizApp_"+b(),writable:false},vizFrame:{value:new o({holder:t}),writable:false},theme:{get:function(){return v},set:function(x){v=x;if(m.hasThemeInstalled(x)){v!==x;this.controller.doThemeApplied(v)}return this}}});m.on("defaultThemeChanged",function(x,z){if(this._theme===x){this._theme=z;this.controller.doThemeApplied(z)}}.bind(this),this.id);m.on("themeSettingChanged",function(B,z,x,A){if(this._theme===B){this.controller.doThemeUpdated(z,x,A)}}.bind(this),this.id);var u=[];if(this.hasOwnProperty("images")&&this.images){h.apply(u,this.images)}h.apply(u,r.images);e.loadImages(u,undefined,function(){var x=new r.RootControllerClass(this);Object.defineProperty(this,"controller",{value:x,writable:false,enumerable:true,configurable:false});this.vizFrame.append(x.rootUIComponent);this.controller.initialize(s);this.appDidFinishLaunching.apply(this,[s]);x.rootUIComponent.autoResizingMask(d.FlexibleWidth|d.FlexibleHeight);x.rootUIComponent.frame(0,0,this.vizFrame.width(),this.vizFrame.height())}.bind(this))},appWillLaunch:p,appDidFinishLaunching:p,getMetadata:a,getPropertyValues:a,setPropertyValues:a,destroy:function(){m.un("defaultThemeChanged",this.id);m.un("themeSettingChanged",this.id);this.controller.destroy();this.vizFrame.destroy()}});return k});sap.riv.module({qname:"sap.viz.core",version:"4.0.1",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.1"},{qname:"sap.viz.util.Objects",version:"4.0.1"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.1"},{qname:"sap.viz.mvc.UIController",version:"4.0.1"},{qname:"sap.viz.mvc.UIComponent",version:"4.0.1"},{qname:"sap.viz.mvc.VizApplication",version:"4.0.1"},{qname:"sap.viz.manifest",version:"4.0.1"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.1"},{qname:"sap.viz.modules.Constants",version:"4.0.1"},{qname:"sap.viz.load",version:"4.0.1"},{qname:"sap.viz.util.append",version:"4.0.1"},{qname:"sap.viz.util.ignite",version:"4.0.1"},{qname:"sap.viz.data.feed.feeder",version:"4.0.1"},{qname:"sap.viz.data.handler.BaseDataHandler",version:"4.0.1"},{qname:"sap.viz.data.MultiAxesDataAdapter",version:"4.0.1"},{qname:"sap.viz.lang.langManager",version:"4.0.1"},{qname:"sap.viz.config",version:"4.0.1"},{qname:"sap.viz.style.Manager",version:"4.0.1"},{qname:"sap.viz.TemplateManager",version:"4.0.1"},{qname:"sap.viz.style.Sheet",version:"4.0.1"},{qname:"sap.viz.util.fn.dombuilder",version:"4.0.1"},{qname:"sap.viz.util.fn.domposition",version:"4.0.1"}],function Setup(p,l,s,x,a,n,v,f,m,F,k,A,h,r,z,B,D,e,o,C,b,E,u){function t(I){var H={};for(var G in I){if(I.hasOwnProperty(G)){if(I[G].supportedValueType==="Object"){H[G]=t(I[G].supportedValues)}else{H[G]=I[G].defaultValue}}}return H}function g(K,I){var J=K,G={};if(I.general&&J.layout){J.general={};J.general.layout=$.extend(true,{},J.layout);delete J.layout}G=s.extend(true,{},J);for(var H in J){if(J.hasOwnProperty(H)){if(typeof I==="object"&&I.hasOwnProperty(H)){if(J[H]!==null&&typeof J[H]==="object"&&!(J[H] instanceof Array)){G[H]=g(J[H],I[H])}else{if((typeof I[H]!=="undefined"&&I[H] instanceof Array&&J[H] instanceof Array)||(typeof I[H]!=="undefined"&&typeof I[H]!=="object")){G[H]=I[H]}}}}}if(G.general){G.layout=$.extend(true,{},G.general.layout);delete G.general}return G}function w(J,N){var H=f.viz.get(N).allProperties();var L={};var M;var G={};var K,I;for(K in J){if(J.hasOwnProperty(K)){if(J[K].properties&&!p.isEmptyObject(J[K].properties())){if(K.indexOf("[")>-1){if(parseInt(K[K.indexOf("[")+1],10)>0){continue}else{M=K.substring(0,K.indexOf("["))+K.substring(K.indexOf("]")+1)}}else{M=K}for(I in H){if(H.hasOwnProperty(I)){if(H[I].moduleRefPath===M){G=t(H[I]);L[I]=g(G,J[K].properties())}}}}}}return L}var d=n.extend({initialize:function(G){this._config=G.config;this._data=G.data;this._modules={};this._selections={};this._properties=G.options;this._dispatch=d3.dispatch("dataTruncation");this._i18nListener={fn:this._localeChanged,scope:this};D.addListener(this._i18nListener);if(this._data.emptyDataset()){return}this._shadowSVGContainer=d3.select(document.createElement("div"));this._shadowSVG=this._shadowSVGContainer.append("svg");this._canvas=d3.select(document.createElement("canvas")).style("width",0).style("height",0);this.container.prepend(this._canvas.node());var K=e.get(this._config.id)||{};this._max_svg=e.enableCanvg()&&K.max_svg?K.max_svg:Number.POSITIVE_INFINITY;this._max_canvas=e.enableCanvg()&&K.max_canvas?K.max_canvas:Number.POSITIVE_INFINITY;this._root=d3.select(this.container[0]);this._component_status="svg";var L=l.guid("sap-viz");this._root.attr("class",L);this._id=L;this._properties=this._mergeProperties({},this._properties);this._styleSheets=[];this._styleManager=new o(this._styleSheets);var J={styleManager:this._styleManager.child(undefined,undefined,"div")};var I=this;this._selections=E(this._root,this._config.modules);if(this._data.dataPointCount()>this._max_svg){this._shadowSVG=this._selections.root.remove();this._selections.root=this._shadowSVGContainer.select("svg");this._component_status="canvg"}this._modules=(function(){var M={};$.each(I._config.modules,function(N,Q){var R=h(Q.id,J,N,I._selections[N]?I._selections[N].node().nodeName:undefined),P=Q.data?I._data.createDataAdapterForModule(Q.data):I._data,O={};M[N]=R.data?R.data(P):R;if(Q.modules){if(Q.configure){O[Q.configure.propertyCategory]=Q.properties}if(M[N].container){M[N].container(I._root.node())}if(M[N].parent){M[N].parent(I._selections[N])}M[N].config(Q).properties(s.extend(true,{},O,I._properties))}else{M[N].properties(s.extend(true,{},Q.properties,I._properties[Q.configure.propertyCategory]))}});return M})();for(var H in this._modules){if(this._modules.hasOwnProperty(H)){this._modules=this._flatten(H,this._modules[H])}}this._domposition(this.size());this.css(G.css);if(this._modules.root.dispatch&&this._modules.root.dispatch()["ready"]){this._modules.root.dispatch().on("ready.sap.core",function(){I._exportToCanvas.apply(I)})}this._attachEvents(G)},_flatten:function(K,H,N){var M=N||".",J={},I=[{key:K,value:H}];(function G(P,S){var R=S.modules(),Q={},T=P;for(var O in R){if(R.hasOwnProperty(O)){Q={key:P+M+O,value:R[O]};I.push(Q);if(R[O].modules){G(T+M+O,R[O])}}}})(K,H);for(var L=0;L<I.length;L++){J[I[L].key]=I[L].value}return J},_attachEvents:function(G){var H=G.events;for(var I in H){if(H.hasOwnProperty(I)){this.attachEvent(I,H[I].fn,H[I].scope)}}},attachEvent:function(R,O,Q){var I=this.modules(),N={};var M=this._dispatch;var J=R.indexOf(".");var G=J>0?R.substring(0,J):R;if(M[G]){M.on(G,function(){O.apply(Q,arguments)})}for(var H in I){if(I.hasOwnProperty(H)){var L=H.split("."),K=L.length-1;if(I[H].dispatch&&I[H].dispatch()[G]){for(var P=0;P<=K;P++){if(N[P]&&N[P][L.slice(0,P).toString()]){break}}if(P>K){if(!N[L.length]){N[L.length]={}}N[L.length][L.toString()]=I[H];I[H].dispatch().on(R,function(){O.apply(Q,arguments)})}}}}},_getRootKey:function(){if(this._rootKey){return this._rootKey}for(var G in this._modules){if(this._modules.hasOwnProperty(G)&&m.get(this._config.modules[G].id).type!==F.Type.Controller&&m.get(this._config.modules[G].id).type!==F.Type.Behavior&&G.indexOf(".")<0){return(this._rootKey=G)}}},_getRootContainer:function(){if(this._rootContainer){return this._rootContainer}for(var G in this._config.modules){if(this._config.modules.hasOwnProperty(G)&&m.get(this._config.modules[G].id).type===F.Type.Container){return(this._rootContainer=this._modules[G])}}},_domposition:function(H){var I=this._getRootKey();var G={};G[I]={bounds:{x:0,y:0,width:H.width,height:H.height}};u(G,this._selections)},_doLayout:function(G,H){this._domposition(G);this._getRootContainer().size(G,H)},_updateProperties:function(){this._properties=this._mergeProperties(this._properties);var G=this._config.modules;for(var H in G){if(G.hasOwnProperty(H)){if(m.get(G[H].id).type===F.Type.Container){this._modules[H].properties(this._properties);continue}if(G[H].configure&&G[H].configure.propertyCategory){this._modules[H].properties(this._properties[G[H].configure.propertyCategory])}}}},_mergeProperties:function(H,I){var G={};G=s.extend(true,{},H,I);return this._mergeCanvgProperties(G)||G},_mergeCanvgProperties:function(H){if(e.enableCanvg()&&this._data.dataPointCount()>=this._max_svg){var G={};G.plotArea={animation:{dataLoading:false,dataUpdating:false}};return s.extend(true,{},H,G)}},render:function(){if(this._data.emptyDataset()){return}this._relayout(this.size());this._paint()},_localeChanged:function(){this._getRootContainer().data(this._data);this._updateProperties();this.render()},properties:function(H){if(!arguments.length){return w(this._modules,this._config.id)}this._properties=this._mergeProperties(this._properties,H);var G=this._config.modules;for(var I in G){if(G.hasOwnProperty(I)){if(m.get(G[I].id).type===F.Type.Container){this._modules[I].properties(this._properties)}else{if(!G[I].configure){continue}this._modules[I].properties(this._properties[G[I].configure.propertyCategory])}}}this._modules=this._flatten(this._getRootKey(),this._getRootContainer())},css:function(H){if(H===undefined){var I="";this._styleSheets.forEach(function(J){I+=J.source});return I}if(H){var G=new b(H,this._id);this._styleManager.applyCSS(G);this._styleSheets.push(G)}},data:function(G){if(!arguments.length){return this._data}this._data=G;this._updateProperties();if(e.enableCanvg()&&this._data.dataPointCount()>=this._max_svg&&this._component_status==="svg"){this._selections[this._getRootKey()].remove();this._shadowSVG=this._shadowSVGContainer.select("svg");this._shadowSVG.remove();if(this._shadowSVGContainer.select("svg").node()===null){this._shadowSVGContainer.node().appendChild(this._selections[this._getRootKey()].node())}else{$(this._selections[this._getRootKey()].node()).insertBefore(this._shadowSVGContainer.select("svg").node())}if(d3.select(this.container.get(0)).select("svg").node()===null){this.container.get(0).appendChild(this._shadowSVG.node())}else{$(this._shadowSVG.node()).insertBefore(d3.select(this.container.get(0)).select("svg").node())}this._component_status="canvg"}else{if(e.enableCanvg()&&this._data.dataPointCount()<this._max_svg&&this._component_status==="canvg"){this._canvas.node().getContext("2d").clearRect(0,0,this._canvas.node().width,this._canvas.node().height);this._canvas.style("width",0),this._canvas.style("height",0);this._canvas.attr("width",0),this._canvas.attr("height",0);this._shadowSVG=d3.select(this.container.get(0)).select("svg");this._selections[this._getRootKey()]=this._shadowSVGContainer.select("svg");this._selections[this._getRootKey()].remove();$(this._selections[this._getRootKey()].node()).insertBefore(this._shadowSVG.node());this._shadowSVGContainer.insert("svg","svg").attr("width",this.size().width).attr("height",this.size().height);this._shadowSVG.remove();this._shadowSVG=this._selections[this._getRootKey()];this._component_status="svg"}}this._getRootContainer().data(this._data);this._getRootContainer().refresh();this._modules=this._flatten(this._getRootKey(),this._getRootContainer())},modules:function(){return this._modules},_relayout:function(G){this._doLayout(G);this._wire();this._doLayout(G,true)},doContentResize:function(H,G){this._super("doContentResize",H,G);this.render()},_expandDependencyDefs:function(R){var J=[];var L=R.sourceModule;var O=R.targetModule;var H=this._expandModulePath(L);var N=this._expandModulePath(O);if(H.length>1&&N.length>1){if(H.length!==N.length){x.error("Error on resolving dependency:"+L+","+O)}else{for(var K=0,M=H.length;K<M;K++){J.push({sourceModule:H[K],targetModule:N[K],source:R.source,target:R.target,type:R.type,listener:R.listener})}}}else{for(var G=0,P=H.length;G<P;G++){for(var I=0,Q=N.length;I<Q;I++){J.push({sourceModule:H[G],targetModule:N[I],source:R.source,target:R.target,type:R.type,listener:R.listener})}}}return J},_expandModulePath:function(S){var I=S.split(".");var G=[];var H=[];for(var M=0,N=I.length;M<N;M++){var L=0,R=G.length;do{var Q=R>0?[G[L],I[M]].join("."):I[M];if(p.isArray(this._modules[Q])){for(var K=0,P=this._modules[Q].length;K<P;K++){if(this._modules[Q][K]){var O=R>0?[G[L],I[M]+"["+K+"]"].join("."):I[M]+"["+K+"]";H.push(O)}}}else{H.push(Q)}L++}while(L<R);var J=G;G=[].concat(H);H.length=0;J.length=0}return G},_expandModules:function(){var I=this._modules;var H=[];for(var K in I){if(I.hasOwnProperty(K)){var G=I[K];if(p.isArray(G)){for(var J=0;J<G.length;J++){H[K+"["+J+"]"]=G[J]}}else{H[K]=G}}}return H},_wire:function(){var M=this._config.dependencies,Q,K;var O=M.attributes||[],R=M.events||[];var J,L;var H=this._expandModules();for(K=0;K<O.length;K++){Q=O[K];if(Q===null){continue}J=this._expandDependencyDefs(Q);for(var I=0,P=J.length;I<P;I++){L=J[I];if(H[L.sourceModule]&&H[L.targetModule]){if(typeof H[L.sourceModule][L.source]==="function"&&typeof H[L.targetModule][L.target]==="function"){H[L.targetModule][L.target](H[L.sourceModule][L.source]())}else{x.error("dependency configuration error")}}else{x.error("dependency configuration error")}}}for(K=0;K<R.length;K++){Q=R[K];J=this._expandDependencyDefs(Q);for(var G=0,N=J.length;G<N;G++){L=J[G];if(H[L.targetModule]&&H[L.sourceModule]){if(typeof H[L.targetModule][L.listener]==="function"&&typeof H[L.sourceModule]==="function"){if(typeof H[L.sourceModule].dispatch==="function"){H[L.sourceModule].dispatch().on(L.type+"."+L.targetModule+"."+G,H[L.targetModule][L.listener])}else{x.error("dependency configuration error:"+L.sourceModule+" does not support event!")}}else{x.error("dependency configuration error")}}else{x.error("dependency configuration error: source or target does not exist!")}}}},_paint:function(){this._selections[this._getRootKey()].call(this._getRootContainer())},_exportToCanvas:function(){if(e.enableCanvg()&&this._component_status==="canvg"){this._selections[this._getRootKey()].attr("height",this.size().height);this._selections[this._getRootKey()].attr("width",this.size().width);this._shadowSVG.attr("height",0);this._shadowSVG.attr("width",0);this._shadowSVGContainer.selectAll("title").remove();if(canvg){canvg(this._canvas.node(),this._shadowSVGContainer.html(),{ignoreMouse:true,ignoreAnimation:true});if(this._data.dataPointCount()>this._max_canvas){this._dispatch.dataTruncation()}}}},getSupportedEvents:function(){var H=[];var G=this._config.modules;function I(K){for(var J in K){if(K.hasOwnProperty(J)){if(!K[J]){continue}var L=f.module.get(K[J].id);if(L&&L.events){H.push({sourceId:K[J].id,source:{},evtTypes:L.events})}if(K[J].modules){I(K[J].modules)}}}}I(G);return H},doDestroy:function(){D.removeListener(this._i18nListener);this.detach();this._styleSheets.forEach(function(G){G.destroy()})}});var q=a.extend({RootComponentClass:d,_parseOptions:function(G){if(!f.viz.get(G.vizType)){x.error("Invalid vizType")}this._dataset=G.dataset?G.dataset:{};this._options=G.option;this._vizType=G.vizType;this._dataFeeding=G.feeding;this._css=G.css;this._events=G.events},initUIComponent:function(H){this._parseOptions(H);var G=f.viz.get(this._vizType);this.rootUIComponent.initialize({data:this._dataset,dataFeeding:this._dataFeeding,config:G,options:this._options,clipToBound:true,css:this._css,events:this._events})},getSupportedEvents:function(){return this.rootUIComponent.getSupportedEvents()},setDataset:function(G){this.rootUIComponent.data(G)},doThemeChanged:function(){this.rootUIComponent.themeChanged()},updateProperties:function(G){this.rootUIComponent.properties(G)},getProperties:function(){return this.rootUIComponent.properties()},css:function(){return this.rootUIComponent.css.apply(this.rootUIComponent,arguments)},render:function(){this.rootUIComponent.render()},doAfterShow:function(){var H=this.rootUIComponent.properties();var I;if(!H.plotArea||!H.plotArea.animation||!H.plotArea.animation.dataLoading){if(!this.rootUIComponent.modules()){return}var J=this.rootUIComponent.modules()["main.plot"];if(p.isArray(J)){for(var G=0;G<J.length;G++){if(p.isExist(J[G])){I=J[G].modules()["plot"].doAfterShow;if(p.isExist(I)){I()}}}}else{I=J.doAfterShow;if(p.isExist(I)){I()}}}}});var c=v.extend({RootControllerClass:q,appDidFinishLaunching:function(H){var G=H.launchOptions;this._vc_vizType=G.vizType;this._vc_dataset=G.data.rawData;this._vc_feeding=G.feeding;this._vc_properties=G.options;var J=e.get(this._vc_vizType)?e.get(this._vc_vizType):{};this.max_canvas=e.enableCanvg()&&J.max_canvas?J.max_canvas:Number.POSITIVE_INFINITY;var I=this._vc_createAdapter(this._vc_vizType,this._vc_dataset,this._vc_feeding,this.max_canvas);this.controller.initUIComponent({vizType:this._vc_vizType,dataset:I,option:G.options,css:G.css,events:G.events})},_vc_createAdapter:function(M,G,K,I){var O=r(f.viz.get(M).allFeeds(true),G,K);var Q=new z(O,G,I);var R=O.getFeeds();var N=new B(O.getBindingInfo());N.fakeData(G.hasFakeData());N.emptyDataset(G.isEmptyDataset());N.dataPointCount(G.getDataPointCount());var H,P;for(var J=0,L=R.length;J<L;J++){H=R[J].feedId();P=Q.getFeedValues(H);if(P!==null){if(R[J].type()==="Dimension"){N.addAnalysisAxis({values:P,index:R[J].getIndex()-1})}else{N.addMeasureValuesGroup({values:P,index:R[J].getIndex()-1})}}}return N},css:function(){return this.controller.css.apply(this.controller,arguments)},size:function(G){if(G!==undefined){this.vizFrame.size(G);return this}else{return this.vizFrame.size()}},update:function(I){if(I){var G=false;if(I.properties){if(this.controller){this._vc_properties=I.properties;this.controller.updateProperties(this._vc_properties);G=true}}if(I.css){this.controller.css(I.css);G=true}if(I.data||I.feeding){if(I.data){this._vc_dataset=I.data}if(I.feeding){this._vc_feeding=I.feeding}var H=this._vc_createAdapter(this._vc_vizType,this._vc_dataset,this._vc_feeding,this.max_canvas);this.controller.setDataset(H);G=true}if(G){this.controller.render()}}},getSupportedEvents:function(){return this.controller.getSupportedEvents()},setDataset:function(H){this._vc_dataset=H;var G=this._vc_createAdapter(this._vc_vizType,this._vc_dataset,this._vc_feeding);this.controller.setDataset(G)},getDataset:function(){return this._vc_dataset},updateProperties:function(G){if(this._controller){this._vc_properties=G;this.controller.updateProperties(this._vc_properties)}},getProperties:function(){return this.controller.getProperties()}});var j={constructor:function(){},instances:[],createViz:function(L){var I={},H=L.feeding,M=this;var G={constructor:function(){},on:function(P,O,N){I[P]={callback:O,scope:N};this.app.controller.rootUIComponent.attachEvent(P,O,N);return this},size:function(N){if(!arguments.length){return this.app.size()}this.app.size(N);return this},data:function(O){if(!arguments.length){return this.app.getDataset()}this.update({data:O});for(var N in I){if(I.hasOwnProperty(N)){this.on(N,I[N].callback,I[N].scope)}}return this},properties:function(N){if(!arguments.length){return this.app.getProperties()}this.update({properties:N});return this},css:function(N){if(!arguments.length){return this.app.css()}this.update({css:N});return this},feeding:function(N){if(!arguments.length){return H}H=N;this.update({feeding:N});return this},update:function(N){if(N){if(p.isDefined(N.feeding)){H=N.feeding}this.app.update(N)}return this},destroy:function(){M.instances.splice(M.instances.indexOf(this),1);this.app.destroy()},toJSON:function(){var N={};N.type=L.type;N.data={type:"crosstable",val:G.app.getDataset().data()};N.properties=this.app.properties();N.css=this.css();N.feeding=H;N.size=this.app.size();return N}};var K=C.current();var J=L.type;G.app=new c({holder:L.container,launchOptions:{vizType:J,options:s.extend(true,null,K.props(J),L.options),css:(K.css||"")+(L.css||""),data:{rawData:L.data},feeding:L.feeding||L.dataFeeding,events:L.events}});Object.defineProperty(G,"type",{value:J,enumerable:true});M.instances.push(G);return G},destroyViz:function(){for(var H=-1,G=arguments.length;++H<G;){arguments[H].destroy()}},loadViz:function(I,G){var H={};H.container=G;H.type=I.type;H.options=I.properties;H.data=I.data;H.css=I.css;H.feeding=I.feeding;this.createViz(H)},exportViz:function(G){return G.toJSON()}};return j});sap.riv.module({qname:"sap.viz.ccl",version:"4.0.1",exported:true},[{qname:"sap.viz.core",version:"4.0.1"},{qname:"sap.viz.data.CrosstableDataset",version:"4.0.1"}],function Setup(c,b){var a={constructor:function(){return},loadViz:function(f,d){var e={};e.container=d;e.type=f.type;e.options=f.properties;e.data=new b();e.data.setData(f.data.val);e.css=f.css;e.feeding=f.feeding;return c.createViz(e)}};return a});sap.riv.module({qname:"sap.viz.env",version:"4.0.1",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.1"},{qname:"sap.viz.base.Logger",version:"4.0.1"},{qname:"sap.viz.config",version:"4.0.1"},{qname:"sap.viz.Locale",version:"4.0.1"}],function Setup(b,c,d,h){var g=function(j){if(b.isExist(j)){c.setLevel(j)}};var a=function(m){if(!m){return}if(m.enable){c.enable()}if(!m.appenders){return}for(var n=0,k=m.appenders.length;n<k;n++){var j=m.appenders[n];if(j.appenderKey){c.addAppender(j.appenderKey,j.appender)}else{c.addAppender(j.appender)}}};var e=function(j,k){h.locale(j.locale,k)};var f={constructor:function(){},initialize:function(j,k){if(!j){return}a(j.log);if(j.locale){e(j,k)}else{if(k){k.call()}}d.enableCanvg(j.enableCanvg)},setLoggerEnable:function(j){if(j===true){c.enable()}else{if(j===false){c.disable()}}},addLogAppender:function(){if(arguments.length===1){return c.addAppender(arguments[0])}else{if(arguments.length===2){return c.addAppender(arguments[0],arguments[1])}}},removeLogAppender:function(j){return c.removeAppender(j)}};return f});sap.riv.module({qname:"sap.viz.util.LogAnalyzer",version:"4.0.1",exported:true},[{qname:"sap.viz.base.utils.LinkedHashMap",version:"4.0.1"}],function Setup(d){var h;var j={};var e={};var g={};var c=new d();var b=/Chart\[(.+?)\]\sinitializing\./;var a=/Chart\[(.+?)\]application\[(.+?)\]\sinitialized\./;var f=/application\[(.+?)\]component\[(.+?)\]\sinitialized\./;var o=/chartComponent\[(.+?)\]subComponent\[(.+?)\]initialized\./;var p=/layer\[(.+?)\]rendering\send\./;var l=/#(\d+)#/;function n(r){while(r.hasMore()){if(r.nextValue()===-1){return false}}return true}function m(u){var r=u[0];var t=u.length;for(var s=1;s<t;s++){r=u[s]>r?u[s]:r}return r}function q(u,r,t,s){return"#"+u+"#"+s}var k={analyze:function(w,t,B,F){if(B!=="perf"){return}var x=q(w,t,B,F);var u=b.exec(x);if(u){var G=l.exec(x)[1];j[u[1]]=G;h=h||G;return}u=f.exec(x);if(u){g[u[2]]=u[1];return}u=a.exec(x);if(u){e[u[2]]=u[1];return}u=o.exec(x);if(u){if(!c.has(u[1])){c.add(u[1],new d())}c.get(u[1]).add(u[2],-1);return}u=p.exec(x);if(u){var z=l.exec(x)[1];var C=c.getIterator();while(C.hasMore()){var A=C.next();var D=A.value;if(D.has(u[1])&&D.get(u[1])===-1){D.add(u[1],z);var E=D.getIterator();if(n(E)){E.reset();var H=[];while(E.hasMore()){H.push(E.nextValue())}var r=e[g[A.key]];var s=j[r],v=z;c.remove(A.key);return("chart["+r+"] start time:"+s+" end time:"+v+" time consume["+(v-s)+"] total consume["+(v-h)+"]")}}}}}};return k});sap.viz.lang.langManager.register({id:"dev",value:{IDS_DEFAULTMND:"All Measures",IDS_DEFAULTCHARTTITLE:"Title of Chart",IDS_ISNOVALUE:"No value",IDS_BARCHART:"Bar Chart",IDS_COMBINATIONCHART:"Combined Column Line Chart",IDS_DUALBARCHART:"Bar Chart with 2 X-Axes",IDS_DUALCOMBINATIONCHART:"Combined Column Line Chart with 2 Y-Axes",IDS_DUALHORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart with 2 X-Axes",IDS_DUALHORIZONTALLINECHART:"Horizontal Line Chart with 2 X-Axes",IDS_DIUALLINECHART:"Line Chart with 2 Y-Axes",IDS_DUALPERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart with 2 X-Axes",IDS_DUALSTACKEDVERTICALBARCHART:"Stacked Column Chart with 2 Y-Axes",IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart with 2 Y-Axes",IDS_DUALSTACKEDBARCHART:"Stacked Bar Chart with 2 X-Axes",IDS_DUALVERTICALBARCHART:"Column Chart with 2 Y-Axes",IDS_HORIZONTALBOXPLOTCHART:"Horizontal Box Plot",IDS_HORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart",IDS_HORIZONTALLINECHART:"Horizontal Line Chart",IDS_HORIZONTALWATERFALLCHART:"Horizontal Waterfall Chart",IDS_HORIZONTALSTACKEDWATERFALL:"Horizontal Stacked Waterfall Chart",IDS_LINECHART:"Line Chart",IDS_PERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart",IDS_PERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart",IDS_SPARKLINECHART:"Spark Line Chart (POC)",IDS_STACKEDBARCHART:"Stacked Bar Chart",IDS_STACKEDVERTICALBARCHART:"Stacked Column Chart",IDS_STACKEDWATERFALLCHART:"Stacked Waterfall Chart",IDS_VARIANTBARCHART:"Variant Bar Chart (POC)",IDS_VERTICALBARCHART:"Column Chart",IDS_VERTICALBOXPLOTCHART:"Box Plot",IDS_WATERFALLCHART:"Waterfall Chart",IDS_DONUTCHART:"Donut Chart",IDS_PIECHART:"Pie Chart",IDS_BASEBUBBLECHART:"Base Scatter Chart",IDS_BUBBLECHART:"Bubble Chart",IDS_SCATTERCHART:"Scatter Plot",IDS_BASECHART:"Base Chart",IDS_BASEHORIZONTALCHART:"Base horizontal XY Chart",IDS_BASEVERTICALCHART:"Base Vertical XY Chart",IDS_BASEMULTIPLECHART:"Base Multiple Chart",IDS_BASEMULTIPLEXYCHART:"Base Multiple XY Chart",IDS_BASESINGLECHART:"Base Single Chart",IDS_HEATMAPCHART:"Heat Map",IDS_TREEMAPCHART:"Tree Map",IDS_MULTIBARCHART:"Multiple Bar Chart",IDS_MULTIBUBBLECHART:"Multiple Bubble Chart",IDS_MULTIDONUTCHART:"Multiple Donut Chart",IDS_MULTIDUALBARCHART:"Multiple Bar Chart with 2 X-Axes",IDS_MULTIDUALHORIZONTALLINECHART:"Multiple Horizontal Line Chart with 2 X-Axes",IDS_MULTIDUALLINECHART:"Multiple Line Chart with 2 Y-Axes",IDS_MULTIDUALPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart with 2 X-Axes",IDS_MULTIDUALPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart with 2 Y-Axes",IDS_MULTIDUALSTACKEDBARCHART:"Multiple Stacked Bar Chart with 2 X-Axes",IDS_MULTIDUALSTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart with 2 Y-Axes",IDS_MULTIDUALVERTICALBARCHART:"Multiple Column Chart with 2 Y-Axes",IDS_MULTIHORIZONTALLINECHART:"Multiple Horizontal Line Chart",IDS_MULTILINECHART:"Multiple Line Chart",IDS_MULTIPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart",IDS_MULTIPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart",IDS_MULTIPIECHART:"Multiple Pie Chart",IDS_MULTISCATTERCHART:"Multiple Scatter Plot",IDS_MULTISTACKEDBARCHART:"Multiple Stacked Bar Chart",IDS_MULTISTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart",IDS_MULTIVERTICALBARCHART:"Multiple Column Chart",IDS_MULTIRADARCHART:"Multiple Radar Chart",IDS_RADARCHART:"Radar Chart",IDS_SCATTERMATRIXCHART:"Scatter Matrix Chart",IDS_TAGCLOUDCHART:"Tag Cloud",IDS_MEKKOCHART:"Mekko chart",IDS_HORIZONTALMEKKOCHART:"Horizontal Mekko Chart",IDS_PERCENTAGEMEKKOCHART:"100% Mekko Chart",IDS_PERCENTAGEHORIZONTALMEKKOCHART:"100% Horizontal Mekko Chart",IDS_AREACHART:"Area Chart",IDS_PERCENTAGEAREACHART:"100% Area Chart",IDS_HORIZONTALAREACHART:"Horizontal Area Chart",IDS_PERCENTAGEHORIZONTALAREACHART:"100% Horizontal Area Chart",IDS_MULTIAREACHART:"Multiple Area Chart",IDS_MULTIHORIZONTALAREACHART:"Multiple Horizontal Area Chart",IDS_MULTIPERCENTAGEAREACHART:"Multiple 100% Area Chart",IDS_MULTIPERCENTAGEHORIZONTALAREACHART:"Multiple 100% Horizontal Area Chart",IDS_3D_BAR:"3D Bar Chart",IDS_3D_COLUMN:"3D Column Chart",IDS_PIEWITHDEPTHCHART:"Pie With Depth Chart",IDS_DONUTWITHDEPTHCHART:"Donut With Depth Chart",IDS_REGIONCOLOR:"Region Color",IDS_PRIMARYVALUES:"Primary Values",IDS_SECONDARYVALUES:"Secondary Values",IDS_AXISLABELS:"Axis Labels",IDS_RECTANGLETITLE:"Rectangle Title",IDS_RECTANGLEWEIGHT:"Rectangle Weight",IDS_RECTANGLECOLOR:"Rectangle Color",IDS_TAGNAME:"Tags Name",IDS_TAGWEIGHT:"Tags Weight",IDS_TAGFAMILY:"Tags Family",IDS_CATEGORYAXIS:"Axis Labels Category",IDS_REGIONSHAPE:"Region Shape",IDS_BUBBLEWIDTH:"Bubble Width",IDS_BUBBLEHEIGHT:"Bubble Height",IDS_RADARAXES:"Radar Axes",IDS_RADARAXESVALUE:"Radar Axes Values",IDS_PIESECTORCOLORNAME:"Sector Color",IDS_PIESECTORSIZE:"Sector Size",IDS_PIEDEPTHSIZE:"Depth Size",IDS_MAINLABELAXISNAME:"Main Category Axis",IDS_SECONDARYAXISLABELNAME:"Secondary Category Axis",IDS_SELECTABILITY:"selectability",IDS_PRIMARYVALUECOLORPALETTE:"primaryValuesColorPalette",IDS_SECONDARYVALUESCOLORPALETTE:"secondaryValuesColorPalette",IDS_DRAWINGEFFECT:"drawingEffect",IDS_TOOLTIPVISIBLE:"tooltipVisible",IDS_ENABLEROUNDCORNER:"enableRoundCorner",IDS_ANIMATION:"animation",IDS_DATALOADING:"dataLoading",IDS_DATAUPDATING:"dataUpdating",IDS_BAR:"bar",IDS_LINE:"line",IDS_WIDTH:"width",IDS_HOVERLINEVISIBLE:"hoverlineVisible",IDS_MARKER:"marker",IDS_VISIBLE:"visible",IDS_SHAPE:"shape",IDS_SIZE:"size",IDS_HEADERVISIBLE:"headerVisible",IDS_AXISVISIBLE:"axisVisible",IDS_GRIDVISIBLE:"gridVisible",IDS_COLUMNSEQUENCE:"columnSequence",IDS_COLUMNCONFIG:"columnConfig",IDS_STARTCOLUMN:"startColumn",IDS_LABEL:"label",IDS_VALUEFORMAT:"valueFormat",IDS_ENDCOLUMN:"endColumn",IDS_HIGHCOLUMN:"highColumn",IDS_LOWCOLUMN:"lowColumn",IDS_LINECONFIG:"lineConfig",IDS_MARKERS:"markers",IDS_FILLVISIBLE:"fillVisible",IDS_REFINEVISIBLE:"reflineVisible",IDS_MODE:"mode",IDS_TITLE:"title",IDS_TEXT:"text",IDS_GRIDLINE:"gridline",IDS_SHOWFIRSTLINE:"showFirstLine",IDS_TYPE:"type",IDS_FORMAT:"format",IDS_POSITION:"position",IDS_BORDER:"border",IDS_STARTCOLOR:"startcolor",IDS_ENDCOLOR:"endcolor",}});(function(){var b;if(window){sap=window.sap||{}}else{sap=sap||{}}if(window.sap){sap.viz=window.sap.viz||{}}else{sap.viz=sap.viz||{}}if(window.sap.viz){sap.viz.container=window.sap.viz.container||{}}else{sap.viz.container=sap.viz.container||{}}var a=sap.viz.container;a.VERSION=function(){return"1.0.0"};a.BUILD=function(){return 1};a.declare=function(d){if(!d){throw new Error("name required")}if(typeof(d)!="string"){throw new Error("name has to be a string")}if(d.charAt(0)=="."||d.charAt(d.length-1)=="."||d.indexOf("..")!=-1){throw new Error("illegal name: "+d)}d=d.split(".");var e=window;for(var c=0;c<d.length;c++){e[d[c]]=e[d[c]]||{};e=e[d[c]]}return e};a.require=function(c){};a.extend=function(g,c){var d=g.prototype;g.superclass=c.prototype;var e=function(){};e.prototype=c.prototype;g.prototype=new e();for(var f in d){if(d.hasOwnProperty(f)){g.prototype[f]=d[f]}}g.prototype.constructor=g;if(c.prototype.constructor==Object.prototype.constructor){c.prototype.constructor=c}return g}})();(function(){var d=sap.viz.container;d.declare("sap.viz.container.common.utils");var b=sap.viz.container.common.utils;var a=0;b.genUID=function(){if(!a){a=0}return"vcgen_"+(a++)};var c={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"};b.applyObjectProperty=function(h,g,f){try{if(b.isFunction(h[g])){h[g](f)}else{h[g]=f}}catch(j){console.log(j)}};b.applyProperties=function(h,g){if(g!=null){var e=g.length;for(var f=0;f<e;f++){var j=g[f];if(j&&j!=null){b.applyObjectProperty(h,j.name,j.value)}}}};b.getObjectProperty=function(g,f){try{if(b.isFunction(g[f])){return g[f]()}else{if(g.hasOwnProperty(f)){return g[f]}}}catch(h){console.log(h)}};b.type=function(e){return e==null?String(e):c[Object.prototype.toString.call(e)]||"object"};b.isFunction=function(e){return b.type(e)==="function"};b.isBoolean=function(e){return b.type(e)==="boolean"};b.isString=function(e){return b.type(e)==="string"};b.isArray=function(e){return b.type(e)==="array"};b.isNumber=function(e){return b.type(e)==="number"};b.isRegExp=function(e){return b.type(e)==="regexp"};b.sortArrayOn=function(e,g,f){if(b.isArray(e)&&b.isString(g)){e.sort(function(j,h){return f?(j[g]<h[g])-(j[g]>h[g]):(j[g]>h[g])-(j[g]<h[g])})}};b.noop=function(){}})();(function(){var b=sap.viz.container;b.declare("sap.viz.container.common.events.Event");var a=sap.viz.container.common.events.Event=function(c,e,d){this.__className="sap.viz.container.common.events.Event";this._type=c;this._target=e;this.data=d};a.prototype.type=function(){return this._type};a.prototype.target=function(){return this._target}})();(function(){var b=sap.viz.container;b.declare("sap.viz.container.common.events.EventDispatcher");b.require("sap.viz.container.common.events.Event");var a=sap.viz.container.common.utils;var c=sap.viz.container.common.events.EventDispatcher=function(){this.__className="sap.viz.container.common.events.EventDispatcher";this._enableDispatchEvent=true};c.prototype.addEventListener=function(h,f,m,k){if(!k){k=0}var d=this._findEventListener(h,f,m);if(d){return}d={type:h,scope:m,listener:f,priority:k};var j=this.listeners()[h];if(!j){this.listeners()[h]=j=[d]}else{var g=false;for(var e=0;e<j.length;++e){var l=j[e];if(k>l.priority){j.splice(e,0,d);g=true;break}}if(g==false){j.push(d)}}};c.prototype.removeEventListener=function(g,h,f){var d=this._findEventListener(g,h,f);if(d){var e=this.listeners()[g];e.splice(e.indexOf(d),1)}};c.prototype.removeEventListeners=function(d){this.listeners()[d]=[]};c.prototype.removeAllEventListeners=function(){this._listeners={}};c.prototype.hasEventListener=function(f,g,e){var d=this._findEventListener(f,g,e);return d!=null};c.prototype.hasEventListeners=function(e){var d=this.listeners()[e];if(d){return d.length>0}return false};c.prototype.dispatchEvent=function(f){if(this._enableDispatchEvent===undefined){this._enableDispatchEvent=true}if(this._enableDispatchEvent){var e=f.type();var d=this.listeners()[e];if(d){var h=d.slice(0);for(var j=0;j<h.length;++j){var g=h[j];g.listener.call(g.scope,f)}}}};c.prototype.enableDispatchEvent=function(d){if(this._enableDispatchEvent===undefined){this._enableDispatchEvent=true}if(arguments.length>=1){if(a.isBoolean(d)){this._enableDispatchEvent=d}return this}else{return this._enableDispatchEvent}};c.prototype._findEventListener=function(g,h,f){var e=this.listeners()[g];if(!e){return null}for(var j=0;j<e.length;++j){var d=e[j];if(d.listener===h&&d.scope===f){return d}}return null};c.prototype.listeners=function(){if(this._listeners===undefined){this._listeners={}}return this._listeners}})();(function(){var b=sap.viz.container;b.declare("sap.viz.container.common.mvc.Action");b.require("sap.viz.container.common.events.Event");var a=sap.viz.container.common.mvc.Action=function(){this.__className="sap.viz.container.common.mvc.Action"};a.prototype.execute=function(c){return null};a.prototype._notify=function(c,d){};a.prototype._getModel=function(c){return null}})();(function(){var a=sap.viz.container;a.declare("sap.viz.container.common.mvc.Model");var b=sap.viz.container.common.mvc.Model=function(){this.__className="sap.viz.container.common.mvc.Model"}})();(function(){var a=sap.viz.container;a.declare("sap.viz.container.common.mvc.Notification");a.require("sap.viz.container.common.events.Event");var b=sap.viz.container.common.mvc.Notification=function(c,e,d){b.superclass.constructor.apply(this,arguments);this.__className="sap.viz.container.common.mvc.Notification";this._type=c;this._target=null;this._source=e;this.data=d};a.extend(sap.viz.container.common.mvc.Notification,sap.viz.container.common.events.Event);b.prototype.source=function(){return this._source}})();(function(){var a=sap.viz.container;a.declare("sap.viz.container.common.mvc.View");a.require("sap.viz.container.common.events.EventDispatcher");var b=sap.viz.container.common.mvc.View=function(c){b.superclass.constructor.apply(this,arguments);this.__className="sap.viz.container.common.mvc.View";this._dom=c};b.prototype.dom=function(){return this._dom};a.extend(sap.viz.container.common.mvc.View,sap.viz.container.common.events.EventDispatcher)})();(function(){var a=sap.viz.container;a.declare("sap.viz.container.common.mvc.ViewMediator");var b=sap.viz.container.common.mvc.ViewMediator=function(){this.__className="sap.viz.container.common.mvc.ViewMediator"};b.prototype.init=function(){};b.prototype._getModel=function(c){return null};b.prototype._subscribe=function(c,d){};b.prototype._unsubscribe=function(c,d){};b.prototype._action=function(c,d){return null}})();(function(){var b=sap.viz.container;b.declare("sap.viz.container.common.mvc.App");b.require("sap.viz.container.common.events.Event");b.require("sap.viz.container.common.utils");b.require("sap.viz.container.common.events.EventDispatcher");b.require("sap.viz.container.common.mvc.Action");b.require("sap.viz.container.common.mvc.Model");b.require("sap.viz.container.common.mvc.Notification");b.require("sap.viz.container.common.mvc.View");b.require("sap.viz.container.common.mvc.ViewMediator");var e=sap.viz.container.common.mvc;var a=sap.viz.container.common.utils;var d=sap.viz.container.common.events.EventDispatcher;var c=sap.viz.container.common.mvc.App=function(){this.__className="sap.viz.container.common.mvc.App";var m={};var j={};var p={};var k=new d();var g=function(r,t){if(a.isString(r)&&k.hasEventListeners(r)){var s=null;for(var q in m){if(m[q]===this){s=q;break}}var u=new e.Notification(r,s,t);k.dispatchEvent(u)}};var o=function(q){if(a.isString(q)){return j[q]}return null};var l=function(q){if(a.isString(q)){return j[q]}return null};var n=function(q,r){if(a.isString(q)&&a.isFunction(r)){k.addEventListener(q,r)}};var f=function(q,r){if(a.isString(q)&&a.isFunction(r)){k.removeEventListener(q,r)}};var h=function(s,t){if(a.isString(s)){var v=m[s];if(a.isFunction(v)){var q=null;var r=new v();if(r instanceof e.Action){r._notify=g;r._getModel=o;try{q=r.execute.call(r,t)}catch(u){console.log(u)}finally{delete r._notify;delete r._getModel}}r=null;return q}}return null};this.registerAction=function(q,r){if(a.isString(q)&&a.isFunction(r)){m[q]=r}};this.unregisterAction=function(q){if(a.isString(q)){var r=m[q];if(a.isFunction(r)){delete m[q]}}};this.registerModel=function(r,q){if(a.isString(r)&&q instanceof e.Model){j[r]=q}};this.unregisterModel=function(q){if(a.isString(q)){delete j[q]}};this.registerViewMediator=function(q,r){if(a.isString(q)&&r instanceof e.ViewMediator){p[q]=r;r._getModel=l;r._subscribe=n;r._unsubscribe=f;r._action=h;r.init()}};this.unregisterViewMediator=function(q){if(a.isString(q)){var r=p[q];if(r instanceof e.ViewMediator){delete p[q];delete r._getModel;delete r._subscribe;delete r._unsubscribe;delete r._action}}}}})();(function(){var b=sap.viz.container;b.declare("sap.viz.container.constants.UIConfig");var a=sap.viz.container.constants.UIConfig;a.DEFAULT={defaultVizType:"viz/line",modules:[{type:"vizContainer/VizSwitchBar",visible:true,types:{groups:[{types:[{id:"viz/column"},{id:"viz/stacked_column"},{id:"viz/dual_column"},{id:"viz/3d_column",enabled:false}]},{types:[{id:"viz/line"},{id:"viz/area"},{id:"viz/combination"},{id:"viz/dual_line"},{id:"viz/dual_combination"}]},{types:[{id:"viz/pie"},{id:"viz/donut"},{id:"viz/pie_with_depth"}]},{types:[{id:"viz/geobubble"},{id:"viz/choropleth"},{id:"viz/geopie"}]},{types:[{id:"viz/scatter"},{id:"viz/bubble"},{id:"viz/scatter_matrix"}]},{types:[{id:"viz/treemap"},{id:"viz/heatmap"}]},{types:[{id:"viz/table"}]},{types:[{id:"viz/radar"},{id:"viz/boxplot"},{id:"viz/waterfall"},{id:"viz/tagcloud"}]}]}},{type:"vizContainer/Setting",visible:true,menu:{"viz/column":["legend","direction","datalabels"],"viz/stacked_column":["legend","direction","stacking","datalabels"],"viz/dual_column":["legend","direction","datalabels"],"viz/3d_column":["legend","direction","datalabels"],"viz/line":["legend","direction","datalabels"],"viz/area":["legend","direction","stacking","datalabels"],"viz/combination":["legend","direction","datalabels"],"viz/dual_line":["legend","direction","datalabels"],"viz/dual_combination":["legend","direction","datalabels"],"viz/pie":["legend","datalabels"],"viz/donut":["legend","datalabels"],"viz/pie_with_depth":["legend","datalabels"],"viz/geobubble":["legend","datalabels"],"viz/choropleth":["legend","datalabels"],"viz/geopie":["legend","datalabels"],"viz/scatter":["legend","datalabels"],"viz/bubble":["legend","datalabels"],"viz/scatter_matrix":["legend","datalabels"],"viz/treemap":["legend"],"viz/heatmap":["legend","datalabels"],"viz/table":["datalabels"],"viz/radar":["legend","datalabels"],"viz/boxplot":["legend","direction","datalabels"],"viz/waterfall":["direction","datalabels"],"viz/tagcloud":["legend"]}},{type:"vizContainer/TitleEditor",visible:true,enableRestore:true},{type:"vizContainer/DataInteractionPanel",enabled:true},{id:"viz-customize-checkbox1",type:"vizContainer/CheckBox",label:"Use Global Filters",checked:true,clickEventType:"viz-customize-checkbox_click"}]};var c={analysisAxis:[{index:1,data:[{type:"Dimension",name:"Country",values:["China","China","USA","USA","Canada","Canada"]},{type:"Dimension",name:"Year",values:["2001","2002","2001","2002","2001","2002"]}]},{index:2,data:[{type:"Dimension",name:"Product",values:["Car","Truck","Motorcycle"]}]}],measureValuesGroup:[{index:1,data:[{type:"Measure",name:"Profit",values:[[25,136,58,128,58,24],[159,147,149,269,38,97],[129,47,49,69,33,47]]}]},{index:2,data:[{type:"Measure",name:"Cost",values:[[59,47,90,90,58,8],[49,69,32,12,43,83],[18,97,2,56,3,3]]}]}]}})();(function(){var b=sap.viz.container;b.declare("sap.viz.container.constants.AppConst");var a=sap.viz.container.constants.AppConst;a.MODEL_APP="MODEL_APP";a.MODEL_VIZ_SWITCH_BAR="MODEL_VIZ_SWITCH_BAR";a.MODEL_WIDGETS="MODEL_WIDGETS";a.MODEL_CONTEXT_MENU="MODEL_CONTEXT_MENU";a.MODEL_TITLE_EDITOR="MODEL_TITLE_EDITOR";a.MODEL_VIZ_CUSTOMIZED_CONTROL="MODEL_VIZ_CUSTOMIZED_CONTROL";a.MEDIATOR_API="MEDIATOR_API";a.MEDIATOR_VIZ_CONTAINER="MEDIATOR_VIZ_CONTAINER";a.MEDIATOR_CANVAS="MEDIATOR_CANVAS";a.MEDIATOR_CHART="MEDIATOR_CHART";a.MEDIATOR_VIZ_SWITCH_BAR="MEDIATOR_VIZ_SWITCH_BAR";a.MEDIATOR_CONTEXT_MENU="MEDIATOR_CONTEXT_MENU";a.MEDIATOR_TITLE_EDITOR="MEDIATOR_TITLE_EDITOR";a.MEDIATOR_MORPHING="MEDIATOR_MORPHING";a.MEDIATOR_VIZ_CUSTOMIZED_VIEW="MEDIATOR_VIZ_CUSTOMIZED_VIEW";a.ACTION_BOOTSTRAP="ACTION_BOOTSTRAP";a.ACTION_NOTIFY_EXTERNAL_EVENT="ACTION_NOTIFY_EXTERNAL_EVENT";a.ACTION_CHANGE_VIZ_TYPE="ACTION_CHANGE_VIZ_TYPE";a.ACTION_CHANGE_CONTEXT_MENU="ACTION_CHANGE_CONTEXT_MENU";a.ACTION_CHANGE_SELECTED_DATA="ACTION_CHANGE_SELECTED_DATA";a.ACTION_API_CHANGE_VIZ="ACTION_API_CHANGE_VIZ";a.ACTION_POPUP_CONTEXT_MENU="ACTION_POPUP_CONTEXT_MENU";a.ACTION_PRESS_FILTER_MENU_BUTTON="ACTION_PRESS_FILTER_MENU_BUTTON";a.NOTIFICATION_NOTIFY_EXTERNAL_REQUESTED="NOTIFICATION_NOTIFY_EXTERNAL_REQUESTED";a.NOTIFICATION_BOOTSTRAP_COMPLETED="NOTIFICATION_BOOTSTRAP_COMPLETED";a.NOTIFICATION_VIZ_TYPE_CHANGED="NOTIFICATION_VIZ_TYPE_CHANGED";a.NOTIFICATION_VIZ_LEGEND_CHANGED="NOTIFICATION_VIZ_LEGEND_CHANGED";a.NOTIFICATION_VIZ_DATALABELS_CHANGED="NOTIFICATION_VIZ_DATALABELS_CHANGED";a.NOTIFICATION_VIZ_CONTEXT_CHANGED="NOTIFICATION_VIZ_CONTEXT_CHANGED";a.NOTIFICATION_SELECTED_DATA_CHANGED="NOTIFICATION_SELECTED_DATA_CHANGED";a.NOTIFICATION_VIZ_CHANGED="NOTIFICATION_VIZ_CHANGED";a.NOTIFICATION_CONTEXT_MENU_POPUPED="NOTIFICATION_CONTEXT_MENU_POPUPED"})();(function(){var a=sap.viz.container;a.declare("sap.viz.container.constants.ChartConst");var b=sap.viz.container.constants.ChartConst;b.TYPE_COLUMN="viz/column";b.TYPE_STACKED_COLUMN="viz/stacked_column";b.TYPE_DUAL_COLUMN="viz/dual_column";b.TYPE_3D_COLUMN="viz/3d_column";b.TYPE_LINE="viz/line";b.TYPE_AREA="viz/area";b.TYPE_COMBINATION="viz/combination";b.TYPE_DUAL_LINE="viz/dual_line";b.TYPE_DUAL_COMBINATION="viz/dual_combination";b.TYPE_PIE="viz/pie";b.TYPE_DONUT="viz/donut";b.TYPE_PIE_WITH_DEPTH="viz/pie_with_depth";b.TYPE_GEO_BUBBLE="viz/geobubble";b.TYPE_GEO_CHOROPLETH="viz/choropleth";b.TYPE_GEO_PIE="viz/geopie";b.TYPE_SCATTER="viz/scatter";b.TYPE_BUBBLE="viz/bubble";b.TYPE_SCATTER_MATRIX="viz/scatter_matrix";b.TYPE_HEATMAP="viz/heatmap";b.TYPE_TREEMAP="viz/treemap";b.TYPE_TABLE="viz/table";b.TYPE_RADAR="viz/radar";b.TYPE_BOXPLOT="viz/boxplot";b.TYPE_WATERFALL="viz/waterfall";b.TYPE_TAG_CLOUD="viz/tagcloud";b.DIRECTION_HORIZONTAL="horizontal";b.DIRECTION_VERTICAL="vertical";b.STACKING_FULL="full";b.STACKING_NORMAL="normal";b.TYPE_BAR="viz/bar";b.TYPE_STACKED_BAR="viz/stacked_bar";b.TYPE_100_STACKED_COLUMN="viz/100_stacked_column";b.TYPE_100_STACKED_BAR="viz/100_stacked_bar";b.TYPE_DUAL_BAR="viz/dual_bar";b.TYPE_3D_BAR="viz/3d_bar";b.TYPE_HORIZONTAL_LINE="viz/horizontal_line";b.TYPE_HORIZONTAL_AREA="viz/horizontal_area";b.TYPE_100_AREA="viz/100_area";b.TYPE_100_HORIZONTAL_AREA="viz/100_horizontal_area";b.TYPE_HORIZONTAL_COMBINATION="viz/horizontal_combination";b.TYPE_DUAL_HORIZONTAL_LINE="viz/dual_horizontal_line";b.TYPE_DUAL_HORIZONTAL_COMBINATION="viz/dual_horizontal_combination";b.TYPE_HORIZONTAL_BOXPLOT="viz/horizontal_boxplot";b.TYPE_HORIZONTAL_WATERFALL="viz/horizontal_waterfall"})();(function(){var b=sap.viz.container;b.declare("sap.viz.container.constants.CSSConst");var a=sap.viz.container.constants.CSSConst;a.PREFIX="vizContainer-"})();(function(){var b=sap.viz.container;b.declare("sap.viz.container.constants.MenuItemConst");var a=sap.viz.container.constants.MenuItemConst;a.DEFAULT={icon:"./assets/contextmenu/uncheck.png"};a.LEGEND={name:"legend",text:"Show Legend",icon:{show:"./assets/contextmenu/check.png",hide:"./assets/contextmenu/uncheck.png"},supportType:{"viz/column":true,"viz/stacked_column":true,"viz/dual_column":true,"viz/3d_column":true,"viz/line":true,"viz/area":true,"viz/combination":true,"viz/dual_line":true,"viz/dual_combination":true,"viz/pie":true,"viz/donut":true,"viz/pie_with_depth":true,"viz/geobubble":true,"viz/choropleth":true,"viz/geopie":true,"viz/scatter":true,"viz/bubble":true,"viz/scatter_matrix":true,"viz/treemap":true,"viz/heatmap":true,"viz/radar":true,"viz/boxplot":true,"viz/tagcloud":true}};a.DATALABELS={name:"datalabels",text:"Show Data Labels",icon:{show:"./assets/contextmenu/check.png",hide:"./assets/contextmenu/uncheck.png"},supportType:{"viz/column":true,"viz/stacked_column":true,"viz/dual_column":true,"viz/3d_column":true,"viz/line":true,"viz/area":true,"viz/combination":true,"viz/dual_line":true,"viz/dual_combination":true,"viz/pie":true,"viz/donut":true,"viz/pie_with_depth":true,"viz/geobubble":true,"viz/choropleth":true,"viz/geopie":true,"viz/scatter":true,"viz/bubble":true,"viz/scatter_matrix":true,"viz/heatmap":true,"viz/table":true,"viz/radar":true,"viz/boxplot":true,"viz/waterfall":true}};a.DIRECTION={name:"direction",text:{horizontal:"Vertical",vertical:"Horizontal"},icon:{"viz/column":{vertical:"./assets/contextmenu/column_horizontal.png",horizontal:"./assets/contextmenu/column_vertical.png"},"viz/stacked_column":{vertical:{normal:"./assets/contextmenu/stacked_column_horizontal.png",full:"./assets/contextmenu/stacked_column_horizontal_full.png"},horizontal:{normal:"./assets/contextmenu/stacked_column_vertical.png",full:"./assets/contextmenu/stacked_column_vertical_full.png"}},"viz/dual_column":{vertical:"./assets/contextmenu/dual_column_horizontal.png",horizontal:"./assets/contextmenu/dual_column_vertical.png"},"viz/3d_column":{vertical:"./assets/contextmenu/3d_column_horizontal.png",horizontal:"./assets/contextmenu/3d_column_vertical.png"},"viz/line":{vertical:"./assets/contextmenu/line_horizontal.png",horizontal:"./assets/contextmenu/line_vertical.png"},"viz/area":{vertical:{normal:"./assets/contextmenu/area_horizontal.png",full:"./assets/contextmenu/area_horizontal_full.png"},horizontal:{normal:"./assets/contextmenu/area_vertical.png",full:"./assets/contextmenu/area_vertical_full.png"}},"viz/combination":{vertical:"./assets/contextmenu/combination_horizontal.png",horizontal:"./assets/contextmenu/combination_vertical.png"},"viz/dual_line":{vertical:"./assets/contextmenu/dual_line_horizontal.png",horizontal:"./assets/contextmenu/dual_line_vertical.png"},"viz/dual_combination":{vertical:"./assets/contextmenu/dual_combination_horizontal.png",horizontal:"./assets/contextmenu/dual_combination_vertical.png"},"viz/boxplot":{vertical:"./assets/contextmenu/boxplot_horizontal.png",horizontal:"./assets/contextmenu/boxplot_vertical.png"},"viz/waterfall":{vertical:"./assets/contextmenu/waterfall_horizontal.png",horizontal:"./assets/contextmenu/waterfall_vertical.png"}},supportType:{"viz/column":true,"viz/stacked_column":true,"viz/dual_column":true,"viz/3d_column":true,"viz/line":true,"viz/area":true,"viz/combination":true,"viz/dual_line":true,"viz/dual_combination":true,"viz/boxplot":true,"viz/waterfall":true}};a.STACKING={name:"stacking",text:{full:"Normal Stacking",normal:"100% Stacking"},icon:{"viz/stacked_column":{normal:{vertical:"./assets/contextmenu/stacked_column_vertical_full.png",horizontal:"./assets/contextmenu/stacked_column_horizontal_full.png"},full:{vertical:"./assets/contextmenu/stacked_column_vertical.png",horizontal:"./assets/contextmenu/stacked_column_horizontal.png"}},"viz/area":{normal:{vertical:"./assets/contextmenu/area_vertical_full.png",horizontal:"./assets/contextmenu/area_horizontal_full.png"},full:{vertical:"./assets/contextmenu/area_vertical.png",horizontal:"./assets/contextmenu/area_horizontal.png"}}},supportType:{"viz/stacked_column":true,"viz/area":true}}})();(function(){var b=sap.viz.container;b.declare("sap.viz.container.constants.ModuleType");var a=sap.viz.container.constants.ModuleType;a.VIZ_SWITCH_BAR="vizContainer/VizSwitchBar";a.SETTING="vizContainer/Setting";a.TITLE_EDITOR="vizContainer/TitleEditor";a.DATA_INTERACTION_PANEL="vizContainer/DataInteractionPanel";a.CHECK_BOX="vizContainer/CheckBox";a.BUTTON="vizContainer/Button"})();(function(){var a=sap.viz.container;a.declare("sap.viz.container.constants.EventTypeConst");var b=sap.viz.container.constants.EventTypeConst;b.PRESS_FILTER_BUTTON="viz-filtermenu-filter_press";b.PRESS_EXCLUDE_BUTTON="viz-filtermenu-exclude_press";b.PRESS_DRILLDOWN_BUTTON="viz-filtermenu-drilldown_press";b.SELECT_SHOW_LEGEND="vc-showLegend";b.SELECT_SHOW_DATALABELS="vc-showDataLabels";b.SELECT_CHANGE_DIRECTION="vc-changeDirection";b.SELECT_CHANGE_STACKING="vc-changeStacking"})();(function(){var a=sap.viz.container;a.declare("sap.viz.container.utils.ChartTypeUtil");a.require("sap.viz.container.constants.ChartConst");var c=sap.viz.container.constants.ChartConst;var b=sap.viz.container.utils.ChartTypeUtil;b._MAPPING=(function(){var d={};var e=function(g,k,j,f){var h={vizType:k};if(j){h.vizDirection=j}if(f){h.vizStacking=f}d[g]=h};e(c.TYPE_BAR,c.TYPE_COLUMN,c.DIRECTION_HORIZONTAL);e(c.TYPE_COLUMN,c.TYPE_COLUMN,c.DIRECTION_VERTICAL);e(c.TYPE_STACKED_BAR,c.TYPE_STACKED_COLUMN,c.DIRECTION_HORIZONTAL,c.STACKING_NORMAL);e(c.TYPE_100_STACKED_BAR,c.TYPE_STACKED_COLUMN,c.DIRECTION_HORIZONTAL,c.STACKING_FULL);e(c.TYPE_STACKED_COLUMN,c.TYPE_STACKED_COLUMN,c.DIRECTION_VERTICAL,c.STACKING_NORMAL);e(c.TYPE_100_STACKED_COLUMN,c.TYPE_STACKED_COLUMN,c.DIRECTION_VERTICAL,c.STACKING_FULL);e(c.TYPE_DUAL_BAR,c.TYPE_DUAL_COLUMN,c.DIRECTION_HORIZONTAL);e(c.TYPE_DUAL_COLUMN,c.TYPE_DUAL_COLUMN,c.DIRECTION_VERTICAL);e(c.TYPE_3D_BAR,c.TYPE_3D_COLUMN,c.DIRECTION_HORIZONTAL);e(c.TYPE_3D_COLUMN,c.TYPE_3D_COLUMN,c.DIRECTION_VERTICAL);e(c.TYPE_HORIZONTAL_LINE,c.TYPE_LINE,c.DIRECTION_HORIZONTAL);e(c.TYPE_LINE,c.TYPE_LINE,c.DIRECTION_VERTICAL);e(c.TYPE_HORIZONTAL_AREA,c.TYPE_AREA,c.DIRECTION_HORIZONTAL,c.STACKING_NORMAL);e(c.TYPE_100_HORIZONTAL_AREA,c.TYPE_AREA,c.DIRECTION_HORIZONTAL,c.STACKING_FULL);e(c.TYPE_AREA,c.TYPE_AREA,c.DIRECTION_VERTICAL,c.STACKING_NORMAL);e(c.TYPE_100_AREA,c.TYPE_AREA,c.DIRECTION_VERTICAL,c.STACKING_FULL);e(c.TYPE_HORIZONTAL_COMBINATION,c.TYPE_COMBINATION,c.DIRECTION_HORIZONTAL);e(c.TYPE_COMBINATION,c.TYPE_COMBINATION,c.DIRECTION_VERTICAL);e(c.TYPE_DUAL_HORIZONTAL_LINE,c.TYPE_DUAL_LINE,c.DIRECTION_HORIZONTAL);e(c.TYPE_DUAL_LINE,c.TYPE_DUAL_LINE,c.DIRECTION_VERTICAL);e(c.TYPE_DUAL_HORIZONTAL_COMBINATION,c.TYPE_DUAL_COMBINATION,c.DIRECTION_HORIZONTAL);e(c.TYPE_DUAL_COMBINATION,c.TYPE_DUAL_COMBINATION,c.DIRECTION_VERTICAL);e(c.TYPE_HORIZONTAL_BOXPLOT,c.TYPE_BOXPLOT,c.DIRECTION_HORIZONTAL);e(c.TYPE_BOXPLOT,c.TYPE_BOXPLOT,c.DIRECTION_VERTICAL);e(c.TYPE_HORIZONTAL_WATERFALL,c.TYPE_WATERFALL,c.DIRECTION_HORIZONTAL);e(c.TYPE_WATERFALL,c.TYPE_WATERFALL,c.DIRECTION_VERTICAL);return d})();b.toVizProperties=function(d){var e=b._MAPPING[d];if(!e){e={vizType:d}}return e};b.fromVizProperties=function(h,g,d){for(var e in b._MAPPING){var f=b._MAPPING[e];if(f.vizType===h&&(!f.vizDirection||f.vizDirection===g)&&(!f.vizStacking||f.vizStacking===d)){return e}}return h}})();(function(c){var b=sap.viz.container;b.declare("sap.viz.container.models.vo.ChartObject");var a=sap.viz.container.models.vo.ChartObject=function(d){this.__className="sap.viz.container.models.ChartObject";this._type=d.type;this._data=d.data;this._style=d.style;this._options=d.options;this._feeding=d.feeding;this._validatedData=d.data;this.numSelectedData=0;this.selectedData=null};a.prototype.type=function(d){if(arguments.length>0){if(d!=this._type){this._type=d}this._validateProperties();return this}else{return this._type}};a.prototype.data=function(d){if(arguments.length>0){if(d!=this._data){this._data=d}this._validateProperties();return this}else{return this._validatedData}};a.prototype.options=function(d){if(arguments.length>0){if(d!=this._options){this._options=d}return this}else{return this._options}};a.prototype.style=function(d){if(arguments.length>0){if(d!=this._style){this._style=d}return this}else{return this._style}};a.prototype.feeding=function(d){if(arguments.length>0){if(d!=this._feeding){this._feeding=d}return this}else{return this._feeding}};a.prototype._validateProperties=function(){this._validatedData=this._data}})(jQuery);(function(){var b=sap.viz.container;b.declare("sap.viz.container.models.VizSwitchBarModel");var a=sap.viz.container.models.VizSwitchBarModel=function(){this.vizTypeGroups=null;this.selectedVizType=null;this._configuration=null;this._resourceMapping=null;this._initResourceMapping()};b.extend(a,b.common.mvc.Model);a.prototype.configuration=function(c){if(arguments.length>0){this._configuration=c;this._parseConfiguration();return this}else{return this._configuration}};a.prototype._parseConfiguration=function(){try{var c=JSON.parse(JSON.stringify(this._configuration.types.groups));for(var k=0;k<c.length;k++){var m=c[k];var h=m.types;for(var e=0;e<h.length;e++){var f=h[e];var l=this._resourceMapping[f.id];if(l){f.text=l.text;f.icon=l.icon}else{if(console){console.log("Invalid type: "+f.id)}}}}this.vizTypeGroups=c}catch(d){if(console){console.log("Invalid config format")}}};a.prototype._initResourceMapping=function(){var c=jQuery.sap.resources({url:"resources/i18n.properties",locale:sap.ui.getCore().getConfiguration().getLanguage()});this._resourceMapping={"viz/column":{text:c.getText("VIZ_COLUMN_TEXT"),icon:"./assets/navigator/chart_bar_column_24x24.png"},"viz/stacked_column":{text:c.getText("VIZ_STACKED_COLUMN_TEXT"),icon:"./assets/navigator/chart_stacked_column_24x24.png"},"viz/dual_column":{text:c.getText("VIZ_DUAL_COLUMN_TEXT"),icon:"./assets/navigator/chart_dualvalueaxescolumn_24x24.png"},"viz/3d_column":{text:c.getText("VIZ_3D_COLUMN_TEXT"),icon:"./assets/navigator/chart_3dcolumn_24x24.png"},"viz/line":{text:c.getText("VIZ_LINE_TEXT"),icon:"./assets/navigator/chart_line_24x24.png"},"viz/area":{text:c.getText("VIZ_AREA_TEXT"),icon:"./assets/navigator/chart_area_24x24.png"},"viz/combination":{text:c.getText("VIZ_COMBINATION_TEXT"),icon:"./assets/navigator/chart_dualvalueaxesline_24x24.png"},"viz/dual_line":{text:c.getText("VIZ_DUAL_LINE_TEXT"),icon:"./assets/navigator/chart_comb_column_line_24x24.png"},"viz/dual_combination":{text:c.getText("VIZ_DUAL_COMBINATION_TEXT"),icon:"./assets/navigator/chart_com_columnlinedualaxes_24x24.png"},"viz/pie":{text:c.getText("VIZ_PIE_TEXT"),icon:"./assets/navigator/chart_pie_24x24.png"},"viz/donut":{text:c.getText("VIZ_DONUT_TEXT"),icon:"./assets/navigator/chart_donut_24x24.png"},"viz/pie_with_depth":{text:c.getText("VIZ_PIE_WITH_DEPTH_TEXT"),icon:"./assets/navigator/chart_pie_3d_24x24.png"},"viz/geobubble":{text:c.getText("VIZ_GEOBUBBLE_TEXT"),icon:"./assets/navigator/chart_geomap_bubble_24x24.png"},"viz/choropleth":{text:c.getText("VIZ_CHOROPLETH_TEXT"),icon:"./assets/navigator/chart_geomap_choropleth_24x24.png"},"viz/geopie":{text:c.getText("VIZ_GEOPIE_TEXT"),icon:"./assets/navigator/chart_geomap_pie_24x24.png"},"viz/scatter":{text:c.getText("VIZ_SCATTER_TEXT"),icon:"./assets/navigator/chart_scatter_24x24.png"},"viz/bubble":{text:c.getText("VIZ_BUBBLE_TEXT"),icon:"./assets/navigator/chart_bubble_24x24.png"},"viz/scatter_matrix":{text:c.getText("VIZ_SCATTER_MATRIX_TEXT"),icon:"./assets/navigator/chart_scatter_trellis_24x24.png"},"viz/treemap":{text:c.getText("VIZ_TREEMAP_TEXT"),icon:"./assets/navigator/chart_treemap_24x24.png"},"viz/heatmap":{text:c.getText("VIZ_HEATMAP_TEXT"),icon:"./assets/navigator/chart_heatmap_24x24.png"},"viz/table":{text:c.getText("VIZ_TABLE_TEXT"),icon:"./assets/navigator/chart_pivot_table_24x24.png"},"viz/radar":{text:c.getText("VIZ_RADAR_TEXT"),icon:"./assets/navigator/chart_radar_24x24.png"},"viz/boxplot":{text:c.getText("VIZ_BOXPLOT_TEXT"),icon:"./assets/navigator/chart_boxplot_24x24.png"},"viz/waterfall":{text:c.getText("VIZ_WATERFALL_TEXT"),icon:"./assets/navigator/chart_waterfall_24x24.png"},"viz/tagcloud":{text:c.getText("VIZ_TAGCLOUD_TEXT"),icon:"./assets/navigator/chart_treemap_24x24.png"}}}})();(function(c){var b=sap.viz.container;b.declare("sap.viz.container.models.WidgetsModel");var a=sap.viz.container.models.WidgetsModel=function(){a.superclass.constructor.apply(this,arguments);this.__className="sap.viz.container.models.WidgetsModel";this._widgets={};this._currentSelection=null};b.extend(sap.viz.container.models.WidgetsModel,b.common.mvc.Model);a.prototype.addWidget=function(e,d){this._widgets[e]=d;this._currentSelection=e};a.prototype.getSelectedWidget=function(){return this._currentSelection?this._widgets[this._currentSelection]:null};a.prototype.getSelectedWidgetId=function(){return this._currentSelection}})(jQuery);(function(){var b=sap.viz.container;b.declare("sap.viz.container.models.ContextMenuModel");b.require("sap.viz.container.constants.ChartConst");var c=sap.viz.container.constants.ChartConst;var a=sap.viz.container.models.ContextMenuModel=function(){this._configuration=null;this.legend=true;this.datalabels=false;this.direction=c.DIRECTION_VERTICAL;this.stacking=c.STACKING_NORMAL};b.extend(a,b.common.mvc.Model);a.prototype.configuration=function(d){if(arguments.length>0){this._configuration=d;return this}else{return this._configuration}}})();(function(){var b=sap.viz.container;b.declare("sap.viz.container.models.TitleEditorModel");var a=sap.viz.container.models.TitleEditorModel=function(){this._configuration=[]};a.prototype.configuration=function(c){if(arguments.length>0){this._configuration=c;return this}else{return this._configuration}};b.extend(a,b.common.mvc.Model)})();(function(){var b=sap.viz.container;b.declare("sap.viz.container.models.VizCustomizedModel");var a=sap.viz.container.models.VizCustomizedModel=function(){this._configuration=[]};a.prototype.configuration=function(c){if(arguments.length>0){this._configuration.push(c);return this}else{return this._configuration}};b.extend(a,b.common.mvc.Model)})();(function(c){var b=sap.viz.container;b.declare("sap.viz.container.models.AppModel");var a=sap.viz.container.models.AppModel=function(){a.superclass.constructor.apply(this,arguments);this.__className="sap.viz.container.models.AppModel";this._configuration=null;this.defaultVizType=null};b.extend(sap.viz.container.models.AppModel,b.common.mvc.Model);a.prototype.configuration=function(d){if(arguments.length>0){this._configuration=d;this.defaultVizType=this._configuration.defaultVizType;return this}else{return this._configuration}}})(jQuery);(function(){var e=sap.viz.container;e.declare("sap.viz.container.views.actions.BootstrapAction");e.require("sap.viz.container.constants.AppConst");e.require("sap.viz.container.constants.ModuleType");e.require("sap.viz.container.common.utils");var c=sap.viz.container.constants.AppConst;var b=sap.viz.container.constants.ModuleType;var a=sap.viz.container.common.utils;var d=sap.viz.container.views.actions.BootstrapAction=function(){d.superclass.constructor.apply(this,arguments)};e.extend(d,e.common.mvc.Action);d.prototype.execute=function(l){d.superclass.execute.apply(this,arguments);var h=l.uiConfig;var o=this._getModel(c.MODEL_APP);o.configuration(h);var m=this._getModel(c.MODEL_VIZ_SWITCH_BAR);var n=this._getModel(c.MODEL_CONTEXT_MENU);var j=this._getModel(c.MODEL_TITLE_EDITOR);var g=this._getModel(c.MODEL_VIZ_CUSTOMIZED_CONTROL);if(a.isArray(h.modules)){for(var k=0;k<h.modules.length;k++){var f=h.modules[k];if(f.type===b.VIZ_SWITCH_BAR){m.configuration(f)}else{if(f.type===b.SETTING){n.configuration(f)}else{if(f.type===b.TITLE_EDITOR){j.configuration(f)}else{if(f.type===b.CHECK_BOX||f.type===b.BUTTON){g.configuration(f)}}}}}}this._notify(c.NOTIFICATION_BOOTSTRAP_COMPLETED)}})();(function(){var d=sap.viz.container;d.declare("sap.viz.container.views.actions.api.NotifyExternalAction");d.require("sap.viz.container.constants.AppConst");d.require("sap.viz.container.constants.ModuleType");d.require("sap.viz.container.common.utils");var c=sap.viz.container.constants.AppConst;var b=sap.viz.container.constants.ModuleType;var a=sap.viz.container.common.utils;var e=sap.viz.container.views.actions.api.NotifyExternalAction=function(){e.superclass.constructor.apply(this,arguments)};d.extend(e,d.common.mvc.Action);e.prototype.execute=function(h){e.superclass.execute.apply(this,arguments);var g=h.eventType;var f=h.args;this._notify(c.NOTIFICATION_NOTIFY_EXTERNAL_REQUESTED,{eventType:g,args:f})}})();(function(){var b=sap.viz.container;b.declare("sap.viz.container.views.actions.ChangeVizTypeAction");b.require("sap.viz.container.constants.AppConst");b.require("sap.viz.container.utils.ChartTypeUtil");var a=sap.viz.container.constants.AppConst;var d=sap.viz.container.utils.ChartTypeUtil;var c=sap.viz.container.views.actions.ChangeVizTypeAction=function(){c.superclass.constructor.apply(this,arguments)};b.extend(c,b.common.mvc.Action);c.prototype.execute=function(j){c.superclass.execute.apply(this,arguments);var g=this._getModel(a.MODEL_VIZ_SWITCH_BAR);var h=this._getModel(a.MODEL_CONTEXT_MENU);var f=this._getModel(a.MODEL_WIDGETS);var e=j.type;g.selectedVizType=e;var k=f.getSelectedWidget();k.type(d.fromVizProperties(g.selectedVizType,h.direction,h.stacking));this._notify(a.NOTIFICATION_VIZ_TYPE_CHANGED)}})();(function(){var c=sap.viz.container;c.declare("sap.viz.container.views.actions.ChangeContextMenuAction");c.require("sap.viz.container.constants.AppConst");c.require("sap.viz.container.constants.ChartConst");c.require("sap.viz.container.constants.EventTypeConst");c.require("sap.viz.container.utils.ChartTypeUtil");var b=sap.viz.container.constants.AppConst;var e=sap.viz.container.constants.ChartConst;var f=sap.viz.container.constants.EventTypeConst;var d=sap.viz.container.utils.ChartTypeUtil;var a=sap.viz.container.views.actions.ChangeContextMenuAction=function(){a.superclass.constructor.apply(this,arguments)};c.extend(a,c.common.mvc.Action);a.prototype.execute=function(l){a.superclass.execute.apply(this,arguments);var k=l;var j=this._getModel(b.MODEL_CONTEXT_MENU);var n=null;switch(k){case f.SELECT_SHOW_LEGEND:j.legend=!j.legend;n=b.NOTIFICATION_VIZ_LEGEND_CHANGED;break;case f.SELECT_SHOW_DATALABELS:j.datalabels=!j.datalabels;n=b.NOTIFICATION_VIZ_DATALABELS_CHANGED;break;case f.SELECT_CHANGE_DIRECTION:if(j.direction===e.DIRECTION_VERTICAL){j.direction=e.DIRECTION_HORIZONTAL}else{j.direction=e.DIRECTION_VERTICAL}n=b.NOTIFICATION_VIZ_CONTEXT_CHANGED;break;case f.SELECT_CHANGE_STACKING:if(j.stacking===e.STACKING_NORMAL){j.stacking=e.STACKING_FULL}else{j.stacking=e.STACKING_NORMAL}n=b.NOTIFICATION_VIZ_CONTEXT_CHANGED;break}var h=this._getModel(b.MODEL_VIZ_SWITCH_BAR);var g=this._getModel(b.MODEL_WIDGETS);var m=g.getSelectedWidget();m.type(d.fromVizProperties(h.selectedVizType,j.direction,j.stacking));this._notify(n)}})();(function(){var b=sap.viz.container;b.declare("sap.viz.container.views.actions.ChangeSelectedDataAction");b.require("sap.viz.container.constants.AppConst");var a=sap.viz.container.constants.AppConst;var c=sap.viz.container.views.actions.ChangeSelectedDataAction=function(){c.superclass.constructor.apply(this,arguments)};b.extend(c,b.common.mvc.Action);c.prototype.execute=function(f){c.superclass.execute.apply(this,arguments);var h=f.selectedData;var e=f.numSelectedData;var d=this._getModel(a.MODEL_WIDGETS);var g=d.getSelectedWidget();g.selectedData=h;if(!isNaN(e.total)){g.numSelectedData=e.total}else{g.numSelectedData+=e.offset}this._notify(a.NOTIFICATION_SELECTED_DATA_CHANGED)}})();(function(){var b=sap.viz.container;b.declare("sap.viz.container.views.actions.api.ChangeVizAction");b.require("sap.viz.container.constants.AppConst");b.require("sap.viz.container.utils.ChartTypeUtil");var a=sap.viz.container.constants.AppConst;var d=sap.viz.container.utils.ChartTypeUtil;var c=sap.viz.container.views.actions.api.ChangeVizAction=function(){c.superclass.constructor.apply(this,arguments)};b.extend(c,b.common.mvc.Action);c.prototype.execute=function(j){c.superclass.execute.apply(this,arguments);var g=j.options;if(g==null){return}var e=this._getModel(a.MODEL_WIDGETS);var k=e.getSelectedWidget();var h=this._getModel(a.MODEL_CONTEXT_MENU);if(g.type&&k.type()!==g.type){k.type(g.type);var l=d.toVizProperties(g.type);var f=this._getModel(a.MODEL_VIZ_SWITCH_BAR);f.selectedVizType=l.vizType;if(l.vizDirection){h.direction=l.vizDirection}if(l.vizStacking){h.stacking=l.vizStacking}}if(g.data){k.data(g.data)}if(g.feeding){k.feeding(g.feeding)}if(g.properties){k.options(g.properties);if(g.properties.legend){h.legend=g.properties.legend.visible!==false}if(g.properties.dataLabel){h.datalabels=g.properties.dataLabel.visible===true}}if(g.style){k.style(g.style)}this._notify(a.NOTIFICATION_VIZ_CHANGED)}})();(function(){var c=sap.viz.container;c.declare("sap.viz.container.views.actions.PopupContextMenuAction");c.require("sap.viz.container.constants.AppConst");var a=sap.viz.container.constants.AppConst;var b=sap.viz.container.views.actions.PopupContextMenuAction=function(){b.superclass.constructor.apply(this,arguments)};c.extend(b,c.common.mvc.Action);b.prototype.execute=function(d){b.superclass.execute.apply(this,arguments);this._notify(a.NOTIFICATION_CONTEXT_MENU_POPUPED,d)}})();(function(){var a=sap.viz.container;a.declare("sap.viz.container.views.events.UIEvent");a.require("sap.viz.container.common.events.Event");var b=sap.viz.container.views.events.UIEvent=function(c,e,d){b.superclass.constructor.apply(this,arguments)};a.extend(b,a.common.events.Event);b.RESIZE="resize"})();(function(){var a=sap.viz.container;a.declare("sap.viz.container.views.events.VizSwitcherEvent");a.require("sap.viz.container.common.events.Event");var b=sap.viz.container.views.events.VizSwitcherEvent=function(c,e,d){b.superclass.constructor.apply(this,arguments)};a.extend(b,a.common.events.Event);b.SELECT_VIZ_TYPE="selectVizType"})();(function(){var a=sap.viz.container;a.declare("sap.viz.container.views.events.VizSwitchBarEvent");a.require("sap.viz.container.common.events.Event");var b=sap.viz.container.views.events.VizSwitchBarEvent=function(c,e,d){b.superclass.constructor.apply(this,arguments)};a.extend(b,a.common.events.Event);b.SELECT_VIZ_TYPE="selectVizType"})();(function(){var b=sap.viz.container;b.declare("sap.viz.container.views.events.ContextMenuEvent");b.require("sap.viz.container.common.events.Event");var a=sap.viz.container.views.events.ContextMenuEvent=function(c,e,d){a.superclass.constructor.apply(this,arguments)};b.extend(a,b.common.events.Event);a.CHANGE_CONTEXT_MENU="changeContextMenu";a.POPUP_CONTEXT_MENU="popupContextMenu"})();(function(){var b=sap.viz.container;b.declare("sap.viz.container.views.events.CanvasEvent");b.require("sap.viz.container.common.events.Event");var a=sap.viz.container.views.events.CanvasEvent=function(c,e,d){a.superclass.constructor.apply(this,arguments)};b.extend(a,b.common.events.Event)})();(function(){var b=sap.viz.container;b.declare("sap.viz.container.views.events.ChartEvent");b.require("sap.viz.container.common.events.Event");var a=sap.viz.container.views.events.ChartEvent=function(c,e,d){a.superclass.constructor.apply(this,arguments)};b.extend(a,b.common.events.Event);a.CHANGED_SELECTED_DATA="changeSelectedData"})();(function(){var b=sap.viz.container;b.declare("sap.viz.container.views.events.VizCustomizedEvent");b.require("sap.viz.container.common.events.Event");var a=sap.viz.container.views.events.VizCustomizedEvent=function(c,e,d){a.superclass.constructor.apply(this,arguments)};b.extend(a,b.common.events.Event);a.CHANGE_CHECKBOX="changeCustomizedCheckBox";a.PRESS_BUTTON="pressCustomizedButton"})();(function(){var a=sap.viz.container;a.declare("sap.viz.container.views.events.FilterMenuEvent");a.require("sap.viz.container.common.events.Event");var b=sap.viz.container.views.events.FilterMenuEvent=function(c,d){b.superclass.constructor.apply(this,arguments)};a.extend(b,a.common.events.Event);b.PRESS_FILTER_MENU_BUTTON="pressFilterMenuButtonEvent"})();(function(){var b=sap.viz.container;b.declare("sap.viz.container.views.ui.ViewBase");b.require("sap.viz.container.views.events.UIEvent");var c=sap.viz.container.views.events.UIEvent;var a=sap.viz.container.views.ui.ViewBase=function(d){a.superclass.constructor.apply(this,arguments);this.__className="sap.viz.container.views.ui.ViewBase";this._ui5Instance=null;this._explicitWidth=null;this._explicitHeight=null;this._measuredWidth=0;this._measuredHeight=0};b.extend(sap.viz.container.views.ui.ViewBase,b.common.mvc.View);a.prototype.size=function(d){if(arguments.length>0){if(this._explicitWidth!==d.width||this._explicitHeight!==d.height){this._explicitWidth=d.width;this._explicitHeight=d.height;this._validateSize()}return this}else{return{width:this._explicitWidth!=null?this._explicitWidth:this._measuredWidth,height:this._explicitHeight!=null?this._explicitHeight:this._measuredHeight,}}};a.prototype._validateSize=function(){};a.prototype.ui5Instance=function(d){if(arguments.length>0){this._ui5Instance=d;if(this._ui5Instance){this._commitUI5Instance()}return this}else{return this._ui5Instance}};a.prototype._commitUI5Instance=function(f){var g=this;var e=this._ui5Instance.onAfterRendering;var d=function(){var j=this.$().outerWidth();var k=this.$().outerHeight();if(g._measuredWidth!==j||g._measuredHeight!==k){g._measuredWidth=j;g._measuredHeight=k;g.dispatchEvent(new c(c.RESIZE))}if(e){e.apply(this,arguments)}};this._ui5Instance.onAfterRendering=d}})();(function(c){var b=sap.viz.container;b.declare("sap.viz.container.views.ui.components.VizSwitcher");b.require("sap.viz.container.views.ui.ViewBase");b.require("sap.viz.container.views.events.VizSwitcherEvent");b.require("sap.viz.container.constants.CSSConst");var a=sap.viz.container.constants.CSSConst;var d=sap.viz.container.views.events.VizSwitcherEvent;var e=sap.viz.container.views.ui.components.VizSwitcher=function(f){var g=this;this._dataProvider=f;this._selectedVizType=null;this._selectedItem=null;this._selector=null;this._icon=null;this._arrow=null;this._createChildren();document.addEventListener("mousedown",function(h){g._documentMouseDownHandler(h)},true);this.ui5Instance(this._selector)};b.extend(e,b.views.ui.ViewBase);e.WIDTH=48;e.HEIGHT=36;e.prototype.selectedVizType=function(f){if(arguments.length>0){var g=this._selectedVizType!==f;this._selectedVizType=f;if(g){this._updateSelectedChartType()}return this}else{return this._selectedVizType}};e.prototype._createChildren=function(){var m=this;this._selector=new sap.ui.commons.layout.AbsoluteLayout({width:e.WIDTH+"px",height:e.HEIGHT+"px"});this._selector.addStyleClass(a.PREFIX+"VizSwitcher");this._selector.onAfterRendering=function(){this.$().bind("mouseover",function(){m._updateState("mouseover")}).bind("mouseout",function(){m._updateState("normal")})};var l=e.HEIGHT-5;var k=l;this._icon=new sap.ui.commons.layout.AbsoluteLayout({width:k+"px",height:l+"px"});var f=new sap.ui.commons.Image();f.addStyleClass(a.PREFIX+"interaction-image");f.setSrc(this._dataProvider.types[0].icon);f.setAlt(this._dataProvider.text);this._icon.addContent(f,{left:(k-24)/2+"px",top:(l-24)/2+"px"});this._selector.addContent(this._icon,{left:0+"px",top:0+"px"});m._icon.data("data",this._dataProvider.types[0]);this._icon.onAfterRendering=function(){this.$().bind("click",function(){m._select(m._icon.data("data"))})};var h=e.HEIGHT-5;var g=12;this._arrow=new sap.ui.commons.layout.AbsoluteLayout({width:g+"px",height:h+"px"});var j=new sap.ui.commons.Image();j.addStyleClass(a.PREFIX+"interaction-image");j.setSrc("./assets/navigator/dropDownArrow.png");j.setAlt(this._dataProvider.text);this._arrow.addContent(j,{left:(g-16)/2+"px",top:(h-16)/2+"px"});this._selector.addContent(this._arrow,{left:k+2+"px",top:0+"px"});this._arrow.onclick=function(){m._openMenu()};this._menu=this._createMenu(this._dataProvider);this._updateState("normal")};e.prototype._openMenu=function(){var g=sap.ui.core.Popup.Dock;var f=this._icon.getFocusDomRef();var h=this._icon.getDomRef();this._menu.open(false,f,g.BeginTop,g.BeginBottom,h)};e.prototype._updateState=function(f){this._icon.removeStyleClass(a.PREFIX+"VizSwitcher-icon-normal");this._icon.removeStyleClass(a.PREFIX+"VizSwitcher-icon-mouseover");this._icon.removeStyleClass(a.PREFIX+"VizSwitcher-icon-selected");this._arrow.removeStyleClass(a.PREFIX+"VizSwitcher-arrow-normal");this._arrow.removeStyleClass(a.PREFIX+"VizSwitcher-arrow-mouseover");if(f==="normal"){if(this._selectedItem){this._icon.addStyleClass(a.PREFIX+"VizSwitcher-icon-selected")}else{this._icon.addStyleClass(a.PREFIX+"VizSwitcher-icon-normal")}this._arrow.addStyleClass(a.PREFIX+"VizSwitcher-arrow-normal")}else{if(f==="mouseover"){if(this._selectedItem){this._icon.addStyleClass(a.PREFIX+"VizSwitcher-icon-selected")}else{this._icon.addStyleClass(a.PREFIX+"VizSwitcher-icon-mouseover")}this._arrow.addStyleClass(a.PREFIX+"VizSwitcher-arrow-mouseover")}}};e.prototype._createMenu=function(g){var h=new sap.ui.commons.Menu({tooltip:g.tooltip});if(g.types&&g.types.length){for(var f=0;f<g.types.length;f++){h.addItem(this._createMenuItem(g.types[f]))}}return h};e.prototype._createMenuItem=function(g){var h=this;var f=new sap.ui.commons.MenuItem({text:g.text,icon:g.icon,enabled:g.enabled});f.attachSelect(function(k){var j=k.getParameter("item");h._select(j.data("data"))});f.data("data",g);return f};e.prototype._select=function(f){if(f&&f.id){this._icon.data("data",f);this.dispatchEvent(new d(d.SELECT_VIZ_TYPE,this,{type:f.id}))}else{alert("Under construction, Please select other chart types! (dev);")}};e.prototype._updateSelectedChartType=function(){if(!this._dataProvider||!this._dataProvider.types){return}this._selectedItem=null;for(var g=0;g<this._dataProvider.types.length;g++){var h=this._dataProvider.types[g];if(h.id&&h.id===this._selectedVizType){this._selectedItem=h;var f=this._icon.getContent()[0];f.setSrc(this._selectedItem.icon);break}}this._updateState("normal")};e.prototype._documentMouseDownHandler=function(f){if(this._menu&&this._menu.getDomRef()&&!c.contains(this._menu.getDomRef(),f.target)){this._menu.close()}}})(jQuery);(function(){var b=sap.viz.container;b.declare("sap.viz.container.views.ui.VizSwitchBar");b.require("sap.viz.container.views.ui.ViewBase");b.require("sap.viz.container.views.ui.components.VizSwitcher");b.require("sap.viz.container.views.events.VizSwitcherEvent");b.require("sap.viz.container.views.events.VizSwitchBarEvent");var e=sap.viz.container.views.ui.components.VizSwitcher;var d=sap.viz.container.views.events.VizSwitcherEvent;var c=sap.viz.container.views.events.VizSwitchBarEvent;var a=sap.viz.container.views.ui.VizSwitchBar=function(f){a.superclass.constructor.apply(this,arguments);this._selectors=null;this._layout=new sap.ui.commons.layout.HorizontalLayout();this._layout.placeAt(f);this._dataProvider=null;this._selectedVizType=null;this.ui5Instance(this._layout)};b.extend(a,b.views.ui.ViewBase);a.prototype.dataProvider=function(f){if(arguments.length>0){this._dataProvider=f;this._updateDataProvider();this._updateSelectedVizType();return this}else{return this._dataProvider}};a.prototype.selectedVizType=function(f){if(arguments.length>0){var g=this._selectedVizType!==f;this._selectedVizType=f;if(g){this._updateSelectedVizType()}return this}else{return this._selectedVizType}};a.prototype._updateDataProvider=function(){this._layout.destroyContent();this._selectors=[];var g=this._dataProvider;var j=this;for(var h=0;h<g.length;h++){var f=new e(g[h]);f.addEventListener(d.SELECT_VIZ_TYPE,function(k){j.dispatchEvent(new c(c.SELECT_VIZ_TYPE,this,k.data))});this._selectors[h]=f;this._layout.addContent(f.ui5Instance())}};a.prototype._updateSelectedVizType=function(){if(!this._selectors){return}for(var g=0;g<this._selectors.length;g++){var f=this._selectors[g];f.selectedVizType(this._selectedVizType)}}})();(function(d){var b=sap.viz.container;b.declare("sap.viz.container.views.ui.TitleEditor");b.require("sap.viz.container.constants.CSSConst");var a=sap.viz.container.constants.CSSConst;var c=sap.viz.container.views.ui.TitleEditor=function(e){c.superclass.constructor.apply(this,arguments);this.__className="sap.viz.container.views.ui.TitleEditor";this._container=null;this._textInput=null;this._restoreIcon=null;this._createChildren();this._measures=[];this._dimensions=[];this._customizeText="default title";this._editing=false;this._enableRestore=false;this.ui5Instance(this._container)};b.extend(c,b.views.ui.ViewBase);c.prototype._createChildren=function(){var e=this;this._container=new sap.ui.commons.layout.AbsoluteLayout();this._container.placeAt(this._dom);this._container.onAfterRendering=function(){this.$().bind("mouseover",function(){e._updateState("mouseover")}).bind("mouseout",function(){e._updateState("normal")}).bind("dblclick",function(){e.updateEditable(true)}).bind("focusout",function(){e._textInput.setValue(e._textInput.getLiveValue());e.updateEditable(false)})};this._textInput=new sap.ui.commons.TextField({value:"Profit By Year and Country",editable:false});this._textInput.addStyleClass(a.PREFIX+"titleEditor-text");this._container.addContent(this._textInput);this._restoreIcon=new sap.ui.commons.Image({src:"./assets/restore.png",visible:false});this._container.addContent(this._restoreIcon);this._updateState("normal")};c.prototype._updateState=function(e){this._container.removeStyleClass(a.PREFIX+"titleEditor-normal");this._container.removeStyleClass(a.PREFIX+"titleEditor-mouseover");this._container.removeStyleClass(a.PREFIX+"titleEditor-editing");this._textInput.removeStyleClass(a.PREFIX+"titleEditor-text-normal");this._textInput.removeStyleClass(a.PREFIX+"titleEditor-text-editing");if(e==="normal"){if(this._editing){this._container.addStyleClass(a.PREFIX+"titleEditor-editing");this._textInput.addStyleClass(a.PREFIX+"titleEditor-text-editing")}else{this._container.addStyleClass(a.PREFIX+"titleEditor-normal");this._textInput.addStyleClass(a.PREFIX+"titleEditor-text-normal")}this._restoreIcon.setVisible(false)}else{if(e==="mouseover"){if(this._editing){this._container.addStyleClass(a.PREFIX+"titleEditor-editing");this._textInput.addStyleClass(a.PREFIX+"titleEditor-text-editing")}else{this._container.addStyleClass(a.PREFIX+"titleEditor-mouseover");this._textInput.addStyleClass(a.PREFIX+"titleEditor-text-normal");if(this._enableRestore){this._restoreIcon.setVisible(true)}}}}};c.prototype.updateEditable=function(e){this._textInput.setEditable(e);this._editing=e;this._updateState("normal")};c.prototype._validateSize=function(){var g=this.size();var h=g.width;var e=g.height;var f=1;this._container.setWidth(h+"px");this._container.setHeight(e-f*2+"px");this._textInput.setWidth(h+"px");this._container.setPositionOfChild(this._textInput,{left:6+"px",top:(e-20)/2+"px"});this._container.setPositionOfChild(this._restoreIcon,{left:h-18+"px",top:(e-20)/2+"px"})};c.prototype.init=function(f,e){var g=this;if(f){if(e){this._enableRestore=true;this._restoreIcon.attachPress(function(h){g._textInput.setValue(g._customizeText);g.updateEditable(false)})}}else{this._container.setVisible(false)}}})(jQuery);(function(h){var e=sap.viz.container;e.declare("sap.viz.container.views.ui.Chart");e.require("sap.viz.container.constants.CSSConst");e.require("sap.viz.container.views.events.ChartEvent");e.require("sap.viz.container.views.ui.ViewBase");var b=sap.viz.container.constants.CSSConst;var d=sap.viz.env;var g=sap.viz.data.CrosstableDataset;var f=sap.viz.core;var c=sap.viz.container.views.events.ChartEvent;var a=sap.viz.container.views.ui.Chart=function(){a.superclass.constructor.apply(this,arguments);this.__className="sap.viz.container.views.ui.Chart";this._size={width:0,height:0};this._chart=null;this._ui5HTML=new sap.ui.core.HTML();this._ui5HTML.setContent("<div class='"+b.PREFIX+"chart'></div>");this._ui5HTMLCreated=false;this._pendingCreationArgs=null;this._ui5HTML.attachAfterRendering(this._created,this);this.ui5Instance(this._ui5HTML)};e.extend(sap.viz.container.views.ui.Chart,e.views.ui.ViewBase);a.prototype.size=function(j){if(j!=null){this._size=j}return this._size};a.prototype.updateChart=function(k,j){this._recreateChart(j)};a.prototype.showHideLegend=function(j){if(this._chart){this._chart.properties({legend:{visible:j}})}};a.prototype.showHideDataLabel=function(j){if(this._chart){this._chart.properties({dataLabel:{visible:j}})}};a.prototype._created=function(){this._ui5HTML.detachAfterRendering(this._created,this);this._ui5HTMLCreated=true;if(this._pendingCreationArgs){this._createChartInstance(this._pendingCreationArgs.data,this._pendingCreationArgs.type,this._pendingCreationArgs.options,this._pendingCreationArgs.feeding);this._pendingCreationArgs=null}};a.prototype._createChartInstance=function(p,m,k,l){if(this._ui5HTMLCreated){var n=h(this._ui5HTML.getDomRef());n.html("");n.css({width:this._size.width+"px",height:this._size.height+"px"});if(this._chart){this._chart.destroy()}if(p==null||p.analysisAxis==null||p.measureValuesGroup==null){return}var o=new g();o.setData(p);try{this._chart=f.createViz({type:m,data:o,container:n,options:k,dataFeeding:l});var q=this;this._chart.on("selectData",function(r){q.dispatchEvent(new c(c.CHANGED_SELECTED_DATA,this,{numSelectedData:{offset:r.data.length},selectedData:r.data}))});this._chart.on("deselectData",function(r){q.dispatchEvent(new c(c.CHANGED_SELECTED_DATA,this,{numSelectedData:{offset:r.data.length*-1},selectedData:r.data}))})}catch(j){console.log("Failed to create chart : "+j);this._chart=null}}else{this._pendingCreationArgs={data:p,type:m,options:k,feeding:l}}};a.prototype._recreateChart=function(j){if(j){this.dispatchEvent(new c(c.CHANGED_SELECTED_DATA,this,{numSelectedData:{total:0}}));this._createChartInstance(j.data(),j.type(),j.options(),j.feeding())}}})(jQuery);(function(g){var f=sap.viz.container;f.declare("sap.viz.container.views.ui.Canvas");f.require("sap.viz.container.constants.CSSConst");f.require("sap.viz.container.views.ui.ViewBase");f.require("sap.viz.container.views.ui.TitleEditor");f.require("sap.viz.container.views.ui.Chart");f.require("sap.viz.container.views.ui.MorphingLayer");f.require("sap.viz.container.views.events.ChartEvent");f.require("sap.viz.container.views.events.CanvasEvent");f.require("sap.viz.container.views.events.ContextMenuEvent");var b=sap.viz.container.constants.CSSConst;var d=f.views.events.CanvasEvent;var c=sap.viz.container.views.events.ChartEvent;var e=f.views.events.ContextMenuEvent;var a=sap.viz.container.views.ui.Canvas=function(j){a.superclass.constructor.apply(this,arguments);this.__className="sap.viz.container.views.ui.Canvas";var h=this;this._layout=new sap.ui.commons.layout.AbsoluteLayout();this._layout.placeAt(this._dom);this._chart=null;this._morphingLayer=null;this._createChildren();this._layout.onAfterRendering=function(){this.$().bind("contextmenu",function(k){h._layout.setPositionOfChild(h._contextMenuLayout,{left:k.offsetX+"px",top:k.offsetY+"px"});h.dispatchEvent(new e(e.POPUP_CONTEXT_MENU,h,h._contextMenuLayout));return false})};this.ui5Instance(this._layout)};f.extend(a,f.views.ui.ViewBase);a.prototype._createChildren=function(){this._chart=new sap.viz.container.views.ui.Chart();this._layout.addContent(this._chart.ui5Instance(),{left:0+"px",top:0+"px"});this._morphingLayer=new sap.viz.container.views.ui.MorphingLayer();this._layout.addContent(this._morphingLayer.ui5Instance(),{left:0+"px",top:0+"px"});this._contextMenuLayout=new sap.ui.commons.layout.AbsoluteLayout({width:0+"px",height:0+"px"});this._layout.addContent(this._contextMenuLayout)};a.prototype._validateSize=function(){var j=this.size();var k=j.width;var h=j.height;this._layout.setWidth(k+"px");this._layout.setHeight(h+"px");this._chart.size({width:k,height:h});this._morphingLayer.size({width:k,height:h})};a.prototype.chartView=function(){return this._chart};a.prototype.morphingView=function(){return this._morphingLayer}})(jQuery);(function(f){var d=sap.viz.container;d.declare("sap.viz.container.views.ui.ContextMenu");d.require("sap.viz.container.constants.ChartConst");d.require("sap.viz.container.constants.CSSConst");d.require("sap.viz.container.constants.EventTypeConst");d.require("sap.viz.container.constants.MenuItemConst");d.require("sap.viz.container.views.events.ContextMenuEvent");d.require("sap.viz.container.views.ui.ViewBase");var e=sap.viz.container.constants.ChartConst;var b=sap.viz.container.constants.CSSConst;var h=sap.viz.container.constants.EventTypeConst;var a=sap.viz.container.constants.MenuItemConst;var c=sap.viz.container.views.events.ContextMenuEvent;var g=sap.viz.container.views.ui.ContextMenu=function(j){g.superclass.constructor.apply(this,arguments);this.__className="sap.viz.container.views.ui.ContextMenu";var k=this;this._layout=new sap.ui.commons.layout.HorizontalLayout();this._layout.addStyleClass(b.PREFIX+"ContextMenuSettings-normal");this._layout.onAfterRendering=function(){this.$().bind("mouseover",function(){k._updateState("mouseover")}).bind("mouseout",function(){k._updateState("normal")})};this._settingsIcon=new sap.ui.commons.Image({src:"./assets/contextmenu/profiling_settings.png"});this._settingsIcon.addStyleClass(b.PREFIX+"interaction-image");this._settingsArrow=new sap.ui.commons.Image({src:"./assets/navigator/dropDownArrow.png"});this._settingsArrow.addStyleClass(b.PREFIX+"interaction-image");this._settingsArrow.onclick=function(){k.popupMenu(k._settingsIcon)};this._layout.addContent(this._settingsIcon);this._layout.addContent(this._settingsArrow);this._layout.placeAt(j);this.ui5Instance(this._layout);document.addEventListener("mousedown",function(l){if(k._menu&&k._menu.getDomRef()&&!f.contains(k._menu.getDomRef(),l.target)){k._menu.close()}},true)};d.extend(g,d.views.ui.ViewBase);g.prototype._updateState=function(j){this._layout.removeStyleClass(b.PREFIX+"ContextMenuSettings-normal");this._layout.removeStyleClass(b.PREFIX+"ContextMenuSettings-mouseover");if(j==="normal"){this._layout.addStyleClass(b.PREFIX+"ContextMenuSettings-normal")}else{if(j==="mouseover"){this._layout.addStyleClass(b.PREFIX+"ContextMenuSettings-mouseover")}}};g.prototype.updateMenu=function(n,z){var r=this;var t=z.vizType;var w=z.legend;var o=z.datalabels;var v=z.direction;var s=z.stacking;var m=new sap.ui.commons.Menu();var l=n.menu[t];for(var p=0;p<l.length;p++){var j=null;var x=null;var k=false;var A=l[p];switch(A){case a.LEGEND.name:j=new sap.ui.commons.MenuItem({text:a.LEGEND.text,icon:a.DEFAULT.icon});x={eventType:h.SELECT_SHOW_LEGEND,args:{legend:w,message:""}};if(a.LEGEND.supportType[t]){var u=w?"show":"hide";j.setIcon(a.LEGEND.icon[u]);k=true}break;case a.DATALABELS.name:var j=new sap.ui.commons.MenuItem({text:a.DATALABELS.text,icon:a.DEFAULT.icon});x={eventType:h.SELECT_SHOW_DATALABELS,args:{datalabels:o,message:""}};if(a.DATALABELS.supportType[t]){var u=o?"show":"hide";j.setIcon(a.DATALABELS.icon[u]);k=true}break;case a.DIRECTION.name:var j=new sap.ui.commons.MenuItem({text:a.DIRECTION.text[v],icon:a.DEFAULT.icon});x={eventType:h.SELECT_CHANGE_DIRECTION,args:{direction:v,message:""}};if(a.DIRECTION.supportType[t]){var q=a.DIRECTION.icon[t][v];if(q[s]){q=q[s]}j.setIcon(q);k=true}break;case a.STACKING.name:var j=new sap.ui.commons.MenuItem({text:a.STACKING.text[s],icon:a.DEFAULT.icon});x={eventType:h.SELECT_CHANGE_STACKING,args:{stacking:s,message:""}};if(a.STACKING.supportType[t]){var q=a.STACKING.icon[t][s];if(q[v]){q=q[v]}j.setIcon(q);k=true}break}if(j){if(!k){x.args.message='"'+A+'" is not supported by "'+t+'".'}j.data("eventData",x);j.attachSelect(function(B){r.dispatchEvent(new c(c.CHANGE_CONTEXT_MENU,r,B.getParameter("item").data("eventData")))});m.addItem(j)}}this._menu=m;r._settingsIcon.attachPress(function(){r.popupMenu(r._settingsIcon)})};g.prototype.popupMenu=function(k){if(this._menu){var j=sap.ui.core.Popup.Dock;this._menu.open(false,k.getFocusDomRef(),j.BeginTop,j.BeginBottom,k.getDomRef())}}})(jQuery);(function(d){var b=sap.viz.container;b.declare("sap.viz.container.views.ui.FilterMenu");b.require("sap.viz.container.views.events.FilterMenuEvent");b.require("sap.viz.container.views.ui.ViewBase");b.require("sap.viz.container.constants.CSSConst");b.require("sap.viz.container.constants.EventTypeConst");var a=sap.viz.container.constants.CSSConst;var f=sap.viz.container.constants.EventTypeConst;var e=sap.viz.container.views.events.FilterMenuEvent;var c=sap.viz.container.views.ui.FilterMenu=function(g){c.superclass.constructor.apply(this,arguments);this.__className="sap.viz.container.views.ui.FilterMenu";this._container=null;this._btnFilter=null;this._btnExclude=null;this._btnDrillDown=null;this._createChildren();this.ui5Instance(this._container)};b.extend(c,b.views.ui.ViewBase);c.prototype._createChildren=function(){this._container=new sap.ui.commons.layout.HorizontalLayout();this._container.addStyleClass(a.PREFIX+"FilterMenu-outer-container");this._container.placeAt(this._dom);var h=this;var g=new sap.ui.commons.layout.HorizontalLayout();g.addStyleClass(a.PREFIX+"FilterMenu-inner-container");this._container.addContent(g);this._btnFilter=new sap.ui.commons.Button({text:"Filter"});this._btnFilter.attachPress(function(j){h.dispatchEvent(new e(e.PRESS_FILTER_MENU_BUTTON,h,f.PRESS_FILTER_BUTTON))});this._btnFilter.addStyleClass(a.PREFIX+"FilterMenu-button");g.addContent(this._btnFilter);this._btnExclude=new sap.ui.commons.Button({text:"Exclude"});this._btnExclude.attachPress(function(j){h.dispatchEvent(new e(e.PRESS_FILTER_MENU_BUTTON,h,f.PRESS_EXCLUDE_BUTTON))});this._btnExclude.addStyleClass(a.PREFIX+"FilterMenu-button");g.addContent(this._btnExclude);this._btnDrillDown=new sap.ui.commons.Button({text:"Drill down"});this._btnDrillDown.attachPress(function(j){h.dispatchEvent(new e(e.PRESS_FILTER_MENU_BUTTON,h,f.PRESS_DRILLDOWN_BUTTON))});this._btnDrillDown.addStyleClass(a.PREFIX+"FilterMenu-button");g.addContent(this._btnDrillDown)};c.prototype.show=function(g,j,h){this._container.setVisible(g||j||h);this._btnFilter.setVisible(g);this._btnExclude.setVisible(j);this._btnDrillDown.setVisible(h)}})(jQuery);(function(f){var c=sap.viz.container;c.declare("sap.viz.container.views.ui.AppView");c.require("sap.viz.container.views.ui.ViewBase");c.require("sap.viz.container.views.ui.CanvasView");c.require("sap.viz.container.views.ui.VizSwitchBar");c.require("sap.viz.container.views.ui.ContextMenu");c.require("sap.viz.container.views.ui.FilterMenu");c.require("sap.viz.container.constants.CSSConst");c.require("sap.viz.container.views.ui.CustomizedCheckBox");c.require("sap.viz.container.views.ui.VizCustomizedView");c.require("sap.viz.container.views.events.UIEvent");var d=sap.viz.container.views.events.UIEvent;var b=sap.viz.container.constants.CSSConst;var e=sap.viz.container.views.ui.AppView=function(h){e.superclass.constructor.apply(this,arguments);this.__className="sap.viz.container.views.ui.AppView";var g=this;this._app=null;this._mainLayer=null;this._popUpLayer=null;this._header=null;this._vizSwitchBar=null;this._settings=null;this._canvasView=null;this._filterMenu=null;this._titleEditor=null;this._vizCustomizedView=null;this._createChildren()};c.extend(e,c.views.ui.ViewBase);e.prototype._validateSize=function(){var n=this.size();if(n.width===0||n.height===0){return}this._mainLayer.setWidth(n.width+"px");this._mainLayer.setHeight(n.height+"px");this._mainLayer.setPositionOfChild(this._header,{left:0+"px",top:0+"px"});var o={width:n.width,height:50};this._header.setWidth(o.width+"px");this._header.setHeight(o.height+"px");var p=12;var k=6;var m=0;var j=0;var r=n.width-k;var l;var h=this._vizCustomizedView.size();l=r-h.width;r=l-p;this._header.setPositionOfChild(this._vizCustomizedView.ui5Instance(),{left:l+"px",top:(o.height-h.height)/2+"px"});var g=this._settings.size();l=r-g.width;r=l-p;this._header.setPositionOfChild(this._settings.ui5Instance(),{left:l+"px",top:(o.height-g.height)/2+"px"});var q=this._vizSwitchBar.size();if(r>=q.width){l=(r-q.width)/2}else{l=r-q.width}r=0;this._header.setPositionOfChild(this._vizSwitchBar.ui5Instance(),{left:l+"px",top:(o.height-q.height)/2+"px"});m=k=12;var t=this._titleEditor.size();this._mainLayer.setPositionOfChild(this._titleEditor.ui5Instance(),{left:m+"px",top:o.height+"px"});this._titleEditor.size({width:n.width-m-k,height:32});this._mainLayer.setPositionOfChild(this._canvasView.ui5Instance(),{left:0+"px",top:o.height+t.height+"px"});this._canvasView.size({width:n.width,height:n.height-o.height-30});var s=this._filterMenu.size();j=24;this._popUpLayer.setPositionOfChild(this._filterMenu.ui5Instance(),{left:(n.width-s.width)/2+"px",top:(n.height-s.height-j)+"px"})};var a=function(g){var h=document.createElement("div");if(g){f(h).appendTo(g)}return h};e.prototype._createChildren=function(){this._app=a(this._dom);f(this._app).addClass(b.PREFIX+"app");this._mainLayer=new sap.ui.commons.layout.AbsoluteLayout();this._mainLayer.placeAt(a(this._app));var g=a(this._app);f(g).addClass(b.PREFIX+"popUp-layer");this._popUpLayer=new sap.ui.commons.layout.AbsoluteLayout();this._popUpLayer.addStyleClass(b.PREFIX+"popUp-layer-container");this._popUpLayer.placeAt(g);this._header=new sap.ui.commons.layout.AbsoluteLayout();this._header.addStyleClass(b.PREFIX+"header-area");this._mainLayer.addContent(this._header);this._vizSwitchBar=new sap.viz.container.views.ui.VizSwitchBar(a());this._vizSwitchBar.addEventListener(d.RESIZE,this._validateSize,this);this._vizSwitchBar.ui5Instance().addStyleClass(b.PREFIX+"chart-type-selector-view");this._header.addContent(this._vizSwitchBar.ui5Instance());this._settings=new sap.viz.container.views.ui.ContextMenu(a());this._settings.addEventListener(d.RESIZE,this._validateSize,this);this._settings.ui5Instance().addStyleClass(b.PREFIX+"context-menu-view");this._header.addContent(this._settings.ui5Instance());this._vizCustomizedView=new sap.viz.container.views.ui.VizCustomizedView(a());this._vizCustomizedView.addEventListener(d.RESIZE,this._validateSize,this);this._vizCustomizedView.ui5Instance().addStyleClass(b.PREFIX+"customized-checkBox-view");this._header.addContent(this._vizCustomizedView.ui5Instance());this._titleEditor=new sap.viz.container.views.ui.TitleEditor(a());this._titleEditor.ui5Instance().addStyleClass(b.PREFIX+"title-editor-view");this._mainLayer.addContent(this._titleEditor.ui5Instance());this._canvasView=new sap.viz.container.views.ui.Canvas(a());this._canvasView.ui5Instance().addStyleClass(b.PREFIX+"canvas-view");this._mainLayer.addContent(this._canvasView.ui5Instance());this._filterMenu=new sap.viz.container.views.ui.FilterMenu(a());this._filterMenu.addEventListener(d.RESIZE,this._validateSize,this);this._filterMenu.ui5Instance().addStyleClass(b.PREFIX+"filter-view");this._popUpLayer.addContent(this._filterMenu.ui5Instance());return this};e.prototype.vizSwitchBarView=function(){return this._vizSwitchBar};e.prototype.canvasView=function(){return this._canvasView};e.prototype.contextMenuView=function(){return this._settings};e.prototype.filterMenuView=function(){return this._filterMenu};e.prototype.vizCustomizedView=function(){return this._vizCustomizedView};e.prototype.titleEditorView=function(){return this._titleEditor}})(jQuery);(function(){var c=sap.viz.container;c.declare("sap.viz.container.views.ui.VizCustomizedView");c.require("sap.viz.container.views.ui.ViewBase");c.require("sap.viz.container.views.events.VizCustomizedEvent");c.require("sap.viz.container.constants.AppConst");c.require("sap.viz.container.constants.ModuleType");var a=sap.viz.container.constants.ModuleType;var b=sap.viz.container.views.events.VizCustomizedEvent;var d=sap.viz.container.views.ui.VizCustomizedView=function(e){d.superclass.constructor.apply(this,arguments);this.__className="sap.viz.container.views.ui.VizCustomizedView";this._layout=new sap.ui.commons.layout.HorizontalLayout();this._layout.placeAt(e);this.ui5Instance(this._layout)};c.extend(d,c.views.ui.ViewBase);d.prototype._createCustomizedControl=function(f){var g=this;var e;if(f.type==a.CHECK_BOX){e=new sap.ui.commons.CheckBox({text:f.label,checked:f.checked});if(f.clickEventType){e.attachChange(function(j){var h={eventType:f.clickEventType,args:[f.id,{checked:j.mParameters.checked}]};g.dispatchEvent(new b(b.CHANGE_CHECKBOX,g,h))})}}else{if(f.type==a.BUTTON){e=new sap.ui.commons.Button({text:f.label});if(f.clickEventType){e.attachPress(function(j){var h={eventType:f.clickEventType,args:[f.id]};g.dispatchEvent(new b(b.PRESS_BUTTON,g,h))})}}}if(e){this._layout.addContent(e)}};d.prototype.init=function(e){for(var g=0;g<e.length;g++){var f=e[g];if(f&&f.type){this._createCustomizedControl(f)}}}})();(function(d){var b=sap.viz.container;b.declare("sap.viz.container.views.ui.MorphingLayer");b.require("sap.viz.container.constants.CSSConst");b.require("sap.viz.container.views.ui.ViewBase");var a=sap.viz.container.constants.CSSConst;var c=sap.viz.container.views.ui.MorphingLayer=function(){c.superclass.constructor.apply(this,arguments);this.__className="sap.viz.container.views.ui.MorphingLayer";this._size={width:0,height:0};this._vizMorpher=null;this._ui5HTML=new sap.ui.core.HTML();this._ui5HTML.attachAfterRendering(this._created,this);this._ui5HTML.setContent("<div class='"+a.PREFIX+"morphing-layer' style='display: none'></div>");this.ui5Instance(this._ui5HTML)};b.extend(sap.viz.container.views.ui.MorphingLayer,b.views.ui.ViewBase);c.prototype.size=function(e){if(e){this._size=e;if(this._vizMorpher){this._vizMorpher.morphVizType("",-1)}}return this._size};c.prototype._created=function(){this._ui5HTML.detachAfterRendering(this._created,this);d(this._ui5HTML.getDomRef()).css({width:this._size.width+"px",height:this._size.height+"px"});var f=d("."+a.PREFIX+"chart").get(0);var e=d("."+a.PREFIX+"morphing-layer").get(0);this._vizMorpher=new sap.viz.morph.VizMorpher(f,e)};c.prototype.morphVizType=function(f,e){if(this._vizMorpher){this._vizMorpher.morphVizType("",800)}}})(jQuery);(function(c){var b=sap.viz.container;b.declare("sap.viz.container.views.APIMediator");b.require("sap.viz.container.constants.AppConst");var a=sap.viz.container.constants.AppConst;var d=sap.viz.container.views.APIMediator=function(e){d.superclass.constructor.apply(this,arguments);this.__className="sap.viz.container.views.APIMediator";this._eventMap={}};b.extend(sap.viz.container.views.APIMediator,b.common.mvc.ViewMediator);d.prototype.init=function(){var e=this;this._subscribe(a.NOTIFICATION_NOTIFY_EXTERNAL_REQUESTED,function(l){var j=l.data.eventType;var g=l.data.args;console.log("EventType is: "+j);console.log("Args: ",g);var k=e._eventMap[j];if(k){for(var h=0;h<k.length;h++){try{k[h].apply(null,g)}catch(f){if(console){console.log(f)}}}}})};d.prototype.on=function(e,g){var f=this._eventMap[e];if(!f){f=[]}f.push(g);this._eventMap[e]=f};d.prototype.bootstrap=function(e){this._action(a.ACTION_BOOTSTRAP,{uiConfig:e})};d.prototype.css=function(e){this._action(a.ACTION_API_CHANGE_VIZ,{style:e})};d.prototype.data=function(e){this._action(a.ACTION_API_CHANGE_VIZ,{data:e})};d.prototype.feed=function(e){this._action(a.ACTION_API_CHANGE_VIZ,{feeding:e})};d.prototype.update=function(e){this._action(a.ACTION_API_CHANGE_VIZ,{style:e.style,data:e.data,feeding:e.feeding})};d.prototype.changeViz=function(e){this._action(a.ACTION_API_CHANGE_VIZ,{options:e})}})(jQuery);(function(c){var b=sap.viz.container;b.declare("sap.viz.container.views.AppMediator");b.require("sap.viz.container.constants.AppConst");var a=sap.viz.container.constants.AppConst;var d=sap.viz.container.views.AppMediator=function(e){d.superclass.constructor.apply(this,arguments);this.__className="sap.viz.container.views.AppMediator";this._view=e;this._model=null};b.extend(sap.viz.container.views.AppMediator,b.common.mvc.ViewMediator);d.prototype.init=function(){this._model=this._getModel(a.MODEL_APP);this._subscribeNotifications()};d.prototype._subscribeNotifications=function(){var e=this;this._subscribe(a.NOTIFICATION_BOOTSTRAP_COMPLETED,function(f){if(e._model.defaultVizType){e._action(a.ACTION_CHANGE_VIZ_TYPE,{type:e._model.defaultVizType})}})}})(jQuery);(function(f){var e=sap.viz.container;var b=sap.viz.container.constants.AppConst;e.declare("sap.viz.container.views.CanvasMediator");e.require("sap.viz.container.constants.AppConst");e.require("sap.viz.container.views.events.CanvasEvent");e.require("sap.viz.container.views.events.ContextMenuEvent");var c=e.views.events.CanvasEvent;var d=e.views.events.ContextMenuEvent;var a=sap.viz.container.views.CanvasMediator=function(g){a.superclass.constructor.apply(this,arguments);this.__className="sap.viz.container.views.CanvasMediator";this._canvasView=g};e.extend(sap.viz.container.views.CanvasMediator,e.common.mvc.ViewMediator);a.prototype.init=function(){this._subscribeNotifications();this._canvasView.addEventListener(d.POPUP_CONTEXT_MENU,function(g){this._action(b.ACTION_POPUP_CONTEXT_MENU,g.data)},this)};a.prototype._subscribeNotifications=function(){}})(jQuery);(function(e){var d=sap.viz.container;d.declare("sap.viz.container.views.ChartMediator");d.require("sap.viz.container.constants.AppConst");d.require("sap.viz.container.views.events.ChartEvent");var a=sap.viz.container.constants.AppConst;var b=sap.viz.container.views.events.ChartEvent;var c=sap.viz.container.views.ChartMediator=function(f){c.superclass.constructor.apply(this,arguments);this.__className="sap.viz.container.views.ChartMediator";this._chartView=f};d.extend(sap.viz.container.views.ChartMediator,d.common.mvc.ViewMediator);c.prototype.init=function(){this._subscribeNotifications();this._chartView.addEventListener(b.CHANGED_SELECTED_DATA,function(f){this._action(a.ACTION_CHANGE_SELECTED_DATA,f.data)},this)};c.prototype._subscribeNotifications=function(){var f=this;this._subscribe(a.NOTIFICATION_VIZ_TYPE_CHANGED,function(){f.chartTypeChanged()});this._subscribe(a.NOTIFICATION_VIZ_LEGEND_CHANGED,function(){f._chartShowHideLegendChanged()});this._subscribe(a.NOTIFICATION_VIZ_DATALABELS_CHANGED,function(){f._chartShowHideLabelChanged()});this._subscribe(a.NOTIFICATION_VIZ_CONTEXT_CHANGED,function(){f.chartTypeChanged()});this._subscribe(a.NOTIFICATION_VIZ_CHANGED,function(){f.chartTypeChanged()})};c.prototype.chartTypeChanged=function(l){var g=this._getModel(a.MODEL_WIDGETS);var j=g.getSelectedWidget();var m=g.getSelectedWidgetId();var f=this._getModel(a.MODEL_VIZ_SWITCH_BAR);var k=this._getModel(a.MODEL_CONTEXT_MENU);var h=j.options();h.legend.visible=k.legend;h.dataLabel.visible=k.datalabels;this._chartView.updateChart(m,j)};c.prototype._chartShowHideLegendChanged=function(h){var f=this._getModel(a.MODEL_WIDGETS);var k=f.getSelectedWidgetId();var g=this._getModel(a.MODEL_CONTEXT_MENU);var j=g.legend;this._chartView.showHideLegend(j)};c.prototype._chartShowHideLabelChanged=function(h){var f=this._getModel(a.MODEL_WIDGETS);var k=f.getSelectedWidgetId();var g=this._getModel(a.MODEL_CONTEXT_MENU);var j=g.datalabels;this._chartView.showHideDataLabel(j)}})(jQuery);(function(){var b=sap.viz.container;b.declare("sap.viz.container.views.VizSwitchBarMediator");b.require("sap.viz.container.common.mvc.ViewMediator");b.require("sap.viz.container.views.VizSwitchBar");b.require("sap.viz.container.views.VizSwitchBarEvent");b.require("sap.viz.container.constants.AppConst");var a=sap.viz.container.constants.AppConst;var c=sap.viz.container.views.events.VizSwitchBarEvent;var d=sap.viz.container.views.VizSwitchBarMediator=function(e){d.superclass.constructor.apply(this,arguments);this._view=e;this._model=null};b.extend(d,b.common.mvc.ViewMediator);d.prototype.init=function(){var e=this;this._model=this._getModel(a.MODEL_VIZ_SWITCH_BAR);this._view.addEventListener(c.SELECT_VIZ_TYPE,function(f){e._action(a.ACTION_CHANGE_VIZ_TYPE,f.data)},this);this._subscribe(a.NOTIFICATION_VIZ_TYPE_CHANGED,function(f){e._vizTypeChangedHandler()});this._subscribe(a.NOTIFICATION_VIZ_CHANGED,function(f){e._vizChangedHandler()});this._subscribe(a.NOTIFICATION_BOOTSTRAP_COMPLETED,function(f){e._bootstrapCompletedHandler()})};d.prototype._vizTypeChangedHandler=function(){this._view.selectedVizType(this._model.selectedVizType)};d.prototype._vizChangedHandler=function(){this._view.selectedVizType(this._model.selectedVizType)};d.prototype._bootstrapCompletedHandler=function(){this._view.dataProvider(this._model.vizTypeGroups)}})();(function(d){var c=sap.viz.container;c.declare("sap.viz.container.views.ContextMenuMediator");c.require("sap.viz.container.views.events.ContextMenuEvent");c.require("sap.viz.container.constants.AppConst");var b=sap.viz.container.views.events.ContextMenuEvent;var a=sap.viz.container.constants.AppConst;var e=sap.viz.container.views.ContextMenuMediator=function(f){e.superclass.constructor.apply(this,arguments);this.__className="sap.viz.container.views.ContextMenuMediator";this._view=f};c.extend(sap.viz.container.views.ContextMenuMediator,c.common.mvc.ViewMediator);e.prototype.init=function(){var f=this;this._view.addEventListener(b.CHANGE_CONTEXT_MENU,this._action_changeContextMenuHandler,this);this._subscribe(a.NOTIFICATION_BOOTSTRAP_COMPLETED,function(g){f._update()});this._subscribe(a.NOTIFICATION_VIZ_TYPE_CHANGED,function(g){f._update()});this._subscribe(a.NOTIFICATION_VIZ_CHANGED,function(g){f._update()});this._subscribe(a.NOTIFICATION_VIZ_LEGEND_CHANGED,function(g){f._update()});this._subscribe(a.NOTIFICATION_VIZ_DATALABELS_CHANGED,function(g){f._update()});this._subscribe(a.NOTIFICATION_VIZ_CONTEXT_CHANGED,function(g){f._update()});this._subscribe(a.NOTIFICATION_CONTEXT_MENU_POPUPED,function(g){f._view.popupMenu(g.data)})};e.prototype._action_changeContextMenuHandler=function(f){this._action(a.ACTION_CHANGE_CONTEXT_MENU,f.data.eventType);this._action(a.ACTION_NOTIFY_EXTERNAL_EVENT,{eventType:f.data.eventType,args:f.data.args})};e.prototype._update=function(){var f=this._getModel(a.MODEL_VIZ_SWITCH_BAR);var g=this._getModel(a.MODEL_CONTEXT_MENU);this._view.updateMenu(g.configuration(),{vizType:f.selectedVizType,legend:g.legend,datalabels:g.datalabels,direction:g.direction,stacking:g.stacking})}})(jQuery);(function(){var c=sap.viz.container;c.declare("sap.viz.container.views.FilterMenuMediator");c.require("sap.viz.container.common.mvc.ViewMediator");c.require("sap.viz.container.views.FilterMenu");c.require("sap.viz.container.constants.AppConst");c.require("sap.viz.container.views.events.FilterMenuEvent");var a=sap.viz.container.constants.AppConst;var d=sap.viz.container.views.events.FilterMenuEvent;var b=sap.viz.container.views.FilterMenuMediator=function(e){b.superclass.constructor.apply(this,arguments);this._view=e;this._model=null};c.extend(b,c.common.mvc.ViewMediator);b.prototype.init=function(){var e=this;this._view.addEventListener(d.PRESS_FILTER_MENU_BUTTON,function(g){var f=this._getModel(a.MODEL_WIDGETS);var j=f.getSelectedWidget();var h={eventType:g.data,args:j.selectedData};e._action(a.ACTION_NOTIFY_EXTERNAL_EVENT,h)},this);this._subscribe(a.NOTIFICATION_SELECTED_DATA_CHANGED,function(m){var g=e._getModel(a.MODEL_WIDGETS);var l=g.getSelectedWidget();var k=l.numSelectedData;var f=k>0;var j=k>0;var h=k==1;e._view.show(f,j,h)})}})();(function(e){var b=sap.viz.container;b.declare("sap.viz.container.views.TitleEditorMediator");b.require("sap.viz.container.constants.AppConst");b.require("sap.viz.container.views.events.TitleEditorEvent");var a=sap.viz.container.constants.AppConst;var d=sap.viz.container.views.events.TitleEditorEvent;var c=sap.viz.container.views.TitleEditorMediator=function(f){c.superclass.constructor.apply(this,arguments);this.__className="sap.viz.container.views.TitleEditorMediator";this._view=f};b.extend(sap.viz.container.views.TitleEditorMediator,b.common.mvc.ViewMediator);c.prototype.init=function(){var f=this;this._subscribe(a.NOTIFICATION_BOOTSTRAP_COMPLETED,function(g){f._notification_bootstrapCompleteddHandler(g)});this._model=this._getModel(a.MODEL_TITLE_EDITOR)};c.prototype._notification_bootstrapCompleteddHandler=function(f){var g=this._model.configuration();this._view.init(g.visible,g.enableRestore)}})(jQuery);(function(e){var c=sap.viz.container;c.declare("sap.viz.container.views.VizCustomizedMediator");c.require("sap.viz.container.views.events.VizCustomizedEvent");c.require("sap.viz.container.constants.AppConst");var b=sap.viz.container.views.events.VizCustomizedEvent;var a=sap.viz.container.constants.AppConst;var d=sap.viz.container.views.VizCustomizedMediator=function(f){d.superclass.constructor.apply(this,arguments);this.__className="sap.viz.container.views.VizCustomizedMediator";this._view=f};c.extend(sap.viz.container.views.VizCustomizedMediator,c.common.mvc.ViewMediator);d.prototype.init=function(){var f=this;this._view.addEventListener(b.CHANGE_CHECKBOX,this._action_customizedHandler,this);this._view.addEventListener(b.PRESS_BUTTON,this._action_customizedHandler,this);this._subscribe(a.NOTIFICATION_BOOTSTRAP_COMPLETED,function(g){f._notification_bootstrapCompleteddHandler(g)});this._model=this._getModel(a.MODEL_VIZ_CUSTOMIZED_CONTROL)};d.prototype._action_customizedHandler=function(f){this._action(a.ACTION_NOTIFY_EXTERNAL_EVENT,f.data)};d.prototype._notification_bootstrapCompleteddHandler=function(f){var g=this._model.configuration();this._view.init(g)}})(jQuery);(function(e){var d=sap.viz.container;d.declare("sap.viz.container.views.MorphingMediator");d.require("sap.viz.container.constants.AppConst");d.require("sap.viz.container.views.events.ChartEvent");var a=sap.viz.container.constants.AppConst;var c=sap.viz.container.views.events.ChartEvent;var b=sap.viz.container.views.MorphingMediator=function(f){b.superclass.constructor.apply(this,arguments);this.__className="sap.viz.container.views.MorphingMediator";this._morphingLayer=f};d.extend(sap.viz.container.views.MorphingMediator,d.common.mvc.ViewMediator);b.prototype.init=function(){this._subscribeNotifications()};b.prototype._subscribeNotifications=function(){var f=this;this._subscribe(a.NOTIFICATION_VIZ_TYPE_CHANGED,function(){f._playMorphing()});this._subscribe(a.NOTIFICATION_VIZ_LEGEND_CHANGED,function(){f._playMorphing()});this._subscribe(a.NOTIFICATION_VIZ_DATALABELS_CHANGED,function(){});this._subscribe(a.NOTIFICATION_VIZ_CONTEXT_CHANGED,function(){f._playMorphing()});this._subscribe(a.NOTIFICATION_VIZ_CHANGED,function(){})};b.prototype._playMorphing=function(){var f=this._getModel(a.MODEL_APP);var g=f.configuration();if(g.enableMorphing===true){this._morphingLayer.morphVizType("","")}}})(jQuery);(function(g){var c=sap.viz.container;c.require("sap.viz.container.common.mvc.App");c.require("sap.viz.container.constants.AppConst");c.require("sap.viz.container.models.VizSwitchBarModel");c.require("sap.viz.container.models.vo.ChartObject");c.require("sap.viz.container.models.WidgetsModel");c.require("sap.viz.container.views.ui.AppView");c.require("sap.viz.container.views.VizSwitchBarMediator");c.require("sap.viz.container.views.ContextMenuMediator");c.require("sap.viz.container.views.AppMediator");c.require("sap.viz.container.views.CanvasMediator");c.require("sap.viz.container.views.ChartMediator");c.require("sap.viz.container.views.VizCustomizedViewMediator");c.require("sap.viz.container.views.FilterMenuMediator");var e=sap.viz.container.common.mvc.App;var b=sap.viz.container.constants.AppConst;var a=sap.viz.container.VizContainer=function(j,h){this._div=j;this._uiConfig=h;this._appView=null;this._options=null;this._css=null;this._data=null;this._feed=null;this._apiMediator=null;this._chartMediator=null;this._startup()};c.createVizContainer=function(j,h){return new sap.viz.container.VizContainer(j,h)};a.prototype.css=function(h){if(arguments.length>0){if(h!=this._css){this._css=h;this._apiMediator.changeViz({style:h})}return this}else{return this._css}};a.prototype.data=function(h){if(arguments.length>0){if(h!=this._data){this._data=h;this._apiMediator.data(this._data)}return this}else{return this._data}};a.prototype.feed=function(h){if(arguments.length>0){if(h!=this._feed){this._feed=h;this._apiMediator.changeViz({feeding:h})}return this}else{return this._feed}};a.prototype.update=function(h){this._apiMediator.update(h)};a.prototype.size=function(h){if(h.width){g(this._div).width(h.width)}if(h.height){g(this._div).height(h.height)}this._validateSize()};a.prototype.on=function(h,j){this._apiMediator.on(h,j)};a.prototype.destroy=function(){};a.prototype.exportViz=function(){};a.prototype.loadViz=function(h){return this};a.prototype.changeViz=function(h){this._apiMediator.changeViz(h);return true};a.prototype._startup=function(){var l=new e();var j;l.registerModel(b.MODEL_APP,new sap.viz.container.models.AppModel());l.registerModel(b.MODEL_VIZ_SWITCH_BAR,new sap.viz.container.models.VizSwitchBarModel());var q=new sap.viz.container.models.WidgetsModel();q.addWidget("chart_1",d);l.registerModel(b.MODEL_WIDGETS,q);l.registerModel(b.MODEL_CONTEXT_MENU,new sap.viz.container.models.ContextMenuModel());l.registerModel(b.MODEL_TITLE_EDITOR,new sap.viz.container.models.TitleEditorModel());l.registerModel(b.MODEL_VIZ_CUSTOMIZED_CONTROL,new sap.viz.container.models.VizCustomizedModel());l.registerAction(b.ACTION_NOTIFY_EXTERNAL_EVENT,sap.viz.container.views.actions.api.NotifyExternalAction);l.registerAction(b.ACTION_BOOTSTRAP,sap.viz.container.views.actions.BootstrapAction);l.registerAction(b.ACTION_CHANGE_VIZ_TYPE,sap.viz.container.views.actions.ChangeVizTypeAction);l.registerAction(b.ACTION_CHANGE_CONTEXT_MENU,sap.viz.container.views.actions.ChangeContextMenuAction);l.registerAction(b.ACTION_CHANGE_SELECTED_DATA,sap.viz.container.views.actions.ChangeSelectedDataAction);l.registerAction(b.ACTION_POPUP_CONTEXT_MENU,sap.viz.container.views.actions.PopupContextMenuAction);l.registerAction(b.ACTION_PRESS_FILTER_MENU_BUTTON,sap.viz.container.views.actions.PressFilterMenuButtonAction);l.registerAction(b.ACTION_API_CHANGE_VIZ,sap.viz.container.views.actions.api.ChangeVizAction);var m=this._appView=new sap.viz.container.views.ui.AppView(this._div);this._apiMediator=j=new sap.viz.container.views.APIMediator(m);l.registerViewMediator(b.MEDIATOR_API,j);j=new sap.viz.container.views.AppMediator(m);l.registerViewMediator(b.MEDIATOR_VIZ_CONTAINER,j);j=new sap.viz.container.views.VizSwitchBarMediator(m.vizSwitchBarView());l.registerViewMediator(b.MEDIATOR_VIZ_SWITCH_BAR,j);j=new sap.viz.container.views.ContextMenuMediator(m.contextMenuView());l.registerViewMediator(b.MEDIATOR_CONTEXT_MENU,j);j=new sap.viz.container.views.TitleEditorMediator(m.titleEditorView());l.registerViewMediator(b.MEDIATOR_TITLE_EDITOR,j);var n=j=new sap.viz.container.views.CanvasMediator(m.canvasView());l.registerViewMediator(b.MEDIATOR_CANVAS,j);var o=this._chartMediator=j=new sap.viz.container.views.ChartMediator(m.canvasView().chartView());l.registerViewMediator(b.MEDIATOR_CHART,j);var k=j=new sap.viz.container.views.MorphingMediator(m.canvasView().morphingView());l.registerViewMediator(b.MEDIATOR_MORPHING,j);j=new sap.viz.container.views.FilterMenuMediator(m.filterMenuView());l.registerViewMediator(b.MEDIATOR_CANVAS,j);j=new sap.viz.container.views.VizCustomizedMediator(m.vizCustomizedView());l.registerViewMediator(b.MEDIATOR_VIZ_CUSTOMIZED_VIEW,j);this._apiMediator.bootstrap(this._uiConfig);var p=this;var h=false;g(window).resize(function(){if(!h){setTimeout(function(){h=false;p._validateSize()},1000/24)}h=true});this._validateSize()};a.prototype._validateSize=function(){var j=g(this._div).width();var k=g(this._div).height();this._appView.size({width:j,height:k});this._chartMediator.chartTypeChanged()};var f=[];var d=new sap.viz.container.models.vo.ChartObject({type:"viz/line",data:{},options:{plotArea:{animation:{dataLoading:false,dataUpdating:false,resizing:false}},legend:{visible:true},dataLabel:{visible:false}}})})(jQuery);
/*!
 * VERSION: beta 1.28
 * DATE: 2012-06-19
 * JavaScript (ActionScript 3 and 2 also available)
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * Copyright (c) 2008-2012, GreenSock. All rights reserved. 
 * This work is subject to the terms in http://www.greensock.com/terms_of_use.html or for 
 * corporate Club GreenSock members, the software agreement that was issued with the corporate 
 * membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
(function(l){var G=function(M){var e=M.split("."),N=l,L;for(L=0;L<e.length;L++){N[e[L]]=N=N[e[L]]||{}}return N},r=G("com.greensock"),I,B,F,j,s,d={},v=function(e,M,L,p){this.sc=(d[e])?d[e].sc:[];d[e]=this;this.gsClass=null;this.def=L;var N=M||[],a=[];this.check=function(T){var R=N.length,Q=0,S;while(--R>-1){if((S=d[N[R]]||new v(N[R])).gsClass){a[R]=S.gsClass}else{Q++;if(T){S.sc.push(this)}}}if(Q===0&&L){var P=("com.greensock."+e).split("."),U=P.pop(),O=G(P.join("."))[U]=this.gsClass=L.apply(L,a);if(p){(l.GreenSockGlobals||l)[U]=O;if(typeof(define)==="function"&&define.amd){define((l.GreenSockAMDPath?l.GreenSockAMDPath+"/":"")+e.split(".").join("/"),[],function(){return O})}else{if(typeof(module)!=="undefined"&&module.exports){module.exports=O}}}for(R=0;R<this.sc.length;R++){this.sc[R].check(false)}}};this.check(true)},c=r._class=function(a,p,e){new v(a,[],function(){return p},e);return p};l._gsDefine=function(a,L,p,e){return new v(a,L,p,e)};var E=[0,0,1,1],K=[],J=c("easing.Ease",function(p,L,e,a){this._func=p;this._type=e||0;this._power=a||0;this._params=L?E.concat(L):E},true);s=J.prototype;s._calcEnd=false;s.getRatio=function(M){if(this._func){this._params[0]=M;return this._func.apply(null,this._params)}else{var a=this._type,e=this._power,L=(a===1)?1-M:(a===2)?M:(M<0.5)?M*2:(1-M)*2;if(e===1){L*=L}else{if(e===2){L*=L*L}else{if(e===3){L*=L*L*L}else{if(e===4){L*=L*L*L*L}}}}return(a===1)?1-L:(a===2)?L:(M<0.5)?L/2:1-(L/2)}};I=["Linear","Quad","Cubic","Quart","Quint"];B=I.length;while(--B>-1){F=c("easing."+I[B],function(){},true);j=c("easing.Power"+B,function(){},true);F.easeOut=j.easeOut=new J(null,null,1,B);F.easeIn=j.easeIn=new J(null,null,2,B);F.easeInOut=j.easeInOut=new J(null,null,3,B)}c("easing.Strong",r.easing.Power4,true);r.easing.Linear.easeNone=r.easing.Linear.easeIn;s=c("events.EventDispatcher",function(a){this._listeners={};this._eventTarget=a||this}).prototype;s.addEventListener=function(N,P,Q,e,O){O=O||0;var M=this._listeners[N],L=0,a,p;if(M==null){this._listeners[N]=M=[]}p=M.length;while(--p>-1){a=M[p];if(a.c===P){M.splice(p,1)}else{if(L===0&&a.pr<O){L=p+1}}}M.splice(L,0,{c:P,s:Q,up:e,pr:O})};s.removeEventListener=function(e,L){var p=this._listeners[e];if(p){var a=p.length;while(--a>-1){if(p[a].c===L){p.splice(a,1);return}}}};s.dispatchEvent=function(p){var M=this._listeners[p];if(M){var e=M.length,L,a=this._eventTarget;while(--e>-1){L=M[e];if(L.up){L.c.call(L.s||a,{type:p,target:a})}else{L.c.call(L.s||a)}}}};var u=l.requestAnimationFrame,f=l.cancelAnimationFrame,A=Date.now||function(){return new Date().getTime()};I=["ms","moz","webkit","o"];B=I.length;while(--B>-1&&!u){u=l[I[B]+"RequestAnimationFrame"];f=l[I[B]+"CancelAnimationFrame"]||l[I[B]+"CancelRequestAnimationFrame"]}if(!f){f=function(a){l.clearTimeout(a)}}c("Ticker",function(p,N){this.time=0;this.frame=0;var O=this,a=A(),e=(N!==false),M,Q,P,R,L;this.tick=function(){O.time=(A()-a)/1000;if(!M||O.time>=L){O.frame++;L=O.time+R-(O.time-L)-0.0005;if(L<=O.time){L=O.time+0.001}O.dispatchEvent("tick")}P=Q(O.tick)};this.fps=function(S){if(!arguments.length){return M}M=S;R=1/(M||60);L=this.time+R;Q=(M===0)?function(T){}:(!e||!u)?function(T){return l.setTimeout(T,(((L-O.time)*1000+1)>>0)||1)}:u;f(P);P=Q(O.tick)};this.useRAF=function(S){if(!arguments.length){return e}e=S;this.fps(M)};this.fps(p)});s=r.Ticker.prototype=new r.events.EventDispatcher();s.constructor=r.Ticker;var H=c("core.Animation",function(p,e){this.vars=e||{};this._duration=this._totalDuration=p||0;this._delay=Number(this.vars.delay)||0;this._timeScale=1;this._active=(this.vars.immediateRender==true);this.data=this.vars.data;this._reversed=(this.vars.reversed==true);if(!w){return}var a=this.vars.useFrames?x:w;a.insert(this,a._time);if(this.vars.paused){this.paused(true)}}),h=H.ticker=new r.Ticker();s=H.prototype;s._dirty=s._gc=s._initted=s._paused=false;s._totalTime=s._time=0;s._rawPrevTime=-1;s._next=s._last=s._onUpdate=s._timeline=s.timeline=null;s._paused=false;s.play=function(e,a){if(arguments.length){this.seek(e,a)}this.reversed(false);return this.paused(false)};s.pause=function(a,e){if(arguments.length){this.seek(a,e)}return this.paused(true)};s.resume=function(e,a){if(arguments.length){this.seek(e,a)}return this.paused(false)};s.seek=function(e,a){return this.totalTime(Number(e),(a!=false))};s.restart=function(e,a){this.reversed(false);this.paused(false);return this.totalTime((e)?-this._delay:0,(a!=false))};s.reverse=function(e,a){if(arguments.length){this.seek((e||this.totalDuration()),a)}this.reversed(true);return this.paused(false)};s.render=function(){};s.invalidate=function(){return this};s._enabled=function(e,a){this._gc=!e;this._active=(e&&!this._paused&&this._totalTime>0&&this._totalTime<this._totalDuration);if(a!=true){if(e&&this.timeline==null){this._timeline.insert(this,this._startTime-this._delay)}else{if(!e&&this.timeline!=null){this._timeline._remove(this,true)}}}return false};s._kill=function(e,a){return this._enabled(false,false)};s.kill=function(e,a){this._kill(e,a);return this};s._uncache=function(a){var e=a?this:this.timeline;while(e){e._dirty=true;e=e.timeline}return this};s.eventCallback=function(p,M,L,e){if(p==null){return null}else{if(p.substr(0,2)==="on"){if(arguments.length===1){return this.vars[p]}if(M==null){delete this.vars[p]}else{this.vars[p]=M;this.vars[p+"Params"]=L;this.vars[p+"Scope"]=e;if(L){var a=L.length;while(--a>-1){if(L[a]==="{self}"){L=this.vars[p+"Params"]=L.concat();L[a]=this}}}}if(p==="onUpdate"){this._onUpdate=M}}}return this};s.delay=function(a){if(!arguments.length){return this._delay}if(this._timeline.smoothChildTiming){this.startTime(this._startTime+a-this._delay)}this._delay=a;return this};s.duration=function(a){if(!arguments.length){this._dirty=false;return this._duration}this._duration=this._totalDuration=a;this._uncache(true);if(this._timeline.smoothChildTiming){if(this._active){if(a!=0){this.totalTime(this._totalTime*(a/this._duration),true)}}}return this};s.totalDuration=function(a){this._dirty=false;return(!arguments.length)?this._totalDuration:this.duration(a)};s.time=function(e,a){if(!arguments.length){return this._time}if(this._dirty){this.totalDuration()}if(e>this._duration){e=this._duration}return this.totalTime(e,a)};s.totalTime=function(p,e){if(!arguments.length){return this._totalTime}if(this._timeline){if(p<0){p+=this.totalDuration()}if(this._timeline.smoothChildTiming){if(this._dirty){this.totalDuration()}if(p>this._totalDuration){p=this._totalDuration}this._startTime=(this._paused?this._pauseTime:this._timeline._time)-((!this._reversed?p:this._totalDuration-p)/this._timeScale);if(!this._timeline._dirty){this._uncache(false)}if(!this._timeline._active){var a=this._timeline;while(a._timeline){a.totalTime(a._totalTime,true);a=a._timeline}}}if(this._gc){this._enabled(true,false)}if(this._totalTime!=p){this.render(p,e,false)}}return this};s.startTime=function(a){if(!arguments.length){return this._startTime}if(a!=this._startTime){this._startTime=a;if(this.timeline){if(this.timeline._sortChildren){this.timeline.insert(this,a-this._delay)}}}return this};s.timeScale=function(e){if(!arguments.length){return this._timeScale}e=e||0.000001;if(this._timeline&&this._timeline.smoothChildTiming){var a=(this._pauseTime||this._pauseTime==0)?this._pauseTime:this._timeline._totalTime;this._startTime=a-((a-this._startTime)*this._timeScale/e)}this._timeScale=e;return this._uncache(false)};s.reversed=function(a){if(!arguments.length){return this._reversed}if(a!=this._reversed){this._reversed=a;this.totalTime(this._totalTime,true)}return this};s.paused=function(a){if(!arguments.length){return this._paused}if(a!=this._paused){if(this._timeline){if(!a&&this._timeline.smoothChildTiming){this._startTime+=this._timeline.rawTime()-this._pauseTime;this._uncache(false)}this._pauseTime=(a)?this._timeline.rawTime():null;this._paused=a;this._active=(!this._paused&&this._totalTime>0&&this._totalTime<this._totalDuration)}}if(this._gc){if(!a){this._enabled(true,false)}}return this};var o=c("core.SimpleTimeline",function(a){H.call(this,0,a);this.autoRemoveChildren=this.smoothChildTiming=true});s=o.prototype=new H();s.constructor=o;s.kill()._gc=false;s._first=s._last=null;s._sortChildren=false;s.insert=function(e,L){e._startTime=Number(L||0)+e._delay;if(e._paused){if(this!==e._timeline){e._pauseTime=e._startTime+((this.rawTime()-e._startTime)/e._timeScale)}}if(e.timeline){e.timeline._remove(e,true)}e.timeline=e._timeline=this;if(e._gc){e._enabled(true,true)}var p=this._last;if(this._sortChildren){var a=e._startTime;while(p&&p._startTime>a){p=p._prev}}if(p){e._next=p._next;p._next=e}else{e._next=this._first;this._first=e}if(e._next){e._next._prev=e}else{this._last=e}e._prev=p;if(this._timeline){this._uncache(true)}return this};s._remove=function(a,e){if(a.timeline===this){if(!e){a._enabled(false,true)}a.timeline=null;if(a._prev){a._prev._next=a._next}else{if(this._first===a){this._first=a._next}}if(a._next){a._next._prev=a._prev}else{if(this._last===a){this._last=a._prev}}if(this._timeline){this._uncache(true)}}return this};s.render=function(M,p,L){var a=this._first,e;this._totalTime=this._time=this._rawPrevTime=M;while(a){e=a._next;if(a._active||(M>=a._startTime&&!a._paused)){if(!a._reversed){a.render((M-a._startTime)*a._timeScale,p,false)}else{a.render(((!a._dirty)?a._totalDuration:a.totalDuration())-((M-a._startTime)*a._timeScale),p,false)}}a=e}};s.rawTime=function(){return this._totalTime};var z=c("TweenLite",function(M,L,p){H.call(this,L,p);if(M==null){throw"Cannot tween an undefined reference."}this.target=M;this._overwrite=(this.vars.overwrite==null)?D[z.defaultOverwrite]:(typeof(this.vars.overwrite)==="number")?this.vars.overwrite>>0:D[this.vars.overwrite];var N,e,a;if((M instanceof Array||M.jquery)&&typeof(M[0])==="object"){this._targets=M.slice(0);this._propLookup=[];this._siblings=[];for(e=0;e<this._targets.length;e++){a=this._targets[e];if(a.jquery){this._targets.splice(e--,1);this._targets=this._targets.concat(a.constructor.makeArray(a));continue}this._siblings[e]=g(a,this,false);if(this._overwrite===1){if(this._siblings[e].length>1){C(a,this,null,1,this._siblings[e])}}}}else{this._propLookup={};this._siblings=g(M,this,false);if(this._overwrite===1){if(this._siblings.length>1){C(M,this,null,1,this._siblings)}}}if(this.vars.immediateRender||(L===0&&this._delay===0&&this.vars.immediateRender!=false)){this.render(-this._delay,false,true)}},true);s=z.prototype=new H();s.constructor=z;s.kill()._gc=false;s.ratio=0;s._firstPT=s._targets=s._overwrittenProps=null;s._notifyPluginsOfEnabled=false;z.version=12;z.defaultEase=s._ease=new J(null,null,1,1);z.defaultOverwrite="auto";z.ticker=h;var b=z._plugins={},m={},t=0,n={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,orientToBezier:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1},D={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},x=H._rootFramesTimeline=new o(),w=H._rootTimeline=new o();w._startTime=h.time;x._startTime=h.frame;w._active=x._active=true;H._updateRoot=function(){w.render((h.time-w._startTime)*w._timeScale,false,false);x.render((h.frame-x._startTime)*x._timeScale,false,false);if(!(h.frame%120)){var L,e,M;for(M in m){e=m[M].tweens;L=e.length;while(--L>-1){if(e[L]._gc){e.splice(L,1)}}if(e.length===0){delete m[M]}}}};h.addEventListener("tick",H._updateRoot);var g=function(N,L,M){var O=N._gsTweenID,e,p;if(!m[O||(N._gsTweenID=O="t"+(t++))]){m[O]={target:N,tweens:[]}}if(L){e=m[O].tweens;e[(p=e.length)]=L;if(M){while(--p>-1){if(e[p]===L){e.splice(p,1)}}}}return m[O].tweens},C=function(R,U,S,Q,T){var O,M,N;if(Q===1||Q>=4){var p=T.length;for(O=0;O<p;O++){if((N=T[O])!==U){if(!N._gc){if(N._enabled(false,false)){M=true}}}else{if(Q===5){break}}}return M}var e=U._startTime+1e-10,a=[],L=0,P;O=T.length;while(--O>-1){if((N=T[O])===U||N._gc||N._paused){}else{if(N._timeline!==U._timeline){P=P||k(U,0);if(k(N,P)===0){a[L++]=N}}else{if(N._startTime<=e){if(N._startTime+N.totalDuration()/N._timeScale+1e-10>e){if(!((U._duration===0||!N._initted)&&e-N._startTime<=2e-10)){a[L++]=N}}}}}}O=L;while(--O>-1){N=a[O];if(Q===2){if(N._kill(S,R)){M=true}}if(Q!==2||(!N._firstPT&&N._initted)){if(N._enabled(false,false)){M=true}}}return M},k=function(L,a){var e=L._timeline,M=e._timeScale,p=L._startTime;while(e._timeline){p+=e._startTime;M*=e._timeScale;if(e._paused){return -100}e=e._timeline}p/=M;return(p>a)?p-a:(!L._initted&&p-a<2e-10)?1e-10:((p=p+L.totalDuration()/L._timeScale/M)>a)?0:p-a-1e-10};s._init=function(){if(this.vars.startAt){this.vars.startAt.overwrite=0;this.vars.startAt.immediateRender=true;z.to(this.target,0,this.vars.startAt)}var e,a,p;if(this.vars.ease instanceof J){this._ease=(this.vars.easeParams instanceof Array)?this.vars.ease.config.apply(this.vars.ease,this.vars.easeParams):this.vars.ease}else{if(typeof(this.vars.ease)==="function"){this._ease=new J(this.vars.ease,this.vars.easeParams)}else{this._ease=z.defaultEase}}this._easeType=this._ease._type;this._easePower=this._ease._power;this._firstPT=null;if(this._targets){e=this._targets.length;while(--e>-1){if(this._initProps(this._targets[e],(this._propLookup[e]={}),this._siblings[e],(this._overwrittenProps?this._overwrittenProps[e]:null))){a=true}}}else{a=this._initProps(this.target,this._propLookup,this._siblings,this._overwrittenProps)}if(a){z._onPluginEvent("_onInitAllProps",this)}if(this._overwrittenProps){if(this._firstPT==null){if(typeof(this.target)!=="function"){this._enabled(false,false)}}}if(this.vars.runBackwards){p=this._firstPT;while(p){p.s+=p.c;p.c=-p.c;p=p._next}}this._onUpdate=this.vars.onUpdate;this._initted=true};s._initProps=function(P,O,R,S){var e,M,L,N,Q,T;if(P==null){return false}for(e in this.vars){if(n[e]){if(e==="onStartParams"||e==="onUpdateParams"||e==="onCompleteParams"||e==="onReverseCompleteParams"||e==="onRepeatParams"){if((Q=this.vars[e])){M=Q.length;while(--M>-1){if(Q[M]==="{self}"){Q=this.vars[e]=Q.concat();Q[M]=this}}}}}else{if(b[e]&&(N=new b[e]())._onInitTween(P,this.vars[e],this)){this._firstPT=T={_next:this._firstPT,t:N,p:"setRatio",s:0,c:1,f:true,n:e,pg:true,pr:N._priority};M=N._overwriteProps.length;while(--M>-1){O[N._overwriteProps[M]]=this._firstPT}if(N._priority||N._onInitAllProps){L=true}if(N._onDisable||N._onEnable){this._notifyPluginsOfEnabled=true}}else{this._firstPT=O[e]=T={_next:this._firstPT,t:P,p:e,f:(typeof(P[e])==="function"),n:e,pg:false,pr:0};T.s=(!T.f)?parseFloat(P[e]):P[((e.indexOf("set")||typeof(P["get"+e.substr(3)])!=="function")?e:"get"+e.substr(3))]();T.c=(typeof(this.vars[e])==="number")?this.vars[e]-T.s:(typeof(this.vars[e])==="string")?parseFloat(this.vars[e].split("=").join("")):0}}if(T){if(T._next){T._next._prev=T}}}if(S){if(this._kill(S,P)){return this._initProps(P,O,R,S)}}if(this._overwrite>1){if(this._firstPT){if(R.length>1){if(C(P,this,O,this._overwrite,R)){this._kill(O,P);return this._initProps(P,O,R,S)}}}}return L};s.render=function(L,Q,p){var e=this._time,O,P,R;if(L>=this._duration){this._totalTime=this._time=this._duration;this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1;if(!this._reversed){O=true;P="onComplete"}if(this._duration===0){if(L===0||this._rawPrevTime<0){if(this._rawPrevTime!==L){p=true}}this._rawPrevTime=L}}else{if(L<=0){this._totalTime=this._time=0;this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0;if(e!==0||(this._duration===0&&this._rawPrevTime>0)){P="onReverseComplete";O=this._reversed}if(L<0){this._active=false;if(this._duration===0){if(this._rawPrevTime>=0){p=true}this._rawPrevTime=L}}else{if(!this._initted){p=true}}}else{this._totalTime=this._time=L;if(this._easeType){var a=L/this._duration,N=this._easeType,M=this._easePower;if(N===1||(N===3&&a>=0.5)){a=1-a}if(N===3){a*=2}if(M===1){a*=a}else{if(M===2){a*=a*a}else{if(M===3){a*=a*a*a}else{if(M===4){a*=a*a*a*a}}}}if(N===1){this.ratio=1-a}else{if(N===2){this.ratio=a}else{if(L/this._duration<0.5){this.ratio=a/2}else{this.ratio=1-(a/2)}}}}else{this.ratio=this._ease.getRatio(L/this._duration)}}}if(this._time===e&&!p){return}else{if(!this._initted){this._init();if(!O&&this._time){this.ratio=this._ease.getRatio(this._time/this._duration)}}}if(!this._active){if(!this._paused){this._active=true}}if(e===0){if(this.vars.onStart){if(this._time!==0||this._duration===0){if(!Q){this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||K)}}}}R=this._firstPT;while(R){if(R.f){R.t[R.p](R.c*this.ratio+R.s)}else{R.t[R.p]=R.c*this.ratio+R.s}R=R._next}if(this._onUpdate){if(!Q){this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||K)}}if(P){if(!this._gc){if(O){if(this._timeline.autoRemoveChildren){this._enabled(false,false)}this._active=false}if(!Q){if(this.vars[P]){this.vars[P].apply(this.vars[P+"Scope"]||this,this.vars[P+"Params"]||K)}}}}};s._kill=function(P,O){if(P==="all"){P=null}if(P==null){if(O==null||O==this.target){return this._enabled(false,false)}}O=O||this._targets||this.target;var L,R,a,S,N,e,Q,M;if((O instanceof Array||O.jquery)&&typeof(O[0])==="object"){L=O.length;while(--L>-1){if(this._kill(P,O[L])){e=true}}}else{if(this._targets){L=this._targets.length;while(--L>-1){if(O===this._targets[L]){N=this._propLookup[L]||{};this._overwrittenProps=this._overwrittenProps||[];R=this._overwrittenProps[L]=P?this._overwrittenProps[L]||{}:"all";break}}}else{if(O!==this.target){return false}else{N=this._propLookup;R=this._overwrittenProps=P?this._overwrittenProps||{}:"all"}}if(N){Q=P||N;M=(P!=R&&R!="all"&&P!=N&&(P==null||P._tempKill!=true));for(a in Q){if((S=N[a])){if(S.pg&&S.t._kill(Q)){e=true}if(!S.pg||S.t._overwriteProps.length===0){if(S._prev){S._prev._next=S._next}else{if(S===this._firstPT){this._firstPT=S._next}}if(S._next){S._next._prev=S._prev}S._next=S._prev=null}delete N[a]}if(M){R[a]=1}}}}return e};s.invalidate=function(){if(this._notifyPluginsOfEnabled){z._onPluginEvent("_onDisable",this)}this._firstPT=null;this._overwrittenProps=null;this._onUpdate=null;this._initted=this._active=this._notifyPluginsOfEnabled=false;this._propLookup=(this._targets)?{}:[];return this};s._enabled=function(e,a){if(e&&this._gc){if(this._targets){var p=this._targets.length;while(--p>-1){this._siblings[p]=g(this._targets[p],this,true)}}else{this._siblings=g(this.target,this,true)}}H.prototype._enabled.call(this,e,a);if(this._notifyPluginsOfEnabled){if(this._firstPT){return z._onPluginEvent(((e)?"_onEnable":"_onDisable"),this)}}return false};z.to=function(p,e,a){return new z(p,e,a)};z.from=function(p,e,a){a.runBackwards=true;if(a.immediateRender!=false){a.immediateRender=true}return new z(p,e,a)};z.fromTo=function(p,e,L,a){a.startAt=L;if(L.immediateRender){a.immediateRender=true}return new z(p,e,a)};z.delayedCall=function(a,M,L,p,e){return new z(M,0,{delay:a,onComplete:M,onCompleteParams:L,onCompleteScope:p,onReverseComplete:M,onReverseCompleteParams:L,onReverseCompleteScope:p,immediateRender:false,useFrames:e,overwrite:0})};z.set=function(e,a){return new z(e,0,a)};z.killTweensOf=z.killDelayedCallsTo=function(M,L){var e=z.getTweensOf(M),p=e.length;while(--p>-1){e[p]._kill(L,M)}};z.getTweensOf=function(N){if(N==null){return}var M,e,p,L;if((N instanceof Array||N.jquery)&&typeof(N[0])==="object"){M=N.length;e=[];while(--M>-1){e=e.concat(z.getTweensOf(N[M]))}M=e.length;while(--M>-1){L=e[M];p=M;while(--p>-1){if(L===e[p]){e.splice(M,1)}}}}else{e=g(N).concat();M=e.length;while(--M>-1){if(e[M]._gc){e.splice(M,1)}}}return e};var q=c("plugins.TweenPlugin",function(e,a){this._overwriteProps=(e||"").split(",");this._propName=this._overwriteProps[0];this._priority=a||0},true);s=q.prototype;q.version=12;q.API=2;s._firstPT=null;s._addTween=function(L,O,N,a,p,e){var M;if(a!=null&&(M=(typeof(a)==="number"||a.charAt(1)!=="=")?Number(a)-N:Number(a.split("=").join("")))){this._firstPT={_next:this._firstPT,t:L,p:O,s:N,c:M,f:(typeof(L[O])==="function"),n:p||O,r:e};if(this._firstPT._next){this._firstPT._next._prev=this._firstPT}}};s.setRatio=function(a){var e=this._firstPT,p;while(e){p=e.c*a+e.s;if(e.r){p=(p+((p>0)?0.5:-0.5))>>0}if(e.f){e.t[e.p](p)}else{e.t[e.p]=p}e=e._next}};s._kill=function(p){if(p[this._propName]!=null){this._overwriteProps=[]}else{var a=this._overwriteProps.length;while(--a>-1){if(p[this._overwriteProps[a]]!=null){this._overwriteProps.splice(a,1)}}}var e=this._firstPT;while(e){if(p[e.n]!=null){if(e._next){e._next._prev=e._prev}if(e._prev){e._prev._next=e._next;e._prev=null}else{if(this._firstPT===e){this._firstPT=e._next}}}e=e._next}return false};s._roundProps=function(p,a){var e=this._firstPT;while(e){if(p[this._propName]||(e.n!=null&&p[e.n.split(this._propName+"_").join("")])){e.r=a}e=e._next}};z._onPluginEvent=function(p,a){var N=a._firstPT,P;if(p==="_onInitAllProps"){var M,O,L,e;while(N){e=N._next;M=O;while(M&&M.pr>N.pr){M=M._next}if((N._prev=M?M._prev:L)){N._prev._next=N}else{O=N}if((N._next=M)){M._prev=N}else{L=N}N=e}N=a._firstPT=O}while(N){if(N.pg){if(typeof(N.t[p])==="function"){if(N.t[p]()){P=true}}}N=N._next}return P};q.activate=function(a){var e=a.length;while(--e>-1){if(a[e].API===q.API){z._plugins[(new a[e]())._propName]=a[e]}}return true};if((I=l._gsQueue)){for(B=0;B<I.length;B++){I[B]()}for(s in d){if(!d[s].def){console.log("Warning: TweenLite encountered missing dependency: com.greensock."+s)}}}})(window);(function(){RGBColorStatic={};var b={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};var c=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[a(parseInt(d[1])),a(parseInt(d[2])),a(parseInt(d[3]))]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[a(parseInt(d[1],16)),a(parseInt(d[2],16)),a(parseInt(d[3],16))]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[a(parseInt(d[1]+d[1],16)),a(parseInt(d[2]+d[2],16)),a(parseInt(d[3]+d[3],16))]}}];var a=function(d){return(d<0||isNaN(d))?0:((d>255)?255:d)};RGBColorStatic.parse=function(k){if(k===""){return[]}k=String(k).toLowerCase();var d=false;if(k.charAt(0)=="#"){k=k.substr(1,6);d=true}else{k=k.replace(/ /g,"")}if(d==false&&k.indexOf("rgb(")==0){var h=c[0].re;var g=c[0].process;var j=h.exec(k);if(j){return g(j)}}else{if(d==false){for(var f in b){if(k==f){k=simple_colors[f]}}}for(var e=1;e<c.length;e++){var h=c[e].re;var g=c[e].process;var j=h.exec(k);if(j){return g(j)}}}return[]}})();(function(){var b;if(window){sap=window.sap||{}}else{sap=sap||{}}if(window.sap){sap.viz=window.sap.viz||{}}else{sap.viz=sap.viz||{}}if(window.sap.viz){sap.viz.container=window.sap.viz.container||{}}else{sap.viz.container=sap.viz.container||{}}var a=sap.viz.container;a.VERSION=function(){return"1.0.0"};a.BUILD=function(){return 1};a.declare=function(d){if(!d){throw new Error("name required")}if(typeof(d)!="string"){throw new Error("name has to be a string")}if(d.charAt(0)=="."||d.charAt(d.length-1)=="."||d.indexOf("..")!=-1){throw new Error("illegal name: "+d)}d=d.split(".");var e=window;for(var c=0;c<d.length;c++){e[d[c]]=e[d[c]]||{};e=e[d[c]]}return e};a.require=function(c){};a.extend=function(g,c){var d=g.prototype;g.superclass=c.prototype;var e=function(){};e.prototype=c.prototype;g.prototype=new e();for(var f in d){if(d.hasOwnProperty(f)){g.prototype[f]=d[f]}}g.prototype.constructor=g;if(c.prototype.constructor==Object.prototype.constructor){c.prototype.constructor=c}return g}})();(function(){var a=sap.viz.container;a.declare("sap.viz.morph.constant.MorphConst");var b=sap.viz.morph.constant.MorphConst;b.SHAPE_DATA="data";b.SHAPE_TRANSLATE_X="translateX";b.SHAPE_TRANSLATE_y="translateY";b.SHAPE_SCALE_X="scaleX";b.SHAPE_SCALE_Y="scaleY"})();(function(){var d=sap.viz.container;d.declare("sap.viz.morph.utils");var b=sap.viz.morph.utils;var a=0;b.genUID=function(){if(!a){a=0}return"mgen_"+(a++)};var c={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"};b.type=function(e){return e==null?String(e):c[Object.prototype.toString.call(e)]||"object"};b.isFunction=function(e){return b.type(e)==="function"};b.isBoolean=function(e){return b.type(e)==="boolean"};b.isString=function(e){return b.type(e)==="string"};b.isArray=function(e){return b.type(e)==="array"};b.isNumber=function(e){return b.type(e)==="number"};b.isRegExp=function(e){return b.type(e)==="regexp"};b.sortArrayOn=function(e,g,f){if(b.isArray(e)&&b.isString(g)){e.sort(function(j,h){return f?(j[g]<h[g])-(j[g]>h[g]):(j[g]>h[g])-(j[g]<h[g])})}};b.noop=function(){}})();(function(){var c=sap.viz.container;c.declare("sap.viz.morph.utils.DeepEqual");var b=Array.prototype.slice;var f=typeof Object.keys==="function"?Object.keys:function(k){var j=[];for(var h in k){j.push(h)}return j};var a=function(j,h){if(j===h){return true}else{if(j instanceof Date&&h instanceof Date){return j.getTime()===h.getTime()}else{if(typeof j!="object"&&typeof h!="object"){return j==h}else{return e(j,h)}}}};function d(h){return h===null||h===undefined}function g(h){return Object.prototype.toString.call(h)=="[object Arguments]"}function e(j,h){if(d(j)||d(h)){return false}if(j.prototype!==h.prototype){return false}if(g(j)){if(!g(h)){return false}j=b.call(j);h=b.call(h);return a(j,h)}try{var n=f(j),m=f(h),l,k}catch(o){return false}if(n.length!=m.length){return false}n.sort();m.sort();for(k=n.length-1;k>=0;k--){if(n[k]!=m[k]){return false}}for(k=n.length-1;k>=0;k--){l=n[k];if(!a(j[l],h[l])){return false}}return true}sap.viz.morph.utils.DeepEqual=a})();(function(){var b=sap.viz.container;b.declare("sap.viz.morph.utils.Cache");var c=sap.viz.morph.utils.Cache;var a=function(g,f){for(var d=0,e=g.length;d<e;d++){if(g[d]===f){return g.push(g.splice(d,1)[0])}}};c.func=function(h,e,d){function g(){var f=Array.prototype.slice.call(arguments,0),k=f.join("\u2400"),j=g.cache=g.cache||{},l=g.count=g.count||[];if(j.hasOwnProperty(k)){a(l,k);return d?d(j[k]):j[k]}l.length>=1000&&delete j[l.shift()];l.push(k);j[k]=h.apply(e,f);return d?d(j[k]):j[k]}return g}})();(function(){var b=sap.viz.container;b.declare("sap.viz.morph.utils.ColorUtil");b.require("sap.viz.morph.utils");b.require("sap.viz.morph.utils.Cache");var a=sap.viz.morph.utils;var c=sap.viz.morph.utils.Cache;var d=sap.viz.morph.utils.ColorUtil;d.parse=c.func(function(e){return RGBColorStatic.parse(e)});d.numberToHexString=function(f){var k=((f&16711680)>>16).toString(16),j=((f&65280)>>8).toString(16),e=(f&255).toString(16);var h="#"+((k.length==1)?"0"+k:k)+((j.length==1)?"0"+j:j)+((e.length==1)?"0"+e:e);return h};d.hexStringToNumber=function(f){if(!f){return 0}if(f.charAt(0)=="#"){f=f.substr(1)}var k=parseInt(f.substr(0,2),16),j=parseInt(f.substr(2,2),16),e=parseInt(f.substr(4,2),16);var h=(Math.max(0,Math.min(255,k))*65536)+(Math.max(0,Math.min(255,j))*256)+Math.max(0,Math.min(255,e));return h};d.numberToRGB=function(f){var j=(f&16711680)>>16,h=(f&65280)>>8,e=f&255;return"rgb("+j+","+h+","+e+")"};d.numberToRGBA=function(f,k){var j=(f&16711680)>>16,h=(f&65280)>>8,e=f&255;if(k===undefined||k<=0||k>1){k=1}return"rgba("+j+","+h+","+e+","+k+")"};d.RGBToNumber=function(j,h,e){var f=(Math.max(0,Math.min(255,j))*65536)+(Math.max(0,Math.min(255,h))*256)+Math.max(0,Math.min(255,e));return f};d.getColorMix=function(g,e,f){return d.getPercentageOfColor(g,1-f)+d.getPercentageOfColor(e,f)};d.getPercentageOfColor=function(j,f){f=Math.min(1,Math.max(0,f));var h=(j&16711680)>>16;var g=(j&65280)>>8;var e=j&255;return(h*f)<<16|(g*f)<<8|(e*f)};d.adjustBrightness=function(h,f){var k=Math.max(Math.min(((h>>16)&255)+f,255),0);var j=Math.max(Math.min(((h>>8)&255)+f,255),0);var e=Math.max(Math.min((h&255)+f,255),0);return(k<<16)|(j<<8)|e};d.adjustBrightness2=function(h,f){var k=NaN;var j=NaN;var e=NaN;if(f==0){return h}if(f<0){f=(100+f)/100;k=((h>>16)&255)*f;j=((h>>8)&255)*f;e=(h&255)*f}else{f/=100;k=((h>>16)&255);j=((h>>8)&255);e=(h&255);k+=((255-k)*f);j+=((255-j)*f);e+=((255-e)*f);k=Math.min(k,255);j=Math.min(j,255);e=Math.min(e,255)}return(k<<16)|(j<<8)|e};d.rgbMultiply=function(m,l){var j=(m>>16)&255;var h=(m>>8)&255;var k=m&255;var f=(l>>16)&255;var e=(l>>8)&255;var g=l&255;return((j*f/255)<<16)|((h*e/255)<<8)|(k*g/255)}})();(function(){var b=sap.viz.container;b.declare("sap.viz.morph.utils.SVGShapeMetadata");var a=sap.viz.morph.utils.SVGShapeMetadata;var c="__vizmp__";a.set=function(e,d,f){if(!e[c]){e[c]={}}e[c][d]=f};a.get=function(e,d){if(e&&e[c]!==null&&e[c]!==undefined){return e[c][d]}return undefined};a.clone=function(d,e){d[c]=e[c];return d}})();(function(){var d=sap.viz.container;d.declare("sap.viz.morph.utils.SVGShapeReplacer");d.require("sap.viz.morph.utils.SVGShapeMetadata");var c=sap.viz.morph.utils.SVGShapeReplacer;var b=sap.viz.morph.utils.SVGShapeMetadata;var e="http://www.w3.org/2000/svg";var a=["x","y","width","height","rx","ry","x1","x2","y1","y2"];c.replace=function(n,j,k,m){if(n&&j){var g=document.createElementNS(e,j);if(m){var o=n.attributes;for(var l=0;l<o.length;l++){var h=o[l];if(a.indexOf(h.localName)==-1){g.setAttribute(h.localName,h.value)}}}for(var f in k){g.setAttribute(f,k[f])}b.clone(g,n);if(n.parentNode){n.parentNode.replaceChild(g,n)}return g}return null};c.replaceToPath=function(p){if(p){var t=null;switch(p.localName){case"rect":var q=p.getAttribute("x")||0;var n=p.getAttribute("y")||0;var r=p.getAttribute("width")||0;var l=p.getAttribute("height")||0;var k=p.getAttribute("rx")||0;var g=p.getAttribute("ry")||0;t="M"+q+","+n+"L"+(r+q)+","+n+"L"+(r+q)+","+(l+n)+"L"+q+","+(l+n)+"L"+q+","+n+"Z";break;case"line":var j=p.getAttribute("x1")||0;var o=p.getAttribute("y1")||0;var f=p.getAttribute("x2")||0;var m=p.getAttribute("y2")||0;t="M"+j+","+o+"L"+f+","+m;break;default:}if(t){var s={d:t};return c.replace(p,"path",s,true)}}return null}})();(function(){var b=sap.viz.container;b.declare("sap.viz.morph.morphers.ColorMorpher");b.require("sap.viz.morph.utils");b.require("sap.viz.morph.utils.ColorUtil");var a=sap.viz.morph.utils;var e=sap.viz.morph.utils.ColorUtil;var c=sap.viz.morph.morphers.ColorMorpher;var d=function(h,g){var f=parseFloat(h.getAttribute(g));return isNaN(f)?1:f};c.getPercentage=function(k,j,g){g=g>100?100:g<0?0:g;var h=e.parse(k);var f=e.parse(j);if(h.length==0&&f.length==0){return""}if(h.length==0&&f.length==3){return"rgb("+f[0]+","+f[1]+","+f[2]+")"}if(h.length==3&&f.length==0){return""}return"rgb("+Math.round(h[0]+(f[0]-h[0])*g/100)+","+Math.round(h[1]+(f[1]-h[1])*g/100)+","+Math.round(h[2]+(f[2]-h[2])*g/100)+")"};c.svg=function(n,g,h,q){if(g){var m=n?n.getAttribute("stroke"):"";var l=g.getAttribute("stroke");var j=n?n.getAttribute("fill"):"";var f=g.getAttribute("fill");h.setAttribute("stroke",c.getPercentage(m,l,q));h.setAttribute("fill",c.getPercentage(j,f,q));if(n){var k=d(n,"fill-opacity");var p=d(g,"fill-opacity");var o=d(n,"stroke-opacity");var r=d(g,"stroke-opacity");if(k!=p){h.setAttribute("fill-opacity",k+(p-k)*q/100)}if(o!=r){h.setAttribute("stroke-opacity",o+(r-o)*q/100)}}else{if(g.getAttribute("fill-opacity")!==""){var p=d(g,"fill-opacity");h.setAttribute("fill-opacity",0+(p-0)*q/100)}else{h.setAttribute("fill-opacity","")}if(g.getAttribute("stroke-opacity")!==""){var r=d(g,"stroke-opacity");h.setAttribute("stroke-opacity",0+(r-0)*q/100)}else{h.setAttribute("stroke-opacity","")}}}}})();(function(){var c=sap.viz.container;c.declare("sap.viz.morph.morphers.LineMorpher");var a=sap.viz.morph.morphers.LineMorpher;a.getPercentageLine=function(g,f,e){return{x:g.x+(f.x-g.x)*e/100,y:g.y+(f.y-g.y)*e/100,x2:g.x2+(f.x2-g.x2)*e/100,y2:g.y2+(f.y2-g.y2)*e/100}};var b=function(g,f){var e=parseInt(g.getAttribute(f),10);return isNaN(e)?0:e};var d=function(g,f){var e=parseFloat(g.getAttribute(f));return isNaN(e)?0:e};a.svg=function(o,j,l,p){if(j&&j.localName=="line"){if(o&&o.localName=="rect"){var k=d(o,"x1");var g=d(j,"x1");var h=d(o,"x2");var f=d(j,"x2");var e=d(o,"y1");var n=d(j,"y1");var q=d(o,"y2");var m=d(j,"y2");l.setAttribute("x1",k+(g-k)*p/100);l.setAttribute("y1",e+(n-e)*p/100);l.setAttribute("x2",h+(f-h)*p/100);l.setAttribute("y2",q+(m-q)*p/100)}else{if(!o){var g=d(j,"x1");var f=d(j,"x2");var n=d(j,"y1");var m=d(j,"y2");l.setAttribute("x1",g);l.setAttribute("y1",n);l.setAttribute("x2",0+(f-0)*p/100);l.setAttribute("y2",0+(m-0)*p/100)}}}}})();(function(){var c=sap.viz.container;c.declare("sap.viz.morph.morphers.PathMorpher");c.require("sap.viz.morph.utils");c.require("sap.viz.morph.utils.Cache");var D=sap.viz.morph.utils;var C=sap.viz.morph.utils.Cache;var g="concat",x="apply",d="hasOwnProperty",t="split",o=String.prototype.toLowerCase,h=String.prototype.toUpperCase,k=parseFloat,m=parseInt,e=Math,I=e.max,F=e.min,q=e.abs,f=e.pow,w=e.PI,G="number",b="string",j="array",A="toString";var n=/,?([achlmqrstvxz]),?/gi,r=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,B=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/ig;var a=function(J){return J?J.join(",").replace(n,"$1"):this.join(",").replace(n,"$1")};var H=function(L,O){var N=[];for(var K=0,J=L.length;J-2*!O>K;K+=2){var M=[{x:+L[K-2],y:+L[K-1]},{x:+L[K],y:+L[K+1]},{x:+L[K+2],y:+L[K+3]},{x:+L[K+4],y:+L[K+5]}];if(O){if(!K){M[0]={x:+L[J-2],y:+L[J-1]}}else{if(J-4==K){M[3]={x:+L[0],y:+L[1]}}else{if(J-2==K){M[2]={x:+L[0],y:+L[1]};M[3]={x:+L[2],y:+L[3]}}}}}else{if(J-4==K){M[3]=M[2]}else{if(!K){M[0]={x:+L[K],y:+L[K+1]}}}}N.push(["C",(-M[0].x+6*M[1].x+M[2].x)/6,(-M[0].y+6*M[1].y+M[2].y)/6,(M[1].x+6*M[2].x-M[3].x)/6,(M[1].y+6*M[2].y-M[3].y)/6,M[2].x,M[2].y])}return N};var z=function(J){if(!J){return null}var L={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},K=[];if(!K.length){String(J).replace(r,function(N,M,Q){var P=[],O=M.toLowerCase();Q.replace(B,function(S,R){R&&P.push(+R)});if(O=="m"&&P.length>2){K.push([M][g](P.splice(0,2)));O="l";M=M=="m"?"l":"L"}if(O=="r"){K.push([M][g](P))}else{while(P.length>=L[O]){K.push([M][g](P.splice(0,L[O])));if(!L[O]){break}}}})}K.toString=a;return K};var E=function(M){if(!D.isArray(M)||!D.isArray(M&&M[0])){M=z(M)}if(!M||!M.length){return[["M",0,0]]}var S=[],V=0,U=0,Y=0,X=0,L=0;if(M[0][0]=="M"){V=+M[0][1];U=+M[0][2];Y=V;X=U;L++;S[0]=["M",V,U]}var R=M.length==3&&M[0][0]=="M"&&M[1][0].toUpperCase()=="R"&&M[2][0].toUpperCase()=="Z";for(var J,W,P=L,Z=M.length;P<Z;P++){S.push(J=[]);W=M[P];if(W[0]!=h.call(W[0])){J[0]=h.call(W[0]);switch(J[0]){case"A":J[1]=W[1];J[2]=W[2];J[3]=W[3];J[4]=W[4];J[5]=W[5];J[6]=+(W[6]+V);J[7]=+(W[7]+U);break;case"V":J[1]=+W[1]+U;break;case"H":J[1]=+W[1]+V;break;case"R":var T=[V,U][g](W.slice(1));for(var O=2,Q=T.length;O<Q;O++){T[O]=+T[O]+V;T[++O]=+T[O]+U}S.pop();S=S[g](H(T,R));break;case"M":Y=+W[1]+V;X=+W[2]+U;default:for(O=1,Q=W.length;O<Q;O++){J[O]=+W[O]+((O%2)?V:U)}}}else{if(W[0]=="R"){T=[V,U][g](W.slice(1));S.pop();S=S[g](H(T,R));J=["R"][g](W.slice(-2))}else{for(var N=0,K=W.length;N<K;N++){J[N]=W[N]}}}switch(J[0]){case"Z":V=Y;U=X;break;case"H":V=J[1];break;case"V":U=J[1];break;case"M":Y=J[J.length-2];X=J[J.length-1];default:V=J[J.length-2];U=J[J.length-1]}}S.toString=a;return S};var s=function(K,M,J,L){return[K,M,J,L,J,L]};var l=function(K,M,P,N,J,L){var O=1/3,Q=2/3;return[O*K+Q*P,O*M+Q*N,O*J+Q*P,O*L+Q*N,J,L]};var p=function(W,aC,af,ad,X,R,M,V,aB,Y){var ac=w*120/180,J=w/180*(+X||0),aj=[],ag,ay=C.func(function(aE,aH,aD){var aG=aE*e.cos(aD)-aH*e.sin(aD),aF=aE*e.sin(aD)+aH*e.cos(aD);return{x:aG,y:aF}});if(!Y){ag=ay(W,aC,-J);W=ag.x;aC=ag.y;ag=ay(V,aB,-J);V=ag.x;aB=ag.y;var K=e.cos(w/180*X),T=e.sin(w/180*X),al=(W-V)/2,ak=(aC-aB)/2;var aw=(al*al)/(af*af)+(ak*ak)/(ad*ad);if(aw>1){aw=e.sqrt(aw);af=aw*af;ad=aw*ad}var L=af*af,ao=ad*ad,aq=(R==M?-1:1)*e.sqrt(q((L*ao-L*ak*ak-ao*al*al)/(L*ak*ak+ao*al*al))),aa=aq*af*ak/ad+(W+V)/2,Z=aq*-ad*al/af+(aC+aB)/2,Q=e.asin(((aC-Z)/ad).toFixed(9)),P=e.asin(((aB-Z)/ad).toFixed(9));Q=W<aa?w-Q:Q;P=V<aa?w-P:P;Q<0&&(Q=w*2+Q);P<0&&(P=w*2+P);if(M&&Q>P){Q=Q-w*2}if(!M&&P>Q){P=P-w*2}}else{Q=Y[0];P=Y[1];aa=Y[2];Z=Y[3]}var U=P-Q;if(q(U)>ac){var ab=P,ae=V,S=aB;P=Q+ac*(M&&P>Q?1:-1);V=aa+af*e.cos(P);aB=Z+ad*e.sin(P);aj=p(V,aB,af,ad,X,0,M,ae,S,[P,ab,aa,Z])}U=P-Q;var O=e.cos(Q),aA=e.sin(Q),N=e.cos(P),az=e.sin(P),am=e.tan(U/4),ap=4/3*af*am,an=4/3*ad*am,ax=[W,aC],av=[W+ap*aA,aC-an*O],au=[V+ap*az,aB-an*N],ar=[V,aB];av[0]=2*ax[0]-av[0];av[1]=2*ax[1]-av[1];if(Y){return[av,au,ar][g](aj)}else{aj=[av,au,ar][g](aj).join()[t](",");var ah=[];for(var at=0,ai=aj.length;at<ai;at++){ah[at]=at%2?ay(aj[at-1],aj[at],J).y:ay(aj[at],aj[at+1],J).x}return ah}};var v=C.func(function(X,S){var M=E(X),T=S&&E(S),U={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},J={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},O=function(Z,aa){var Y,ab;if(!Z){return["C",aa.x,aa.y,aa.x,aa.y,aa.x,aa.y]}!(Z[0] in {T:1,Q:1})&&(aa.qx=aa.qy=null);switch(Z[0]){case"M":aa.X=Z[1];aa.Y=Z[2];break;case"A":Z=["C"][g](p[x](0,[aa.x,aa.y][g](Z.slice(1))));break;case"S":Y=aa.x+(aa.x-(aa.bx||aa.x));ab=aa.y+(aa.y-(aa.by||aa.y));Z=["C",Y,ab][g](Z.slice(1));break;case"T":aa.qx=aa.x+(aa.x-(aa.qx||aa.x));aa.qy=aa.y+(aa.y-(aa.qy||aa.y));Z=["C"][g](l(aa.x,aa.y,aa.qx,aa.qy,Z[1],Z[2]));break;case"Q":aa.qx=Z[1];aa.qy=Z[2];Z=["C"][g](l(aa.x,aa.y,Z[1],Z[2],Z[3],Z[4]));break;case"L":Z=["C"][g](s(aa.x,aa.y,Z[1],Z[2]));break;case"H":Z=["C"][g](s(aa.x,aa.y,Z[1],aa.y));break;case"V":Z=["C"][g](s(aa.x,aa.y,aa.x,Z[1]));break;case"Z":Z=["C"][g](s(aa.x,aa.y,aa.X,aa.Y));break}return Z},K=function(Y,Z){if(Y[Z].length>7){Y[Z].shift();var aa=Y[Z];while(aa.length){Y.splice(Z++,0,["C"][g](aa.splice(0,6)))}Y.splice(Z,1);V=I(M.length,T&&T.length||0)}},L=function(ac,ab,Z,Y,aa){if(ac&&ab&&ac[aa][0]=="M"&&ab[aa][0]!="M"){ab.splice(aa,0,["M",Y.x,Y.y]);Z.bx=0;Z.by=0;Z.x=ac[aa][1];Z.y=ac[aa][2];V=I(M.length,T&&T.length||0)}};for(var Q=0,V=I(M.length,T&&T.length||0);Q<V;Q++){M[Q]=O(M[Q],U);K(M,Q);T&&(T[Q]=O(T[Q],J));T&&K(T,Q);L(M,T,U,J,Q);L(T,M,J,U,Q);var P=M[Q],W=T&&T[Q],N=P.length,R=T&&W.length;U.x=P[N-2];U.y=P[N-1];U.bx=k(P[N-4])||U.x;U.by=k(P[N-3])||U.y;J.bx=T&&(k(W[R-4])||J.x);J.by=T&&(k(W[R-3])||J.y);J.x=T&&W[R-2];J.y=T&&W[R-1]}return T?[M,T]:M});var u=sap.viz.morph.morphers.PathMorpher;u.getPercentagePath=function(O,P,R){if(!O||!P){return""}var L=v(String(O),String(P));var J=L[0];var N=L[1];var Q=[];for(i=0,ii=J.length;i<ii;i++){Q[i]=[J[i][0]];for(var K=1,M=J[i].length;K<M;K++){Q[i][K]=J[i][K]+(N[i][K]-J[i][K])*R/100}}return a(Q)};u.svg=function(N,O,Q,L){if(O&&O.localName=="path"&&(!N||N.localName=="path")){var M=O.getAttribute("d");if(M.length>1){var P="";if(N){P=N.getAttribute("d")}if(!P){var K=M.match(r);if(K.length>0){P=K[0]}else{P="M0,0"}}var J=u.getPercentagePath(P,M,L);Q.setAttribute("d",J)}}}})();(function(){var b=sap.viz.container;b.declare("sap.viz.morph.morphers.RectMorpher");var d=sap.viz.morph.morphers.RectMorpher;d.getPercentageRect=function(g,f,e){return{w:g.w+(f.w-g.w)*e/100,h:g.h+(f.h-g.h)*e/100,x:g.x+(f.x-g.x)*e/100,y:g.y+(f.y-g.y)*e/100,r:g.r+(f.r-g.r)*e/100}};var a=function(g,f){var e=parseInt(g.getAttribute(f),10);return isNaN(e)?0:e};var c=function(g,f){var e=parseFloat(g.getAttribute(f));return isNaN(e)?0:e};d.svg=function(t,e,f,u){if(e&&e.localName=="rect"){if(t&&t.localName=="rect"){var o=c(t,"x");var p=c(e,"x");var q=c(t,"rx");var k=c(e,"rx");var n=c(t,"y");var m=c(e,"y");var l=c(t,"ry");var j=c(e,"ry");var s=c(t,"width");var r=c(e,"width");var h=c(t,"height");var g=c(e,"height");f.setAttribute("x",o+(p-o)*u/100);f.setAttribute("y",n+(m-n)*u/100);f.setAttribute("rx",q+(k-q)*u/100);f.setAttribute("ry",l+(j-l)*u/100);f.setAttribute("width",s+(r-s)*u/100);f.setAttribute("height",h+(g-h)*u/100)}else{if(!t){var p=c(e,"x");var k=c(e,"rx");var m=c(e,"y");var j=c(e,"ry");var r=c(e,"width");var g=c(e,"height");f.setAttribute("x",p);f.setAttribute("y",m);f.setAttribute("rx",0+(k-0)*u/100);f.setAttribute("ry",0+(j-0)*u/100);f.setAttribute("width",0+(r-0)*u/100);f.setAttribute("height",0+(g-0)*u/100)}}}}})();(function(){var d=sap.viz.container;d.declare("sap.viz.morph.morphers.TextMorpher");var a=sap.viz.morph.morphers.TextMorpher;var c=function(h,g){var f=parseInt(h.getAttribute(g),10);return isNaN(f)?0:f};var e=function(h,g){var f=parseFloat(h.getAttribute(g));return isNaN(f)?0:f};var b=function(n,o,p){var k=reg.exec(n);var l=parseInt(k[0],10);var h=k[1];var j=reg.exec(o);var g=parseInt(j[0],10);var f=j[1];var m=l;switch(h){case"pt":m=m*1.33;break;case"px":m=m;break;default:m=m}switch(f){case"pt":m=m/1.33;break;case"px":m=m;break;default:m=m}return String(m+Math.round((g-m)*p/100))+f};a.svg=function(o,g,j,p){if(g.localName=="g"&&g.firstChild&&g.firstChild.localName=="text"){if(o&&o.localName=="g"&&o.firstChild&&o.firstChild.localName=="text"){var m=e(o.firstChild,"x");var n=e(g.firstChild,"x");var k=e(o.firstChild,"y");var l=e(g.firstChild,"y");j.firstChild.setAttribute("x",m+(n-m)*p/100);j.firstChild.setAttribute("y",k+(l-k)*p/100);var q=o.getAttribute("font-size");var h=g.getAttribute("font-size");if(q&&h&&q!=h){var f=b(q,h,p);j.setAttribute("font-size",f)}}else{if(!o){j.setAttribute("opacity",p/100)}}}}})();(function(){var b=sap.viz.container;b.declare("sap.viz.morph.morphers.TransformMorpher");b.require("sap.viz.morph.constant.MorphConst");b.require("sap.viz.morph.utils.SVGShapeMetadata");var c=sap.viz.morph.morphers.TransformMorpher;var d=sap.viz.morph.constant.MorphConst;var a=sap.viz.morph.utils.SVGShapeMetadata;c.getPercentageValue=function(l,h,k,g,f){var e=l+(k-l)*f/100;var j=h+(g-h)*f/100;return"translate("+e+","+j+")"};c.svg=function(u,l,m,v){if(l){var p="";if(u){var s=a.get(u,d.SHAPE_TRANSLATE_X)||0;var r=a.get(u,d.SHAPE_TRANSLATE_Y)||0;var t=a.get(l,d.SHAPE_TRANSLATE_X)||0;var q=a.get(l,d.SHAPE_TRANSLATE_Y)||0;var f=s+(t-s)*v/100;var e=r+(q-r)*v/100;if(f!==0||e!==0){p+=(p?" ":"")+"translate("+f+","+e+")"}}var k=a.get(u,d.SHAPE_SCALE_X);k=k===undefined?1:k;var j=a.get(u,d.SHAPE_SCALE_Y);j=j===undefined?1:j;var o=a.get(l,d.SHAPE_SCALE_X);o=o===undefined?1:o;var n=a.get(l,d.SHAPE_SCALE_Y);n=n===undefined?1:n;var h=k+(o-k)*v/100;var g=j+(n-j)*v/100;if(h!==1||g!==1){p+=(p?" ":"")+"scale("+h+","+g+")"}if(p){m.setAttribute("transform",p)}}}})();(function(){var a=sap.viz.container;a.declare("sap.viz.morph.vo.VizShape");var b=sap.viz.morph.vo.VizShape=function(e,d,c){this.from=e;this.to=d;this.display=c}})();(function(){var b=sap.viz.container;b.declare("sap.viz.morph.vo.VizShapesHolder");var a=sap.viz.morph.vo.VizShapesHolder=function(){this.plotShapes=[];this.plotLines=[];this.xAxisLabels=[];this.xAxis2Labels=[];this.yAxisLabels=[];this.yAxis2Labels=[]};a.prototype.toArray=function(){return[].concat(this.plotShapes,this.plotLines,this.xAxisLabels,this.xAxis2Labels,this.yAxisLabels,this.yAxis2Labels)}})();(function(k){var g=sap.viz.container;g.declare("sap.viz.morph.viz.MpShapesCapturer");g.require("sap.viz.morph.constant.MorphConst");g.require("sap.viz.morph.utils.SVGShapeMetadata");g.require("sap.viz.morph.vo.VizShape");g.require("sap.viz.morph.vo.VizShapesHolder");var j=sap.viz.morph.viz.MpShapesCapturer;var h=sap.viz.morph.constant.MorphConst;var e=sap.viz.morph.utils.SVGShapeMetadata;var d=sap.viz.morph.vo.VizShape;var b=sap.viz.morph.vo.VizShapesHolder;j.getShapes=function(n){var p=new b();var o=k.select(n).select(".v-m-root");var m=k.select(n).select(".v-m-main");if(o.node()&&m.node()){var l=o.node().getScreenCTM();p.plotShapes=c(m,".v-datapoint",l);p.plotLines=c(m,".v-dataline, .dataline-group .dataline, .v-datalines .v-lines, .v-areagroup .v-areabg",l);p.xAxisLabels=c(m,".v-m-xAxis .viz-axis-label",l);p.xAxis2Labels=c(m,".v-m-xAxis2 .viz-axis-label",l);p.yAxisLabels=c(m,".v-m-yAxis .viz-axis-label",l);p.yAxis2Labels=c(m,".v-m-yAxis2 .viz-axis-label",l)}return p};var c=function(n,o,p){var l=n.selectAll(o);var m=[];l.each(function(s,r){var q=this.cloneNode(true);e.set(q,h.SHAPE_DATA,this.__data__);f(q,this);a(this,p,q);m.push(new d(null,q,null))});return m};var a=function(l,q,m){var n=l.getScreenCTM();var p=n.e-q.e;var o=n.f-q.f;m.setAttribute("transform","translate("+p+","+o+")");e.set(m,h.SHAPE_TRANSLATE_X,p);e.set(m,h.SHAPE_TRANSLATE_Y,o);return m};var f=function(m,l){if(m.localName=="path"&&m.getAttribute("class").indexOf("v-lines")>=0){m.setAttribute("fill-opacity",0)}if(m.localName=="path"&&m.getAttribute("class").indexOf("v-datapoint")>=0&&m.getAttribute("visibility")=="hidden"){m.setAttribute("visibility","");m.setAttribute("d","M0,0L0,0Z")}if(l.localName=="rect"&&l.getAttribute("opacity")=="0"&&l.parentNode&&l.parentNode.parentNode&&l.parentNode.parentNode.getAttribute("class").indexOf("v-heatmap")>=0){m.setAttribute("opacity",1)}}})(d3);(function(){var e=sap.viz.container;e.declare("sap.viz.morph.viz.MpShapesMapper");e.require("sap.viz.morph.constant.MorphConst");e.require("sap.viz.morph.utils");e.require("sap.viz.morph.utils.DeepEqual");e.require("sap.viz.morph.utils.SVGShapeMetadata");e.require("sap.viz.morph.utils.SVGShapeReplacer");e.require("sap.viz.morph.vo.VizShape");var l=sap.viz.morph.viz.MpShapesMapper;var h=sap.viz.morph.constant.MorphConst;var g=sap.viz.morph.utils;var f=sap.viz.morph.utils.DeepEqual;var c=sap.viz.morph.utils.SVGShapeMetadata;var k=sap.viz.morph.utils.SVGShapeReplacer;var a=sap.viz.morph.vo.VizShape;l.map=function(n,m){d(n.plotShapes,m.plotShapes,b);d(n.plotLines,m.plotLines,b);d(n.xAxisLabels,m.xAxisLabels,b);d(n.xAxis2Labels,m.xAxis2Labels,b);d(n.yAxisLabels,m.yAxisLabels,b);d(n.yAxis2Labels,m.yAxis2Labels,b);return n};var b=function(q,o){if(o&&q&&c.get(o,h.SHAPE_DATA)&&c.get(q,h.SHAPE_DATA)&&c.get(q,h.SHAPE_DATA).ctx){return f(c.get(o,h.SHAPE_DATA).ctx,c.get(q,h.SHAPE_DATA).ctx)}if(o&&q&&g.isArray(c.get(o,h.SHAPE_DATA))&&g.isArray(c.get(q,h.SHAPE_DATA))){var m=c.get(o,h.SHAPE_DATA);var p=c.get(q,h.SHAPE_DATA);if(m.length==p.length&&m.length>0){for(var n=0;n<m.length;n++){if(!m[n]||!p[n]||f(m[n].ctx,p[n].ctx)==false){return false}}return true}}if(o&&q&&o.localName=="g"&&q.localName=="g"&&o.firstChild.localName=="text"&&q.firstChild.localName=="text"&&o.firstChild.textContent==q.firstChild.textContent){return true}return false};var d=function(m,r,t,u){var n=[];for(var p=0;p<m.length;p++){var v=m[p];for(var o=0;o<r.length;o++){var q=r[o];if(u||n.indexOf(q)==-1){if(t(v.to,q.display)){var s=j(v.to,q.display);v.to=s.newShape;v.from=s.currentShape;n.push(q);break}}}}};var j=function(m,n){var o={newShape:m,currentShape:n};if(m.localName==="path"&&n.localName!=="path"){o.currentShape=k.replaceToPath(n)}if(m.localName!=="path"&&n.localName==="path"){o.newShape=k.replaceToPath(m)}return o}})();(function(g,t){var b=sap.viz.container;b.declare("sap.viz.morph.VizMorpher");b.require("sap.viz.morph.constant.MorphConst");b.require("sap.viz.morph.utils");b.require("sap.viz.morph.utils.SVGShapeMetadata");b.require("sap.viz.morph.vo.VizShape");b.require("sap.viz.morph.vo.VizShapesHolder");b.require("sap.viz.morph.viz.MpShapesCapturer");b.require("sap.viz.morph.viz.MpShapesMapper");b.require("sap.viz.morph.morphers.ColorMorpher");b.require("sap.viz.morph.morphers.RectMorpher");b.require("sap.viz.morph.morphers.LineMorpher");b.require("sap.viz.morph.morphers.PathMorpher");b.require("sap.viz.morph.morphers.TextMorpher");b.require("sap.viz.morph.morphers.TransformMorpher");var f=sap.viz.morph.constant.MorphConst;var s=sap.viz.morph.utils;var m=sap.viz.morph.utils.SVGShapeMetadata;var a=sap.viz.morph.vo.VizShape;var h=sap.viz.morph.vo.VizShapesHolder;var j=sap.viz.morph.viz.MpShapesCapturer;var e=sap.viz.morph.viz.MpShapesMapper;var d=sap.viz.morph.morphers.ColorMorpher;var v=sap.viz.morph.morphers.RectMorpher;var r=sap.viz.morph.morphers.LineMorpher;var n=sap.viz.morph.morphers.PathMorpher;var u=sap.viz.morph.morphers.TextMorpher;var c=sap.viz.morph.morphers.TransformMorpher;var o=sap.viz.morph.VizMorpher=function(w,x){this._vizDiv=w;this._morphDiv=x;this._currentVizType="";this._currentVizShapesHolder=new h();this._tween=null};o.prototype.resetMorphSvg=function(){var x=l(this._vizDiv);var w=x.width();var z=x.height();var A=l(this._morphDiv);A.empty().width(w).height(z);return t.select(A.get(0)).append("svg").attr("width",w).attr("height",z).node()};o.prototype.morphVizType=function(B,A){A=A===undefined?1000:A;if(this._tween){this._tween.kill();this._tween=null}var w=l(this._vizDiv);var E=l(this._morphDiv);if(A>0){w.css("visibility","hidden");E.css("display","")}var D=j.getShapes(w.get(0));e.map(D,this._currentVizShapesHolder);var z=D.toArray();var x=this.resetMorphSvg();if(A>0){q(x,z);var C=this;this._startMorphShapes(z,A,function(){w.css("visibility","visible");E.css("display","none");C._tween=null})}else{q(x,z,100)}this._currentVizType=B;this._currentVizShapesHolder=D};var l=function(w){if(s.isString(w)){if(w.indexOf("#")!=0){return g("#"+w)}}return g(w)};o.prototype._startMorphShapes=function(x,w,z){this._tween=TweenLite.to({percentage:1,},w/1000,{percentage:100,ease:"Linear.easeNone",onUpdate:function(){var A=this.target.percentage;k(x,A)},onComplete:function(){z()}})};var q=function(x,B,w){w=w?w:0;for(var A=0;A<B.length;A++){var D=B[A];var z=D.from;var C=D.to;var E=D.display=C.cloneNode(true);m.clone(E,C);p(z,C,E,w);x.appendChild(E)}};var k=function(A,w){for(var z=0;z<A.length;z++){var C=A[z];var x=C.from;var B=C.to;var D=C.display;p(x,B,D,w)}};var p=function(x,z,A,w){v.svg(x,z,A,w);r.svg(x,z,A,w);n.svg(x,z,A,w);d.svg(x,z,A,w);u.svg(x,z,A,w);c.svg(x,z,A,w)};o.prototype.testDrawShapes=function(w){}})(jQuery,d3);